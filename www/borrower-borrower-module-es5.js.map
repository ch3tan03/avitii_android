{"version":3,"sources":["webpack:///src/app/borrower/borrow-now/borrow-now.component.css","webpack:///src/app/borrower/get-a-loan/get-a-loan.component.html","webpack:///src/app/borrower/home/home.component.html","webpack:///src/app/borrower/earnings/earnings.component.css","webpack:///src/app/borrower/borrower.module.ts","webpack:///src/app/borrower/earnings/earnings.component.html","webpack:///src/app/borrower/my-sessions/my-sessions.component.html","webpack:///src/app/borrower/calendar/calendar.component.ts","webpack:///src/app/borrower/my-sessions/my-sessions.component.css","webpack:///src/app/borrower/calendar/calendar.component.css","webpack:///src/app/borrower/borrow-now/borrow-now.component.ts","webpack:///src/app/borrower/room/room.component.ts","webpack:///src/app/borrower/home/home.component.ts","webpack:///src/app/borrower/my-sessions/my-sessions.component.ts","webpack:///src/app/borrower/earnings/earnings.component.ts","webpack:///src/app/borrower/home/home.component.css","webpack:///src/app/borrower/loan-market/loan-market.component.css","webpack:///src/app/borrower/footer/footer.component.html","webpack:///src/app/borrower/borrower-routing.module.ts","webpack:///src/app/borrower/get-a-loan/get-a-loan.component.ts","webpack:///src/app/borrower/header/header.component.css","webpack:///src/app/borrower/browse-sessions/browse-sessions.component.html","webpack:///src/app/borrower/loan-market/loan-market.component.ts","webpack:///src/app/borrower/header/header.component.ts","webpack:///src/app/borrower/calendar/calendar.component.html","webpack:///src/app/borrower/footer/footer.component.css","webpack:///src/app/borrower/room/room.component.css","webpack:///src/app/borrower/loan-market/loan-market.component.html","webpack:///src/app/borrower/browse-sessions/browse-sessions.component.css","webpack:///src/app/borrower/header/header.component.html","webpack:///src/app/borrower/borrow-now/borrow-now.component.html","webpack:///src/app/borrower/get-a-loan/get-a-loan.component.css","webpack:///src/app/borrower/browse-sessions/browse-sessions.component.ts","webpack:///src/app/borrower/footer/footer.component.ts","webpack:///src/app/borrower/room/room.component.html","webpack:///src/app/users-income-expense-verify.guard.ts"],"names":["registerPlugins","BorrowerModule","declarations","imports","entryComponents","CalendarComponent","authenticationService","socketService","dialog","contactService","utilityService","alertService","userService","router","sessionsService","loading","SessionStatus","SessionStatusTypeFilter","checkCreatedByUserId","checkCreatedByT","calendarOptions","initialView","dateClick","handleDateClick","bind","eventClick","handleEeventClick","events","title","date","getSessionAllByBorrowerId","currentUserValue","_id","Accepted","pipe","subscribe","data","allSessionsData","proccessAllAppUsersCollections","_","uniq","map","flattenDepth","values","bindDataToCalendrUI","error","errorMsg2show","message","ex","getUpdatesForSessionAllByBorrowerId","_keyPairedMapObj","mapKeys","_items","_currentObj","arg","jsEvent","preventDefault","_sessionId","event","id","_sessionObj","filter","_proccessedSessionObj","role","Borrower","cloneDeep","sessionAppliedByBorrowers","Lender","_sessionApplyObj","first","_borrowerId","borrowerId","showDataOfLoanObjInModal","_allSessionsData","_all_installments","inedexOuter","_LoanObj","loanTenureInMonths","loanStartDateTime","calculatedMonthlyAmountForEMI","loanType","index","installment","description","returnDateWithAddingMonths","format","_installmentString","toString","returnLoanType","push","sessionObj","sessionApply","dialogRef","open","backdropClass","hasBackdrop","afterClosed","result","selector","template","BorrowNowComponent","socketioService","appRouterService","formBuilder","LoanObj","loanId","loanApplyId","submitted","borrowerUserObj","lenderUserObj","headerMessage2show","userClickedOnSignLoanContract","allUserLevelsDataLenders","length","allUserLevelsDataBorrower","fetchAllUserLevelsByUserId","paramobj","history","state","initForm","clickedOnSignLoanContract","getLoanMarketDataById","_obj4LoanApply","showEditingForm","_userIdOfLoanCreatorOrEditorWhichisNotCurrentUser","createdByUserObj","lenderId","getUserById","appRouter","returnHeaderTitleForPage","borrowNowForm","group","eSignatureBorrowersPassportNumber","required","eSignatureBorrowersName","loanInsuranceRequired","loanInsuranceAmount","proposedLoanAmount","min","loanAmount","loanApplyNumber","loanInsuranceCreatedOn","eSignatureLendersCreatedOn","eSignatureBorrowersCreatedOn","loanAgreementCondition","_userObj","eSignatureLendersPassportNumber","eSignatureLendersName","controls","bypass2CheckOfProposedAmount","get","value","returnAllowedAmountForLenderDependOnUserType","_calculatedMonthlyAmountForEMI","fnCalculateMonthlyAmountForEMI","loanInterestRate","setValue","firstName","lastName","myPassportNumber","myDLNumber","maxLoanAmountForLender","userType","maxLoanAmountForLenderObj","minimumSpent","LoanAmountMaxTypes","amount","new_lender","invalid","selectedTab","_currentSessionApply","status","isLoanBorrowed","createdBy","Pending","AwaitingForApproval","sendCurrentAppliedSessionObj","setSessionApply","updateSessionApply","_adminUsersArray","_currentContactObj","returnContactJsonData","loanNumber","sendEventToAddNewContact","success","borrowersUserObj","lendersUserObj","installments","loanRepaymentType","lenderPassportOrDlNumber","borrowerPassportOrDlNumber","generateReport4SignedContract","Rejected","RejectedOngoing","RejectedOngoingWithRefund","Suspended","Completed","Active","Ongoing","OngoingInitiated","appRouteToPath","srcElement","checked","userObj","maxWidth","maxHeight","height","width","adminViewT","RoomComponent","HomeComponent","fundService","_cdr","show_more","allMyActiveLoanCount","allMyDisbursedLoanCount","allMyUnSignedContractLoanCount","allMyProfitOverviewCount","allMyPaidContractCount","allMyPaidLoanCount","Role","showSessionApplyInRoot","allSessionApplyData","checkIfCurrentUserUpdatedAndVerifiedIncomeAndExpenseDetailsOrNot","_obj2Save","getSessionApplyCountByQuery","isLoanAmountPaidByLender","calculateAndStoreLocalNextEMIDateOfAppliedLoansForBorrower","getUserIncomeExpenseDetailsByUserId","isUsersBankDetailsSubmitted","sendCurrentUserObj","totalIncome4currentUser","totalExpense4currentUser","totalAllowedBudget","isUsersIncomeAndExpenseProofVerified","LoanApplyObj","currentRowDate","_key","_installmentKey","moment","installmentWiseLoanAmountPaidByBorrower","createdOnForLoanAmountPaidToLenderConfirmByLender","item","nextInstallment","indexOuter","returnT4IfCurrentInstallmentAlreadyPaid","isBefore","applicationDate","reformSessionApplyFromSessionsData","resetOldT","sessionForBorrower","panelClass","_loanApplyId","_status","_allowed2CreateContactForSessionT","proccedAppliedToSession","updatedSessionObj","detectChanges","navigate","installmentKey","updateLastInstallmentPaymentStatus","createdOnForLoanAmountPaidToLender","LoanApplyObjCurrent4Installment","isInstallmentPaidByAdmin","transactionOnForLoanAmountPaidToLender","transactionIdForLoanAmountPaidToLender","transactionOnForLoanAmountPaidToLenderConfirmByLender","now","_loanTenureInMonths","parseInt","confirm","middiatorFnForLoanAmountPaidByLenderConfirmByBorrowerWithUpdateAll","sendEventForLoanAmountPaidToLenderConfirmByLenderWithUpdateAll","details","broadcastUpdatedEvent2All","addTremoveF","addedWithInstallment","LoanApplyObjCurrent","createdOnForLoanAmountPaidByLender","transactionIdForLoanAmountPaidByLender","transactionOnForLoanAmountPaidByLender","transactionDescriptionForLoanAmountPaidByLender","transactionOnForLoanAmountPaidByLenderConfirmByBorrower","createdOnForLoanAmountPaidByLenderConfirmByBorrower","transactionDescriptionForLoanAmountPaidByLenderConfirmByBorrower","isLoanAmountPaidByLenderConfirmByBorrower","sendEventForLoanAmountPaidByLenderConfirmByBorrowerWithUpdateAll","MySessionsComponent","setFilteresOfMySessionDependsOnTab","getUserLoanTypeWiseCountDetailsByUserId","Canceled","Unpaid","Inkasso","$","tooltip","jQuery","getCurrentSessionAll","getSessionAllByQuery","setSessionApplyUpdateStatus","checkCreatedBySelfT","_currentStatus","_loanId","_sessionPrice","_transactionId","transactionId","currentUserLoanTypeWiseCountDetails","sessionId","deleteSessionById","_allLoanMarketData","temp_allLoanMarketData","isDeleted","EarningsComponent","routes","path","component","children","canActivate","redirectTo","pathMatch","BorrowerRoutingModule","forChild","exports","GetALoanComponent","route","currentUserMaxLoanAmount","fileData","previewUrl","fileUploadProgress","uploadedFilePath","SessionTypes","ParentServicesTypes","ChildServicesTypes","countrylist","loanInterestRateMin","loanInterestRateMax","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","minDate","hour","minute","maxDate","dt","day4monthEnd","daysInMonth","getSessionById","_loanInterestRateValidation","max","isRKIRegistered","addSessionForm","sessionType","sessionSubject","loanDescription","transactionIdCollection","sessionsExecutionCollection","loanStartDateTimeCustomised","loanEndDateTimeCustomised","loanEndDateTime","services","location","additionalDocuments","array","loanInsuranceType","loanMaxBorrower","createdOn","updatedOn","deletedBy","updatedBy","bannerUrl","isLoanRequested","_sessionType","element_btn_click_addSession_basic_details","document","getElementById","element_btn_click_addSession_skills_verification","initHtmlContent","_step","click","_loanStartDateTime","_loanEndDateTime","Instant","loanStartDateTime_Temp","loanEndDateTime_Temp","add","parse","isValid","isAfter","updateSessionById","addNewSession","ev","e","checkArray","target","i","forEach","removeAt","_isLoanRepaymentTypeChecked","indexOf","LoanMarketComponent","getLoanMarketData","getSessionNewAdded","allLoanMarketData","getSessionUpdated","loanMarket","_currentUserId","_list_of_pending_loans","roleId2Check","_list_of_pending_or_accepted_loans_by_me","searchFilterObj","emitThisEvent","getLoanMarketDataForSearch","subscription","getLoanMarketDataForBorrower","HeaderComponent","notificationService","messagesService","getAllMyContacts","currentUser","x","getFundsCountForRequestedUser","getSessionSpentCountForRequestedUser","getSessionAllWithSessionApply","getSessionInstastTypeAdded","allInstantSessionsData","_currentSessionObj","_existingSessionObjKryPair","getCurrentAppliedSessionObj","getSessionUpdates","alert","on","css","trigger","show","hide","checkWidth","windowSize","window","not","siblings","slideToggle","mouseover","mouseout","last","resize","overwrite","getNames","code","name","BrowseSessionsComponent","browseSessionForm","services4search","location4search","generaldata4search","getSessionLengthByService","allSessionsCount","useAndTrueOrFalse","getSessionAllByService","changeDetection","Default","FooterComponent","UsersIncomeExpenseVerifyGuard","_currentUserRole","getCurrentNavigation","extras","returnUrl","url","providedIn"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuBf,gFAAmBA,eAAnB,CAAmC,CACjC,8DADiC,EAEjC,kEAFiC,CAAnC;;UAkBaC,cAAc;AAAA;AAAA,O;;AAAdA,oBAAc,6DAb1B,+DAAS;AACRC,oBAAY,EAAE,CAAC,qEAAD,EAAoB,wEAApB,EAAqC,wEAArC,EAAsD,mEAAtD,EAAqE,mGAArE,EAA8F,uFAA9F,EAAmH,+EAAnH,EAAsI,qEAAtI,EAAyJ,8EAAzJ,EAAqL,+EAArL,EAAwM,uFAAxM,EAA6N,mFAA7N,EAAgP,oFAAhP,CADN;AAERC,eAAO,EAAE,CACP,4DADO,EAEP,wEAFO,EAGP,sEAHO,EAIP,8EAJO,EAKP,mEALO,EAMP,4DANO,EAOP,yEAPO,CAFD;AAWRC,uBAAe,EAAE,CAAC,qEAAD,EAAmB,8EAAnB;AAXT,OAAT,CAa0B,GAAdH,cAAc,CAAd;;;;;;;;;;;;;;;;ACzCb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCkBFI,iBAAiB;AAU5B,mCACSC,qBADT,EAEUC,aAFV,EAGSC,MAHT,EAISC,cAJT,EAKUC,cALV,EAMUC,YANV,EAOSC,WAPT,EAQSC,MART,EASUC,eATV,EAS0C;AAAA;;AAAA;;AARjC,eAAAR,qBAAA,GAAAA,qBAAA;AACC,eAAAC,aAAA,GAAAA,aAAA;AACD,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,cAAA,GAAAA,cAAA;AACC,eAAAC,cAAA,GAAAA,cAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AACD,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACC,eAAAC,eAAA,GAAAA,eAAA;AAlBV,eAAAC,OAAA,GAAmB,KAAnB;AACA,eAAAC,aAAA,GAAgB,4DAAhB;AACA,eAAAC,uBAAA,GAAoC,EAApC;AACA,eAAAC,oBAAA,GAA+B,EAA/B;AACA,eAAAC,eAAA,GAA2B,KAA3B;AA2EA,eAAAC,eAAA,GAAmC;AACjCC,uBAAW,EAAE,cADoB;AAEjCC,qBAAS,EAAE,KAAKC,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAFsB;AAGjCC,sBAAU,EAAE,KAAKC,iBAAL,CAAuBF,IAAvB,CAA4B,IAA5B,CAHqB;AAIjCG,kBAAM,EAAE,CACN;AAAEC,mBAAK,EAAE,SAAT;AAAoBC,kBAAI,EAAE;AAA1B,aADM,EAEN;AAAED,mBAAK,EAAE,SAAT;AAAoBC,kBAAI,EAAE;AAA1B,aAFM;AAJyB,WAAnC;AA3DE,eAAKf,eAAL,CAAqBgB,yBAArB,CAA+C,KAAKxB,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA3F,EAAgG,IAAhG,EAAsG,IAAtG,EAA4G,6DAAcC,QAA1H,EAAoI,IAApI,EAA0I,IAA1I,EACGC,IADH,CACQ,6EADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN;AACA,gBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B;AACA,mBAAI,CAACC,eAAL,GAAuBD,IAAI,CAAC,MAAD,CAA3B;;AACA,mBAAI,CAACxB,WAAL,CAAiB0B,8BAAjB,CAAgD,KAAI,CAAC5B,cAAL,CAAoB6B,CAApB,CAAsBC,IAAtB,CAA2B,KAAI,CAAC9B,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,KAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBG,YAAtB,CAAmC,KAAI,CAAChC,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,KAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6B,KAAI,CAACN,eAAlC,CAA1B,EAA8E,2BAA9E,CAAnC,EAA+I,CAA/I,CAA1B,EAA6K,UAA7K,CAA3B,CAAhD,EAH2B,CAI3B;;;AACA,mBAAI,CAACO,mBAAL,CAAyB,KAAI,CAACP,eAA9B;;AACA,mBAAI,CAACtB,OAAL,GAAe,KAAf,CAN2B,CAO3B;AACD,aARD,MAQO;AACL;AACA;AACA,mBAAI,CAACA,OAAL,GAAe,KAAf;AACD;AACF,WAlBL,EAmBI,UAAA8B,KAAK,EAAI;AACP,gBAAIC,aAAa,GAAG,EAApB;;AACA,gBAAI;AACF,kBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,6BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,eAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,6BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,eAFM,MAEA;AACLD,6BAAa,GAAGD,KAAhB;AACD;AACF,aARD,CAQE,OAAOG,EAAP,EAAW,CAAG,CAVT,CAWP;;;AACA,iBAAI,CAACjC,OAAL,GAAe,KAAf;AACD,WAhCL;AAkCA,eAAKD,eAAL,CAAqBmC,mCAArB,GACGd,SADH,CAEI,UAAAC,IAAI,EAAI;AACN,gBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B,kBAAIc,gBAAgB,GAAG,KAAI,CAACxC,cAAL,CAAoB6B,CAApB,CAAsBY,OAAtB,CAA8B,KAAI,CAACd,eAAnC,EAAoD,KAApD,CAAvB;;AACA,mBAAK,IAAIe,MAAT,IAAmBhB,IAAI,CAAC,MAAD,CAAvB,EAAiC;AAC/B,oBAAIiB,WAAW,GAAGjB,IAAI,CAAC,MAAD,CAAJ,CAAagB,MAAb,CAAlB;AACAF,gCAAgB,CAACG,WAAW,CAACrB,GAAb,CAAhB,GAAoCqB,WAApC;AACD;;AACD,mBAAI,CAAChB,eAAL,GAAuB,KAAI,CAAC3B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6BO,gBAA7B,CAAvB;;AACA,mBAAI,CAACN,mBAAL,CAAyB,KAAI,CAACP,eAA9B;;AACA,mBAAI,CAACtB,OAAL,GAAe,KAAf;AACD,aATD,MASO;AACL,mBAAI,CAACA,OAAL,GAAe,KAAf;AACD;AACF,WAfL,EAgBI,UAAA8B,KAAK,EAAI;AACP,iBAAI,CAAC9B,OAAL,GAAe,KAAf;AACD,WAlBL;AAoBD;;AA3E2B;AAAA;AAAA,iBA6E5B,oBAAQ,CACP;AA9E2B;AAAA;AAAA,iBA0F5B,yBAAgBuC,GAAhB,EAAqB;AACnBA,eAAG,CAACC,OAAJ,CAAYC,cAAZ,GADmB,CAEnB;AACD;AA7F2B;AAAA;AAAA,iBA8F5B,2BAAkBF,GAAlB,EAAuB;AACrBA,eAAG,CAACC,OAAJ,CAAYC,cAAZ,GADqB,CAErB;;AACA,gBAAIC,UAAU,GAAGH,GAAG,CAACI,KAAJ,CAAUC,EAA3B;;AACA,gBAAIC,WAAW,GAAG,KAAKlD,cAAL,CAAoB6B,CAApB,CAAsBsB,MAAtB,CAA6B,KAAKxB,eAAlC,EAAmD;AAAE,qBAAOoB;AAAT,aAAnD,EAA0E,CAA1E,CAAlB;;AACA,gBAAIK,qBAAqB,GAAG,IAA5B;;AACA,oBAAQ,KAAKxD,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAApD;AACE,mBAAK,oDAAKC,QAAV;AACEF,qCAAqB,GAAE,KAAKpD,cAAL,CAAoB6B,CAApB,CAAsB0B,SAAtB,CAAgCL,WAAhC,CAAvB;AACAE,qCAAqB,CAACI,yBAAtB,GAAkDN,WAAW,CAACM,yBAA9D;AACA;;AACF,mBAAK,oDAAKC,MAAV;AACEL,qCAAqB,GAAG,KAAKpD,cAAL,CAAoB6B,CAApB,CAAsB0B,SAAtB,CAAgCL,WAAhC,CAAxB;AACAE,qCAAqB,CAACI,yBAAtB,GAAkDN,WAAW,CAACM,yBAA9D,CAFF,CAE0F;;AACxF;;AACF;AACEJ,qCAAqB,GAAG,KAAKpD,cAAL,CAAoB6B,CAApB,CAAsB0B,SAAtB,CAAgCL,WAAhC,CAAxB;AACA;AAXJ;;AAcA,gBAAIQ,gBAAgB,GAAG,KAAK1D,cAAL,CAAoB6B,CAApB,CAAsB8B,KAAtB,CAA4BP,qBAAqB,CAACI,yBAAlD,CAAvB;;AACA,gBAAII,WAAW,GAAG,IAAlB;;AACA,gBAAIF,gBAAJ,EAAsB;AACpBE,yBAAW,GAAGF,gBAAgB,CAACG,UAA/B;AACD;;AAED,iBAAKC,wBAAL,CAA8BZ,WAA9B,EAA2CQ,gBAA3C,EAA6DE,WAA7D;AACD;AAzH2B;AAAA;AAAA,iBA2H5B,6BAAoBG,gBAApB,EAAsC;AACpC,gBAAIC,iBAAiB,GAAG,EAAxB;;AACA,iBAAK,IAAIC,WAAT,IAAwBF,gBAAxB,EAA0C;AAExC,kBAAIG,QAAQ,GAAG;AACb5C,mBAAG,EAAE,IADQ;AAEb6C,kCAAkB,EAAE,IAFP;AAGbC,iCAAiB,EAAE,IAHN;AAIbC,6CAA6B,EAAE,IAJlB;AAKbC,wBAAQ,EAAE;AALG,eAAf;AAOAJ,sBAAQ,GAAGH,gBAAgB,CAACE,WAAD,CAA3B;;AAEA,mBAAK,IAAIM,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGL,QAAQ,CAACC,kBAArC,EAAyDI,KAAK,EAA9D,EAAkE;AAChE,oBAAIC,WAAW,GAAG;AAChBJ,mCAAiB,EAAE,IADH;AAEhBC,+CAA6B,EAAE,IAFf;AAGhBnD,uBAAK,EAAE,IAHS;AAIhBC,sBAAI,EAAE,IAJU;AAKhBsD,6BAAW,EAAE,IALG;AAMhBxB,oBAAE,EAAE;AANY,iBAAlB;AASAuB,2BAAW,CAACJ,iBAAZ,GAAgC,KAAKpE,cAAL,CAAoB0E,0BAApB,CAA+CR,QAAQ,CAACE,iBAAxD,EAA2EG,KAAK,GAAG,CAAnF,EAAsFI,MAAtF,CAA6F,YAA7F,CAAhC;AACAH,2BAAW,CAACH,6BAAZ,GAA4CH,QAAQ,CAACG,6BAArD;AAEAG,2BAAW,CAACrD,IAAZ,GAAmBqD,WAAW,CAACJ,iBAA/B;AACAI,2BAAW,CAACvB,EAAZ,GAAiBiB,QAAQ,CAAC5C,GAA1B;AACAkD,2BAAW,CAACC,WAAZ,GAA0B,KAAKD,WAAW,CAACH,6BAA3C;;AACA,oBAAIO,kBAAkB,GAAG,KAAK,CAACL,KAAK,GAAG,CAAT,EAAYM,QAAZ,EAA9B;;AACAL,2BAAW,CAACtD,KAAZ,GAAoB0D,kBAAkB,GAAG,IAArB,GAA4BJ,WAAW,CAACH,6BAAxC,GAAwE,GAAxE,GAA8E,KAAKrE,cAAL,CAAoB8E,cAApB,CAAmCZ,QAAQ,CAACI,QAA5C,CAAlG;;AACAN,iCAAiB,CAACe,IAAlB,CAAuBP,WAAvB;AACD;AAEF;;AAGD,iBAAK9D,eAAL,GAAuB;AACrBC,yBAAW,EAAE,cADQ;AAErBC,uBAAS,EAAE,KAAKC,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAFU;AAGrBC,wBAAU,EAAE,KAAKC,iBAAL,CAAuBF,IAAvB,CAA4B,IAA5B,CAHS;AAIrBG,oBAAM,EAAE+C;AAJa,aAAvB;AAMD;AAtK2B;AAAA;AAAA,iBAwK5B,kCAAyBgB,UAAzB,EAAqCC,YAArC,EAAmDpB,UAAnD,EAA+D;AAC7D,gBAAMqB,SAAS,GAAG,KAAKpF,MAAL,CAAYqF,IAAZ,CAAiB,sEAAjB,EAAoC;AACpDC,2BAAa,EAAE,kCADqC;AAEpDC,yBAAW,EAAE,IAFuC;AAGpD3D,kBAAI,EAAE;AACJsD,0BAAU,EAAEA,UADR;AAEJnB,0BAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAFpD;AAH8C,aAApC,CAAlB;AAUA4D,qBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI,CAC1C;AACD,aAFD;AAGD;AAtL2B;;AAAA;AAAA,S;;;;gBAZrB;;gBAIA;;gBATA;;gBAMA;;gBAEA;;gBAHuB;;gBAAc;;gBAJrC;;gBAMA;;;;AAUI5F,uBAAiB,6DAL7B,gEAAU;AACT6F,gBAAQ,EAAE,cADD;AAETC,gBAAQ,EAAR,2EAFS;;AAAA,OAAV,CAK6B,E,+EAWI,sE,EACP,yE,EACR,kE,EACQ,+E,EACC,gF,EACF,6D,EACF,4D,EACL,sD,EACU,kF,EAnBC,GAAjB9F,iBAAiB,CAAjB;;;;;;;;;;;;;;;;AClBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCoBF+F,kBAAkB;AAW7B,oCACU7F,aADV,EAESG,cAFT,EAGU2F,eAHV,EAIU1F,YAJV,EAKU2F,gBALV,EAMUC,WANV,EAOSjG,qBAPT,EAQUM,WARV,EASSH,cATT,EAUSD,MAVT,EAU0B;AAAA;;AAAA;;AAThB,eAAAD,aAAA,GAAAA,aAAA;AACD,eAAAG,cAAA,GAAAA,cAAA;AACC,eAAA2F,eAAA,GAAAA,eAAA;AACA,eAAA1F,YAAA,GAAAA,YAAA;AACA,eAAA2F,gBAAA,GAAAA,gBAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACD,eAAAjG,qBAAA,GAAAA,qBAAA;AACC,eAAAM,WAAA,GAAAA,WAAA;AACD,eAAAH,cAAA,GAAAA,cAAA;AACA,eAAAD,MAAA,GAAAA,MAAA;AAnBT,eAAAO,OAAA,GAAmB,KAAnB;AACA,eAAAyF,OAAA,GAAe,EAAf;AACA,eAAAC,MAAA,GAAc,IAAd;AACA,eAAAC,WAAA,GAAmB,IAAnB;AACA,eAAAC,SAAA,GAAqB,KAArB;AACO,eAAAC,eAAA,GAAwB,IAAxB;AACA,eAAAC,aAAA,GAAsB,IAAtB;AACP,eAAAC,kBAAA,GAAqB,EAArB;AACA,eAAAC,6BAAA,GAAyC,KAAzC;;AAaE,cAAI,6CAAO,KAAKzG,qBAAL,CAA2B0G,wBAAlC,EAA4DC,MAA5D,IAAsE,CAAtE,IAA2E,6CAAO,KAAK3G,qBAAL,CAA2B4G,yBAAlC,EAA6DD,MAA7D,IAAuE,CAAtJ,EAAyJ;AACvJ,iBAAK3G,qBAAL,CAA2B6G,0BAA3B;AACD;;AACD,cAAIC,QAAQ,GAAGC,OAAO,CAACC,KAAvB;;AACA,cAAIF,QAAJ,EAAc;AACZ,iBAAKX,MAAL,GAAcW,QAAQ,CAAC,QAAD,CAAtB;AACA,mBAAOC,OAAO,CAACC,KAAR,CAAc,QAAd,CAAP;AAEA,iBAAKZ,WAAL,GAAmBU,QAAQ,CAAC,aAAD,CAA3B;AACA,mBAAOC,OAAO,CAACC,KAAR,CAAc,aAAd,CAAP;;AACA,gBAAI,KAAKZ,WAAT,EAAsB;AACpB,mBAAKa,QAAL;AACA,mBAAKC,yBAAL,CAA+B,IAA/B;AACD;;AACD,gBAAI,KAAKf,MAAT,EAAiB;AACf,mBAAKJ,eAAL,CAAqBoB,qBAArB,CAA2C,KAAKhB,MAAhD,EACGvE,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN;AACA,oBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B,sBAAIA,IAAI,CAAC,MAAD,CAAR,EAAkB;AAChB;AACA,wBAAIA,IAAI,CAAC,MAAD,CAAJ,CAAa,KAAb,CAAJ,EAAyB;AACvB,4BAAI,CAACoE,OAAL,GAAepE,IAAI,CAAC,MAAD,CAAnB;AACD,qBAFD,MAEO;AACL,4BAAI,CAACoE,OAAL,GAAepE,IAAI,CAAC,MAAD,CAAJ,CAAa,CAAb,CAAf;AACD;;AACD,wBAAIsF,cAAc,GAAG,IAArB;;AACA,wBAAI,MAAI,CAAChB,WAAT,EAAsB;AACpBgB,oCAAc,GAAG,+CAAS,MAAI,CAAClB,OAAL,CAAatC,yBAAtB,EAAiD;AAAE,+BAAO,MAAI,CAACwC;AAAd,uBAAjD,EAA8E,CAA9E,CAAjB;;AACA,4BAAI,CAACiB,eAAL,CAAqBD,cAArB;AACD;;AACD,wBAAIE,iDAAiD,GAAG,MAAI,CAACpB,OAAL,CAAaqB,gBAAb,CAA8B7F,GAAtF;;AACA,wBAAI,MAAI,CAAC0E,WAAT,EAAsB;AACpB,0BAAI,MAAI,CAACpG,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA5C,IAAmD,MAAI,CAACwE,OAAL,CAAaqB,gBAAb,CAA8B7F,GAArF,EAA0F;AACxF4F,yEAAiD,GAAGF,cAAc,CAACI,QAAnE;AACD;AACF,qBAjBe,CAkBhB;AACA;;;AACA,0BAAI,CAAClH,WAAL,CAAiBmH,WAAjB,CAA6BH,iDAA7B,EACG1F,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN,0BAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAE3B,8BAAI,CAACyE,aAAL,GAAqB,kDAAYzE,IAAI,CAAC,MAAD,CAAhB,CAArB;AACA,8BAAI,CAACrB,OAAL,GAAe,KAAf;AACA;;;;;AAKD,uBATD,MASO;AACL,8BAAI,CAACJ,YAAL,CAAkBkC,KAAlB,CAAwBT,IAAI,CAAC,SAAD,CAA5B;;AACA,8BAAI,CAACrB,OAAL,GAAe,KAAf;;AACA,8BAAI,CAACuF,gBAAL,CAAsB0B,SAAtB,CAAgC,EAAhC;AACD;AACF,qBAlBL,EAmBI,UAAAnF,KAAK,EAAI;AACP,0BAAIC,aAAa,GAAG,EAApB;;AACA,0BAAI;AACF,4BAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,uCAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,yBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,uCAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,yBAFM,MAEA;AACLD,uCAAa,GAAGD,KAAhB;AACD;AACF,uBARD,CAQE,OAAOG,EAAP,EAAW,CAAG;;AAChB,4BAAI,CAACrC,YAAL,CAAkBkC,KAAlB,CAAwBC,aAAxB;;AACA,4BAAI,CAAC/B,OAAL,GAAe,KAAf;;AACA,4BAAI,CAACuF,gBAAL,CAAsB0B,SAAtB,CAAgC,EAAhC;AACD,qBAjCL,EApBgB,CAsDhB;;AACD;;AACD,wBAAI,CAACjH,OAAL,GAAe,KAAf;AACD,iBA1DD,MA0DO;AACL,wBAAI,CAACJ,YAAL,CAAkBkC,KAAlB,CAAwBT,IAAI,CAAC,SAAD,CAA5B;;AACA,wBAAI,CAACrB,OAAL,GAAe,KAAf;;AACA,wBAAI,CAACuF,gBAAL,CAAsB0B,SAAtB,CAAgC,EAAhC;AACD,iBAhEK,CAiEN;;AACD,eArEL,EAsEI,UAAAnF,KAAK,EAAI;AACP;AACA,oBAAIC,aAAa,GAAG,EAApB;;AACA,oBAAI;AACF,sBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,iCAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,mBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,iCAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,mBAFM,MAEA;AACLD,iCAAa,GAAGD,KAAhB;AACD;AACF,iBARD,CAQE,OAAOG,EAAP,EAAW,CAAG;;AAChB,sBAAI,CAACrC,YAAL,CAAkBkC,KAAlB,CAAwBC,aAAxB;;AACA,sBAAI,CAAC/B,OAAL,GAAe,KAAf;;AACA,sBAAI,CAACuF,gBAAL,CAAsB0B,SAAtB,CAAgC,EAAhC,EAdO,CAeP;;AACD,eAtFL,EADe,CAwFf;;AACA,mBAAKpH,WAAL,CAAiBmH,WAAjB,CAA6B,KAAKzH,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAAzE,EACGE,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN;AACA,oBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B,wBAAI,CAACwE,eAAL,GAAuBxE,IAAI,CAAC,MAAD,CAA3B;AACA,wBAAI,CAACrB,OAAL,GAAe,KAAf;;AACA,sBAAI,MAAI,CAAC2F,WAAT,EAAsB;AACpB,0BAAI,CAACc,yBAAL,CAA+B,IAA/B;AACD;AACF,iBAND,MAMO;AACL,wBAAI,CAAC7G,YAAL,CAAkBkC,KAAlB,CAAwBT,IAAI,CAAC,SAAD,CAA5B;;AACA,wBAAI,CAACrB,OAAL,GAAe,KAAf;;AACA,wBAAI,CAACuF,gBAAL,CAAsB0B,SAAtB,CAAgC,EAAhC;AACD,iBAZK,CAaN;;AACD,eAjBL,EAkBI,UAAAnF,KAAK,EAAI;AACP;AACA,oBAAIC,aAAa,GAAG,EAApB;;AACA,oBAAI;AACF,sBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,iCAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,mBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,iCAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,mBAFM,MAEA;AACLD,iCAAa,GAAGD,KAAhB;AACD;AACF,iBARD,CAQE,OAAOG,EAAP,EAAW,CAAG;;AAChB,sBAAI,CAACrC,YAAL,CAAkBkC,KAAlB,CAAwBC,aAAxB;;AACA,sBAAI,CAAC/B,OAAL,GAAe,KAAf;;AACA,sBAAI,CAACuF,gBAAL,CAAsB0B,SAAtB,CAAgC,EAAhC,EAdO,CAeP;;AACD,eAlCL,EAzFe,CA4Hf;AACD,aA7HD,MA6HO;AACL;AACA,mBAAKrH,YAAL,CAAkBkC,KAAlB,CAAwB,kCAAxB;AACA,mBAAKyD,gBAAL,CAAsB0B,SAAtB,CAAgC,EAAhC;AACD;AAEF,WA7ID,MA6IO;AACL;AACA,iBAAKrH,YAAL,CAAkBkC,KAAlB,CAAwB,kCAAxB;AACA,iBAAKyD,gBAAL,CAAsB0B,SAAtB,CAAgC,EAAhC;AACD;AACF;;AA7K4B;AAAA;AAAA,iBA+K7B,oBAAQ;AACN,iBAAKT,QAAL;AACD;AAjL4B;AAAA;AAAA,iBAmL7B,oBAAW;AACT,iBAAKU,wBAAL;AACA,iBAAKC,aAAL,GAAqB,KAAK3B,WAAL,CAAiB4B,KAAjB,CAAuB;AAC1CC,+CAAiC,EAAE,CAAC,EAAD,EAAK,0DAAWC,QAAhB,CADO;AAE1CC,qCAAuB,EAAE,CAAC,EAAD,EAAK,0DAAWD,QAAhB,CAFiB;AAG1CE,mCAAqB,EAAE,CAAC,KAAD,CAHmB;AAI1CC,iCAAmB,EAAE,CAAC,CAAD,CAJqB;AAK1CC,gCAAkB,EAAE,CAAC,IAAD,EAAO,0DAAWC,GAAX,CAAe,KAAKlC,OAAL,CAAamC,UAA5B,CAAP,CALsB;AAM1CC,6BAAe,EAAE,CAAC,IAAD,CANyB;AAO1CC,oCAAsB,EAAE,CAAC,IAAD,CAPkB;AAQ1C9D,2CAA6B,EAAE,CAAC,IAAD,CARW;AAS1C+D,wCAA0B,EAAE,CAAC,IAAD,CATc;AAU1CC,0CAA4B,EAAE,CAAC,IAAD,CAVY;AAW1CC,oCAAsB,EAAE,CAAC,IAAD,EAAO,0DAAWX,QAAlB;AAXkB,aAAvB,CAArB;AAaD;AAlM4B;AAAA;AAAA,iBAmM7B,yBAAgBY,QAAhB,EAA0B;AACxB,iBAAKf,aAAL,GAAqB,KAAK3B,WAAL,CAAiB4B,KAAjB,CAAuB;AAC1Ce,6CAA+B,EAAE,CAACD,QAAQ,CAACC,+BAAT,IAA4C,EAA7C,EAAiD,0DAAWb,QAA5D,CADS;AAE1Cc,mCAAqB,EAAE,CAACF,QAAQ,CAACE,qBAAT,IAAkC,EAAnC,EAAuC,0DAAWd,QAAlD,CAFmB;AAG1CD,+CAAiC,EAAE,CAACa,QAAQ,CAACb,iCAAT,IAA8C,EAA/C,EAAmD,0DAAWC,QAA9D,CAHO;AAI1CC,qCAAuB,EAAE,CAACW,QAAQ,CAACX,uBAAT,IAAoC,EAArC,EAAyC,0DAAWD,QAApD,CAJiB;AAK1CE,mCAAqB,EAAE,CAACU,QAAQ,CAACV,qBAAT,IAAkC,KAAnC,CALmB;AAM1CC,iCAAmB,EAAE,CAACS,QAAQ,CAACT,mBAAT,IAAgC,CAAjC,CANqB;AAO1CC,gCAAkB,EAAE,CAACQ,QAAQ,CAACR,kBAAT,IAA+B,IAAhC,EAAsC,0DAAWC,GAAX,CAAe,KAAKlC,OAAL,CAAamC,UAA5B,CAAtC,CAPsB;AAQ1CC,6BAAe,EAAE,CAACK,QAAQ,CAACL,eAAT,IAA4B,IAA7B,CARyB;AAS1CC,oCAAsB,EAAE,CAACI,QAAQ,CAACJ,sBAAT,IAAmC,IAApC,CATkB;AAU1C9D,2CAA6B,EAAE,CAACkE,QAAQ,CAAClE,6BAAT,IAA0C,IAA3C,CAVW;AAW1C+D,wCAA0B,EAAE,CAACG,QAAQ,CAACH,0BAAT,IAAuC,IAAxC,CAXc;AAY1CC,0CAA4B,EAAE,CAACE,QAAQ,CAACF,4BAAT,IAAyC,IAA1C,CAZY;AAa1CC,oCAAsB,EAAE,CAAC,IAAD,EAAO,0DAAWX,QAAlB;AAbkB,aAAvB,CAArB;AAeD;AAnN4B;AAAA;AAAA,eAoN7B,eAAQ;AAAE,mBAAO,KAAKH,aAAL,CAAmBkB,QAA1B;AAAqC;AApNlB;AAAA;AAAA,iBAsN7B,oCAA2B;AACzB,gBAAI,KAAKrC,6BAAT,EAAwC;AACtC,mBAAKD,kBAAL,GAA0B,oBAA1B;AACD,aAFD,MAEO;AACL,mBAAKA,kBAAL,GAA0B,cAA1B;AACD;AACF;AA5N4B;AAAA;AAAA,iBA8N7B,0CAAiC;AAC/B,iBAAKC,6BAAL,GAAqC,KAArC;AACA,iBAAKkB,wBAAL;AACD;AAjO4B;AAAA;AAAA,iBAmO7B,qCAAyE;AAAA,gBAA/CoB,4BAA+C,uEAAP,KAAO;;AACvE,gBAAI,CAACA,4BAAL,EAAmC;AACjC,kBAAI,KAAKnB,aAAL,CAAmBoB,GAAnB,CAAuB,oBAAvB,EAA6CC,KAAjD,EAAwD;AACtD;;;;;;AAMA,oBAAI,KAAKrB,aAAL,CAAmBoB,GAAnB,CAAuB,oBAAvB,EAA6CC,KAA7C,IAAsD,CAA1D,EAA6D;AAC3D,uBAAK5I,YAAL,CAAkBkC,KAAlB,CAAwB,kCAAkC,CAA1D;AACA;AACD;AACD;;;;;;;;AAOA,oBAAI,KAAKqF,aAAL,CAAmBoB,GAAnB,CAAuB,oBAAvB,EAA6CC,KAA7C,GAAqD,KAAKC,4CAAL,EAAzD,EAA8G;AAC5G,uBAAK7I,YAAL,CAAkBkC,KAAlB,CAAwB,8CAA8C,KAAK2G,4CAAL,EAAtE;AACA;AACD;;AAED,oBAAIC,8BAA8B,GAAG,KAAK/I,cAAL,CAAoBgJ,8BAApB,CAAmD,KAAKxB,aAAL,CAAmBoB,GAAnB,CAAuB,oBAAvB,EAA6CC,KAAhG,EAAuG,KAAK/C,OAAL,CAAa3B,kBAApH,EAAwI,KAAK2B,OAAL,CAAamD,gBAArJ,CAArC;;AACA,qBAAKzB,aAAL,CAAmBoB,GAAnB,CAAuB,+BAAvB,EAAwDM,QAAxD,CAAiEH,8BAAjE;AACD,eAzBD,MAyBO;AACL,oBAAI,CAAC,KAAKvB,aAAL,CAAmBoB,GAAnB,CAAuB,+BAAvB,EAAwDC,KAA7D,EAAoE;AAClE,sBAAIE,+BAA8B,GAAG,KAAK/I,cAAL,CAAoBgJ,8BAApB,CAAmD,KAAKlD,OAAL,CAAamC,UAAhE,EAA4E,KAAKnC,OAAL,CAAa3B,kBAAzF,EAA6G,KAAK2B,OAAL,CAAamD,gBAA1H,CAArC;;AACA,uBAAKzB,aAAL,CAAmBoB,GAAnB,CAAuB,+BAAvB,EAAwDM,QAAxD,CAAiEH,+BAAjE;AACD;AACF;AACF;;AAED,iBAAK1C,6BAAL,GAAqC,IAArC;AACA,iBAAKkB,wBAAL;;AACA,gBAAI,KAAKrB,eAAT,EAA0B;AACxB,mBAAKsB,aAAL,CAAmBoB,GAAnB,CAAuB,yBAAvB,EAAkDM,QAAlD,CAA2D,KAAKhD,eAAL,CAAqBiD,SAArB,IAAkC,KAAKjD,eAAL,CAAqBkD,QAAlH;AACA,mBAAK5B,aAAL,CAAmBoB,GAAnB,CAAuB,mCAAvB,EAA4DM,QAA5D,CAAqE,KAAKhD,eAAL,CAAqBmD,gBAArB,IAAyC,KAAKnD,eAAL,CAAqBoD,UAAnI;AACD;AACF;AA5Q4B;AAAA;AAAA,iBA8Q7B,wDAA+C;AAC7C,gBAAIC,sBAAsB,GAAG,IAA7B;;AAEA,gBAAI,KAAKpD,aAAL,CAAmBqD,QAAvB,EAAiC;AAC/B,kBAAIC,yBAAyB,GAAG,+CAAS,KAAK7J,qBAAL,CAA2B0G,wBAApC,EAA8D;AAAE,uBAAO,KAAKH,aAAL,CAAmBqD;AAA5B,eAA9D,CAAhC;;AACA,kBAAIC,yBAAyB,IAAIA,yBAAyB,CAACnI,GAA3D,EAAgE;AAC9DiI,sCAAsB,GAAGE,yBAAyB,CAACC,YAAnD;AACD,eAFD,MAEO;AACLH,sCAAsB,GAAG,IAAzB;AACD;AACF;;AACD,gBAAIA,sBAAJ,EAA4B;AAC1B,qBAAOA,sBAAP;AACD,aAb4C,CAc7C;;;AACA,gBAAI,KAAKpD,aAAL,CAAmBqD,QAAvB,EAAiC;AAC/BD,oCAAsB,GAAG,KAAKvJ,cAAL,CAAoB2J,kBAApB,CAAuC,KAAKxD,aAAL,CAAmBqD,QAA1D,EAAoEI,MAA7F;AACD,aAFD,MAEO;AACLL,oCAAsB,GAAG,KAAKvJ,cAAL,CAAoB2J,kBAApB,CAAuC,6DAASE,UAAhD,EAA4DD,MAArF;AACD;;AACD,mBAAOL,sBAAP,CApB6C,CAqB7C;AACD;AApS4B;AAAA;AAAA,iBAsS7B,6CAAoC;AAAA;;AAClC,gBAAI,KAAKrD,eAAT,EAA0B;AACxB,kBAAI,CAAC,KAAKsB,aAAL,CAAmBoB,GAAnB,CAAuB,yBAAvB,EAAkDC,KAAvD,EAA8D;AAC5D,qBAAKrB,aAAL,CAAmBoB,GAAnB,CAAuB,yBAAvB,EAAkDM,QAAlD,CAA2D,KAAKhD,eAAL,CAAqBiD,SAArB,IAAkC,KAAKjD,eAAL,CAAqBkD,QAAlH;AACD;;AACD,kBAAI,CAAC,KAAK5B,aAAL,CAAmBoB,GAAnB,CAAuB,mCAAvB,EAA4DC,KAAjE,EAAwE;AACtE,qBAAKrB,aAAL,CAAmBoB,GAAnB,CAAuB,mCAAvB,EAA4DM,QAA5D,CAAqE,KAAKhD,eAAL,CAAqBmD,gBAArB,IAAyC,KAAKnD,eAAL,CAAqBoD,UAAnI;AACD;AACF;;AACD,iBAAKrD,SAAL,GAAiB,IAAjB;;AACA,gBAAI,KAAKuB,aAAL,CAAmBsC,OAAvB,EAAgC;AAC9B;AACD;;AAED,gBAAI,KAAKtC,aAAL,CAAmBoB,GAAnB,CAAuB,mCAAvB,EAA4DC,KAA5D,IAAqE,KAAK3C,eAAL,CAAqBmD,gBAA9F,EAAgH;AAC9G,mBAAKpJ,YAAL,CAAkBkC,KAAlB,CAAwB,wDAAxB;AACA;AACD;;AACD,oBAAQ,KAAKvC,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAApD;AACE,mBAAK,yDAAKI,MAAV;AACE,qBAAK+D,aAAL,CAAmBoB,GAAnB,CAAuB,4BAAvB,EAAqDM,QAArD,CAA8D,6CAA9D;AACA;;AACF,mBAAK,yDAAK5F,QAAV;AACE,qBAAKkE,aAAL,CAAmBoB,GAAnB,CAAuB,8BAAvB,EAAuDM,QAAvD,CAAgE,6CAAhE;AACA;AANJ;;AASA,gBAAIa,WAAW,GAAG,IAAlB;AACA,gBAAIC,oBAAoB,GAAG;AACzBhF,wBAAU,EAAE;AACViD,0BAAU,EAAE;AADF,eADa;AAIzBpE,wBAAU,EAAE,IAJa;AAKzBuD,sBAAQ,EAAE,IALe;AAMzB9F,iBAAG,EAAE,IANoB;AAOzB2I,oBAAM,EAAE,IAPiB;AAQzBlE,oBAAM,EAAE,IARiB;AASzBmE,4BAAc,EAAE,KATS;AAUzB/C,8BAAgB,EAAE,EAVO;AAWzBgD,uBAAS,EAAE;AAXc,aAA3B;AAcAH,gCAAoB,GAAG,KAAKxC,aAAL,CAAmBqB,KAA1C;AACAmB,gCAAoB,CAAChF,UAArB,GAAkC,KAAKc,OAAvC;;AACA,gBAAI,KAAK0B,aAAL,CAAmBoB,GAAnB,CAAuB,oBAAvB,EAA6CC,KAAjD,EAAwD;AACtDmB,kCAAoB,CAAChF,UAArB,CAAgCiD,UAAhC,GAA6C,KAAKT,aAAL,CAAmBoB,GAAnB,CAAuB,oBAAvB,EAA6CC,KAA1F;AACD;;AACDmB,gCAAoB,CAACnG,UAArB,GAAkC,KAAKqC,eAAL,CAAqB5E,GAAvD;AACA0I,gCAAoB,CAAC5C,QAArB,GAAgC,KAAKjB,aAAL,CAAmB7E,GAAnD;AACA0I,gCAAoB,CAACjE,MAArB,GAA8B,KAAKD,OAAL,CAAaxE,GAA3C;AACA0I,gCAAoB,CAACE,cAArB,GAAsC,IAAtC;AACAF,gCAAoB,CAACC,MAArB,IAA+B,kEAAcG,OAA7C;AAEAJ,gCAAoB,CAAC1I,GAArB,GAA2B,KAAK0E,WAAhC;;AACA,gBAAIgE,oBAAJ,EAA0B;AACxB,kBAAI,CAACA,oBAAoB,CAAC1I,GAA1B,EAA+B;AAC7B0I,oCAAoB,CAAC1I,GAArB,GAA2B0I,oBAAoB,CAACjE,MAArB,GAA8B,IAA9B,GAAqCiE,oBAAoB,CAACnG,UAArF;AACD;;AACD,kBAAI,KAAKiC,OAAL,CAAaqE,SAAb,IAA0B,KAAKjE,eAAL,CAAqB5E,GAAnD,EAAwD;AACtD;AACA0I,oCAAoB,CAACC,MAArB,GAA8BD,oBAAoB,CAACC,MAArB,IAA+B,kEAAc1I,QAA3E;AACD,eAHD,MAGO;AACL;AACAyI,oCAAoB,CAACC,MAArB,GAA8BD,oBAAoB,CAACC,MAArB,IAA+B,kEAAcI,mBAA3E;AACD;;AACD,mBAAKxK,aAAL,CAAmByK,4BAAnB,CAAgDN,oBAAoB,CAACjE,MAArE;;AACA,sBAAQiE,oBAAoB,CAACC,MAA7B;AACE,qBAAK,kEAAcG,OAAnB;AACA,qBAAK,kEAAcC,mBAAnB;AACEL,sCAAoB,CAACG,SAArB,GAAiC,KAAKvK,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA7E;AACA,uBAAKzB,aAAL,CAAmB0K,eAAnB,CAAmC,IAAnC,EAAyCP,oBAAzC;AACA;;AACF;AACE,uBAAKnK,aAAL,CAAmB2K,kBAAnB,CAAsC,IAAtC,EAA4CR,oBAA5C,EAAkE,KAAK9D,eAAvE;AACA;AARJ,eAZwB,CAsBxB;;;AACA,kBAAIuE,gBAAgB,GAAG,EAAvB;;AACAA,8BAAgB,CAAC1F,IAAjB,CAAsB,KAAKoB,aAAL,CAAmB7E,GAAzC;;AACAmJ,8BAAgB,CAAC1F,IAAjB,CAAsB,KAAKmB,eAAL,CAAqB5E,GAA3C;AACA;;;AACA,kBAAIoJ,kBAAkB,GAAG,KAAK3K,cAAL,CAAoB4K,qBAApB,CAA0C,KAAK/K,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAAtF,EAA2F,KAAKtB,cAAL,CAAoB8E,cAApB,CAAmC,KAAKgB,OAAL,CAAaxB,QAAhD,IAA4D,KAA5D,IAAqE,KAAKwB,OAAL,CAAa8E,UAAb,IAA2B,EAAhG,CAA3F,EAAgM,KAAK9E,OAAL,CAAaxE,GAA7M,EAAkN0I,oBAAoB,CAAC1I,GAAvO,EAA4OmJ,gBAA5O,EAA8P,IAA9P,EAAoQ,IAApQ,EAA0Q,IAA1Q,EAAgR,KAAhR,CAAzB;;AACA,mBAAK5K,aAAL,CAAmBgL,wBAAnB,CAA4CH,kBAA5C,EA5BwB,CA6BxB;;AAEA,sBAAQV,oBAAoB,CAACC,MAA7B;AACE,qBAAK,kEAAcI,mBAAnB;AACEN,6BAAW,GAAG;AAAEA,+BAAW,EAAE;AAAf,mBAAd;AACA;;AACF,qBAAK,kEAAcxI,QAAnB;AACE,uBAAKtB,YAAL,CAAkB6K,OAAlB,CAA0B,oEAA1B,EAAgG,IAAhG,EADF,CAEE;;AACA,sBAAI5G,QAAQ,GAAG;AACb6G,oCAAgB,EAAE,IADL;AAEbC,kCAAc,EAAE,IAFH;AAGb5G,qCAAiB,EAAE,IAHN;AAIb6G,gCAAY,EAAE,IAJD;AAKb3G,4BAAQ,EAAE,IALG;AAMb4G,qCAAiB,EAAE;AANN,mBAAf;AASAhH,0BAAQ,GAAG,kDAAY8F,oBAAZ,CAAX;AAGA9F,0BAAQ,CAAC6G,gBAAT,GAA4B,kDAAY,KAAK7E,eAAjB,CAA5B;AACAhC,0BAAQ,CAAC8G,cAAT,GAA0B,kDAAY,KAAK7E,aAAjB,CAA1B;AAEAjC,0BAAQ,CAACE,iBAAT,GAA6B,mCAAM,CAAC,KAAK0B,OAAL,CAAa1B,iBAAd,CAAN,CAAuCO,MAAvC,CAA8C,aAA9C,CAA7B;AACAT,0BAAQ,CAAC8G,cAAT,CAAwBG,wBAAxB,GAAmD,KAAKhF,aAAL,CAAmBkD,gBAAtE;AACAnF,0BAAQ,CAAC6G,gBAAT,CAA0BK,0BAA1B,GAAuD,KAAKlF,eAAL,CAAqBmD,gBAA5E;AAEAnF,0BAAQ,CAAC+G,YAAT,GAAwB,EAAxB;;AACA,uBAAK,IAAI1G,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKuB,OAAL,CAAa3B,kBAAzC,EAA6DI,KAAK,EAAlE,EAAsE;AACpE,wBAAIC,WAAW,GAAG;AAChBJ,uCAAiB,EAAE,IADH;AAEhBC,mDAA6B,EAAE;AAFf,qBAAlB;AAIAG,+BAAW,CAACJ,iBAAZ,GAAgC,KAAKpE,cAAL,CAAoB0E,0BAApB,CAA+CR,QAAQ,CAACE,iBAAxD,EAA2EG,KAAK,GAAG,CAAnF,EAAsFI,MAAtF,CAA6F,aAA7F,CAAhC;AACAH,+BAAW,CAACH,6BAAZ,GAA4C,KAAKmD,aAAL,CAAmBoB,GAAnB,CAAuB,+BAAvB,EAAwDC,KAAxD,IAAiE,KAAK/C,OAAL,CAAazB,6BAA1H;;AACAH,4BAAQ,CAAC+G,YAAT,CAAsBlG,IAAtB,CAA2BP,WAA3B;AACD;;AAEDN,0BAAQ,CAACI,QAAT,GAAoB,KAAKtE,cAAL,CAAoB8E,cAApB,CAAmC,KAAKgB,OAAL,CAAaxB,QAAhD,CAApB;AAEAJ,0BAAQ,CAACgH,iBAAT,GAA6B,KAAKpF,OAAL,CAAaoF,iBAA1C;AAEA,uBAAKtL,qBAAL,CAA2ByL,6BAA3B,CAAyDnH,QAAzD,EACG1C,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI,CACP,CAJL,EAKI,UAAAS,KAAK,EAAI;AACP,wBAAIC,aAAa,GAAG,EAApB;;AACA,wBAAI;AACF,0BAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,qCAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,uBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,qCAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,uBAFM,MAEA;AACLD,qCAAa,GAAGD,KAAhB;AACD;AACF,qBARD,CAQE,OAAOG,EAAP,EAAW,CACZ,CAXM,CAYP;;;AACA,0BAAI,CAACjC,OAAL,GAAe,KAAf;AACD,mBAnBL,EArCF,CAyDE;;AACA;;AACF,qBAAK,kEAAc+J,OAAnB;AACE,uBAAKnK,YAAL,CAAkB6K,OAAlB,CAA0B,oCAA1B,EAAgE,IAAhE;AACA;;AACF,qBAAK,kEAAcQ,QAAnB;AACA,qBAAK,kEAAcC,eAAnB;AACA,qBAAK,kEAAcC,yBAAnB;AACA,qBAAK,kEAAcC,SAAnB;AACE,uBAAKxL,YAAL,CAAkB6K,OAAlB,CAA0B,sEAA1B,EAAkG,IAAlG;AACA;;AACF,qBAAK,kEAAcY,SAAnB;AACE,uBAAKzL,YAAL,CAAkB6K,OAAlB,CAA0B,kEAA1B,EAA8F,IAA9F;AACA;;AACF,qBAAK,kEAAca,MAAnB;AACA,qBAAK,kEAAcC,OAAnB;AACA,qBAAK,kEAAcC,gBAAnB;AACE,uBAAK5L,YAAL,CAAkB6K,OAAlB,CAA0B,qEAA1B,EAAiG,IAAjG;AACA;;AACF;AACE;AAjFJ;AAoFD;;AAED,iBAAKlF,gBAAL,CAAsBkG,cAAtB,CAAqC,uBAArC,EAA8D/B,WAA9D;AAED;AAnd4B;AAAA;AAAA,iBAqd7B,wCAA+B/G,KAA/B,EAAsC;AACpC,gBAAIA,KAAK,CAAC+I,UAAN,CAAiBC,OAArB,EAA8B;AAC5B,mBAAKxE,aAAL,CAAmBoB,GAAnB,CAAuB,wBAAvB,EAAiDM,QAAjD,CAA0D,IAA1D;AACD,aAFD,MAEO;AACL,mBAAK1B,aAAL,CAAmBoB,GAAnB,CAAuB,wBAAvB,EAAiDM,QAAjD,CAA0D,KAA1D;AACD;AACF;AA3d4B;AAAA;AAAA,iBA4d7B,sBAAa+C,OAAb,EAAsB;AAAA;;AACpB;AACA,iBAAK/L,WAAL,CAAiBmH,WAAjB,CAA6B4E,OAAO,CAAC3K,GAArC,EACGE,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN,kBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B;AACA,oBAAMwD,SAAS,GAAG,MAAI,CAACpF,MAAL,CAAYqF,IAAZ,CAAiB,8GAAjB,EAAyC;AAEzD+G,0BAAQ,EAAE,OAF+C;AAGzDC,2BAAS,EAAE,OAH8C;AAIzDC,wBAAM,EAAE,MAJiD;AAKzDC,uBAAK,EAAE,MALkD;AAMzDhH,6BAAW,EAAE,IAN4C;AAOzD3D,sBAAI,EAAE;AACJuK,2BAAO,EAAE,kDAAYvK,IAAI,CAAC,MAAD,CAAhB,CADL;AAEJ4K,8BAAU,EAAE;AAFR;AAPmD,iBAAzC,CAAlB;;AAaApH,yBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI,CAC1C;AACD,iBAFD;AAID,eAnBD,MAmBO,CAEN;AACF,aA1BL,EA2BI,UAAApD,KAAK,EAAI;AACP,kBAAIC,aAAa,GAAG,EAApB;;AACA,kBAAI;AACF,oBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,+BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,iBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,+BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,iBAFM,MAEA;AACLD,+BAAa,GAAGD,KAAhB;AACD;AACF,eARD,CAQE,OAAOG,EAAP,EAAW,CAAG;;AAChB,oBAAI,CAACrC,YAAL,CAAkBkC,KAAlB,CAAwBC,aAAxB;AAED,aAxCL,EAFoB,CA2CpB;AAED;AAzgB4B;;AAAA;AAAA,S;;;;gBAZtB;;gBADA;;gBACA;;gBAHoC;;gBACpC;;gBALA;;gBAIA;;gBAAuB;;gBAMvB;;gBAEA;;;;AAOIsD,wBAAkB,6DAL9B,gEAAU;AACTF,gBAAQ,EAAE,gBADD;AAETC,gBAAQ,EAAR,6EAFS;;AAAA,OAAV,CAK8B,E,+EAYJ,yE,EACA,gF,EACE,yE,EACH,6D,EACI,oF,EACL,0D,EACS,sE,EACT,4D,EACE,gF,EACR,mE,EArBY,GAAlBC,kBAAkB,CAAlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCbA6G,aAAa;AAExB,iCAAc;AAAA;AAAG;;AAFO;AAAA;AAAA,iBAIxB,oBAAQ,CACP;AALuB;;AAAA;AAAA,S;;;;;;AAAbA,mBAAa,6DALzB,gEAAU;AACT/G,gBAAQ,EAAE,UADD;AAETC,gBAAQ,EAAR,uEAFS;;AAAA,OAAV,CAKyB,E,iFAAA,GAAb8G,aAAa,CAAb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCeAC,aAAa;AAgCxB,+BACStM,WADT,EAEUL,aAFV,EAGUgG,WAHV,EAIUzF,eAJV,EAKUH,YALV,EAMSD,cANT,EAOSF,MAPT,EAQSF,qBART,EASS6M,WATT,EAUStM,MAVT,EAWSJ,cAXT,EAYU2M,IAZV,EAYiC;AAAA;;AAAA;;AAXxB,eAAAxM,WAAA,GAAAA,WAAA;AACC,eAAAL,aAAA,GAAAA,aAAA;AACA,eAAAgG,WAAA,GAAAA,WAAA;AACA,eAAAzF,eAAA,GAAAA,eAAA;AACA,eAAAH,YAAA,GAAAA,YAAA;AACD,eAAAD,cAAA,GAAAA,cAAA;AACA,eAAAF,MAAA,GAAAA,MAAA;AACA,eAAAF,qBAAA,GAAAA,qBAAA;AACA,eAAA6M,WAAA,GAAAA,WAAA;AACA,eAAAtM,MAAA,GAAAA,MAAA;AACA,eAAAJ,cAAA,GAAAA,cAAA;AACC,eAAA2M,IAAA,GAAAA,IAAA;AAvCV,eAAAC,SAAA,GAAY,IAAZ;AAQA,eAAAnM,oBAAA,GAA+B,IAA/B;AACA,eAAAC,eAAA,GAA2B,KAA3B;AAEA,eAAAmM,oBAAA,GAA+B,CAA/B;AACA,eAAAC,uBAAA,GAAkC,CAAlC;AACA,eAAAC,8BAAA,GAAyC,CAAzC;AACA,eAAAC,wBAAA,GAAmC,CAAnC,CAyBiC,CAzBI;;AACrC,eAAAC,sBAAA,GAAiC,CAAjC,CAwBiC,CAxBE;;AACnC,eAAAC,kBAAA,GAA6B,CAA7B,CAuBiC,CAvBF;;AAC/B,eAAAC,IAAA,GAAO,oDAAP;AAEA,eAAAC,sBAAA,GAAkC,IAAlC,CAoBiC,CApBM;;AACvC,eAAAC,mBAAA,GAA2B,EAA3B;AAqBE,eAAKC,gEAAL;AACA,eAAK7M,oBAAL,GAA4B,IAA5B;AACA,eAAKC,eAAL,GAAuB,IAAvB;AACA,cAAI6M,SAAS,GAAG,EAAhB,CAL+B,CAM/B;;AACAA,mBAAS,GAAG;AACVzJ,sBAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAD9C;AAEV2I,kBAAM,EAAE,8DAAcyB;AAFZ,WAAZ;AAIA,eAAK7L,aAAL,CAAmB0N,2BAAnB,CAA+C,KAA/C,EAAsDD,SAAtD,EAAiE,IAAjE,EAAuE,2EAAvE,EACG7L,SADH,CAEI,UAAAC,IAAI,EAAI;AACN;AACA,gBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B,oBAAI,CAACsL,sBAAL,GAA8BtL,IAAI,CAAC,MAAD,CAAlC;AACA,oBAAI,CAACuL,kBAAL,GAA0BvL,IAAI,CAAC,MAAD,CAA9B;AACD,aAHD,MAGO;AACL;AACA;AACA,oBAAI,CAACrB,OAAL,GAAe,KAAf;AACD;AACF,WAZL,EAaI,UAAA8B,KAAK,EAAI;AACP,gBAAIC,aAAa,GAAG,EAApB;;AACA,gBAAI;AACF,kBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,6BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,eAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,6BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,eAFM,MAEA;AACLD,6BAAa,GAAGD,KAAhB;AACD;AACF,aARD,CAQE,OAAOG,EAAP,EAAW,CAAG,CAVT,CAWP;;;AACA,kBAAI,CAACjC,OAAL,GAAe,KAAf;AACD,WA1BL,EAX+B,CAsC/B;AAEA;;AACAiN,mBAAS,GAAG;AACVzJ,sBAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAD9C;AAEV2I,kBAAM,EAAE,8DAAc1I;AAFZ,WAAZ;AAIA,eAAK1B,aAAL,CAAmB0N,2BAAnB,CAA+C,KAA/C,EAAsDD,SAAtD,EAAiE,IAAjE,EAAuE,yEAAvE,EACG7L,SADH,CAEI,UAAAC,IAAI,EAAI;AACN;AACA,gBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B,oBAAI,CAACkL,oBAAL,GAA4BlL,IAAI,CAAC,MAAD,CAAhC;AACD,aAFD,MAEO;AACL;AACA;AACA,oBAAI,CAACrB,OAAL,GAAe,KAAf;AACD;AACF,WAXL,EAYI,UAAA8B,KAAK,EAAI;AACP,gBAAIC,aAAa,GAAG,EAApB;;AACA,gBAAI;AACF,kBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,6BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,eAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,6BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,eAFM,MAEA;AACLD,6BAAa,GAAGD,KAAhB;AACD;AACF,aARD,CAQE,OAAOG,EAAP,EAAW,CAAG,CAVT,CAWP;;;AACA,kBAAI,CAACjC,OAAL,GAAe,KAAf;AACD,WAzBL,EA7C+B,CAuE/B;AACA;;AACAiN,mBAAS,GAAG;AACVzJ,sBAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAD9C;AAEV2I,kBAAM,EAAE,8DAAc1I,QAFZ;AAGViM,oCAAwB,EAAE;AAHhB,WAAZ;AAKA,eAAK3N,aAAL,CAAmB0N,2BAAnB,CAA+C,KAA/C,EAAsDD,SAAtD,EAAiE,IAAjE,EAAuE,4EAAvE,EACG7L,SADH,CAEI,UAAAC,IAAI,EAAI;AACN;AACA,gBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAE3B,oBAAI,CAACmL,uBAAL,GAA+BnL,IAAI,CAAC,MAAD,CAAnC;AACD,aAHD,MAGO;AACL;AACA;AACA,oBAAI,CAACrB,OAAL,GAAe,KAAf;AACD;AACF,WAZL,EAaI,UAAA8B,KAAK,EAAI;AACP,gBAAIC,aAAa,GAAG,EAApB;;AACA,gBAAI;AACF,kBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,6BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,eAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,6BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,eAFM,MAEA;AACLD,6BAAa,GAAGD,KAAhB;AACD;AACF,aARD,CAQE,OAAOG,EAAP,EAAW,CAAG,CAVT,CAWP;;;AACA,kBAAI,CAACjC,OAAL,GAAe,KAAf;AACD,WA1BL,EA9E+B,CAyG/B;AAEA;;AACAiN,mBAAS,GAAG;AACVzJ,sBAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAD9C;AAEV2I,kBAAM,EAAE,8DAAcI;AAFZ,WAAZ;AAIA,eAAKxK,aAAL,CAAmB0N,2BAAnB,CAA+C,KAA/C,EAAsDD,SAAtD,EAAiE,IAAjE,EAAuE,mFAAvE,EACG9L,IADH,CACQ,+DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN;AACA,gBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B,oBAAI,CAACoL,8BAAL,GAAsCpL,IAAI,CAAC,MAAD,CAA1C;AACD,aAFD,MAEO;AACL;AACA;AACA,oBAAI,CAACrB,OAAL,GAAe,KAAf;AACD;AACF,WAZL,EAaI,UAAA8B,KAAK,EAAI;AACP,gBAAIC,aAAa,GAAG,EAApB;;AACA,gBAAI;AACF,kBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,6BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,eAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,6BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,eAFM,MAEA;AACLD,6BAAa,GAAGD,KAAhB;AACD;AACF,aARD,CAQE,OAAOG,EAAP,EAAW,CAAG,CAVT,CAWP;;;AACA,kBAAI,CAACjC,OAAL,GAAe,KAAf;AACD,WA1BL,EAhH+B,CA2I/B;;AAEA,eAAKD,eAAL,CAAqBgB,yBAArB,CAA+C,KAAKxB,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA3F,EAAgG,IAAhG,EAAsG,IAAtG,EAA4G,IAA5G,EAAkH,IAAlH,EAAwH,IAAxH,EACGE,IADH,CACQ,+DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN;AACA,gBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B;AACA,oBAAI,CAACC,eAAL,GAAuBD,IAAI,CAAC,MAAD,CAA3B;;AACA,oBAAI,CAACxB,WAAL,CAAiB0B,8BAAjB,CAAgD,MAAI,CAAC5B,cAAL,CAAoB6B,CAApB,CAAsBC,IAAtB,CAA2B,MAAI,CAAC9B,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,MAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBG,YAAtB,CAAmC,MAAI,CAAChC,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,MAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6B,MAAI,CAACN,eAAlC,CAA1B,EAA8E,2BAA9E,CAAnC,EAA+I,CAA/I,CAA1B,EAA6K,UAA7K,CAA3B,CAAhD;;AACA,oBAAI,CAAC8L,0DAAL,GAJ2B,CAK3B;;;AACA,oBAAI,CAACpN,OAAL,GAAe,KAAf,CAN2B,CAO3B;AACD,aARD,MAQO;AACL;AACA;AACA,oBAAI,CAACA,OAAL,GAAe,KAAf;AACD;AACF,WAlBL,EAmBI,UAAA8B,KAAK,EAAI;AACP,gBAAIC,aAAa,GAAG,EAApB;;AACA,gBAAI;AACF,kBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,6BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,eAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,6BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,eAFM,MAEA;AACLD,6BAAa,GAAGD,KAAhB;AACD;AACF,aARD,CAQE,OAAOG,EAAP,EAAW,CAAG,CAVT,CAWP;;;AACA,kBAAI,CAACjC,OAAL,GAAe,KAAf;AACD,WAhCL;AAkCA,eAAKD,eAAL,CAAqBmC,mCAArB,GACGd,SADH,CAEI,UAAAC,IAAI,EAAI;AACN,gBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B,kBAAIc,gBAAgB,GAAG,MAAI,CAACxC,cAAL,CAAoB6B,CAApB,CAAsBY,OAAtB,CAA8B,MAAI,CAACd,eAAnC,EAAoD,KAApD,CAAvB;;AACA,mBAAK,IAAIe,MAAT,IAAmBhB,IAAI,CAAC,MAAD,CAAvB,EAAiC;AAC/B,oBAAIiB,WAAW,GAAGjB,IAAI,CAAC,MAAD,CAAJ,CAAagB,MAAb,CAAlB;AACAF,gCAAgB,CAACG,WAAW,CAACrB,GAAb,CAAhB,GAAoCqB,WAApC;AACD;;AACD,oBAAI,CAAChB,eAAL,GAAuB,MAAI,CAAC3B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6BO,gBAA7B,CAAvB;;AACA,oBAAI,CAACtC,WAAL,CAAiB0B,8BAAjB,CAAgD,MAAI,CAAC5B,cAAL,CAAoB6B,CAApB,CAAsBC,IAAtB,CAA2B,MAAI,CAAC9B,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,MAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBG,YAAtB,CAAmC,MAAI,CAAChC,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,MAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6B,MAAI,CAACN,eAAlC,CAA1B,EAA8E,2BAA9E,CAAnC,EAA+I,CAA/I,CAA1B,EAA6K,UAA7K,CAA3B,CAAhD;;AACA,oBAAI,CAAC8L,0DAAL;;AACA,oBAAI,CAACpN,OAAL,GAAe,KAAf;AACD,aAVD,MAUO;AACL,oBAAI,CAACA,OAAL,GAAe,KAAf;AACD;AACF,WAhBL,EAiBI,UAAA8B,KAAK,EAAI;AACP,kBAAI,CAAC9B,OAAL,GAAe,KAAf;AACD,WAnBL;AAqBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CD;;AA3RuB;AAAA;AAAA,iBA0BxB,oBAAW,CACV;AA3BuB;AAAA;AAAA,iBA6BxB,uBAAc,CACb;AA9BuB;AAAA;AAAA,iBA4RxB,4EAAmE;AAAA;;AAEjE,iBAAKH,WAAL,CAAiBwN,mCAAjB,CAAqD,KAAK9N,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAAjG,EACGE,IADH,CACQ,+DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN;AACA,kBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAE3B,oBAAKA,IAAI,CAAC,MAAD,CAAJ,CAAa,UAAb,KAA4BA,IAAI,CAAC,MAAD,CAAJ,CAAa,eAAb,CAA7B,IAA+DA,IAAI,CAAC,MAAD,CAAJ,CAAa,6BAAb,CAAnE,EAAgH;AAC9G,wBAAI,CAAC9B,qBAAL,CAA2ByB,gBAA3B,CAA4CsM,2BAA5C,GAA0E,IAA1E;;AACA,wBAAI,CAAC/N,qBAAL,CAA2BgO,kBAA3B,CAA8C,MAAI,CAAChO,qBAAL,CAA2ByB,gBAAzE;AACD;;AAED,oBAAIK,IAAI,CAAC,MAAD,CAAJ,CAAa,yBAAb,KAA2CA,IAAI,CAAC,MAAD,CAAJ,CAAa,0BAAb,CAA/C,EAAyF;AAEvF,wBAAI,CAAC9B,qBAAL,CAA2ByB,gBAA3B,CAA4CwM,uBAA5C,GAAsEnM,IAAI,CAAC,MAAD,CAAJ,CAAa,yBAAb,CAAtE;AACA,wBAAI,CAAC9B,qBAAL,CAA2ByB,gBAA3B,CAA4CyM,wBAA5C,GAAuEpM,IAAI,CAAC,MAAD,CAAJ,CAAa,0BAAb,CAAvE;AACA,wBAAI,CAAC9B,qBAAL,CAA2ByB,gBAA3B,CAA4C0M,kBAA5C,GAAiE,MAAI,CAACnO,qBAAL,CAA2ByB,gBAA3B,CAA4CwM,uBAA5C,GAAsE,MAAI,CAACjO,qBAAL,CAA2ByB,gBAA3B,CAA4CyM,wBAAnL;AAEA,wBAAI,CAAClO,qBAAL,CAA2ByB,gBAA3B,CAA4C2M,oCAA5C,GAAmF,IAAnF;;AACA,wBAAI,CAACpO,qBAAL,CAA2BgO,kBAA3B,CAA8C,MAAI,CAAChO,qBAAL,CAA2ByB,gBAAzE;AACD;AAEF,eAjBD,MAiBO,CACN;AACF,aAxBL,EAyBI,UAAAc,KAAK,EAAI;AACP,kBAAIC,aAAa,GAAG,EAApB;;AACA,kBAAI;AACF,oBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,+BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,iBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,+BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,iBAFM,MAEA;AACLD,+BAAa,GAAGD,KAAhB;AACD;AACF,eARD,CAQE,OAAOG,EAAP,EAAW,CAAG;;AAChB,oBAAI,CAACjC,OAAL,GAAe,KAAf;AACD,aArCL;AAsCD;AApUuB;AAAA;AAAA,iBAsUxB,gEAAuD4N,YAAvD,EAAqEC,cAArE,EAAqFC,IAArF,EAA2F;AACzF,gBAAIC,eAAe,GAAG,KAAKpO,cAAL,CAAoBqO,MAApB,CAA2BH,cAA3B,EAA2CvJ,MAA3C,CAAkD,aAAlD,CAAtB;;AACA,gBAAIsJ,YAAY,CAACK,uCAAjB,EAA0D;AACxD,kBAAIL,YAAY,CAACK,uCAAb,CAAqDF,eAArD,CAAJ,EAA2E;AACzE,oBAAIH,YAAY,CAACK,uCAAb,CAAqDF,eAArD,EAAsEG,iDAA1E,EAA6H;AAC3H,yBAAO,IAAP;AACD;AACF;AACF;;AACD,mBAAO,KAAP;AACD;AAhVuB;AAAA;AAAA,iBAiVxB,iDAAwCN,YAAxC,EAAsDC,cAAtD,EAAsEC,IAAtE,EAA4E;AAC1E,gBAAIC,eAAe,GAAG,KAAKpO,cAAL,CAAoBqO,MAApB,CAA2BH,cAA3B,EAA2CvJ,MAA3C,CAAkD,aAAlD,CAAtB;;AACA,gBAAIsJ,YAAY,CAACK,uCAAjB,EAA0D;AACxD,kBAAIL,YAAY,CAACK,uCAAb,CAAqDF,eAArD,CAAJ,EAA2E;AACzE,uBAAO,IAAP;AACD;AACF;;AACD,mBAAO,KAAP;AACD;AAzVuB;AAAA;AAAA,iBA0VxB,sEAA6D;AAC3D;AACA,iBAAK,IAAII,IAAT,IAAiB,KAAK7M,eAAtB,EAAuC;AACrC,kBAAIuC,QAAQ,GAAG,KAAKvC,eAAL,CAAqB6M,IAArB,CAAf;;AACA,kBAAItK,QAAJ,EAAc;AACZA,wBAAQ,CAACuK,eAAT,GAA2B,IAA3B;;AACA,qBAAK,IAAIC,UAAT,IAAuBxK,QAAQ,CAACV,yBAAhC,EAA2D;AACzD,sBAAIyK,YAAY,GAAG/J,QAAQ,CAACV,yBAAT,CAAmCkL,UAAnC,CAAnB;;AAEA,sBAAIT,YAAJ,EAAkB;AAChB,yBAAK,IAAI1J,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGL,QAAQ,CAACC,kBAArC,EAAyDI,KAAK,EAA9D,EAAkE;AAChE,0BAAIC,WAAW,GAAG;AAChBJ,yCAAiB,EAAE,IADH;AAEhBC,qDAA6B,EAAE;AAFf,uBAAlB;AAIAG,iCAAW,CAACJ,iBAAZ,GAAgC,KAAKpE,cAAL,CAAoB0E,0BAApB,CAA+CR,QAAQ,CAACE,iBAAxD,EAA2EG,KAAK,GAAG,CAAnF,CAAhC;;AAEA,0BAAI,CAAC,KAAKoK,uCAAL,CAA6CV,YAA7C,EAA2DzJ,WAAW,CAACJ,iBAAvE,EAA0F,IAA1F,CAAL,EAAsG;AACpG,4BAAI,CAACF,QAAQ,CAACuK,eAAd,EAA+B;AAC7B,8BAAI,KAAKzO,cAAL,CAAoBqO,MAApB,CAA2BnK,QAAQ,CAACuK,eAApC,EAAqDG,QAArD,CAA8D,KAAK5O,cAAL,CAAoBqO,MAApB,CAA2B7J,WAAW,CAACJ,iBAAvC,CAA9D,CAAJ,EAA8H;AAC5H;AACD;AACF;;AACDF,gCAAQ,CAAC2K,eAAT,GAA4BZ,YAAY,CAAC7F,0BAAb,IAA2C6F,YAAY,CAAC5F,4BAApF;AACAnE,gCAAQ,CAACuK,eAAT,GAA2BjK,WAAW,CAACJ,iBAAvC;AACA;AACD;AACF;AAEF;AACF;;AACD,qBAAKzC,eAAL,CAAqB6M,IAArB,IAA6BtK,QAA7B;AAED;AACF,aAlC0D,CAmC3D;AACA;;;AACA,gBAAI,KAAKiJ,sBAAT,EAAiC;AAC/B,mBAAK2B,kCAAL,CAAwC,IAAxC;AACD,aAvC0D,CAwC3D;;AACD;AAnYuB;AAAA;AAAA,iBAqYxB,8CAA+D;AAAA,gBAA5BC,SAA4B,uEAAP,KAAO;;AAC7D;AACA,gBAAIA,SAAJ,EAAe;AACb,mBAAK3B,mBAAL,GAA2B,EAA3B;AACD;;AACD,iBAAK,IAAIoB,IAAT,IAAiB,KAAK7M,eAAtB,EAAuC;AACrC,mBAAK,IAAI6M,KAAT,IAAiB,KAAK7M,eAAtB,EAAuC;AACrC,oBAAIuC,QAAQ,GAAG,KAAKvC,eAAL,CAAqB6M,KAArB,CAAf;;AACA,oBAAItK,QAAJ,EAAc;AACZ,uBAAK,IAAIwK,UAAT,IAAuBxK,QAAQ,CAACV,yBAAhC,EAA2D;AACzD,wBAAIyK,YAAY,GAAG/J,QAAQ,CAACV,yBAAT,CAAmCkL,UAAnC,CAAnB;;AACA,wBAAIT,YAAJ,EAAkB;AAChB,0BAAIe,kBAAkB,GAAG,kDAAY9K,QAAZ,CAAzB;AACA,6BAAO8K,kBAAkB,CAACxL,yBAA1B;AAEAyK,kCAAY,CAACe,kBAAb,GAAkCA,kBAAlC;AACAf,kCAAY,CAACY,eAAb,GAA+B3K,QAAQ,CAAC2K,eAAxC;AACAZ,kCAAY,CAACQ,eAAb,GAA+BvK,QAAQ,CAACuK,eAAxC;AAEA,2BAAKrB,mBAAL,CAAyBa,YAAY,CAAC3M,GAAtC,IAA6C2M,YAA7C;AACD;AACF;AACF;AACF;AACF,aAxB4D,CAyB7D;;AACD;AA/ZuB;AAAA;AAAA,iBAiaxB,kCAAyBjJ,UAAzB,EAAqCC,YAArC,EAAmD;AACjD;AACA,gBAAMC,SAAS,GAAG,KAAKpF,MAAL,CAAYqF,IAAZ,CAAiB,qEAAjB,EAAoC;AACpD+G,sBAAQ,EAAE,OAD0C;AAEpDC,uBAAS,EAAE,OAFyC;AAGpDC,oBAAM,EAAE,MAH4C;AAIpDC,mBAAK,EAAE,MAJ6C;AAKpD3K,kBAAI,EAAE;AACJsD,0BAAU,EAAEA,UADR;AAEJnB,0BAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAFpD;AAGJ2D,4BAAY,EAAEA;AAHV;AAL8C,aAApC,CAAlB;AAYAC,qBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI;AAC1C,kBAAIyE,oBAAoB,GAAG,IAA3B;;AACA,kBAAIzE,MAAJ,EAAY;AACV,oBAAIA,MAAM,CAAC7D,IAAX,EAAiB,CAEhB;AACF,eANyC,CAO1C;;AACD,aARD;AASD;AAxbuB;AAAA;AAAA,iBAybxB,8BAAqBsD,UAArB,EAAiC;AAAA;;AAC/B,gBAAI5B,qBAAqB,GAAG,IAA5B;;AACA,oBAAQ,KAAKxD,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAApD;AACE,mBAAK,qDAAKC,QAAV;AACEF,qCAAqB,GAAG,kDAAY4B,UAAZ,CAAxB;AACA5B,qCAAqB,CAACI,yBAAtB,GAAkD,+CAASwB,UAAU,CAACxB,yBAApB,EAA+C;AAAE,gCAAc,KAAK5D,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAA5D,iBAA/C,CAAlD;AACA;;AACF;AACE8B,qCAAqB,GAAG,kDAAY4B,UAAZ,CAAxB;AACA;AAPJ,aAF+B,CAY/B;;;AACA,gBAAME,SAAS,GAAG,KAAKpF,MAAL,CAAYqF,IAAZ,CAAiB,8EAAjB,EAA6C;AAC7DC,2BAAa,EAAE,8BAD8C;AAE7D6J,wBAAU,EAAE,0BAFiD;AAG7D/C,sBAAQ,EAAE,OAHmD;AAI7DC,uBAAS,EAAE,OAJkD;AAK7DC,oBAAM,EAAE,MALqD;AAM7DC,mBAAK,EAAE,MANsD;AAO7D3K,kBAAI,EAAE;AACJsD,0BAAU,EAAE5B,qBADR;AAEJS,0BAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAFpD;AAPuD,aAA7C,CAAlB;AAaA4D,qBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI;AAC1C,kBAAIA,MAAJ,EAAY;AACV,oBAAIA,MAAM,CAAC7D,IAAX,EAAiB;AACf;AACA,sBAAI6D,MAAM,CAAC7D,IAAP,CAAYuI,MAAZ,IAAsB1E,MAAM,CAAC7D,IAAP,CAAYuD,YAAtC,EAAoD;AAClD,wBAAIiK,YAAY,GAAG3J,MAAM,CAAC7D,IAAP,CAAYuD,YAAZ,CAAyB3D,GAA5C;AACA,wBAAI6N,OAAO,GAAG5J,MAAM,CAAC7D,IAAP,CAAYuI,MAA1B,CAFkD,CAGlD;AACA;;AACA,wBAAImF,iCAAiC,GAAG,KAAxC;;AACA,4BAAQD,OAAR;AACE,2BAAK,8DAAc5N,QAAnB;AACE;AACA,8BAAI,CAAC8N,uBAAL,CAA6BrK,UAA7B,EAAyCkK,YAAzC;;AACA;AAJJ;AAMD;;AACD,sBAAI3J,MAAM,CAAC7D,IAAP,CAAY4N,iBAAhB,EAAmC;AAEjC,wBAAI9M,gBAAgB,GAAG,MAAI,CAACxC,cAAL,CAAoB6B,CAApB,CAAsBY,OAAtB,CAA8B,MAAI,CAACd,eAAnC,EAAoD,KAApD,CAAvB;;AAEAa,oCAAgB,CAAC+C,MAAM,CAAC7D,IAAP,CAAY4N,iBAAZ,CAA8BhO,GAA/B,CAAhB,GAAsDiE,MAAM,CAAC7D,IAAP,CAAY4N,iBAAlE;AAEA,0BAAI,CAAC3N,eAAL,GAAuB,MAAI,CAAC3B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6BO,gBAA7B,CAAvB;;AACA,0BAAI,CAACtC,WAAL,CAAiB0B,8BAAjB,CAAgD,MAAI,CAAC5B,cAAL,CAAoB6B,CAApB,CAAsBC,IAAtB,CAA2B,MAAI,CAAC9B,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,MAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBG,YAAtB,CAAmC,MAAI,CAAChC,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,MAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6B,MAAI,CAACN,eAAlC,CAA1B,EAA8E,2BAA9E,CAAnC,EAA+I,CAA/I,CAA1B,EAA6K,UAA7K,CAA3B,CAAhD;;AACA,0BAAI,CAAC8L,0DAAL;;AACA,0BAAI,CAACf,IAAL,CAAU6C,aAAV;AACD;AACF;AACF;AACF,aA9BD;AA+BD;AAlfuB;AAAA;AAAA,iBAmfxB,iCAAwBvK,UAAxB,EAAoCgB,WAApC,EAAiD;AAC/C,gBAAID,MAAM,GAAGf,UAAU,CAAC1D,GAAxB;AAEA,gBAAI8B,qBAAqB,GAAG,IAA5B;;AACA,oBAAQ,KAAKxD,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAApD;AACE,mBAAK,qDAAKC,QAAV;AACEF,qCAAqB,GAAG,kDAAY4B,UAAZ,CAAxB;AACA5B,qCAAqB,CAACI,yBAAtB,GAAkD,+CAASwB,UAAU,CAACxB,yBAApB,EAA+C;AAAE,gCAAc,KAAK5D,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAA5D,iBAA/C,CAAlD;AACA;;AACF,mBAAK,qDAAKmC,MAAV;AACEL,qCAAqB,GAAG,kDAAY4B,UAAZ,CAAxB;AACA5B,qCAAqB,CAACI,yBAAtB,GAAkD,+CAASwB,UAAU,CAACxB,yBAApB,EAA+C;AAAE,8BAAY,KAAK5D,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAA1D,iBAA/C,CAAlD,CAFF,CAEoK;;AAClK;;AACF;AACE8B,qCAAqB,GAAG,kDAAY4B,UAAZ,CAAxB;AACA;AAXJ;;AAaA,gBAAI,CAACgB,WAAL,EAAkB;AAChBA,yBAAW,GAAG5C,qBAAqB,CAACI,yBAAtB,CAAgD,CAAhD,EAAmDlC,GAAjE;AACD;;AACD,iBAAKnB,MAAL,CAAYqP,QAAZ,CAAqB,CAAC,sBAAD,CAArB,EAA+C;AAAE5I,mBAAK,EAAE;AAAEb,sBAAM,EAAEA,MAAV;AAAkBC,2BAAW,EAAEA;AAA/B;AAAT,aAA/C;AACD;AAxgBuB;AAAA;AAAA,iBA0gBxB,uCAA8BhD,KAA9B,EAAqC8C,OAArC,EAAmDmI,YAAnD,EAA0J;AAAA;;AAAA,gBAApFwB,cAAoF,uEAA3D,IAA2D;AAAA,gBAArDC,kCAAqD,uEAAP,KAAO;;AACxJ;AACA,gBAAID,cAAJ,EAAoB;AAClB,kBAAIxB,YAAY,CAACK,uCAAjB,EAA0D;AACxD,qBAAK,IAAI5L,MAAT,IAAmBuL,YAAY,CAACK,uCAAhC,EAAyE;AACvE,sBAAI3L,WAAW,GAAGsL,YAAY,CAACK,uCAAb,CAAqD5L,MAArD,CAAlB;;AACA,sBAAIC,WAAJ,EAAiB;AACf,wBAAIA,WAAW,CAACgN,kCAAZ,IAAkD,CAAChN,WAAW,CAAC4L,iDAAnE,EAAsH;AACpH,2BAAKtO,YAAL,CAAkBkC,KAAlB,CAAwB,8DAAxB,EAAwF,IAAxF;AACA;AACD;AACF;AACF;AACF;AACF;;AACD,gBAAIuN,kCAAJ,EAAwC;AACtC,kBAAIzB,YAAY,CAACK,uCAAjB,EAA0D;AACxD,qBAAK,IAAI5L,OAAT,IAAmBuL,YAAY,CAACK,uCAAhC,EAAyE;AACvE,sBAAI3L,YAAW,GAAGsL,YAAY,CAACK,uCAAb,CAAqD5L,OAArD,CAAlB;;AACA,sBAAIC,YAAJ,EAAiB;AACf,wBAAIA,YAAW,CAACgN,kCAAZ,IAAkD,CAAChN,YAAW,CAAC4L,iDAAnE,EAAsH;AACpHkB,oCAAc,GAAG9M,YAAW,CAAC8M,cAA7B;AACA;AACD;AACF;AACF;AACF;;AACD,kBAAI,CAACA,cAAL,EAAqB;AACnB,qBAAKxP,YAAL,CAAkBkC,KAAlB,CAAwB,+CAAxB,EAAyE,IAAzE;AACA;AACD;AACF;;AAED,gBAAIyN,+BAA+B,GAAG;AACpCC,sCAAwB,EAAE,IADU;AAEpCC,oDAAsC,EAAE,IAFJ;AAGpCC,oDAAsC,EAAE,IAHJ;AAIpCN,4BAAc,EAAE,IAJoB;AAKpCE,gDAAkC,EAAE,IALA;AAMpCK,mEAAqD,EAAE,IANnB;AAOpCzB,+DAAiD,EAAE;AAPf,aAAtC;;AASA,gBAAIvL,KAAK,CAAC+I,UAAN,CAAiBC,OAArB,EAA8B;AAC5B;AACA,kBAAIyD,cAAJ,EAAoB;AAClB,oBAAI,CAACC,kCAAL,EAAyC,CACvC;AACA;AACD,iBAHD,MAGO,CACL;AACA;AACD,iBAPiB,CAQlB;;;AACAE,+CAA+B,CAACC,wBAAhC,GAA2D,KAA3D;AACAD,+CAA+B,CAACE,sCAAhC,GAAyE,KAAK9P,cAAL,CAAoB6B,CAApB,CAAsBoO,GAAtB,EAAzE;AACAL,+CAA+B,CAACG,sCAAhC,GAAyE,YAAzE;AACAH,+CAA+B,CAACH,cAAhC,GAAiD,KAAKzP,cAAL,CAAoBqO,MAApB,CAA2BoB,cAA3B,EAA2C9K,MAA3C,CAAkD,aAAlD,CAAjD;AACAiL,+CAA+B,CAACD,kCAAhC,GAAqE,KAAK3P,cAAL,CAAoB6B,CAApB,CAAsBoO,GAAtB,EAArE;AACAL,+CAA+B,CAACI,qDAAhC,GAAwF,KAAKhQ,cAAL,CAAoB6B,CAApB,CAAsBoO,GAAtB,EAAxF;AACAL,+CAA+B,CAACrB,iDAAhC,GAAoF,KAAKvO,cAAL,CAAoB6B,CAApB,CAAsBoO,GAAtB,EAApF;;AAEA,oBAAIC,mBAAmB,GAAWC,QAAQ,CAACrK,OAAO,CAAC3B,kBAAT,CAA1C;;AACA,oBAAI+L,mBAAmB,IAAK,6CAAOjC,YAAY,CAACK,uCAApB,EAA6D/H,MAA7D,GAAsE,CAAlG,EAAsG;AACpG,sBAAI6J,OAAO,CAAC,0CAAD,CAAP,IAAuD,KAA3D,EAAkE;AAChEpN,yBAAK,CAAC+I,UAAN,CAAiBC,OAAjB,GAA2B,KAA3B;AACA;AACD;AACF;;AACD,oBAAI,CAACiC,YAAY,CAACT,wBAAlB,EAA4C;AAC1C;AACA,uBAAK6C,kEAAL,CAAwEpC,YAAxE,EAAsF,IAAtF,EAA4F,IAA5F,EAF0C,CAG1C;AACD;;AACD,qBAAKpO,aAAL,CAAmByQ,8DAAnB,CAAkFrC,YAAY,CAAClI,MAA/F,EAAuGkI,YAAY,CAAC3M,GAApH,EAAyH,KAAK1B,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAArK,EAA0KmO,cAA1K,EAA0LS,mBAA1L,EAA+MN,+BAA/M,EACGpO,IADH,CACQ,+DADR,EAEGC,SAFH,CAEa,UAAA8O,OAAO,EAAI;AACpB,sBAAIA,OAAO,IAAIA,OAAO,CAAC,SAAD,CAAtB,EAAmC;AACjC,0BAAI,CAACC,yBAAL,CAA+BD,OAAO,CAAC,MAAD,CAAtC;AACD;AACF,iBANH,EA7BkB,CAoClB;AACD,eArCD,MAqCO;AACL,oBAAI,CAACtC,YAAY,CAACT,wBAAlB,EAA4C,CAC1C;AACA;AACD,iBAHD,MAGO,CACL;AACA;AACD,iBAPI,CAQL;;;AACA,qBAAK6C,kEAAL,CAAwEpC,YAAxE,EAAsF,IAAtF,EAA4F,KAA5F,EATK,CAUL;AACD,eAlD2B,CAmD5B;;AACD,aApDD,MAoDO;AACL;AACA,kBAAIwB,cAAJ,EAAoB;AAClB,oBAAI,CAACC,kCAAL,EAAyC,CACvC;AACA;AACD,iBAHD,MAGO,CACL;AACA;AACD,iBAPiB,CAQlB;;;AACAE,+CAA+B,CAACC,wBAAhC,GAA2D,KAA3D;AACAD,+CAA+B,CAACE,sCAAhC,GAAyE,IAAzE;AACAF,+CAA+B,CAACG,sCAAhC,GAAyE,IAAzE;AACAH,+CAA+B,CAACH,cAAhC,GAAiD,KAAKzP,cAAL,CAAoBqO,MAApB,CAA2BoB,cAA3B,EAA2C9K,MAA3C,CAAkD,aAAlD,CAAjD;AACAiL,+CAA+B,CAACD,kCAAhC,GAAqE,IAArE;AACAC,+CAA+B,CAACI,qDAAhC,GAAwF,IAAxF;AACAJ,+CAA+B,CAACrB,iDAAhC,GAAoF,IAApF;AACAqB,+CAA+B,CAAC,6BAAD,CAA/B,GAAiE,IAAjE;;AACA,oBAAIM,oBAAmB,GAAWC,QAAQ,CAACrK,OAAO,CAAC3B,kBAAT,CAA1C;;AACA,qBAAKtE,aAAL,CAAmByQ,8DAAnB,CAAkFrC,YAAY,CAAClI,MAA/F,EAAuGkI,YAAY,CAAC3M,GAApH,EAAyH,KAAK1B,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAArK,EAA0KmO,cAA1K,EAA0LS,oBAA1L,EAA+MN,+BAA/M,EACGpO,IADH,CACQ,+DADR,EAEGC,SAFH,CAEa,UAAA8O,OAAO,EAAI;AACpB,sBAAIA,OAAO,IAAIA,OAAO,CAAC,SAAD,CAAtB,EAAmC;AACjC,0BAAI,CAACC,yBAAL,CAA+BD,OAAO,CAAC,MAAD,CAAtC;AACD;AACF,iBANH,EAlBkB,CAyBlB;AACD,eA1BD,MA0BO;AACL,oBAAI,CAACtC,YAAY,CAACT,wBAAlB,EAA4C,CAC1C;AACA;AACD,iBAHD,MAGO,CACL;AACA;AACD,iBAPI,CAQL;;;AACA,qBAAK6C,kEAAL,CAAwEpC,YAAxE,EAAsF,KAAtF,EAA6F,KAA7F,EATK,CAUL;AACD,eAvCI,CAwCL;;AACD;AACF;AAlpBuB;AAAA;AAAA,iBAopBxB,4EAAmEA,YAAnE,EAAsFwC,WAAtF,EAA4GC,oBAA5G,EAA2I;AAAA;;AACzI,gBAAIC,mBAAmB,GAAG;AACxBnD,sCAAwB,EAAE,IADF;AAExBlM,iBAAG,EAAE,IAFmB;AAGxBsP,gDAAkC,EAAE,IAHZ;AAIxBC,oDAAsC,EAAE,IAJhB;AAKxBC,oDAAsC,EAAE,IALhB;AAMxBC,6DAA+C,EAAE,IANzB;AAOxBC,qEAAuD,EAAE,IAPjC;AAQxBC,iEAAmD,EAAE,IAR7B;AASxBC,8EAAgE,EAAE,IAT1C;AAUxBC,uDAAyC,EAAE;AAVnB,aAA1B;;AAaA,gBAAIV,WAAJ,EAAiB;AACfE,iCAAmB,CAACnD,wBAApB,GAA+C,IAA/C;AACAmD,iCAAmB,CAACrP,GAApB,GAA0B2M,YAAY,CAAC3M,GAAvC;AACAqP,iCAAmB,CAACC,kCAApB,GAAyD,KAAK5Q,cAAL,CAAoB6B,CAApB,CAAsBoO,GAAtB,EAAzD;AACAU,iCAAmB,CAACE,sCAApB,GAA6D,YAA7D;AACAF,iCAAmB,CAACG,sCAApB,GAA6D,KAAK9Q,cAAL,CAAoB6B,CAApB,CAAsBoO,GAAtB,EAA7D;AACAU,iCAAmB,CAACI,+CAApB,GAAsE,6BAA2BL,oBAAoB,GAAC,2BAAD,GAA6B,EAA5E,CAAtE;AACAC,iCAAmB,CAACQ,yCAApB,GAAgE,IAAhE;AACAR,iCAAmB,CAACK,uDAApB,GAA8E,KAAKhR,cAAL,CAAoB6B,CAApB,CAAsBoO,GAAtB,EAA9E;AACAU,iCAAmB,CAACM,mDAApB,GAA0E,KAAKjR,cAAL,CAAoB6B,CAApB,CAAsBoO,GAAtB,EAA1E;AACAU,iCAAmB,CAACO,gEAApB,GAAuF,6BAA2BR,oBAAoB,GAAC,2BAAD,GAA6B,EAA5E,CAAvF;AACD,aAXD,MAWO;AACLC,iCAAmB,CAACnD,wBAApB,GAA+C,KAA/C;AACAmD,iCAAmB,CAACrP,GAApB,GAA0B2M,YAAY,CAAC3M,GAAvC;AACAqP,iCAAmB,CAACC,kCAApB,GAAyD,KAAK5Q,cAAL,CAAoB6B,CAApB,CAAsBoO,GAAtB,EAAzD;AACAU,iCAAmB,CAACE,sCAApB,GAA6D,YAA7D;AACAF,iCAAmB,CAACG,sCAApB,GAA6D,KAAK9Q,cAAL,CAAoB6B,CAApB,CAAsBoO,GAAtB,EAA7D;AACAU,iCAAmB,CAACI,+CAApB,GAAsE,6BAA2BL,oBAAoB,GAAC,2BAAD,GAA6B,EAA5E,CAAtE;AACAC,iCAAmB,CAACQ,yCAApB,GAAgE,KAAhE;AACAR,iCAAmB,CAACK,uDAApB,GAA8E,KAAKhR,cAAL,CAAoB6B,CAApB,CAAsBoO,GAAtB,EAA9E;AACAU,iCAAmB,CAACM,mDAApB,GAA0E,KAAKjR,cAAL,CAAoB6B,CAApB,CAAsBoO,GAAtB,EAA1E;AACAU,iCAAmB,CAACO,gEAApB,GAAuF,6BAA2BR,oBAAoB,GAAC,2BAAD,GAA6B,EAA5E,CAAvF;AACD;;AACD,iBAAK7Q,aAAL,CAAmBuR,gEAAnB,CAAoFnD,YAAY,CAAClI,MAAjG,EAAyGkI,YAAY,CAAC3M,GAAtH,EAA2H,KAAK1B,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAAvK,EAA4KqP,mBAA5K,EAAiMnP,IAAjM,CAAsM,+DAAtM,EAA+MC,SAA/M,CAAyN,UAAA8O,OAAO,EAAI;AAClO,kBAAIA,OAAO,IAAIA,OAAO,CAAC,SAAD,CAAtB,EAAmC;AACjC,sBAAI,CAACC,yBAAL,CAA+BD,OAAO,CAAC,MAAD,CAAtC;AACD;AACF,aAJD;AAKD;AA9rBuB;AAAA;AAAA,iBAgsBxB,sCAA6BzK,OAA7B,EAA2CmI,YAA3C,EAAkJ;AAAA;;AAAA,gBAApFwB,cAAoF,uEAA3D,IAA2D;AAAA,gBAArDC,kCAAqD,uEAAP,KAAO;;AAEhJ;AACA,gBAAID,cAAJ,EAAoB;AAClB,kBAAIxB,YAAY,CAACK,uCAAjB,EAA0D;AACxD,qBAAK,IAAI5L,MAAT,IAAmBuL,YAAY,CAACK,uCAAhC,EAAyE;AACvE,sBAAI3L,WAAW,GAAGsL,YAAY,CAACK,uCAAb,CAAqD5L,MAArD,CAAlB;;AACA,sBAAIC,WAAJ,EAAiB;AACf,wBAAIA,WAAW,CAACgN,kCAAZ,IAAkD,CAAChN,WAAW,CAAC4L,iDAAnE,EAAsH;AACpH,2BAAKtO,YAAL,CAAkBkC,KAAlB,CAAwB,8DAAxB,EAAwF,IAAxF;AACA;AACD;AACF;AACF;AACF;AACF;;AACD,gBAAIuN,kCAAJ,EAAwC;AACtC,kBAAIzB,YAAY,CAACK,uCAAjB,EAA0D;AACxD,qBAAK,IAAI5L,OAAT,IAAmBuL,YAAY,CAACK,uCAAhC,EAAyE;AACvE,sBAAI3L,YAAW,GAAGsL,YAAY,CAACK,uCAAb,CAAqD5L,OAArD,CAAlB;;AACA,sBAAIC,YAAJ,EAAiB;AACf,wBAAIA,YAAW,CAACgN,kCAAZ,IAAkD,CAAChN,YAAW,CAAC4L,iDAAnE,EAAsH;AACpHkB,oCAAc,GAAG9M,YAAW,CAAC8M,cAA7B;AACA;AACD;AACF;AACF;AACF;;AACD,kBAAI,CAACA,cAAL,EAAqB;AACnB,qBAAKxP,YAAL,CAAkBkC,KAAlB,CAAwB,+CAAxB,EAAyE,IAAzE;AACA;AACD;AACF;;AACD,gBAAM+C,SAAS,GAAG,KAAKpF,MAAL,CAAYqF,IAAZ,CAAiB,4HAAjB,EAA6C;AAE7D+G,sBAAQ,EAAE,OAFmD;AAG7DC,uBAAS,EAAE,OAHkD;AAI7DC,oBAAM,EAAE,MAJqD;AAK7DC,mBAAK,EAAE,MALsD;AAM7DhH,yBAAW,EAAE,IANgD;AAO7D3D,kBAAI,EAAE;AACJoE,uBAAO,EAAEA,OADL;AAEJmI,4BAAY,EAAEA,YAFV;AAGJwB,8BAAc,EAAEA,cAHZ;AAIJC,kDAAkC,EAAEA;AAJhC;AAPuD,aAA7C,CAAlB;AAeAxK,qBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI;AAC1C;AACA,kBAAIA,MAAM,IAAIA,MAAM,CAAC7D,IAAjB,IAAyB6D,MAAM,CAAC7D,IAAP,CAAY4N,iBAAzC,EAA4D;AAC1D,uBAAI,CAACkB,yBAAL,CAA+BjL,MAAM,CAAC7D,IAAP,CAAY4N,iBAA3C;AACD;AACF,aALD;AAMD;AAtvBuB;AAAA;AAAA,iBAwvBxB,mCAA0BtK,UAA1B,EAAsC;AACpC,gBAAIA,UAAJ,EAAgB;AAEd,kBAAIxC,gBAAgB,GAAG,KAAKxC,cAAL,CAAoB6B,CAApB,CAAsBY,OAAtB,CAA8B,KAAKd,eAAnC,EAAoD,KAApD,CAAvB;;AAEAa,8BAAgB,CAACwC,UAAU,CAAC1D,GAAZ,CAAhB,GAAmC0D,UAAnC;AACA,mBAAKrD,eAAL,GAAuB,KAAK3B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6BO,gBAA7B,CAAvB;AAEA,mBAAKtC,WAAL,CAAiB0B,8BAAjB,CAAgD,KAAK5B,cAAL,CAAoB6B,CAApB,CAAsBC,IAAtB,CAA2B,KAAK9B,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,KAAK/B,cAAL,CAAoB6B,CAApB,CAAsBG,YAAtB,CAAmC,KAAKhC,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,KAAK/B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6B,KAAKN,eAAlC,CAA1B,EAA8E,2BAA9E,CAAnC,EAA+I,CAA/I,CAA1B,EAA6K,YAA7K,CAA3B,CAAhD;AACA,mBAAK8L,0DAAL;;AAEA,mBAAKf,IAAL,CAAU6C,aAAV;AACD;AACF;AArwBuB;;AAAA;AAAA,S;;;;gBAhBoB;;gBALrC;;gBAIW;;gBAEX;;gBADA;;gBAEA;;gBALA;;gBAGc;;gBAMd;;gBACA;;gBACA;;gBAd8B;;;;AAsB1B/C,mBAAa,6DALzB,gEAAU;AACThH,gBAAQ,EAAE,UADD;AAETC,gBAAQ,EAAR,uEAFS;;AAAA,OAAV,CAKyB,E,+EAiCF,4D,EACG,wE,EACF,0D,EACI,iF,EACH,6D,EACC,gF,EACR,kE,EACe,sE,EACV,mF,EACL,uD,EACQ,gF,EACT,+D,EA5CQ,GAAb+G,aAAa,CAAb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCAA6E,mBAAmB;AAY9B,qCACUxR,aADV,EAEUO,eAFV,EAGUH,YAHV,EAISD,cAJT,EAKSF,MALT,EAMSF,qBANT,EAOSM,WAPT,EAQSC,MART,EASUuM,IATV,EASiC;AAAA;;AARvB,eAAA7M,aAAA,GAAAA,aAAA;AACA,eAAAO,eAAA,GAAAA,eAAA;AACA,eAAAH,YAAA,GAAAA,YAAA;AACD,eAAAD,cAAA,GAAAA,cAAA;AACA,eAAAF,MAAA,GAAAA,MAAA;AACA,eAAAF,qBAAA,GAAAA,qBAAA;AACA,eAAAM,WAAA,GAAAA,WAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACC,eAAAuM,IAAA,GAAAA,IAAA;AAjBV,eAAAnM,uBAAA,GAAoC,EAApC;AACA,eAAAC,oBAAA,GAA+B,EAA/B;AACA,eAAAC,eAAA,GAA2B,KAA3B;AAEA,eAAAH,aAAA,GAAgB,6DAAhB;AAEA,eAAAyJ,WAAA,GAAsB,QAAtB;AACO,eAAAlI,CAAA,GAAI,oCAAJ;AAYL,cAAI6E,QAAQ,GAAGC,OAAO,CAACC,KAAvB;;AACA,cAAIF,QAAJ,EAAc;AACZ,iBAAKqD,WAAL,GAAmBrD,QAAQ,CAAC,aAAD,CAA3B;AACA,mBAAOC,OAAO,CAACC,KAAR,CAAc,aAAd,CAAP;AACD;;AACD,cAAI,CAAC,KAAKmD,WAAV,EAAuB;AACrB,iBAAKA,WAAL,GAAmB,QAAnB;AACD;;AACD,eAAKuH,kCAAL,CAAwC,KAAKvH,WAA7C;AACA,eAAKwH,uCAAL;AACD;;AAjC6B;AAAA;AAAA,iBAmC9B,4CAAmCxH,WAAnC,EAAgD;AAC9C,oBAAQA,WAAR;AACE,mBAAK,UAAL;AACE,qBAAKxJ,uBAAL,GAA+B,CAAC,8DAAc6J,OAAf,EAAwB,8DAAcC,mBAAtC,CAA/B;AACA,qBAAK7J,oBAAL,GAA4B,KAAKZ,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAAxE;AACA,qBAAKb,eAAL,GAAuB,IAAvB;AACA;;AACF,mBAAK,MAAL;AACE,qBAAKF,uBAAL,GAA+B,CAAC,8DAAc8J,mBAAf,CAA/B;AACA,qBAAK7J,oBAAL,GAA4B,KAAKZ,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAAxE;AACA,qBAAKb,eAAL,GAAuB,KAAvB;AACA;;AACF,mBAAK,UAAL;AACE,qBAAKF,uBAAL,GAA+B,CAAC,8DAAciR,QAAf,EAAyB,8DAAclG,QAAvC,EAAiD,8DAAcC,eAA/D,EAAgF,8DAAcE,SAA9F,EAAyG,8DAAcD,yBAAvH,CAA/B;AACA,qBAAKhL,oBAAL,GAA4B,IAA5B;AACA,qBAAKC,eAAL,GAAuB,KAAvB;AACA;;AACF,mBAAK,QAAL;AACE,qBAAKF,uBAAL,GAA+B,CAAC,8DAAcgB,QAAf,CAA/B;AACA,qBAAKf,oBAAL,GAA4B,IAA5B;AACA,qBAAKC,eAAL,GAAuB,KAAvB;AACA;;AACF,mBAAK,MAAL;AACE,qBAAKF,uBAAL,GAA+B,CAAC,8DAAcmL,SAAf,CAA/B;AACA,qBAAKlL,oBAAL,GAA4B,IAA5B;AACA,qBAAKC,eAAL,GAAuB,KAAvB;AACA;;AACF,mBAAK,QAAL;AACE,qBAAKF,uBAAL,GAA+B,CAAC,8DAAcgL,eAAf,EAAgC,8DAAcE,SAA9C,EAAyD,8DAAcgG,MAAvE,CAA/B;AACA,qBAAKjR,oBAAL,GAA4B,IAA5B;AACA,qBAAKC,eAAL,GAAuB,KAAvB;AACA;;AACF,mBAAK,SAAL;AACE,qBAAKF,uBAAL,GAA+B,CAAC,8DAAc+K,QAAf,EAAyB,8DAAcE,yBAAvC,EAAkE,8DAAckG,OAAhF,CAA/B;AACA,qBAAKlR,oBAAL,GAA4B,IAA5B;AACA,qBAAKC,eAAL,GAAuB,KAAvB;AACA;AAnCJ;AAqCD;AAzE6B;AAAA;AAAA,iBA2E9B,oBAAW;AAAA;;AACT,aAAC,UAAUkR,CAAV,EAAa;AACZ,kBAAI;AACFA,iBAAC,CAAC,eAAD,CAAD,CAAmBC,OAAnB;AACD,eAFD,CAEE,OAAOtP,EAAP,EAAW,CACX;AACD;AACF,aAND,EAMGuP,MANH;;AAQA,iBAAKzR,eAAL,CAAqBgB,yBAArB,CAA+C,KAAKxB,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA3F,EAAgG,IAAhG,EAAsG,IAAtG,EAA4G,IAA5G,EAAkH,IAAlH,EAAwH,IAAxH,EACGE,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN;AACA,kBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B;AACA,oBAAIc,gBAAgB,GAAG,OAAI,CAACxC,cAAL,CAAoB6B,CAApB,CAAsBY,OAAtB,CAA8B,OAAI,CAACd,eAAnC,EAAoD,KAApD,CAAvB;;AACA,qBAAK,IAAIe,MAAT,IAAmBhB,IAAI,CAAC,MAAD,CAAvB,EAAiC;AAC/B,sBAAIiB,WAAW,GAAGjB,IAAI,CAAC,MAAD,CAAJ,CAAagB,MAAb,CAAlB;AACAF,kCAAgB,CAACG,WAAW,CAACrB,GAAb,CAAhB,GAAoCqB,WAApC;AACD;;AACD,uBAAI,CAAChB,eAAL,GAAuB,OAAI,CAAC3B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6BO,gBAA7B,CAAvB;;AACA,uBAAI,CAACtC,WAAL,CAAiB0B,8BAAjB,CAAgD,OAAI,CAAC5B,cAAL,CAAoB6B,CAApB,CAAsBC,IAAtB,CAA2B,OAAI,CAAC9B,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBG,YAAtB,CAAmC,OAAI,CAAChC,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6B,OAAI,CAACN,eAAlC,CAA1B,EAA8E,2BAA9E,CAAnC,EAA+I,CAA/I,CAA1B,EAA6K,UAA7K,CAA3B,CAAhD,EAR2B,CAS3B;;;AACA,uBAAI,CAACtB,OAAL,GAAe,KAAf,CAV2B,CAW3B;AACD,eAZD,MAYO;AACL;AACA;AACA,uBAAI,CAACA,OAAL,GAAe,KAAf;AACD;AACF,aAtBL,EAuBI,UAAA8B,KAAK,EAAI;AACP,kBAAIC,aAAa,GAAG,EAApB;;AACA,kBAAI;AACF,oBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,+BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,iBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,+BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,iBAFM,MAEA;AACLD,+BAAa,GAAGD,KAAhB;AACD;AACF,eARD,CAQE,OAAOG,EAAP,EAAW,CAAG,CAVT,CAWP;;;AACA,qBAAI,CAACjC,OAAL,GAAe,KAAf;AACD,aApCL;AAsCA,iBAAKD,eAAL,CAAqBmC,mCAArB,GACGd,SADH,CAEI,UAAAC,IAAI,EAAI;AACN,kBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B,oBAAIc,gBAAgB,GAAG,OAAI,CAACxC,cAAL,CAAoB6B,CAApB,CAAsBY,OAAtB,CAA8B,OAAI,CAACd,eAAnC,EAAoD,KAApD,CAAvB;;AACA,qBAAK,IAAIe,MAAT,IAAmBhB,IAAI,CAAC,MAAD,CAAvB,EAAiC;AAC/B,sBAAIiB,WAAW,GAAGjB,IAAI,CAAC,MAAD,CAAJ,CAAagB,MAAb,CAAlB;AACAF,kCAAgB,CAACG,WAAW,CAACrB,GAAb,CAAhB,GAAoCqB,WAApC;AACD;;AACD,uBAAI,CAAChB,eAAL,GAAuB,OAAI,CAAC3B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6BO,gBAA7B,CAAvB;;AACA,uBAAI,CAACtC,WAAL,CAAiB0B,8BAAjB,CAAgD,OAAI,CAAC5B,cAAL,CAAoB6B,CAApB,CAAsBC,IAAtB,CAA2B,OAAI,CAAC9B,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBG,YAAtB,CAAmC,OAAI,CAAChC,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6B,OAAI,CAACN,eAAlC,CAA1B,EAA8E,2BAA9E,CAAnC,EAA+I,CAA/I,CAA1B,EAA6K,UAA7K,CAA3B,CAAhD;;AACA,uBAAI,CAACtB,OAAL,GAAe,KAAf;AACD,eATD,MASO;AACL,uBAAI,CAACA,OAAL,GAAe,KAAf;AACD;AACF,aAfL,EAgBI,UAAA8B,KAAK,EAAI;AACP,qBAAI,CAAC9B,OAAL,GAAe,KAAf;AACD,aAlBL;AAoBA,iBAAKR,aAAL,CAAmBiS,oBAAnB,GAA0CrQ,SAA1C,CAAoD,UAAAsC,gBAAgB,EAAI;AACtE,kBAAIA,gBAAJ,EAAsB;AACpB,oBAAIrC,IAAI,GAAG;AAAE,0BAAQqC;AAAV,iBAAX;;AACA,oBAAIvB,gBAAgB,GAAG,OAAI,CAACxC,cAAL,CAAoB6B,CAApB,CAAsBY,OAAtB,CAA8B,OAAI,CAACd,eAAnC,EAAoD,KAApD,CAAvB;;AACA,qBAAK,IAAIe,MAAT,IAAmBhB,IAAI,CAAC,MAAD,CAAvB,EAAiC;AAC/B,sBAAIiB,WAAW,GAAGjB,IAAI,CAAC,MAAD,CAAJ,CAAagB,MAAb,CAAlB;AACAF,kCAAgB,CAACG,WAAW,CAACrB,GAAb,CAAhB,GAAoCqB,WAApC;AACD;;AACD,uBAAI,CAAChB,eAAL,GAAuB,OAAI,CAAC3B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6BO,gBAA7B,CAAvB;;AAEA,uBAAI,CAACtC,WAAL,CAAiB0B,8BAAjB,CAAgD,OAAI,CAAC5B,cAAL,CAAoB6B,CAApB,CAAsBC,IAAtB,CAA2B,OAAI,CAAC9B,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBG,YAAtB,CAAmC,OAAI,CAAChC,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6B,OAAI,CAACN,eAAlC,CAA1B,EAA8E,2BAA9E,CAAnC,EAA+I,CAA/I,CAA1B,EAA6K,UAA7K,CAA3B,CAAhD;AAED,eAXD,MAWO,CACL;AACD;AACF,aAfD;AAgBA,gBAAI2L,SAAS,GAAG;AACdnD,uBAAS,EAAE,KAAKvK,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AADzC,aAAhB;AAGA,iBAAKzB,aAAL,CAAmBkS,oBAAnB,CAAwC,KAAxC,EAA+CzE,SAA/C,EAA0D,IAA1D;AACD;AAlK6B;AAAA;AAAA,iBAoK9B,8BAAqBtI,UAArB,EAAiC;AAAA;;AAC/B,gBAAI5B,qBAAqB,GAAG,IAA5B;;AACA,oBAAQ,KAAKxD,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAApD;AACE,mBAAK,qDAAKC,QAAV;AACEF,qCAAqB,GAAG,kDAAY4B,UAAZ,CAAxB;AACA5B,qCAAqB,CAACI,yBAAtB,GAAkD,+CAASwB,UAAU,CAACxB,yBAApB,EAA+C;AAAE,gCAAc,KAAK5D,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAA5D,iBAA/C,CAAlD;AACA;;AACF;AACE8B,qCAAqB,GAAG,kDAAY4B,UAAZ,CAAxB;AACA;AAPJ,aAF+B,CAY/B;;;AACA,gBAAME,SAAS,GAAG,KAAKpF,MAAL,CAAYqF,IAAZ,CAAiB,+EAAjB,EAA6C;AAC7DC,2BAAa,EAAE,8BAD8C;AAE7D6J,wBAAU,EAAE,0BAFiD;AAG7D/C,sBAAQ,EAAE,OAHmD;AAI7DC,uBAAS,EAAE,OAJkD;AAK7DC,oBAAM,EAAE,MALqD;AAM7DC,mBAAK,EAAE,MANsD;AAO7D3K,kBAAI,EAAE;AACJsD,0BAAU,EAAE5B,qBADR;AAEJS,0BAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAFpD;AAPuD,aAA7C,CAAlB;AAaA4D,qBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI;AAC1C,kBAAIA,MAAJ,EAAY;AACV,oBAAIA,MAAM,CAAC7D,IAAX,EAAiB;AACf;AACA,sBAAI6D,MAAM,CAAC7D,IAAP,CAAYuI,MAAZ,IAAsB1E,MAAM,CAAC7D,IAAP,CAAYuD,YAAtC,EAAoD;AAClD,wBAAIiK,YAAY,GAAG3J,MAAM,CAAC7D,IAAP,CAAYuD,YAAZ,CAAyB3D,GAA5C;AACA,wBAAI6N,OAAO,GAAG5J,MAAM,CAAC7D,IAAP,CAAYuI,MAA1B,CAFkD,CAGlD;AACA;;AACA,wBAAImF,iCAAiC,GAAG,KAAxC;;AACA,4BAAQD,OAAR;AACE,2BAAK,8DAAc5N,QAAnB;AACE;AACA,+BAAI,CAAC8N,uBAAL,CAA6BrK,UAA7B,EAAyCkK,YAAzC;;AACA;;AACF,2BAAK,8DAAc5D,QAAnB;AACE,+BAAI,CAACzL,aAAL,CAAmBmS,2BAAnB,CAA+C,IAA/C,EAAqDzM,MAAM,CAAC7D,IAAP,CAAYuD,YAAZ,CAAyBc,MAA9E,EAAsFmJ,YAAtF,EAAoGC,OAApG,EAA6G,OAAI,CAACvP,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAAzJ,EAA8J,IAA9J;;AACA;AAPJ;AASD;;AACD,sBAAIiE,MAAM,CAAC7D,IAAP,CAAY4N,iBAAhB,EAAmC;AAEjC,wBAAI9M,gBAAgB,GAAG,OAAI,CAACxC,cAAL,CAAoB6B,CAApB,CAAsBY,OAAtB,CAA8B,OAAI,CAACd,eAAnC,EAAoD,KAApD,CAAvB;;AAEAa,oCAAgB,CAAC+C,MAAM,CAAC7D,IAAP,CAAY4N,iBAAZ,CAA8BhO,GAA/B,CAAhB,GAAsDiE,MAAM,CAAC7D,IAAP,CAAY4N,iBAAlE;AAEA,2BAAI,CAAC3N,eAAL,GAAuB,OAAI,CAAC3B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6BO,gBAA7B,CAAvB;;AACA,2BAAI,CAACtC,WAAL,CAAiB0B,8BAAjB,CAAgD,OAAI,CAAC5B,cAAL,CAAoB6B,CAApB,CAAsBC,IAAtB,CAA2B,OAAI,CAAC9B,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBG,YAAtB,CAAmC,OAAI,CAAChC,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6B,OAAI,CAACN,eAAlC,CAA1B,EAA8E,2BAA9E,CAAnC,EAA+I,CAA/I,CAA1B,EAA6K,UAA7K,CAA3B,CAAhD;;AAEA,2BAAI,CAAC+K,IAAL,CAAU6C,aAAV;AACD;AACF;AACF;AACF,aAjCD;AAkCD;AAhO6B;AAAA;AAAA,iBAkO9B,iCAAwBvK,UAAxB,EAAoCgB,WAApC,EAAiD;AAC/C,gBAAID,MAAM,GAAGf,UAAU,CAAC1D,GAAxB;AAEA,gBAAI8B,qBAAqB,GAAG,IAA5B;;AACA,oBAAQ,KAAKxD,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAApD;AACE,mBAAK,qDAAKC,QAAV;AACEF,qCAAqB,GAAG,kDAAY4B,UAAZ,CAAxB;AACA5B,qCAAqB,CAACI,yBAAtB,GAAkD,+CAASwB,UAAU,CAACxB,yBAApB,EAA+C;AAAE,gCAAc,KAAK5D,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAA5D,iBAA/C,CAAlD;AACA;;AACF;AACE8B,qCAAqB,GAAG,kDAAY4B,UAAZ,CAAxB;AACA;AAPJ;;AASA,gBAAI,CAACgB,WAAL,EAAkB;AAChBA,yBAAW,GAAG5C,qBAAqB,CAACI,yBAAtB,CAAgD,CAAhD,EAAmDlC,GAAjE;AACD;;AACD,iBAAKnB,MAAL,CAAYqP,QAAZ,CAAqB,CAAC,sBAAD,CAArB,EAA+C;AAAE5I,mBAAK,EAAE;AAAEb,sBAAM,EAAEA,MAAV;AAAkBC,2BAAW,EAAEA;AAA/B;AAAT,aAA/C;AACD;AAnP6B;AAAA;AAAA,iBAqP9B,8BAAqBhB,UAArB,EAAiCiN,mBAAjC,EAAsD;AACpD,gBAAIjN,UAAU,IAAIA,UAAU,CAACxB,yBAA7B,EAAwD;AACtD,kBAAIyO,mBAAJ,EAAyB;AACvB,oBAAIjN,UAAU,CAACmF,SAAX,IAAwB,KAAKvK,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAAxE,EAA6E;AAC3E,sBAAI,+CAAS0D,UAAU,CAACxB,yBAApB,EAA+C;AAAE,kCAAc,KAAK5D,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAA5D,mBAA/C,EAAkHiF,MAAlH,GAA2H,CAA/H,EAAkI;AAChI,2BAAO,IAAP;AACD;AACF;AACF;AACF;;AACD,mBAAO,KAAP;AACD;AAhQ6B;AAAA;AAAA,iBAkQ9B,kCAAyBtB,YAAzB,EAAuC;AACrC,gBAAIiN,cAAc,GAAG,8DAAc9H,OAAnC;;AACA,gBAAI;AACF,kBAAKnF,YAAY,CAACgF,MAAb,IAAuB,8DAAcG,OAArC,IAAgDnF,YAAY,CAACgF,MAAb,IAAuB,SAAvE,IAAoFhF,YAAY,CAACgF,MAAb,IAAuB,EAA3G,IAAiHhF,YAAY,CAACgF,MAAb,IAAuB,IAAxI,IAAgJ,OAAOhF,YAAY,CAACgF,MAApB,IAA8B,WAAnL,EAAiM;AAC/LiI,8BAAc,GAAG,8DAAc9H,OAA/B;AACD,eAFD,MAEO;AACL8H,8BAAc,GAAGjN,YAAY,CAACgF,MAA9B;AACD;AACF,aAND,CAME,OAAO3H,EAAP,EAAW,CAAG;;AAChB,mBAAO4P,cAAP;AACD;AA5Q6B;AAAA;AAAA,iBA8Q9B,kCAAyBlN,UAAzB,EAAqCC,YAArC,EAAmD;AAAA;;AACjD;AACA,gBAAMC,SAAS,GAAG,KAAKpF,MAAL,CAAYqF,IAAZ,CAAiB,sEAAjB,EAAoC;AACpD+G,sBAAQ,EAAE,OAD0C;AAEpDC,uBAAS,EAAE,OAFyC;AAGpDC,oBAAM,EAAE,MAH4C;AAIpDC,mBAAK,EAAE,MAJ6C;AAKpD3K,kBAAI,EAAE;AACJsD,0BAAU,EAAEA,UADR;AAEJnB,0BAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAFpD;AAGJ2D,4BAAY,EAAEA;AAHV;AAL8C,aAApC,CAAlB;AAYAC,qBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI;AAC1C,kBAAIyE,oBAAoB,GAAG,IAA3B;;AACA,kBAAIzE,MAAJ,EAAY;AACV,oBAAIA,MAAM,CAAC7D,IAAX,EAAiB;AACfsI,sCAAoB,GAAGzE,MAAM,CAAC7D,IAAP,CAAYuD,YAAnC;;AACA,sBAAI+E,oBAAJ,EAA0B;AACxB,wBAAI,CAACA,oBAAoB,CAAC1I,GAA1B,EAA+B;AAC7B0I,0CAAoB,CAAC1I,GAArB,GAA2B0I,oBAAoB,CAACjE,MAArB,GAA8B,IAA9B,GAAqCiE,oBAAoB,CAACnG,UAArF;AACD;;AACD,wBAAIsO,OAAO,GAAGnI,oBAAoB,CAACjE,MAAnC;AACA,wBAAIqM,aAAa,GAAGpI,oBAAoB,CAAC/B,UAAzC;AACA,wBAAIiH,YAAY,GAAGlF,oBAAoB,CAAC1I,GAAxC;AACA,wBAAIsC,WAAW,GAAGoG,oBAAoB,CAACnG,UAAvC;AACA,wBAAIwO,cAAc,GAAG9M,MAAM,CAAC7D,IAAP,CAAY4Q,aAAjC;AACA,wBAAInD,OAAO,GAAG5J,MAAM,CAAC7D,IAAP,CAAYuI,MAA1B;AACAD,wCAAoB,CAACC,MAArB,GAA8B1E,MAAM,CAAC7D,IAAP,CAAYuI,MAAZ,IAAsB,8DAAcG,OAAlE;;AACA,2BAAI,CAACvK,aAAL,CAAmByK,4BAAnB,CAAgDN,oBAAoB,CAACjE,MAArE;;AACA,4BAAQiE,oBAAoB,CAACC,MAA7B;AACE,2BAAK,8DAAcG,OAAnB;AACEJ,4CAAoB,CAACG,SAArB,GAAiC,OAAI,CAACvK,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA7E;;AACA,+BAAI,CAACzB,aAAL,CAAmB0K,eAAnB,CAAmC,IAAnC,EAAyCP,oBAAzC;;AACA;;AACF;AACE,+BAAI,CAACnK,aAAL,CAAmB2K,kBAAnB,CAAsC,IAAtC,EAA4CR,oBAA5C,EAAkE,OAAI,CAACpK,qBAAL,CAA2ByB,gBAA7F;;AACA;AAPJ;;AASA,4BAAQ2I,oBAAoB,CAACC,MAA7B;AACE,2BAAK,8DAAc1I,QAAnB;AACE,+BAAI,CAACtB,YAAL,CAAkB6K,OAAlB,CAA0B,gEAA1B,EAA4F,IAA5F;;AACA;;AACF,2BAAK,8DAAcV,OAAnB;AACE,+BAAI,CAACnK,YAAL,CAAkB6K,OAAlB,CAA0B,6DAA1B,EAAyF,IAAzF;;AACA;;AACF,2BAAK,8DAAcQ,QAAnB;AACE,+BAAI,CAACzL,aAAL,CAAmBmS,2BAAnB,CAA+C,IAA/C,EAAqDG,OAArD,EAA8DjD,YAA9D,EAA4EC,OAA5E,EAAqF,OAAI,CAACvP,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAAjI,EAAsI+Q,cAAtI;;AACA;;AACF,2BAAK,8DAAc9G,eAAnB;AACA,2BAAK,8DAAcC,yBAAnB;AACA,2BAAK,8DAAcC,SAAnB;AACE,+BAAI,CAACxL,YAAL,CAAkB6K,OAAlB,CAA0B,gEAA1B,EAA4F,IAA5F;;AACA;;AACF,2BAAK,8DAAcY,SAAnB;AACE,+BAAI,CAACzL,YAAL,CAAkB6K,OAAlB,CAA0B,iEAA1B,EAA6F,IAA7F;;AACA;;AACF,2BAAK,8DAAca,MAAnB;AACA,2BAAK,8DAAcC,OAAnB;AACA,2BAAK,8DAAcC,gBAAnB;AACA,2BAAK,8DAAcxB,mBAAnB;AACE,+BAAI,CAACpK,YAAL,CAAkB6K,OAAlB,CAA0B,+DAA1B,EAA2F,IAA3F;;AACA;;AACF;AACE;AAzBJ;AA2BD;AACF;AACF,eAvDyC,CAwD1C;;AACD,aAzDD;AA0DD;AAtV6B;AAAA;AAAA,iBAwV9B,mDAA0C;AAAA;;AACxC,iBAAK5K,WAAL,CAAiBqR,uCAAjB,CAAyD,KAAK3R,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAArG,EAA0G,KAAK1B,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAAtJ,EACG7B,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN;AACA,kBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B,uBAAI,CAAC9B,qBAAL,CAA2B2S,mCAA3B,GAAiE7Q,IAAI,CAAC,MAAD,CAArE;AACD,eAFD,MAEO,CACN;AACF,aATL,EAUI,UAAAS,KAAK,EAAI;AACP,kBAAIC,aAAa,GAAG,EAApB;;AACA,kBAAI;AACF,oBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,+BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,iBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,+BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,iBAFM,MAEA;AACLD,+BAAa,GAAGD,KAAhB;AACD;AACF,eARD,CAQE,OAAOG,EAAP,EAAW,CAAG;AAEjB,aAtBL;AAuBD;AAhX6B;AAAA;AAAA,iBAiX9B,sBAAa2J,OAAb,EAAsB;AAAA;;AACpB;AACA,iBAAK/L,WAAL,CAAiBmH,WAAjB,CAA6B4E,OAAO,CAAC3K,GAArC,EACGE,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN,kBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B;AACA,oBAAMwD,SAAS,GAAG,OAAI,CAACpF,MAAL,CAAYqF,IAAZ,CAAiB,8GAAjB,EAAyC;AAEzD+G,0BAAQ,EAAE,OAF+C;AAGzDC,2BAAS,EAAE,OAH8C;AAIzDC,wBAAM,EAAE,MAJiD;AAKzDC,uBAAK,EAAE,MALkD;AAMzDhH,6BAAW,EAAE,IAN4C;AAOzD3D,sBAAI,EAAE;AACJuK,2BAAO,EAAE,kDAAYvK,IAAI,CAAC,MAAD,CAAhB,CADL;AAEJ4K,8BAAU,EAAE;AAFR;AAPmD,iBAAzC,CAAlB;;AAaApH,yBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI,CAC1C;AACD,iBAFD;AAID,eAnBD,MAmBO,CAEN;AACF,aA1BL,EA2BI,UAAApD,KAAK,EAAI;AACP,kBAAIC,aAAa,GAAG,EAApB;;AACA,kBAAI;AACF,oBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,+BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,iBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,+BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,iBAFM,MAEA;AACLD,+BAAa,GAAGD,KAAhB;AACD;AACF,eARD,CAQE,OAAOG,EAAP,EAAW,CAAG;;AAChB,qBAAI,CAACrC,YAAL,CAAkBkC,KAAlB,CAAwBC,aAAxB;AAED,aAxCL,EAFoB,CA2CpB;AAED;AA9Z6B;AAAA;AAAA,iBA+Z9B,2BAAkBoQ,SAAlB,EAA6B;AAAA;;AAC3B,iBAAKpS,eAAL,CAAqBqS,iBAArB,CAAuCD,SAAvC,EAAkD,KAAK5S,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA9F,EACGE,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAiR,kBAAkB,EAAI;AACpB,kBAAIA,kBAAkB,IAAIA,kBAAkB,CAAC,SAAD,CAA5C,EAAyD;AACvD;AACA,oBAAIA,kBAAJ,EAAwB;AACtB,sBAAIA,kBAAkB,CAAC,SAAD,CAAtB,EAAmC;AACjC,wBAAIC,sBAAsB,GAAG,gDAAU,OAAI,CAAChR,eAAf,EAAgC,KAAhC,CAA7B;;AACA,wBAAI+Q,kBAAkB,CAAC,MAAD,CAAlB,CAA2BE,SAA/B,EAA0C;AACxC,6BAAOD,sBAAsB,CAACD,kBAAkB,CAAC,MAAD,CAAlB,CAA2BpR,GAA5B,CAA7B;;AACA,6BAAI,CAACrB,YAAL,CAAkB6K,OAAlB,CAA0B,sBAA1B;AACD,qBAHD,MAGO;AACL6H,4CAAsB,CAACD,kBAAkB,CAAC,MAAD,CAAlB,CAA2BpR,GAA5B,CAAtB,GAAyDoR,kBAAkB,CAAC,MAAD,CAA3E;;AACA,6BAAI,CAACzS,YAAL,CAAkB6K,OAAlB,CAA0B,sBAA1B;AACD;;AACD,2BAAI,CAACnJ,eAAL,GAAuB,+CAASgR,sBAAT,CAAvB;;AACA,2BAAI,CAACzS,WAAL,CAAiB0B,8BAAjB,CAAgD,OAAI,CAAC5B,cAAL,CAAoB6B,CAApB,CAAsBC,IAAtB,CAA2B,OAAI,CAAC9B,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBG,YAAtB,CAAmC,OAAI,CAAChC,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6B,OAAI,CAACN,eAAlC,CAA1B,EAA8E,2BAA9E,CAAnC,EAA+I,CAA/I,CAA1B,EAA6K,UAA7K,CAA3B,CAAhD;;AAEA,2BAAI,CAAC+K,IAAL,CAAU6C,aAAV;AACD;AACF;;AACD,uBAAI,CAAClP,OAAL,GAAe,KAAf;AACD,eAnBD,MAmBO;AACL;AACA,uBAAI,CAACJ,YAAL,CAAkBkC,KAAlB,CAAwBuQ,kBAAkB,CAAC,SAAD,CAA1C;;AACA,uBAAI,CAACrS,OAAL,GAAe,KAAf;AACD;AACF,aA5BL,EA6BI,UAAA8B,KAAK,EAAI;AACP,kBAAIC,aAAa,GAAG,EAApB;;AACA,kBAAI;AACF,oBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,+BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,iBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,+BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,iBAFM,MAEA;AACLD,+BAAa,GAAGD,KAAhB;AACD;AACF,eARD,CAQE,OAAOG,EAAP,EAAW,CAAG;;AAChB,qBAAI,CAACrC,YAAL,CAAkBkC,KAAlB,CAAwBC,aAAxB;;AACA,qBAAI,CAAC/B,OAAL,GAAe,KAAf;AACD,aA1CL;AA2CD;AA3c6B;;AAAA;AAAA,S;;;;gBArBvB;;gBACA;;gBAEuB;;gBACvB;;gBAFA;;gBACA;;gBAAqC;;gBAMrC;;gBAVmB;;;;AAsBfgR,yBAAmB,6DAN/B,gEAAU;AACT7L,gBAAQ,EAAE,iBADD;AAETC,gBAAQ,EAAR,8EAFS;;AAAA,OAAV,CAM+B,E,+EAaL,wE,EACE,iF,EACH,6D,EACC,+E,EACR,kE,EACe,sE,EACV,4D,EACL,uD,EACD,+D,EArBc,GAAnB4L,mBAAmB,CAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCfAwB,iBAAiB;AAE5B,qCAAc;AAAA;AAAG;;AAFW;AAAA;AAAA,iBAI5B,oBAAW,CACV;AAL2B;;AAAA;AAAA,S;;;;;;AAAjBA,uBAAiB,6DAL7B,gEAAU;AACTrN,gBAAQ,EAAE,cADD;AAETC,gBAAQ,EAAR,2EAFS;;AAAA,OAAV,CAK6B,E,iFAAA,GAAjBoN,iBAAiB,CAAjB;;;;;;;;;;;;;;;;ACPb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkCf,UAAMC,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE,qEAFb;AAGEC,gBAAQ,EAAE,CACR;AAACC,qBAAW,EAAE,CAAC,0EAAD,CAAd;AAA4BH,cAAI,EAAE,EAAlC;AAAsCC,mBAAS,EAAE;AAAjD,SADQ,EAER;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,SAAnC;AAA8CC,mBAAS,EAAE;AAAzD,SAFQ,EAGR;AAACE,qBAAW,EAAE,CAAC,0EAAD,CAAd;AAA4BH,cAAI,EAAE,QAAlC;AAA4CC,mBAAS,EAAE;AAAvD,SAHQ,EAIR;AAACE,qBAAW,EAAE,CAAC,0EAAD,CAAd;AAA4BH,cAAI,EAAE,QAAlC;AAA4CC,mBAAS,EAAE;AAAvD,SAJQ,EAKR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,aAAnC;AAAkDC,mBAAS,EAAE;AAA7D,SALQ,EAMR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,UAAnC;AAA+CC,mBAAS,EAAE;AAA1D,SANQ,EAOR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,UAAnC;AAA+CC,mBAAS,EAAE;AAA1D,SAPQ,EAQR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,QAAnC;AAA6CC,mBAAS,EAAE;AAAxD,SARQ,EASR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,MAAnC;AAA2CC,mBAAS,EAAE;AAAtD,SATQ,EAUR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,SAAnC;AAA8CC,mBAAS,EAAE;AAAzD,SAVQ,EAWR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,iBAAnC;AAAsDC,mBAAS,EAAE;AAAjE,SAXQ,EAYR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,gBAAnC;AAAqDC,mBAAS,EAAE;AAAhE,SAZQ,EAaR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,SAAnC;AAA8CC,mBAAS,EAAE;AAAzD,SAbQ,EAcR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,EAAa,kFAAb,EAAqC,iGAArC,CAAf;AAAoFH,cAAI,EAAE,aAA1F;AAAyGC,mBAAS,EAAE;AAApH,SAdQ,EAeR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,EAAa,kFAAb,EAAqC,iGAArC,CAAf;AAAoFH,cAAI,EAAE,aAA1F;AAAyGC,mBAAS,EAAE;AAApH,SAfQ,EAgBR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,YAAnC;AAAiDC,mBAAS,EAAE;AAA5D,SAhBQ,EAiBR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,iBAAnC;AAAsDC,mBAAS,EAAE;AAAjE,SAjBQ,EAkBR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,cAAnC;AAAmDC,mBAAS,EAAE;AAA9D,SAlBQ,EAmBR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,kBAAnC;AAAuDC,mBAAS,EAAE;AAAlE,SAnBQ,EAoBR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,cAAnC;AAAmDC,mBAAS,EAAE;AAA9D,SApBQ,EAqBR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,UAAnC;AAA+CC,mBAAS,EAAE;AAA1D,SArBQ,EAsBR;AAAEE,qBAAW,EAAE,CAAC,0EAAD,CAAf;AAA6BH,cAAI,EAAE,YAAnC;AAAiDC,mBAAS,EAAE;AAA5D,SAtBQ;AAHZ,OADqB,EA6BrB;AACED,YAAI,EAAE,IADR;AAEEI,kBAAU,EAAE,EAFd;AAGEC,iBAAS,EAAE;AAHb,OA7BqB,CAAvB;;UA4CaC,qBAAqB;AAAA;AAAA,O;;AAArBA,2BAAqB,6DATjC,+DAAS;AAER5T,eAAO,EAAE,CAAC,6DAAa6T,QAAb,CAAsBR,MAAtB,CAAD,CAFD;AAGRS,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,kEAHO;AAHD,OAAT,CASiC,GAArBF,qBAAqB,CAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UC7DAG,iBAAiB;AA0B5B,mCAEU3N,WAFV,EAGUjG,qBAHV,EAIUQ,eAJV,EAKUH,YALV,EAMU2F,gBANV,EAOS5F,cAPT,EAQUyT,KARV,EAQ+B;AAAA;;AAAA;;AANrB,eAAA5N,WAAA,GAAAA,WAAA;AACA,eAAAjG,qBAAA,GAAAA,qBAAA;AACA,eAAAQ,eAAA,GAAAA,eAAA;AACA,eAAAH,YAAA,GAAAA,YAAA;AACA,eAAA2F,gBAAA,GAAAA,gBAAA;AACD,eAAA5F,cAAA,GAAAA,cAAA;AACC,eAAAyT,KAAA,GAAAA,KAAA;AAjCH,eAAA5R,CAAA,GAAI,oCAAJ,CAiCwB,CA9B/B;AACA;;AACA,eAAA6R,wBAAA,GAAmC,CAAnC;AACA,eAAArT,OAAA,GAAU,KAAV;AACA,eAAA4F,SAAA,GAAY,KAAZ;AAIA,eAAA0N,QAAA,GAAiB,IAAjB;AACA,eAAAC,UAAA,GAAkB,IAAlB;AACA,eAAAC,kBAAA,GAA6B,IAA7B;AACA,eAAAC,gBAAA,GAA2B,IAA3B;AAGA,eAAA/K,8BAAA,GAAiC,CAAjC;AACA,eAAAzI,aAAA,GAAgB,6DAAhB;AACA,eAAAyT,YAAA,GAAe,4DAAf;AACA,eAAAC,mBAAA,GAA2B,IAA3B;AACA,eAAAC,kBAAA,GAA0B,EAA1B;AACA,eAAAC,WAAA,GAAmB,IAAnB;AACA,eAAAC,mBAAA,GAA8B,CAA9B;AACA,eAAAC,mBAAA,GAA8B,CAA9B;AAmVA,eAAAnE,GAAA,GAAM,IAAIoE,IAAJ,EAAN;AACA,eAAAC,IAAA,GAAO,KAAKrE,GAAL,CAASsE,WAAT,EAAP;AACA,eAAAC,KAAA,GAAQ,KAAKvE,GAAL,CAASwE,QAAT,EAAR;AACA,eAAAC,GAAA,GAAM,KAAKzE,GAAL,CAAS0E,OAAT,EAAN;AACA,eAAAC,KAAA,GAAQ,KAAK3E,GAAL,CAAS4E,QAAT,EAAR;AACA,eAAAC,OAAA,GAAU,KAAK7E,GAAL,CAAS8E,UAAT,EAAV;AACA,eAAAC,OAAA,GAAU,mCAAM,CAAC;AAAEV,gBAAI,EAAE,KAAKA,IAAb;AAAmBE,iBAAK,EAAE,KAAKA,KAA/B;AAAsCE,eAAG,EAAE,KAAKA,GAAhD;AAAqDO,gBAAI,EAAE,KAAKL,KAAL,GAAa,CAAxE;AAA2EM,kBAAM,EAAE,KAAKJ;AAAxF,WAAD,CAAN,CAA0GnQ,MAA1G,CAAiH,YAAjH,CAAV;AAEA,eAAAwQ,OAAA,GAAU,mCAAM,CAAC;AAAEb,gBAAI,EAAE,KAAKA,IAAb;AAAmBE,iBAAK,EAAE,KAAKA,KAAL,GAAa,CAAvC;AAA0CE,eAAG,EAAE,KAAKA,GAApD;AAAyDO,gBAAI,EAAE,KAAKL,KAApE;AAA2EM,kBAAM,EAAE,KAAKJ;AAAxF,WAAD,CAAN,CAA0GnQ,MAA1G,CAAiH,YAAjH,CAAV,CAlV+B,CAE7B;;AACA,cAAI,CAAC,KAAK/E,qBAAL,CAA2ByB,gBAAhC,EAAkD;AAChD,iBAAKuE,gBAAL,CAAsB0B,SAAtB,CAAgC,EAAhC;AACD,WAL4B,CAM7B;;;AACA,cAAI8N,EAAE,GAAG,KAAKpV,cAAL,CAAoBqO,MAApB,EAAT;AACA,cAAIgH,YAAY,GAAG,CAAnB;;AACA,cAAID,EAAE,CAACjU,IAAH,MAAciU,EAAE,CAACE,WAAH,KAAmBD,YAArC,EAAoD;AAClD,iBAAKzP,gBAAL,CAAsB0B,SAAtB,CAAgC,EAAhC;AACA,iBAAKrH,YAAL,CAAkBkC,KAAlB,CAAwB,wFAAxB,EAAkH,IAAlH;AACA;AACD,WAb4B,CAc7B;AACA;;;AACA,eAAKuR,wBAAL,GAAgC,IAAhC;AAEA,eAAK7M,QAAL;AAEA,cAAIH,QAAQ,GAAGC,OAAO,CAACC,KAAvB;;AACA,cAAIF,QAAJ,EAAc;AACZ,iBAAKX,MAAL,GAAcW,QAAQ,CAAC,IAAD,CAAtB;AACA,iBAAK7C,UAAL,GAAkB6C,QAAQ,CAAC,YAAD,CAA1B;AACA,mBAAOC,OAAO,CAACC,KAAR,CAAc,IAAd,CAAP;AACA,mBAAOD,OAAO,CAACC,KAAR,CAAc,YAAd,CAAP;AACA;;;;;AAIA,gBAAI,KAAKb,MAAT,EAAiB;AACf,mBAAK3F,eAAL,CAAqBmV,cAArB,CAAoC,KAAKxP,MAAzC,EACGvE,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN;AACA,oBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B;AACA,yBAAI,CAACuF,eAAL,CAAqBvF,IAAI,CAAC,MAAD,CAAzB,EAF2B,CAG3B;;;AACA,yBAAI,CAACrB,OAAL,GAAe,KAAf,CAJ2B,CAK3B;AACD,iBAND,MAMO;AACL;AACA,yBAAI,CAACJ,YAAL,CAAkBkC,KAAlB,CAAwBT,IAAI,CAAC,SAAD,CAA5B;;AACA,yBAAI,CAACrB,OAAL,GAAe,KAAf;AACD;AACF,eAhBL,EAiBI,UAAA8B,KAAK,EAAI;AACP,oBAAIC,aAAa,GAAG,EAApB;;AACA,oBAAI;AACF,sBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,iCAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,mBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,iCAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,mBAFM,MAEA;AACLD,iCAAa,GAAGD,KAAhB;AACD;AACF,iBARD,CAQE,OAAOG,EAAP,EAAW,CAAG;;AAChB,uBAAI,CAACrC,YAAL,CAAkBkC,KAAlB,CAAwBC,aAAxB;;AACA,uBAAI,CAAC/B,OAAL,GAAe,KAAf;AACD,eA9BL;AA+BD,aAhCD,MAgCO,IAAI,KAAKwD,UAAT,EAAqB;AAC1B,mBAAKgD,QAAL;AACD;AACD;;AACD;AACF;;AArG2B;AAAA;AAAA,iBAuG5B,yBAAgB0B,QAAhB,EAA0B;AAExB,iBAAK4L,mBAAL,GAA2B,CAA3B;AACA,iBAAKC,mBAAL,GAA2B,EAA3B;AACA,gBAAIoB,2BAA2B,GAAG,CAAC,0DAAW7N,QAAZ,EAAsB,0DAAWK,GAAX,CAAe,KAAKmM,mBAApB,CAAtB,EAAgE,0DAAWsB,GAAX,CAAe,KAAKrB,mBAApB,CAAhE,CAAlC;;AACA,oBAAQ,KAAKxU,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAApD;AACE,mBAAK,qDAAKC,QAAV;AACE,oBAAI,KAAK1D,qBAAL,CAA2ByB,gBAA3B,CAA4CqU,eAAhD,EAAiE;AAC/D,uBAAKvB,mBAAL,GAA2B,CAA3B;AACA,uBAAKC,mBAAL,GAA2B,EAA3B;AACD,iBAHD,MAGO;AACL,uBAAKD,mBAAL,GAA2B,CAA3B;AACA,uBAAKC,mBAAL,GAA2B,CAA3B;AACD;;AACDoB,2CAA2B,GAAG,CAAC,0DAAW7N,QAAZ,EAAsB,0DAAWK,GAAX,CAAe,KAAKmM,mBAApB,CAAtB,EAAgE,0DAAWsB,GAAX,CAAe,KAAKrB,mBAApB,CAAhE,CAA9B;AACA;AAVJ;;AAaA,iBAAKuB,cAAL,GAAsB,KAAK9P,WAAL,CAAiB4B,KAAjB,CAAuB;AAE3CnG,iBAAG,EAAE,CAACiH,QAAQ,CAACjH,GAAT,IAAgB,EAAjB,CAFsC;AAG3CgD,sBAAQ,EAAE,CAACiE,QAAQ,CAACjE,QAAT,IAAqB,EAAtB,EAA0B,0DAAWqD,QAArC,CAHiC;AAI3CiO,yBAAW,EAAE,CAACrN,QAAQ,CAACqN,WAAT,IAAwB,EAAzB,CAJ8B;AAK3CC,4BAAc,EAAE,CAACtN,QAAQ,CAACsN,cAAT,IAA2B,EAA5B,CAL2B;AAM3CC,6BAAe,EAAE,CAACvN,QAAQ,CAACuN,eAAT,IAA4B,EAA7B,CAN0B;AAO3CC,qCAAuB,EAAE,CAACxN,QAAQ,CAACwN,uBAAT,IAAoC,EAArC,CAPkB;AAQ3CC,yCAA2B,EAAE,CAACzN,QAAQ,CAACyN,2BAAT,IAAwC,EAAzC,CARc;AAS3CC,yCAA2B,EAAE,CAAC1N,QAAQ,CAAC0N,2BAAT,IAAwC,EAAzC,EAA6C,0DAAWtO,QAAxD,CATc;AAU3CuO,uCAAyB,EAAE,CAAC3N,QAAQ,CAAC2N,yBAAT,IAAsC,EAAvC,CAVgB;AAW3C9R,+BAAiB,EAAE,CAACmE,QAAQ,CAACnE,iBAAT,IAA8B,EAA/B,CAXwB;AAY3C+R,6BAAe,EAAE,CAAC5N,QAAQ,CAAC4N,eAAT,IAA4B,EAA7B,CAZ0B;AAa3CC,sBAAQ,EAAE,CAAC7N,QAAQ,CAAC6N,QAAT,IAAqB,EAAtB,CAbiC;AAc3CC,sBAAQ,EAAE,CAAC9N,QAAQ,CAAC8N,QAAT,IAAqB,EAAtB,CAdiC;AAe3CpM,oBAAM,EAAE,CAAC1B,QAAQ,CAAC0B,MAAT,IAAmB,EAApB,CAfmC;AAgB3CqM,iCAAmB,EAAE,KAAKzQ,WAAL,CAAiB0Q,KAAjB,CAAuBhO,QAAQ,CAAC+N,mBAAT,IAAgC,EAAvD,EAA2D,EAA3D,CAhBsB;AAiB3CrO,wBAAU,EAAE,CAACM,QAAQ,CAACN,UAAT,IAAuB,CAAxB,EAA2B,CAAC,0DAAWN,QAAZ,EAAsB,0DAAWK,GAAX,CAAe,CAAf,CAAtB,EAAyC,0DAAWyN,GAAX,CAAe,KAAK/B,wBAApB,CAAzC,CAA3B,CAjB+B;AAkB3CvP,gCAAkB,EAAE,CAACoE,QAAQ,CAACpE,kBAAT,IAA+B,CAAhC,EAAmC,CAAC,0DAAWwD,QAAZ,EAAsB,0DAAWK,GAAX,CAAe,CAAf,CAAtB,CAAnC,CAlBuB;AAmB3CiB,8BAAgB,EAAE,CAACV,QAAQ,CAACU,gBAAT,IAA6B,KAAKmL,mBAAnC,EAAwDoB,2BAAxD,CAnByB;AAoB3CtK,+BAAiB,EAAE,KAAKrF,WAAL,CAAiB0Q,KAAjB,CAAuBhO,QAAQ,CAAC2C,iBAAT,IAA8B,EAArD,EAAyD,0DAAWvD,QAApE,CApBwB;AAqB3C6O,+BAAiB,EAAE,CAACjO,QAAQ,CAACiO,iBAAT,IAA8B,EAA/B,CArBwB;AAsB3CC,6BAAe,EAAE,CAAClO,QAAQ,CAACkO,eAAT,IAA4B,CAA7B,EAAgC,CAAC,0DAAW9O,QAAZ,EAAsB,0DAAWK,GAAX,CAAe,CAAf,CAAtB,CAAhC,CAtB0B;AAuB3C0O,uBAAS,EAAE,CAACnO,QAAQ,CAACmO,SAAT,IAAsB,EAAvB,CAvBgC;AAwB3CC,uBAAS,EAAE,CAACpO,QAAQ,CAACoO,SAAT,IAAsB,EAAvB,CAxBgC;AAyB3C/D,uBAAS,EAAE,CAACrK,QAAQ,CAACqK,SAAT,IAAsB,EAAvB,CAzBgC;AA0B3CzI,uBAAS,EAAE,CAAC5B,QAAQ,CAAC4B,SAAT,IAAsB,EAAvB,CA1BgC;AA2B3CyM,uBAAS,EAAE,CAACrO,QAAQ,CAACqO,SAAT,IAAsB,EAAvB,CA3BgC;AA4B3CC,uBAAS,EAAE,CAAC,KAAKjX,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA5C,IAAmD,EAApD,CA5BgC;AA6B3CwV,uBAAS,EAAE,CAACvO,QAAQ,CAACuO,SAAT,IAAsB,EAAvB,CA7BgC;AA8B3CjT,wBAAU,EAAE,CAAC0E,QAAQ,CAAC1E,UAAT,IAAuB,EAAxB,CA9B+B;AA+B3CkT,6BAAe,EAAE,CAAC,IAAD,CA/B0B;AAgC3C1S,2CAA6B,EAAE;AAhCY,aAAvB,CAAtB;AAkCA,iBAAK2S,YAAL,GAAoBzO,QAAQ,CAACqN,WAA7B;AACD;AA5J2B;AAAA;AAAA,iBA8J5B,2BAAkB;AAChB,gBAAI,CAAC,KAAKqB,0CAAV,EAAsD;AACpD,mBAAKA,0CAAL,GAAkDC,QAAQ,CAACC,cAAT,CAAwB,oCAAxB,CAAlD;AACA,mBAAKC,gDAAL,GAAwDF,QAAQ,CAACC,cAAT,CAAwB,0CAAxB,CAAxD;AACD;AACF;AAnK2B;AAAA;AAAA,iBAqK5B,oBAAW;AACT,iBAAKhD,mBAAL,GAA2B,CAA3B;AACA,iBAAKC,mBAAL,GAA2B,EAA3B;AACA,gBAAIoB,2BAA2B,GAAG,CAAC,0DAAW7N,QAAZ,EAAsB,0DAAWK,GAAX,CAAe,KAAKmM,mBAApB,CAAtB,EAAgE,0DAAWsB,GAAX,CAAe,KAAKrB,mBAApB,CAAhE,CAAlC;;AACA,oBAAQ,KAAKxU,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAApD;AACE,mBAAK,qDAAKC,QAAV;AACE,oBAAI,KAAK1D,qBAAL,CAA2ByB,gBAA3B,CAA4CqU,eAAhD,EAAiE;AAC/D,uBAAKvB,mBAAL,GAA2B,CAA3B;AACA,uBAAKC,mBAAL,GAA2B,EAA3B;AACD,iBAHD,MAGO;AACL,uBAAKD,mBAAL,GAA2B,CAA3B;AACA,uBAAKC,mBAAL,GAA2B,CAA3B;AACD;;AACDoB,2CAA2B,GAAG,CAAC,0DAAW7N,QAAZ,EAAsB,0DAAWK,GAAX,CAAe,KAAKmM,mBAApB,CAAtB,EAAgE,0DAAWsB,GAAX,CAAe,KAAKrB,mBAApB,CAAhE,CAA9B;AACA;AAVJ,aAJS,CAgBT;;;AACA,iBAAKiD,eAAL;AACA,iBAAK1B,cAAL,GAAsB,KAAK9P,WAAL,CAAiB4B,KAAjB,CAAuB;AAE3CnG,iBAAG,EAAE,CAAC,EAAD,CAFsC;AAG3CgD,sBAAQ,EAAE,CAAC,EAAD,EAAK,0DAAWqD,QAAhB,CAHiC;AAI3CiO,yBAAW,EAAE,CAAC,EAAD,CAJ8B;AAK3CC,4BAAc,EAAE,CAAC,EAAD,CAL2B;AAM3CC,6BAAe,EAAE,CAAC,EAAD,CAN0B;AAO3CC,qCAAuB,EAAE,CAAC,EAAD,CAPkB;AAQ3CC,yCAA2B,EAAE,CAAC,EAAD,CARc;AAS3CC,yCAA2B,EAAE,CAAC,EAAD,CATc;AAU3CC,uCAAyB,EAAE,CAAC,EAAD,CAVgB;AAW3C9R,+BAAiB,EAAE,CAAC,EAAD,CAXwB;AAY3C+R,6BAAe,EAAE,CAAC,EAAD,CAZ0B;AAa3CC,sBAAQ,EAAE,CAAC,EAAD,CAbiC;AAc3CC,sBAAQ,EAAE,CAAC,EAAD,CAdiC;AAe3CpM,oBAAM,EAAE,CAAC,8DAAcG,OAAf,CAfmC;AAgB3CkM,iCAAmB,EAAE,KAAKzQ,WAAL,CAAiB0Q,KAAjB,CAAuB,EAAvB,EAA2B,EAA3B,CAhBsB;AAiB3CtO,wBAAU,EAAE,CAAC,CAAD,EAAI,CAAC,0DAAWN,QAAZ,EAAsB,0DAAWK,GAAX,CAAe,CAAf,CAAtB,EAAyC,0DAAWyN,GAAX,CAAe,KAAK/B,wBAApB,CAAzC,CAAJ,CAjB+B;AAkB3CvP,gCAAkB,EAAE,CAAC,CAAD,EAAI,CAAC,0DAAWwD,QAAZ,EAAsB,0DAAWK,GAAX,CAAe,CAAf,CAAtB,CAAJ,CAlBuB;AAmB3CiB,8BAAgB,EAAE,CAAC,KAAKmL,mBAAN,EAA2BoB,2BAA3B,CAnByB;AAoB3CtK,+BAAiB,EAAE,KAAKrF,WAAL,CAAiB0Q,KAAjB,CAAuB,EAAvB,EAA2B,0DAAW5O,QAAtC,CApBwB;AAqB3C6O,+BAAiB,EAAE,CAAC,EAAD,CArBwB;AAsB3CC,6BAAe,EAAE,CAAC,CAAD,EAAI,CAAC,0DAAW9O,QAAZ,EAAsB,0DAAWK,GAAX,CAAe,CAAf,CAAtB,CAAJ,CAtB0B;AAuB3C0O,uBAAS,EAAE,CAAC,EAAD,CAvBgC;AAwB3CC,uBAAS,EAAE,CAAC,EAAD,CAxBgC;AAyB3C/D,uBAAS,EAAE,CAAC,KAAD,CAzBgC;AA0B3CzI,uBAAS,EAAE,CAAC,KAAKvK,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA5C,IAAmD,EAApD,CA1BgC;AA2B3CsV,uBAAS,EAAE,CAAC,EAAD,CA3BgC;AA4B3CC,uBAAS,EAAE,CAAC,EAAD,CA5BgC;AA6B3CC,uBAAS,EAAE,CAAC,EAAD,CA7BgC;AA8B3CjT,wBAAU,EAAE,CAAC,KAAKA,UAAL,IAAmB,EAApB,CA9B+B;AA+B3CkT,6BAAe,EAAE,CAAC,IAAD,CA/B0B;AAgC3C1S,2CAA6B,EAAE;AAhCY,aAAvB,CAAtB;AAkCD;AAzN2B;AAAA;AAAA,iBA2N5B,yBAAgBiT,KAAhB,EAAuB;AACrB,iBAAKD,eAAL;;AACA,oBAAQC,KAAR;AACE,mBAAK,CAAL;AACE,qBAAKF,gDAAL,CAAsDG,KAAtD;AACA;AAHJ;AAKD;AAlO2B;AAAA;AAAA,iBAoO5B,oBAAW,CAEV,CAtO2B,CAwO5B;;AAxO4B;AAAA;AAAA,eAyO5B,eAAQ;AAAE,mBAAO,KAAK5B,cAAL,CAAoBjN,QAA3B;AAAsC;AAzOpB;AAAA;AAAA,iBA2O5B,oCAA2B;AAAA;;AACzB,iBAAKzC,SAAL,GAAiB,IAAjB;;AACA,gBAAI,KAAK0P,cAAL,CAAoB7L,OAAxB,EAAiC;AAC/B;AACD;;AAED,gBAAI0N,kBAAkB,GAAG,KAAK7B,cAAL,CAAoB/M,GAApB,CAAwB,6BAAxB,EAAuDC,KAAhF;AACA,gBAAI4O,gBAAgB,GAAG,KAAK9B,cAAL,CAAoB/M,GAApB,CAAwB,2BAAxB,EAAqDC,KAA5E;AACA;;;;;;;AAMA4O,4BAAgB,GAAG,IAAnB;;AACA,oBAAQ,KAAK9B,cAAL,CAAoB/M,GAApB,CAAwB,aAAxB,EAAuCC,KAA/C;AACE,mBAAK,6DAAa6O,OAAlB;AACEF,kCAAkB,GAAG,IAArB;AACAC,gCAAgB,GAAG,IAAnB;AACA;AAJJ;;AAQA,gBAAIE,sBAAsB,GAAG,IAA7B;AACA,gBAAIC,oBAAoB,GAAG,IAA3B;;AACA,gBAAIJ,kBAAJ,EAAwB;AACtBG,oCAAsB,GAAG,mCAAM,CAACH,kBAAD,EAAqB,YAArB,CAAN,CAAyC7S,MAAzC,CAAgD,YAAhD,CAAzB;AACD,aAFD,MAEO;AACLgT,oCAAsB,GAAG,mCAAM,GAAGE,GAAT,CAAa,CAAb,EAAgB,GAAhB,EAAqBlT,MAArB,CAA4B,YAA5B,CAAzB;AACD;;AAED,gBAAI8S,gBAAJ,EAAsB;AACpBG,kCAAoB,GAAG,mCAAM,CAACH,gBAAD,EAAmB,YAAnB,CAAN,CAAuC9S,MAAvC,CAA8C,YAA9C,CAAvB;AACD,aAFD,MAEO;AACLiT,kCAAoB,GAAG,mCAAM,CAACD,sBAAD,EAAyB,YAAzB,CAAN,CAA6CE,GAA7C,CAAiD,KAAKlC,cAAL,CAAoB/M,GAApB,CAAwB,oBAAxB,EAA8CC,KAA/F,EAAsG,OAAtG,EAA+GlE,MAA/G,CAAsH,YAAtH,CAAvB;AACD,aAnCwB,CAqCzB;;;AACA,iBAAKgR,cAAL,CAAoB/M,GAApB,CAAwB,mBAAxB,EAA6CM,QAA7C,CAAsDmL,IAAI,CAACyD,KAAL,CAAWH,sBAAX,CAAtD;AACA,iBAAKhC,cAAL,CAAoB/M,GAApB,CAAwB,iBAAxB,EAA2CM,QAA3C,CAAoDmL,IAAI,CAACyD,KAAL,CAAWF,oBAAX,CAApD;;AAEA,gBAAI,CAAC,mCAAM,CAAC,KAAKjC,cAAL,CAAoB/M,GAApB,CAAwB,mBAAxB,EAA6CC,KAA9C,CAAN,CAA2DkP,OAA5D,IAAuE,8CAAQ,mCAAM,CAAC,KAAKpC,cAAL,CAAoB/M,GAApB,CAAwB,mBAAxB,EAA6CC,KAA9C,CAAd,CAAvE,IAA8I,CAAC,KAAK8M,cAAL,CAAoB/M,GAApB,CAAwB,mBAAxB,EAA6CC,KAAhM,EAAuM;AACrM,mBAAK5I,YAAL,CAAkBkC,KAAlB,CAAwB,yBAAxB;AACA;AACD;;AACD,gBAAI,CAAC,mCAAM,CAAC,KAAKwT,cAAL,CAAoB/M,GAApB,CAAwB,iBAAxB,EAA2CC,KAA5C,CAAN,CAAyDkP,OAA1D,IAAqE,8CAAQ,mCAAM,CAAC,KAAKpC,cAAL,CAAoB/M,GAApB,CAAwB,iBAAxB,EAA2CC,KAA5C,CAAd,CAArE,IAA0I,CAAC,KAAK8M,cAAL,CAAoB/M,GAApB,CAAwB,iBAAxB,EAA2CC,KAA1L,EAAiM;AAC/L,mBAAK5I,YAAL,CAAkBkC,KAAlB,CAAwB,uBAAxB;AACA;AACD;AACD;;;;;;;;AAMA,gBAAI,mCAAM,CAAC,KAAKwT,cAAL,CAAoB/M,GAApB,CAAwB,mBAAxB,EAA6CC,KAA9C,CAAN,CAA2DgP,GAA3D,CAA+D,CAA/D,EAAkE,GAAlE,EAAuEG,OAAvE,CAA+E,mCAAM,CAAC,KAAKrC,cAAL,CAAoB/M,GAApB,CAAwB,iBAAxB,EAA2CC,KAA5C,CAArF,CAAJ,EAA8I;AAC5I,mBAAK5I,YAAL,CAAkBkC,KAAlB,CAAwB,iEAAxB;AACA;AACD,aA1DwB,CA4DzB;;;AAGA,gBAAI,KAAK4D,MAAT,EAAiB;AACf,mBAAK3F,eAAL,CAAqB6X,iBAArB,CAAuC,KAAKtC,cAAL,CAAoB9M,KAA3D,EACGrH,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN,oBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B;AACA;AACA;AACA,yBAAI,CAACzB,YAAL,CAAkB6K,OAAlB,CAA0B,mGAA1B,EAA+H,IAA/H;;AACA,yBAAI,CAAClF,gBAAL,CAAsBkG,cAAtB,CAAqC,uBAArC,EAA8D;AAAE/B,+BAAW,EAAE;AAAf,mBAA9D,EAA2F,IAA3F;AACD,iBAND,MAMO;AACL;AACA,yBAAI,CAAC9J,YAAL,CAAkBkC,KAAlB,CAAwBT,IAAI,CAAC,SAAD,CAA5B;;AACA,yBAAI,CAACrB,OAAL,GAAe,KAAf;AACD;AACF,eAfL,EAgBI,UAAA8B,KAAK,EAAI;AACP,oBAAIC,aAAa,GAAG,EAApB;;AACA,oBAAI;AACF,sBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,iCAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,mBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,iCAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,mBAFM,MAEA;AACLD,iCAAa,GAAGD,KAAhB;AACD;AACF,iBARD,CAQE,OAAOG,EAAP,EAAW,CAAG;;AAChB,uBAAI,CAACrC,YAAL,CAAkBkC,KAAlB,CAAwBC,aAAxB;;AACA,uBAAI,CAAC/B,OAAL,GAAe,KAAf;AACD,eA7BL;AA8BD,aA/BD,MA+BO;AACL,mBAAKD,eAAL,CAAqB8X,aAArB,CAAmC,KAAKvC,cAAL,CAAoB9M,KAAvD,EACGrH,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN,oBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAE3B;AACA;AACA;AACA,yBAAI,CAACzB,YAAL,CAAkB6K,OAAlB,CAA0B,mGAA1B,EAA+H,IAA/H;;AACA,yBAAI,CAAClF,gBAAL,CAAsBkG,cAAtB,CAAqC,uBAArC,EAA8D;AAAE/B,+BAAW,EAAE;AAAf,mBAA9D,EAA2F,IAA3F;AACD,iBAPD,MAOO;AACL;AACA,yBAAI,CAAC9J,YAAL,CAAkBkC,KAAlB,CAAwBT,IAAI,CAAC,SAAD,CAA5B;;AACA,yBAAI,CAACrB,OAAL,GAAe,KAAf;AACD;AACF,eAhBL,EAiBI,UAAA8B,KAAK,EAAI;AACP,oBAAIC,aAAa,GAAG,EAApB;;AACA,oBAAI;AACF,sBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,iCAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,mBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,iCAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,mBAFM,MAEA;AACLD,iCAAa,GAAGD,KAAhB;AACD;AACF,iBARD,CAQE,OAAOG,EAAP,EAAW,CAAG;;AAChB,uBAAI,CAACrC,YAAL,CAAkBkC,KAAlB,CAAwBC,aAAxB;;AACA,uBAAI,CAAC/B,OAAL,GAAe,KAAf;AACD,eA9BL;AA+BD;AAEF;AA3W2B;AAAA;AAAA,iBAsX5B,cAAK8X,EAAL,EAAS,CACP;AACA;AACD;AAzX2B;AAAA;AAAA,iBA2X5B,wCAA+B;AAC7B,gBAAIlQ,UAAU,GAAG,KAAK0N,cAAL,CAAoB/M,GAApB,CAAwB,YAAxB,EAAsCC,KAAtC,IAA+C,CAAhE;AACA,gBAAI1E,kBAAkB,GAAG,KAAKwR,cAAL,CAAoB/M,GAApB,CAAwB,oBAAxB,EAA8CC,KAA9C,IAAuD,CAAhF;AACA,gBAAII,gBAAgB,GAAG,KAAK0M,cAAL,CAAoB/M,GAApB,CAAwB,kBAAxB,EAA4CC,KAA5C,IAAqD,CAA5E;AAEA,iBAAKE,8BAAL,GAAsC,KAAK/I,cAAL,CAAoBgJ,8BAApB,CAAmDf,UAAnD,EAA+D9D,kBAA/D,EAAmF8E,gBAAnF,CAAtC;AAEA,iBAAK0M,cAAL,CAAoB/M,GAApB,CAAwB,+BAAxB,EAAyDM,QAAzD,CAAkE,KAAKH,8BAAvE;AACD;AAnY2B;AAAA;AAAA,iBAqY5B,mCAA0BqP,CAA1B,EAA6B;AAC3B,gBAAMC,UAAU,GAAc,KAAK1C,cAAL,CAAoB/M,GAApB,CAAwB,mBAAxB,CAA9B;;AACA,gBAAIwP,CAAC,CAACE,MAAF,CAAStM,OAAb,EAAsB;AACpBqM,wBAAU,CAACtT,IAAX,CAAgB,IAAI,0DAAJ,CAAgBqT,CAAC,CAACE,MAAF,CAASzP,KAAzB,CAAhB;AACD,aAFD,MAEO;AACL,kBAAI0P,CAAC,GAAW,CAAhB;AACAF,wBAAU,CAAC3P,QAAX,CAAoB8P,OAApB,CAA4B,UAAChK,IAAD,EAAuB;AACjD,oBAAIA,IAAI,CAAC3F,KAAL,IAAcuP,CAAC,CAACE,MAAF,CAASzP,KAA3B,EAAkC;AAChCwP,4BAAU,CAACI,QAAX,CAAoBF,CAApB;AACA;AACD;;AACDA,iBAAC;AACF,eAND;AAOD;AACF;AAnZ2B;AAAA;AAAA,iBAqZ5B,yCAAgCjX,GAAhC,EAAqC;AACnC,gBAAM+W,UAAU,GAAc,KAAK1C,cAAL,CAAoB/M,GAApB,CAAwB,mBAAxB,CAA9B;;AACA,gBAAI8P,2BAA2B,GAAIL,UAAU,CAACxP,KAAX,CAAiB8P,OAAjB,CAAyBrX,GAAzB,IAAgC,CAAC,CAApE;;AACA,mBAAOoX,2BAAP;AACD;AAzZ2B;;AAAA;AAAA,S;;;;gBAhBE;;gBAGvB;;gBAEA;;gBAFuB;;gBACvB;;gBAEA;;gBAEA;;;;AAQIlF,uBAAiB,6DAL7B,gEAAU;AACThO,gBAAQ,EAAE,gBADD;AAETC,gBAAQ,EAAR,6EAFS;;AAAA,OAAV,CAK6B,E,+EA4BL,0D,EACU,sE,EACN,iF,EACH,6D,EACI,oF,EACH,gF,EACR,+D,EAlCW,GAAjB+N,iBAAiB,CAAjB;;;;;;;;;;;;;;;;ACjBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCoBFoF,mBAAmB;AAM9B,qCACU1Y,WADV,EAESJ,MAFT,EAGUD,aAHV,EAISG,cAJT,EAKUC,YALV,EAMSE,MANT,EAOSP,qBAPT,EAQUQ,eARV,EAQ0C;AAAA;;AAAA;;AAPhC,eAAAF,WAAA,GAAAA,WAAA;AACD,eAAAJ,MAAA,GAAAA,MAAA;AACC,eAAAD,aAAA,GAAAA,aAAA;AACD,eAAAG,cAAA,GAAAA,cAAA;AACC,eAAAC,YAAA,GAAAA,YAAA;AACD,eAAAE,MAAA,GAAAA,MAAA;AACA,eAAAP,qBAAA,GAAAA,qBAAA;AACC,eAAAQ,eAAA,GAAAA,eAAA;AAXV,eAAAC,OAAA,GAAmB,KAAnB;AAEO,eAAAwB,CAAA,GAAI,oCAAJ;AAWL,eAAKgX,iBAAL;AACA,eAAKzY,eAAL,CAAqB0Y,kBAArB,GAA0CrX,SAA1C,CAAoD,UAAAiR,kBAAkB,EAAI;AACxE,gBAAIA,kBAAJ,EAAwB;AACtB,kBAAIA,kBAAkB,CAAC,SAAD,CAAtB,EAAmC;AACjC,oBAAIC,sBAAsB,GAAG,gDAAU,OAAI,CAACoG,iBAAf,EAAkC,KAAlC,CAA7B;;AACA,oBAAIrG,kBAAkB,CAAC,MAAD,CAAlB,CAA2BE,SAA/B,EAA0C;AACxC,yBAAOD,sBAAsB,CAACD,kBAAkB,CAAC,MAAD,CAAlB,CAA2BpR,GAA5B,CAA7B;AACD,iBAFD,MAEO;AACLqR,wCAAsB,CAACD,kBAAkB,CAAC,MAAD,CAAlB,CAA2BpR,GAA5B,CAAtB,GAAyDoR,kBAAkB,CAAC,MAAD,CAA3E;AACD;;AACD,uBAAI,CAACqG,iBAAL,GAAyB,+CAASpG,sBAAT,CAAzB;AACD;AACF;AACF,WAZD;AAaA,eAAKvS,eAAL,CAAqB4Y,iBAArB,GAAyCvX,SAAzC,CAAmD,UAAAiR,kBAAkB,EAAI;AACvE,gBAAIA,kBAAJ,EAAwB;AACtB,kBAAIA,kBAAkB,CAAC,SAAD,CAAtB,EAAmC;AACjC,oBAAIC,sBAAsB,GAAG,gDAAU,OAAI,CAACoG,iBAAf,EAAkC,KAAlC,CAA7B;;AACA,oBAAIrG,kBAAkB,CAAC,MAAD,CAAlB,CAA2BE,SAA/B,EAA0C;AACxC,yBAAOD,sBAAsB,CAACD,kBAAkB,CAAC,MAAD,CAAlB,CAA2BpR,GAA5B,CAA7B;AACD,iBAFD,MAEO;AACLqR,wCAAsB,CAACD,kBAAkB,CAAC,MAAD,CAAlB,CAA2BpR,GAA5B,CAAtB,GAAyDoR,kBAAkB,CAAC,MAAD,CAA3E;AACD;;AACD,uBAAI,CAACqG,iBAAL,GAAyB,+CAASpG,sBAAT,CAAzB;AACD;AACF;AACF,WAZD;AAaD;;AA3C6B;AAAA;AAAA,iBA6C9B,oBAAQ,CACP;AA9C6B;AAAA;AAAA,iBAgD9B,+BAAsB5M,MAAtB,EAA8B;AAC5B,iBAAK5F,MAAL,CAAYqP,QAAZ,CAAqB,CAAC,sBAAD,CAArB,EAA+C;AAAE5I,mBAAK,EAAE;AAAEb,sBAAM,EAAEA;AAAV;AAAT,aAA/C;AACD;AAlD6B;AAAA;AAAA,iBAoD9B,0DAAiDkT,UAAjD,EAA6D;AAC3D,gBAAIC,cAAc,GAAG,KAAKtZ,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAAjE;;AACA,gBAAI2X,UAAU,IAAI,6CAAOA,UAAU,CAACzV,yBAAlB,EAA6C+C,MAA7C,GAAsD,CAAxE,EAA2E;AACzE;AACA,kBAAI4S,sBAAsB,GAAG,IAA7B;AACA,kBAAIC,YAAY,GAAG,IAAnB;AACA,kBAAIC,wCAAwC,GAAG,IAA/C,CAJyE,CAKzE;;AACAF,oCAAsB,GAAG,+CAASF,UAAU,CAACzV,yBAApB,EAA+C,UAAU4U,CAAV,EAAa;AACnF,oBAAIA,CAAJ,EAAO;AACL,0BAAQA,CAAC,CAACnO,MAAV;AACE,yBAAK,kEAAcG,OAAnB;AACE,6BAAO,IAAP;AACA;;AACF,yBAAK,kEAAc7I,QAAnB;AACA,yBAAK,kEAAc8I,mBAAnB;AACE,6BAAO,KAAP,CADF,CACe;;AACb;;AACF;AACE,6BAAO,KAAP;AACA;AAVJ;AAYD;AACF,eAfwB,CAAzB,CANyE,CAsBzE;AACA;;AACA,sBAAQ,KAAKzK,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAApD;AACE,qBAAK,yDAAKC,QAAV;AACE8V,8BAAY,GAAG,YAAf;AACA;;AACF,qBAAK,yDAAK3V,MAAV;AACE2V,8BAAY,GAAG,UAAf;AACA;AANJ,eAxByE,CAgCzE;AACA;;;AACAC,sDAAwC,GAAG,+CAASJ,UAAU,CAACzV,yBAApB,EAA+C,UAAU4U,CAAV,EAAa;AACrG,oBAAIA,CAAJ,EAAO;AACL,sBAAIA,CAAC,CAACgB,YAAD,CAAD,IAAmBF,cAAvB,EAAuC;AACrC;AACA,2BAAO,IAAP;AACD,mBAHD,MAGO;AACL,2BAAO,KAAP;AACD;AACF;AACF,eAT0C,CAA3C,CAlCyE,CA4CzE;AACA;;AACA,kBAAIG,wCAAwC,CAAC9S,MAAzC,GAAkD,CAAtD,EAAyD;AACvD,uBAAO,IAAP;AACD,eAFD,MAEO;AACL,uBAAO,EAAE4S,sBAAsB,CAAC5S,MAAvB,GAAgC,CAAlC,CAAP,CADK,CACuC;AAC7C,eAlDwE,CAmDzE;AACA;;AACD,aArDD,MAqDO;AACL;AACA,qBAAO,KAAP,CAFK,CAGL;AACD;AACF;AAhH6B;AAAA;AAAA,iBAiH9B,sBAAa0F,OAAb,EAAsB;AAAA;;AACpB;AACA,iBAAK/L,WAAL,CAAiBmH,WAAjB,CAA6B4E,OAAO,CAAC3K,GAArC,EACGE,IADH,CACQ,+DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN,kBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B;AACA,oBAAMwD,SAAS,GAAG,OAAI,CAACpF,MAAL,CAAYqF,IAAZ,CAAiB,8GAAjB,EAAyC;AAEzD+G,0BAAQ,EAAE,OAF+C;AAGzDC,2BAAS,EAAE,OAH8C;AAIzDC,wBAAM,EAAE,MAJiD;AAKzDC,uBAAK,EAAE,MALkD;AAMzDhH,6BAAW,EAAE,IAN4C;AAOzD3D,sBAAI,EAAE;AACJuK,2BAAO,EAAE,kDAAYvK,IAAI,CAAC,MAAD,CAAhB,CADL;AAEJ4K,8BAAU,EAAE;AAFR;AAPmD,iBAAzC,CAAlB;;AAaApH,yBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI,CAC1C;AACD,iBAFD;AAID,eAnBD,MAmBO,CAEN;AACF,aA1BL,EA2BI,UAAApD,KAAK,EAAI;AACP,kBAAIC,aAAa,GAAG,EAApB;;AACA,kBAAI;AACF,oBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,+BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,iBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,+BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,iBAFM,MAEA;AACLD,+BAAa,GAAGD,KAAhB;AACD;AACF,eARD,CAQE,OAAOG,EAAP,EAAW,CAAG;;AAChB,qBAAI,CAACrC,YAAL,CAAkBkC,KAAlB,CAAwBC,aAAxB;AAED,aAxCL,EAFoB,CA2CpB;AAED;AA9J6B;AAAA;AAAA,iBAgK9B,2BAAkB;AAAA;;AAEhB;AACA,gBAAM8C,SAAS,GAAG,KAAKpF,MAAL,CAAYqF,IAAZ,CAAiB,uFAAjB,EAAkC;AAClD+G,sBAAQ,EAAE,OADwC;AAElDC,uBAAS,EAAE,OAFuC;AAGlDC,oBAAM,EAAE,KAH0C;AAIlDC,mBAAK,EAAE,KAJ2C;AAKlDhH,yBAAW,EAAE,IALqC;AAMlD3D,kBAAI,EAAE;AACJ4X,+BAAe,EAAC,KAAKA,eADjB;AAEJhN,0BAAU,EAAE;AAFR;AAN4C,aAAlC,CAAlB;AAYApH,qBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI;AAC1C,kBAAIA,MAAM,IAAIA,MAAM,CAAC7D,IAArB,EAA2B;AACzB,oBAAI4L,SAAS,GAAG/H,MAAM,CAAC7D,IAAvB;;AACA,oBAAI,CAAC4L,SAAL,EAAgB;AACdA,2BAAS,GAAG,EAAZ;AACD;;AACD,uBAAI,CAACgM,eAAL,GAAuBhM,SAAvB;AACAA,yBAAS,CAACrD,MAAV,GAAmB,SAAnB;AACAqD,yBAAS,CAACsF,SAAV,GAAsB,KAAtB;AACA,oBAAI2G,aAAa,GAAG,IAApB;;AACA,wBAAQ,OAAI,CAAC3Z,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAApD;AACE,uBAAK,yDAAKC,QAAV;AACEgK,6BAAS,CAACyJ,eAAV,GAA4B,KAA5B;AACAwC,iCAAa,GAAG,iDAAhB;AACA;;AACF,uBAAK,yDAAK9V,MAAV;AACE6J,6BAAS,CAACyJ,eAAV,GAA4B,IAA5B;AACAwC,iCAAa,GAAG,+CAAhB;AACA;AARJ;;AAWA,uBAAI,CAAC1Z,aAAL,CAAmB2Z,0BAAnB,CAA8ClM,SAA9C,EAAyDiM,aAAzD,EAAwE9X,SAAxE,CAAkF,UAAAiR,kBAAkB,EAAI,CACvG,CADD,EApByB,CAsBzB;;AACD;AAEF,aA1BD,EAfgB,CA0ChB;AAED;AA5M6B;AAAA;AAAA,iBA6M9B,6BAAiB;AACf,iBAAK4G,eAAL,GAAuB,IAAvB;AACA,iBAAKT,iBAAL;AACD;AAhN6B;AAAA;AAAA,iBAkN9B,6BAAoB;AAAA;;AAClB,iBAAKY,YAAL,GAAoB,KAAK5Z,aAAL,CAAmB6Z,4BAAnB,GAAkDjY,SAAlD,CAA4D,UAAAiR,kBAAkB,EAAI;AACpG,kBAAIA,kBAAJ,EAAwB;AACtB,uBAAI,CAACqG,iBAAL,GAAyBrG,kBAAkB,CAAC,MAAD,CAA3C;AACD,eAFD,MAEO;AACL,uBAAI,CAACqG,iBAAL,GAAyB,EAAzB;AACD;AACF,aANmB,CAApB;AAOD;AA1N6B;;AAAA;AAAA,S;;;;gBATvB;;gBAHA;;gBAFA;;gBADA;;gBAFA;;gBAFA;;gBAGA;;gBAQA;;;;AAQIH,yBAAmB,6DAL/B,gEAAU;AACTpT,gBAAQ,EAAE,iBADD;AAETC,gBAAQ,EAAR,8EAFS;;AAAA,OAAV,CAK+B,E,+EAOP,6D,EACN,mE,EACQ,wE,EACA,+E,EACD,2E,EACP,sD,EACe,6F,EACL,kF,EAdG,GAAnBmT,mBAAmB,CAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCIAe,eAAe;AAW1B,iCACUxZ,MADV,EAEUP,qBAFV,EAGUK,YAHV,EAIUG,eAJV,EAKSN,MALT;AAME;AACOD,qBAPT,EAQS4M,WART,EASSzM,cATT,EAUS4Z,mBAVT,EAWSC,eAXT,EAWwC;AAAA;;AAAA;;AAV9B,eAAA1Z,MAAA,GAAAA,MAAA;AACA,eAAAP,qBAAA,GAAAA,qBAAA;AACA,eAAAK,YAAA,GAAAA,YAAA;AACA,eAAAG,eAAA,GAAAA,eAAA;AACD,eAAAN,MAAA,GAAAA,MAAA;AAEA,eAAAD,aAAA,GAAAA,aAAA;AACA,eAAA4M,WAAA,GAAAA,WAAA;AACA,eAAAzM,cAAA,GAAAA,cAAA;AACA,eAAA4Z,mBAAA,GAAAA,mBAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AAbT,eAAA7F,mBAAA,GAA2B,IAA3B;AAeE,eAAK6F,eAAL,CAAqBC,gBAArB;AACA,eAAKla,qBAAL,CAA2Bma,WAA3B,CAAuCtY,SAAvC,CAAiD,UAAAuY,CAAC,EAAI;AACpD,mBAAI,CAACD,WAAL,GAAmBC,CAAnB;;AACA,gBAAG,CAAC,OAAI,CAACD,WAAT,EAAqB;AACnB;AACD;;AACDtN,uBAAW,CAACwN,6BAAZ,CAA0C,OAAI,CAACF,WAAL,CAAiBzY,GAA3D;AACAmL,uBAAW,CAACyN,oCAAZ,CAAiD,OAAI,CAACH,WAAL,CAAiBzY,GAAlE;;AACA,mBAAI,CAAClB,eAAL,CAAqB+Z,6BAArB,CAAmD,OAAI,CAACva,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA/F,EACGG,SADH,CAEI,UAAAC,IAAI,EAAI;AACN;AACA,kBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B;AACA,uBAAI,CAACC,eAAL,GAAuBD,IAAI,CAAC,MAAD,CAA3B,CAF2B,CAG3B;;AACA,uBAAI,CAACrB,OAAL,GAAe,KAAf,CAJ2B,CAK3B;AACD,eAND,MAMO;AACL;AACA;AACA,uBAAI,CAACA,OAAL,GAAe,KAAf;AACD;AACF,aAfL,EAgBI,UAAA8B,KAAK,EAAI;AACP,kBAAIC,aAAa,GAAG,EAApB;;AACA,kBAAI;AACF,oBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,+BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,iBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,+BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,iBAFM,MAEA;AACLD,+BAAa,GAAGD,KAAhB;AACD;AACF,eARD,CAQE,OAAOG,EAAP,EAAW,CAAG,CAVT,CAWP;;;AACA,qBAAI,CAACjC,OAAL,GAAe,KAAf;AACD,aA7BL;AA+BD,WAtCD;AAwCA,eAAKD,eAAL,CAAqBga,0BAArB,GACG3Y,SADH,CAEI,UAAAC,IAAI,EAAI;AACN,gBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B,kBAAI,CAAC,OAAI,CAAC2Y,sBAAV,EAAkC;AAChC,uBAAI,CAACA,sBAAL,GAA8B,EAA9B;AACD;;AACD,kBAAIC,kBAAkB,GAAG5Y,IAAI,CAAC,MAAD,CAA7B;;AACA,kBAAI6Y,0BAA0B,GAAG,+CAAU,8CAAS,OAAI,CAACF,sBAAd,CAAV,EAAiD,KAAjD,CAAjC;;AACA,kBAAI,4CAAOE,0BAAP,EAAmChU,MAAnC,GAA4C,CAAhD,EAAmD;AACjD,uBAAOgU,0BAA0B,CAACD,kBAAkB,CAAChZ,GAApB,CAAjC;AACD;;AACDiZ,wCAA0B,CAACD,kBAAkB,CAAChZ,GAApB,CAA1B,GAAqDgZ,kBAArD;AACA,qBAAI,CAACD,sBAAL,GAA8B,8CAASE,0BAAT,CAA9B;AACD,aAXD,MAWO,CACL;AACD;AACF,WAjBL,EAkBI,UAAApY,KAAK,EAAI,CACR,CAnBL;AAqBA,eAAKtC,aAAL,CAAmB2a,2BAAnB,GACG/Y,SADH,CAEI,UAAAC,IAAI,EAAI;AACN,gBAAIA,IAAJ,EAAU;AACR,kBAAI,CAAC,OAAI,CAAC2Y,sBAAV,EAAkC;AAChC,uBAAI,CAACA,sBAAL,GAA8B,EAA9B;AACD;;AACD,kBAAIE,0BAA0B,GAAG,+CAAU,8CAAS,OAAI,CAACF,sBAAd,CAAV,EAAiD,KAAjD,CAAjC;;AACA,qBAAOE,0BAA0B,CAAC7Y,IAAD,CAAjC;AACA,qBAAI,CAAC2Y,sBAAL,GAA8B,8CAASE,0BAAT,CAA9B;AACD,aAPD,MAOO,CACL;AACD;AACF,WAbL,EAcI,UAAApY,KAAK,EAAI,CACR,CAfL;AAgBA,eAAKtC,aAAL,CAAmB4a,iBAAnB,GAAuChZ,SAAvC,CAAiD,UAAAC,IAAI,EAAI;AACvD,gBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B,kBAAI,CAAC,OAAI,CAACC,eAAV,EAA2B;AACzB,uBAAI,CAACA,eAAL,GAAuB,EAAvB;AACD;;AACD,kBAAI2Y,kBAAkB,GAAG5Y,IAAI,CAAC,MAAD,CAA7B;;AACA,kBAAI6Y,0BAA0B,GAAG,+CAAU,8CAAS,OAAI,CAAC5Y,eAAd,CAAV,EAA0C,KAA1C,CAAjC;;AACA,kBAAI,4CAAO4Y,0BAAP,EAAmChU,MAAnC,GAA4C,CAAhD,EAAmD;AACjD,uBAAOgU,0BAA0B,CAACD,kBAAkB,CAAChZ,GAApB,CAAjC;AACD;;AACDiZ,wCAA0B,CAACD,kBAAkB,CAAChZ,GAApB,CAA1B,GAAqDgZ,kBAArD;AACA,qBAAI,CAAC3Y,eAAL,GAAuB,8CAAS4Y,0BAAT,CAAvB;AACD,aAXD,MAWO,CACL;AACD;AACF,WAfD,EAgBE,UAAApY,KAAK,EAAI,CACR,CAjBH;AAkBE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCH;;AA1JyB;AAAA;AAAA,iBA6J1B,8BAAqB6C,UAArB,EAAiC;AAC/B,gBAAIA,UAAU,IAAIA,UAAU,CAACxB,yBAA7B,EAAwD;AACtD,kBAAI,8CAASwB,UAAU,CAACxB,yBAApB,EAA+C;AAAE,8BAAc,KAAK5D,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAA5D,eAA/C,EAAkHiF,MAAlH,GAA2H,CAA/H,EAAkI;AAChI,uBAAO,IAAP;AACD;AACF;;AACD,mBAAO,KAAP;AACD;AApKyB;AAAA;AAAA,iBAsK1B,wBAAeK,KAAf,EAAsB;AACpBA,iBAAK,GAAIA,KAAK,GAAGA,KAAH,GAAW,SAAzB;AACA,iBAAKzG,MAAL,CAAYqP,QAAZ,CAAqB,CAAC5I,KAAD,CAArB;AACD;AAzKyB;AAAA;AAAA,iBA2K1B,wBAAe5B,UAAf,EAA2B;AAAA;;AACzB;AACA,gBAAME,SAAS,GAAG,KAAKpF,MAAL,CAAYqF,IAAZ,CAAiB,sEAAjB,EAAoC;AACpDC,2BAAa,EAAE,kCADqC;AAEpD8G,sBAAQ,EAAE,OAF0C;AAGpDC,uBAAS,EAAE,OAHyC;AAIpDC,oBAAM,EAAE,MAJ4C;AAKpDC,mBAAK,EAAE,MAL6C;AAMpDhH,yBAAW,EAAE,IANuC;AAOpD3D,kBAAI,EAAE;AACJsD,0BAAU,EAAEA,UADR;AAEJnB,0BAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAFpD;AAP8C,aAApC,CAAlB;AAaA4D,qBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI;AAC1C,kBAAIyE,oBAAoB,GAAG,IAA3B;;AACA,kBAAIzE,MAAJ,EAAY;AACV,oBAAIA,MAAM,CAAC7D,IAAX,EAAiB;AACfsI,sCAAoB,GAAGzE,MAAM,CAAC7D,IAAP,CAAYuD,YAAnC;;AACA,sBAAI+E,oBAAJ,EAA0B;AAExB,wBAAI,CAAC,OAAI,CAACqQ,sBAAV,EAAkC;AAChC,6BAAI,CAACA,sBAAL,GAA8B,EAA9B;AACD;;AACD,wBAAIE,0BAA0B,GAAG,+CAAU,8CAAS,OAAI,CAACF,sBAAd,CAAV,EAAiD,KAAjD,CAAjC;;AACA,wBAAI,4CAAOE,0BAAP,EAAmChU,MAAnC,GAA4C,CAAhD,EAAmD;AACjD,6BAAOgU,0BAA0B,CAACvQ,oBAAoB,CAACjE,MAAtB,CAAjC;AACD;;AACD,2BAAI,CAACsU,sBAAL,GAA8B,8CAASE,0BAAT,CAA9B;;AAEA,wBAAI,CAACvQ,oBAAoB,CAAC1I,GAA1B,EAA+B;AAC7B0I,0CAAoB,CAAC1I,GAArB,GAA2B0I,oBAAoB,CAACjE,MAArB,GAA8B,IAA9B,GAAqCiE,oBAAoB,CAACnG,UAArF;AACD;;AACDmG,wCAAoB,CAACC,MAArB,GAA8B1E,MAAM,CAAC7D,IAAP,CAAYuI,MAAZ,IAAsB,6DAAcG,OAAlE;;AACA,2BAAI,CAACvK,aAAL,CAAmByK,4BAAnB,CAAgDN,oBAAoB,CAACjE,MAArE;;AACA,4BAAQiE,oBAAoB,CAACC,MAA7B;AACE,2BAAK,6DAAcG,OAAnB;AACEJ,4CAAoB,CAACG,SAArB,GAA+B,OAAI,CAACvK,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA3E;;AACA,+BAAI,CAACzB,aAAL,CAAmB0K,eAAnB,CAAmC,IAAnC,EAAyCP,oBAAzC;;AACA;;AACF;AACE,+BAAI,CAACnK,aAAL,CAAmB2K,kBAAnB,CAAsC,IAAtC,EAA4CR,oBAA5C,EAAkE,OAAI,CAACpK,qBAAL,CAA2ByB,gBAA7F;;AACA;AAPJ;;AASA,4BAAQ2I,oBAAoB,CAACC,MAA7B;AACE,2BAAK,6DAAc1I,QAAnB;AACE,+BAAI,CAACtB,YAAL,CAAkB6K,OAAlB,CAA0B,gEAA1B,EAA4F,IAA5F;;AACA;;AACF,2BAAK,6DAAcV,OAAnB;AACE,+BAAI,CAACnK,YAAL,CAAkB6K,OAAlB,CAA0B,6DAA1B,EAAyF,IAAzF;;AACA;;AACF,2BAAK,6DAAcQ,QAAnB;AACA,2BAAK,6DAAcC,eAAnB;AACA,2BAAK,6DAAcC,yBAAnB;AACA,2BAAK,6DAAcC,SAAnB;AACE,+BAAI,CAACxL,YAAL,CAAkB6K,OAAlB,CAA0B,gEAA1B,EAA4F,IAA5F;;AACA;;AACF,2BAAK,6DAAcY,SAAnB;AACE,+BAAI,CAACzL,YAAL,CAAkB6K,OAAlB,CAA0B,iEAA1B,EAA6F,IAA7F;;AACA;;AACF,2BAAK,6DAAca,MAAnB;AACA,2BAAK,6DAAcC,OAAnB;AACA,2BAAK,6DAAcC,gBAAnB;AACA,2BAAK,6DAAcxB,mBAAnB;AACE,+BAAI,CAACpK,YAAL,CAAkB6K,OAAlB,CAA0B,+DAA1B,EAA2F,IAA3F;;AACA;;AACF;AACE;AAvBJ;AAyBD;AACF;AACF,eAzDyC,CA0D1C;;AACD,aA3DD;AA4DD;AAtPyB;AAAA;AAAA,iBAwP1B,8BAAqB9F,UAArB,EAAiC;AAC/B,gBAAI5B,qBAAqB,GAAG,IAA5B;;AACA,oBAAQ,KAAKxD,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAApD;AACE,mBAAK,oDAAKC,QAAV;AACEF,qCAAqB,GAAG,iDAAY4B,UAAZ,CAAxB;AACA5B,qCAAqB,CAACI,yBAAtB,GAAkD,8CAASwB,UAAU,CAACxB,yBAApB,EAA+C;AAAE,gCAAc,KAAK5D,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAA5D,iBAA/C,CAAlD;AACA;;AACF;AACE8B,qCAAqB,GAAG,iDAAY4B,UAAZ,CAAxB;AACA;AAPJ,aAF+B,CAa/B;;;AACA,gBAAME,SAAS,GAAG,KAAKpF,MAAL,CAAYqF,IAAZ,CAAiB,+EAAjB,EAA6C;AAC7DC,2BAAa,EAAE,kCAD8C;AAE7DC,yBAAW,EAAE,IAFgD;AAG7D6G,sBAAQ,EAAE,OAHmD;AAI7DC,uBAAS,EAAE,OAJkD;AAK7DC,oBAAM,EAAE,MALqD;AAM7DC,mBAAK,EAAE,MANsD;AAO7D3K,kBAAI,EAAE;AACJsD,0BAAU,EAAE5B,qBADR;AAEJS,0BAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAFpD;AAPuD,aAA7C,CAAlB;AAaA4D,qBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI,CAC1C;AACD,aAFD;AAGD;AAtRyB;AAAA;AAAA,iBAyR1B,kBAAS;AACP,iBAAKpF,MAAL,CAAYqP,QAAZ,CAAqB,CAAC,SAAD,CAArB;AACD;AA3RyB;AAAA;AAAA,iBA6R1B,qBAAY;AACVkL,iBAAK,CAAC,+DAAD,CAAL;AACD;AA/RyB;AAAA;AAAA,iBAiS1B,2BAAe;AACb,aAAC,UAAU/I,CAAV,EAAa;AACZ;;AAGAA,eAAC,CAAC,aAAD,CAAD,CAAiBgJ,EAAjB,CAAoB,OAApB,EAA6B,UAAUvC,CAAV,EAAa;AACxCzG,iBAAC,CAAC,oBAAD,CAAD,CAAwBiJ,GAAxB,CAA4B,MAA5B,EAAoC,OAApC;AACD,eAFD;AAGAjJ,eAAC,CAAC,cAAD,CAAD,CAAkBgJ,EAAlB,CAAqB,OAArB,EAA8B,UAAUvC,CAAV,EAAa;AACzCzG,iBAAC,CAAC,oBAAD,CAAD,CAAwBiJ,GAAxB,CAA4B,MAA5B,EAAoC,QAApC;AACAjJ,iBAAC,CAAC,gBAAD,CAAD,CAAoBkJ,OAApB,CAA4B,OAA5B;AACD,eAHD,EAPY,CAYZ;;AACAlJ,eAAC,CAAC,aAAD,CAAD,CAAiBgJ,EAAjB,CAAoB,OAApB,EAA6B,UAAUvC,CAAV,EAAa;AACxCzG,iBAAC,CAAC,SAAD,CAAD,CAAaiJ,GAAb,CAAiB,OAAjB,EAA0B,KAA1B;AACAjJ,iBAAC,CAAC,oBAAD,CAAD,CAAwBmJ,IAAxB;AACD,eAHD;AAIAnJ,eAAC,CAAC,WAAD,CAAD,CAAegJ,EAAf,CAAkB,OAAlB,EAA2B,UAAUvC,CAAV,EAAa;AACtCzG,iBAAC,CAAC,SAAD,CAAD,CAAaiJ,GAAb,CAAiB,OAAjB,EAA0B,QAA1B;AACAjJ,iBAAC,CAAC,oBAAD,CAAD,CAAwBoJ,IAAxB;AACD,eAHD;;AAIA,uBAASC,UAAT,GAAsB;AACpB,oBAAIC,UAAU,GAAGtJ,CAAC,CAACuJ,MAAD,CAAD,CAAU7O,KAAV,EAAjB;;AACA,oBAAI4O,UAAU,IAAI,GAAlB,EAAuB;AACrBtJ,mBAAC,CAAC,WAAD,CAAD,CAAe4F,KAAf,CAAqB,YAAY;AAC/B5F,qBAAC,CAAC,eAAD,CAAD,CAAmBwJ,GAAnB,CAAuBxJ,CAAC,CAAC,IAAD,CAAD,CAAQyJ,QAAR,EAAvB,EAA2CL,IAA3C,CAAgD,MAAhD;AACApJ,qBAAC,CAAC,iCAAD,CAAD,CAAqCwJ,GAArC,CAAyCxJ,CAAC,CAAC,IAAD,CAAD,CAAQyJ,QAAR,EAAzC,EAA6DL,IAA7D,CAAkE,MAAlE;AACApJ,qBAAC,CAAC,IAAD,CAAD,CAAQyJ,QAAR,GAAmBC,WAAnB,CAA+B,MAA/B;AACD,mBAJD;AAKD,iBAND,MAOK,IAAIJ,UAAU,IAAI,GAAlB,EAAuB;AAC1BtJ,mBAAC,CAAC,6BAAD,CAAD,CAAiC2J,SAAjC,CAA2C,YAAY;AACrD3J,qBAAC,CAAC,IAAD,CAAD,CAAQsB,QAAR,GAAmB2H,GAAnB,CAAuB,SAAvB,EAAkC,OAAlC;AACD,mBAFD;AAGAjJ,mBAAC,CAAC,6BAAD,CAAD,CAAiC4J,QAAjC,CAA0C,YAAY;AACpD5J,qBAAC,CAAC,IAAD,CAAD,CAAQsB,QAAR,GAAmBuI,IAAnB,GAA0BZ,GAA1B,CAA8B,SAA9B,EAAyC,MAAzC;AACD,mBAFD;AAIAjJ,mBAAC,CAAC,WAAD,CAAD,CAAe2J,SAAf,CAAyB,YAAY;AACnC3J,qBAAC,CAAC,IAAD,CAAD,CAAQsB,QAAR,GAAmB2H,GAAnB,CAAuB,SAAvB,EAAkC,OAAlC;AACD,mBAFD;AAGAjJ,mBAAC,CAAC,WAAD,CAAD,CAAe4J,QAAf,CAAwB,YAAY;AAClC5J,qBAAC,CAAC,IAAD,CAAD,CAAQsB,QAAR,GAAmBuI,IAAnB,GAA0BZ,GAA1B,CAA8B,SAA9B,EAAyC,MAAzC;AACD,mBAFD;AAGD;AACF;;AACDI,wBAAU;AACVrJ,eAAC,CAACuJ,MAAD,CAAD,CAAUO,MAAV,CAAiBT,UAAjB;AACD,aAhDD,EAgDGnJ,MAhDH;AAiDD;AAnVyB;;AAAA;AAAA,S;;;;gBAtBnB;;gBAEA;;gBAAuB;;gBACvB;;gBAGA;;gBAIA;;gBACA;;gBANA;;gBAOA;;gBACA;;;;AASI8H,qBAAe,6DAL3B,gEAAU;AACTnU,gBAAQ,EAAE,YADD;AAETC,gBAAQ,EAAR,yEAFS;;AAAA,OAAV,CAK2B,E,+EAYR,sD,EACe,sE,EACT,6D,EACG,iF,EACV,mE,EAEO,yE,EACF,mF,EACG,+E,EACI,0F,EACJ,kF,EAtBC,GAAfkU,eAAe,CAAf;;;;;;;;;;;;;;;;ACxBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACUf;;;AAGA,+BAAgC,mBAAO;AAAC;AAAA,YAAD,CAAvC;AAAA,UAAQ+B,SAAR,sBAAQA,SAAR;AAAA,UAAmBC,QAAnB,sBAAmBA,QAAnB;;AACAD,eAAS,CAAC,CAAC;AACTE,YAAI,EAAE,IADG;AAETC,YAAI,EAAE;AAFG,OAAD,CAAD,CAAT;;UAUaC,uBAAuB;AAQlC,yCACS5b,WADT,EAEUL,aAFV,EAGUgG,WAHV,EAIUzF,eAJV,EAKUH,YALV,EAMSD,cANT,EAOSF,MAPT,EAQUF,qBARV,EAQsD;AAAA;;AAP7C,eAAAM,WAAA,GAAAA,WAAA;AACC,eAAAL,aAAA,GAAAA,aAAA;AACA,eAAAgG,WAAA,GAAAA,WAAA;AACA,eAAAzF,eAAA,GAAAA,eAAA;AACA,eAAAH,YAAA,GAAAA,YAAA;AACD,eAAAD,cAAA,GAAAA,cAAA;AACA,eAAAF,MAAA,GAAAA,MAAA;AACC,eAAAF,qBAAA,GAAAA,qBAAA;AAVV,eAAAoU,mBAAA,GAA2B,IAA3B;AACA,eAAAE,WAAA,GAAmB,IAAnB;AAYE,eAAKA,WAAL,GAAmByH,QAAQ,EAA3B;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCC;;AAtDiC;AAAA;AAAA,iBAwDlC,8BAAqB3W,UAArB,EAAiC;AAC/B,gBAAIA,UAAU,IAAIA,UAAU,CAACxB,yBAA7B,EAAwD;AACtD,kBAAI,+CAASwB,UAAU,CAACxB,yBAApB,EAA+C;AAAE,8BAAc,KAAK5D,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAA5D,eAA/C,EAAkHiF,MAAlH,GAA2H,CAA/H,EAAkI;AAChI,uBAAO,IAAP;AACD;AACF;;AACD,mBAAO,KAAP;AACD;AA/DiC;AAAA;AAAA,iBAiElC,oBAAW;AAAA;;AACT,iBAAKwV,iBAAL,GAAyB,KAAKlW,WAAL,CAAiB4B,KAAjB,CAAuB;AAC9CuU,6BAAe,EAAE,CAAC,EAAD,CAD6B;AAE9CC,6BAAe,EAAE,CAAC,EAAD,CAF6B;AAG9CC,gCAAkB,EAAE,CAAC,EAAD;AAH0B,aAAvB,CAAzB;AAMA,iBAAK9b,eAAL,CAAqB+Z,6BAArB,CAAmD,KAAKva,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA/F,EACGE,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN;AACA,kBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B;AACA,uBAAI,CAACC,eAAL,GAAuBD,IAAI,CAAC,MAAD,CAA3B;;AACA,uBAAI,CAACxB,WAAL,CAAiB0B,8BAAjB,CAAgD,OAAI,CAAC5B,cAAL,CAAoB6B,CAApB,CAAsBC,IAAtB,CAA4B,OAAI,CAAC9B,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA2B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBG,YAAtB,CAAoC,OAAI,CAAChC,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6B,OAAI,CAACN,eAAlC,CAA1B,EAA8E,2BAA9E,CAApC,EAA+I,CAA/I,CAA3B,EAA6K,YAA7K,CAA5B,CAAhD,EAH2B,CAI3B;;;AACA,uBAAI,CAACtB,OAAL,GAAe,KAAf,CAL2B,CAM3B;AACD,eAPD,MAOO;AACL;AACA;AACA,uBAAI,CAACA,OAAL,GAAe,KAAf;AACD;AACF,aAjBL,EAkBI,UAAA8B,KAAK,EAAI;AACP,kBAAIC,aAAa,GAAG,EAApB;;AACA,kBAAI;AACF,oBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,+BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,iBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,+BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,iBAFM,MAEA;AACLD,+BAAa,GAAGD,KAAhB;AACD;AACF,eARD,CAQE,OAAOG,EAAP,EAAW,CAAG,CAVT,CAWP;;;AACA,qBAAI,CAACjC,OAAL,GAAe,KAAf;AACD,aA/BL;AAgCA,iBAAKD,eAAL,CAAqBmC,mCAArB,GACGd,SADH,CAEI,UAAAC,IAAI,EAAI;AACN,kBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B,oBAAIc,gBAAgB,GAAG,OAAI,CAACxC,cAAL,CAAoB6B,CAApB,CAAsBY,OAAtB,CAA8B,OAAI,CAACd,eAAnC,EAAoD,KAApD,CAAvB;;AACA,qBAAK,IAAIe,MAAT,IAAmBhB,IAAI,CAAC,MAAD,CAAvB,EAAiC;AAC/B,sBAAIiB,WAAW,GAAGjB,IAAI,CAAC,MAAD,CAAJ,CAAagB,MAAb,CAAlB;AACAF,kCAAgB,CAACG,WAAW,CAACrB,GAAb,CAAhB,GAAoCqB,WAApC;AACD;;AACD,uBAAI,CAAChB,eAAL,GAAuB,OAAI,CAAC3B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6BO,gBAA7B,CAAvB;AACA,uBAAI,CAACnC,OAAL,GAAe,KAAf;AACD,eARD,MAQO;AACL,uBAAI,CAACA,OAAL,GAAe,KAAf;AACD;AACF,aAdL,EAeI,UAAA8B,KAAK,EAAI;AACP,qBAAI,CAAC9B,OAAL,GAAe,KAAf;AACD,aAjBL;AAkBA,iBAAKD,eAAL,CAAqB+b,yBAArB,CAA+C,IAA/C,EAAqD,IAArD,EAA2D,IAA3D,EAAiE,IAAjE,EAAuE,IAAvE,EACG3a,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AACN;AACA,kBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B;AACA,uBAAI,CAAC0a,gBAAL,GAAwB1a,IAAI,CAAC,MAAD,CAA5B,CAF2B,CAG3B;;AACA,uBAAI,CAACrB,OAAL,GAAe,KAAf,CAJ2B,CAK3B;AACD,eAND,MAMO;AACL;AACA;AACA,uBAAI,CAACA,OAAL,GAAe,KAAf;AACD;AACF,aAhBL,EAiBI,UAAA8B,KAAK,EAAI;AACP,kBAAIC,aAAa,GAAG,EAApB;;AACA,kBAAI;AACF,oBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,+BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,iBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,+BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,iBAFM,MAEA;AACLD,+BAAa,GAAGD,KAAhB;AACD;AACF,eARD,CAQE,OAAOG,EAAP,EAAW,CAAG,CAVT,CAWP;;;AACA,qBAAI,CAACjC,OAAL,GAAe,KAAf;AACD,aA9BL;AA+BD;AAzJiC;AAAA;AAAA,eA0JlC,eAAQ;AAAE,mBAAO,KAAK0b,iBAAL,CAAuBrT,QAA9B;AAAyC;AA1JjB;AAAA;AAAA,iBA4JlC,kCAAyB;AAAA;;AACvB,gBAAI0N,QAAQ,GAAG,KAAK2F,iBAAL,CAAuBnT,GAAvB,CAA2B,iBAA3B,EAA8CC,KAA7D;AACA,gBAAIwN,QAAQ,GAAG,KAAK0F,iBAAL,CAAuBnT,GAAvB,CAA2B,iBAA3B,EAA8CC,KAA7D;AACA,gBAAIqT,kBAAkB,GAAG,KAAKH,iBAAL,CAAuBnT,GAAvB,CAA2B,oBAA3B,EAAiDC,KAA1E;AACA,gBAAIwT,iBAAiB,GAAG,KAAxB;AACA,iBAAK1a,eAAL,GAAuB,EAAvB;AACA,iBAAKvB,eAAL,CAAqBkc,sBAArB,CAA4ClG,QAA5C,EAAsDC,QAAtD,EAAgE6F,kBAAhE,EAAoFA,kBAApF,EAAwGG,iBAAxG,EACG7a,IADH,CACQ,8DADR,EAEGC,SAFH,CAGI,UAAAC,IAAI,EAAI;AAEN;AACA,kBAAIA,IAAI,IAAIA,IAAI,CAAC,SAAD,CAAhB,EAA6B;AAC3B;AACA,uBAAI,CAACC,eAAL,GAAuBD,IAAI,CAAC,MAAD,CAA3B;;AACA,uBAAI,CAACxB,WAAL,CAAiB0B,8BAAjB,CAAgD,OAAI,CAAC5B,cAAL,CAAoB6B,CAApB,CAAsBC,IAAtB,CAA4B,OAAI,CAAC9B,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA2B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBG,YAAtB,CAAoC,OAAI,CAAChC,cAAL,CAAoB6B,CAApB,CAAsBE,GAAtB,CAA0B,OAAI,CAAC/B,cAAL,CAAoB6B,CAApB,CAAsBI,MAAtB,CAA6B,OAAI,CAACN,eAAlC,CAA1B,EAA8E,2BAA9E,CAApC,EAA+I,CAA/I,CAA3B,EAA6K,YAA7K,CAA5B,CAAhD,EAH2B,CAI3B;;;AACA,uBAAI,CAACtB,OAAL,GAAe,KAAf,CAL2B,CAM3B;AACD,eAPD,MAOO;AACL;AACA;AACA,uBAAI,CAACA,OAAL,GAAe,KAAf;AACD;AACF,aAlBL,EAmBI,UAAA8B,KAAK,EAAI;AACP,kBAAIC,aAAa,GAAG,EAApB;;AACA,kBAAI;AACF,oBAAID,KAAK,IAAIA,KAAK,CAACA,KAAf,IAAwBA,KAAK,CAACA,KAAN,CAAYE,OAAxC,EAAiD;AAC/CD,+BAAa,GAAGD,KAAK,CAACA,KAAN,CAAYE,OAA5B;AACD,iBAFD,MAEO,IAAIF,KAAK,IAAIA,KAAK,CAACE,OAAnB,EAA4B;AACjCD,+BAAa,GAAGD,KAAK,CAACE,OAAtB;AACD,iBAFM,MAEA;AACLD,+BAAa,GAAGD,KAAhB;AACD;AACF,eARD,CAQE,OAAOG,EAAP,EAAW,CAAG,CAVT,CAWP;;;AACA,qBAAI,CAACjC,OAAL,GAAe,KAAf;AACD,aAhCL;AAkCD;AApMiC;AAAA;AAAA,iBAsMlC,wBAAe2E,UAAf,EAA2B;AAAA;;AACzB;AACA,gBAAME,SAAS,GAAG,KAAKpF,MAAL,CAAYqF,IAAZ,CAAiB,sEAAjB,EAAoC;AACpDC,2BAAa,EAAE,8BADqC;AAEpD6J,wBAAU,EAAE,2BAFwC;AAGpDvN,kBAAI,EAAE;AACJsD,0BAAU,EAAEA,UADR;AAEJnB,0BAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAFpD;AAH8C,aAApC,CAAlB;AASA4D,qBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI;AAC1C,kBAAIyE,oBAAoB,GAAG,IAA3B;;AACA,kBAAIzE,MAAJ,EAAY;AACV,oBAAIA,MAAM,CAAC7D,IAAX,EAAiB;AACfsI,sCAAoB,GAAGzE,MAAM,CAAC7D,IAAP,CAAYuD,YAAnC;;AACA,sBAAI+E,oBAAJ,EAA0B;AACxB,wBAAI,CAACA,oBAAoB,CAAC1I,GAA1B,EAA+B;AAC7B0I,0CAAoB,CAAC1I,GAArB,GAA2B0I,oBAAoB,CAACjE,MAArB,GAA8B,IAA9B,GAAqCiE,oBAAoB,CAACnG,UAArF;AACD;;AACDmG,wCAAoB,CAACC,MAArB,GAA8B1E,MAAM,CAAC7D,IAAP,CAAYuI,MAAZ,IAAsB,8DAAcG,OAAlE;;AACA,2BAAI,CAACvK,aAAL,CAAmByK,4BAAnB,CAAgDN,oBAAoB,CAACjE,MAArE;;AACA,4BAAQiE,oBAAoB,CAACC,MAA7B;AACE,2BAAK,8DAAcG,OAAnB;AACEJ,4CAAoB,CAACG,SAArB,GAA+B,OAAI,CAACvK,qBAAL,CAA2ByB,gBAA3B,CAA4CC,GAA3E;;AACA,+BAAI,CAACzB,aAAL,CAAmB0K,eAAnB,CAAmC,IAAnC,EAAyCP,oBAAzC;;AACA;;AACF;AACE,+BAAI,CAACnK,aAAL,CAAmB2K,kBAAnB,CAAsC,IAAtC,EAA4CR,oBAA5C,EAAkE,OAAI,CAACpK,qBAAL,CAA2ByB,gBAA7F;;AACA;AAPJ;;AASA,4BAAQ2I,oBAAoB,CAACC,MAA7B;AACE,2BAAK,8DAAc1I,QAAnB;AACE,+BAAI,CAACtB,YAAL,CAAkB6K,OAAlB,CAA0B,kEAA1B,EAA8F,IAA9F;;AACA;;AACF,2BAAK,8DAAcV,OAAnB;AACE,+BAAI,CAACnK,YAAL,CAAkB6K,OAAlB,CAA0B,gEAA1B,EAA4F,IAA5F;;AACA;;AACF,2BAAK,8DAAcQ,QAAnB;AACA,2BAAK,8DAAcC,eAAnB;AACA,2BAAK,8DAAcC,yBAAnB;AACA,2BAAK,8DAAcC,SAAnB;AACE,+BAAI,CAACxL,YAAL,CAAkB6K,OAAlB,CAA0B,iEAA1B,EAA6F,IAA7F;;AACA;;AACF,2BAAK,8DAAcY,SAAnB;AACE,+BAAI,CAACzL,YAAL,CAAkB6K,OAAlB,CAA0B,kEAA1B,EAA8F,IAA9F;;AACA;;AACF,2BAAK,8DAAca,MAAnB;AACA,2BAAK,8DAAcC,OAAnB;AACA,2BAAK,8DAAcC,gBAAnB;AACA,2BAAK,8DAAcxB,mBAAnB;AACE,+BAAI,CAACpK,YAAL,CAAkB6K,OAAlB,CAA0B,gEAA1B,EAA4F,IAA5F;;AACA;;AACF;AACE;AAvBJ;AAyBD;AACF;AACF,eA/CyC,CAgD1C;;AACD,aAjDD;AAkDD;AAnQiC;AAAA;AAAA,iBAqQlC,8BAAqB9F,UAArB,EAAiC;AAC/B,gBAAI5B,qBAAqB,GAAG,IAA5B;;AACA,oBAAQ,KAAKxD,qBAAL,CAA2ByB,gBAA3B,CAA4CgC,IAApD;AACE,mBAAK,qDAAKC,QAAV;AACEF,qCAAqB,GAAG,kDAAY4B,UAAZ,CAAxB;AACA5B,qCAAqB,CAACI,yBAAtB,GAAkD,+CAASwB,UAAU,CAACxB,yBAApB,EAA+C;AAAE,gCAAc,KAAK5D,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAA5D,iBAA/C,CAAlD;AACA;;AACF;AACE8B,qCAAqB,GAAG,kDAAY4B,UAAZ,CAAxB;AACA;AAPJ,aAF+B,CAW/B;;;AACA,gBAAME,SAAS,GAAG,KAAKpF,MAAL,CAAYqF,IAAZ,CAAiB,+EAAjB,EAA6C;AAC7DC,2BAAa,EAAE,8BAD8C;AAE7D6J,wBAAU,EAAE,2BAFiD;AAG7DvN,kBAAI,EAAE;AACJsD,0BAAU,EAAE5B,qBADR;AAEJS,0BAAU,EAAE,KAAKjE,qBAAL,CAA2ByB,gBAA3B,CAA4CC;AAFpD;AAHuD,aAA7C,CAAlB;AASA4D,qBAAS,CAACI,WAAV,GAAwB7D,SAAxB,CAAkC,UAAA8D,MAAM,EAAI,CAC1C;AACD,aAFD;AAGD;AA7RiC;;AAAA;AAAA,S;;;;gBArBU;;gBAQrC;;gBANW;;gBAHX;;gBACA;;gBAFA;;gBAKA;;gBAHc;;;;AAqBVuW,6BAAuB,6DANnC,gEAAU;AACTtW,gBAAQ,EAAE,qBADD;AAETC,gBAAQ,EAAR,kFAFS;AAIT8W,uBAAe,EAAE,sEAAwBC,OAJhC;;AAAA,OAAV,CAMmC,E,+EASb,4D,EACI,yE,EACF,0D,EACI,iF,EACH,6D,EACC,+E,EACR,kE,EACgB,sE,EAhBC,GAAvBV,uBAAuB,CAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCjBAW,eAAe;AAE1B,mCAAc;AAAA;AAAG;;AAFS;AAAA;AAAA,iBAI1B,oBAAW,CACV;AALyB;;AAAA;AAAA,S;;;;;;AAAfA,qBAAe,6DAL3B,gEAAU;AACTjX,gBAAQ,EAAE,YADD;AAETC,gBAAQ,EAAR,yEAFS;;AAAA,OAAV,CAK2B,E,iFAAA,GAAfgX,eAAe,CAAf;;;;;;;;;;;;;;;;ACPb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCUFC,6BAA6B;AACxC,+CACUzc,YADV,EAEUE,MAFV,EAGUP,qBAHV,EAGsD;AAAA;;AAF5C,eAAAK,YAAA,GAAAA,YAAA;AACA,eAAAE,MAAA,GAAAA,MAAA;AACA,eAAAP,qBAAA,GAAAA,qBAAA;AAET;;AANuC;AAAA;AAAA,iBAOxC,qBAAY6T,KAAZ,EAA2C7M,KAA3C,EAAuE;AACrE,gBAAMmT,WAAW,GAAG,KAAKna,qBAAL,CAA2ByB,gBAA/C;;AACA,gBAAI0Y,WAAJ,EAAiB;AACf,kBAAI4C,gBAAgB,GAAG,EAAvB;;AACA,kBAAI;AACFA,gCAAgB,GAAG5C,WAAW,CAAC1W,IAA/B;AACD,eAFD,CAEE,OAAOf,EAAP,EAAW,CAAG;;AAEhB,kBAAI,CAACyX,WAAW,CAAC/L,oCAAjB,EAAuD;AACrD,qBAAK7N,MAAL,CAAYqP,QAAZ,CAAqB,CAACmN,gBAAgB,GAAG,OAApB,CAArB;AACA,qBAAK1c,YAAL,CAAkBkC,KAAlB,CAAwB,iHAAxB,EAA2I,IAA3I;AACA,uBAAO,KAAP;AACD,eAVc,CAWf;;;AACA,qBAAO,IAAP;AACD,aAfoE,CAgBrE;;;AACA,gBAAIuE,QAAQ,GAAG,KAAKvG,MAAL,CAAYyc,oBAAZ,GAAmCC,MAAnC,CAA0CjW,KAAzD;;AACA,gBAAIF,QAAJ,EAAc;AACZA,sBAAQ,CAACoW,SAAT,GAAqBlW,KAAK,CAACmW,GAA3B;AACD;;AACD,iBAAK5c,MAAL,CAAYqP,QAAZ,CAAqB,CAAC,QAAD,CAArB,EAAiC;AAAE5I,mBAAK,EAAEF;AAAT,aAAjC;AAEA,mBAAO,KAAP;AACD;AA/BuC;;AAAA;AAAA,S;;;;gBALjC;;gBAJmE;;gBAGnE;;;;AAMIgW,mCAA6B,6DAHzC,iEAAW;AACVM,kBAAU,EAAE;AADF,OAAX,CAGyC,E,+EAEhB,6D,EACN,sD,EACe,6F,EAJO,GAA7BN,6BAA6B,CAA7B","file":"borrower-borrower-module-es5.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJib3Jyb3ctbm93LmNvbXBvbmVudC5jc3MifQ== */\";","export default \"<!-- addSession section -->\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-xl-3 col-12\\\">\\n        <div class=\\\"card border-left-primary shadow py-2 mb-3\\\">\\n            <div class=\\\"card-body\\\">\\n                <div class=\\\"row no-gutters align-items-center\\\">\\n                    <div class=\\\"col mr-2\\\">\\n                        <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\n                            Loan Amount\\n                        </div>\\n                        <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\" i18n>\\n                            kr {{f.loanAmount.value}}\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-auto\\\">\\n                        <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"card border-left-primary shadow py-2 mb-3\\\">\\n            <div class=\\\"card-body\\\">\\n                <div class=\\\"row no-gutters align-items-center\\\">\\n                    <div class=\\\"col mr-2\\\">\\n                        <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\n                            EMI (Monthly)\\n                        </div>\\n                        <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\" i18n>\\n                            kr {{_calculatedMonthlyAmountForEMI}}\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-auto\\\">\\n                        <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"card border-left-primary shadow py-2\\\">\\n            <div class=\\\"card-body\\\">\\n                <div class=\\\"row no-gutters align-items-center\\\">\\n                    <div class=\\\"col mr-2\\\">\\n                        <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\n                            Total Loan\\n                        </div>\\n                        <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\" i18n>\\n                            kr\\n                            {{utilityService.returnRoundedNumber(_calculatedMonthlyAmountForEMI*f.loanTenureInMonths.value)}}\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-auto\\\">\\n                        <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"col-xl-9 col-12\\\">\\n        <div class=\\\"card shadow mb-4\\\">\\n            <!-- Card Header - Dropdown -->\\n            <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\n                <h6 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>Get A Loan</h6>\\n            </div>\\n            <!-- Card Body -->\\n            <div class=\\\"card-body\\\">\\n                <form [formGroup]=\\\"addSessionForm\\\" class=\\\"theme-form\\\">\\n\\n                    <div class=\\\"row\\\">\\n\\n                        <div class=\\\"col-xl-12 col-12\\\">\\n\\n                            <div class=\\\"form-group\\\">\\n                                <label for=\\\"loanType\\\" i18n>Loan Type</label>\\n                                <select formControlName=\\\"loanType\\\" class=\\\"custom-select\\\"\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.loanType.errors }\\\">\\n                                    <option value=\\\"\\\" selected disabled> Choose Loan Type</option>\\n                                    <option *ngFor=\\\"let item of _.values(utilityService.ParentLoanTypes);\\\"\\n                                        [ngValue]=\\\"item._id\\\" >\\n                                        {{item.name}}</option>\\n                                </select>\\n                                <div *ngIf=\\\"submitted && f.loanType.errors\\\" class=\\\"invalid-feedback\\\">\\n                                    <div *ngIf=\\\"f.loanType.errors.required\\\" i18n>Loan type is required</div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"col-xl-12 col-12\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <label for=\\\"loanAmount\\\" i18n>Loan Amount</label>\\n                                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"loanAmount\\\" class=\\\"form-control\\\"\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.loanAmount.errors }\\\"\\n                                    (change)=\\\"calculateMonthlyAmountForEMI()\\\" (keyup)=\\\"calculateMonthlyAmountForEMI()\\\"\\n                                    pattern=\\\"^[1-9]\\\\d*$\\\" />\\n                                <div *ngIf=\\\"submitted && f.loanAmount.errors\\\" class=\\\"invalid-feedback\\\">\\n                                    <div *ngIf=\\\"f.loanAmount.errors.required\\\" i18n>Loan Amount is required</div>\\n                                    <div *ngIf=\\\"f.loanAmount.errors.min\\\" i18n>value must be greater than 1</div>\\n                                    <div *ngIf=\\\"f.loanAmount.errors.max\\\" i18n>value must be less than\\n                                        {{currentUserMaxLoanAmount}}</div>\\n                                    <div *ngIf=\\\"f.loanAmount.errors.pattern\\\" i18n>value should be a valid number</div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"col-xl-12 small text-primary mt-n3 mb-3\\\">\\n\\n                        </div>\\n                        <div class=\\\"col-xl-12 col-12\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <label for=\\\"loanTenureInMonths\\\" i18n>Tenure in Months</label>\\n                                <input type=\\\"number\\\" formControlName=\\\"loanTenureInMonths\\\" class=\\\"form-control\\\"\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.loanTenureInMonths.errors }\\\"\\n                                    (change)=\\\"calculateMonthlyAmountForEMI()\\\" (keyup)=\\\"calculateMonthlyAmountForEMI()\\\"\\n                                    pattern=\\\"^[1-9]\\\\d*$\\\" />\\n                                <div *ngIf=\\\"submitted && f.loanTenureInMonths.errors\\\" class=\\\"invalid-feedback\\\">\\n                                    <div *ngIf=\\\"f.loanTenureInMonths.errors.required\\\" i18n>Loan Tenure is\\n                                        required\\n                                    </div>\\n                                    <div *ngIf=\\\"f.loanTenureInMonths.errors.min\\\" i18n>value must be greater than\\n                                        3</div>\\n                                    <div *ngIf=\\\"f.loanTenureInMonths.errors.pattern\\\" i18n>value should be a valid number\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"col-xl-12 col-12\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <label for=\\\"loanInterestRate\\\" i18n>Interest(%) Rate (per month)</label>\\n                                <input type=\\\"number\\\" formControlName=\\\"loanInterestRate\\\" class=\\\"form-control\\\"\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.loanInterestRate.errors }\\\"\\n                                    (change)=\\\"calculateMonthlyAmountForEMI()\\\"\\n                                    (keyup)=\\\"calculateMonthlyAmountForEMI()\\\" />\\n                                <div *ngIf=\\\"submitted && f.loanInterestRate.errors\\\" class=\\\"invalid-feedback\\\">\\n                                    <div *ngIf=\\\"f.loanInterestRate.errors.required\\\" i18n>Interest Rate is\\n                                        required\\n                                    </div>\\n                                    <div *ngIf=\\\"f.loanInterestRate.errors.min\\\" i18n>\\n                                        min interest rate of {{loanInterestRateMin}}%\\n                                    </div>\\n                                    <div *ngIf=\\\"f.loanInterestRate.errors.max\\\" i18n>\\n                                        max interest rate of {{loanInterestRateMax}}% (remember to check  the rules for your country)\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <!--\\n                                <div class=\\\"col-xl-12 col-12\\\">\\n                                    <div class=\\\"form-group\\\">\\n                                        <label for=\\\"loanStartDateTimeCustomised\\\" i18n>Start on</label>\\n                                        <input type=\\\"date\\\" formControlName=\\\"loanStartDateTimeCustomised\\\"\\n                                            class=\\\"form-control\\\"\\n                                            [ngClass]=\\\"{ 'is-invalid': submitted && f.loanStartDateTimeCustomised.errors }\\\"\\n                                            [max]=\\\"maxDate\\\" [min]=\\\"minDate\\\" />\\n                                        <div *ngIf=\\\"submitted && f.loanStartDateTimeCustomised.errors\\\"\\n                                            class=\\\"invalid-feedback\\\">\\n                                            <div *ngIf=\\\"f.loanStartDateTimeCustomised.errors.required\\\" i18n>Start Date\\n                                                Time is required\\n                                            </div>\\n                                            <div *ngIf=\\\"f.loanStartDateTimeCustomised.errors.date\\\" i18n>Invalid Date\\n                                                format.\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            -->\\n                        <!--\\n                                        <div class=\\\"col-xl-12 col-12\\\">\\n                                            <label for=\\\"loanEndDateTimeCustomised\\\" i18n>Ends on</label>\\n                                            <input [readonly]=\\\"true\\\" type=\\\"datetime-local\\\"\\n                                                formControlName=\\\"loanEndDateTimeCustomised\\\" class=\\\"form-control\\\"\\n                                                [ngClass]=\\\"{ 'is-invalid': submitted && f.loanEndDateTimeCustomised.errors }\\\"\\n                                                [max]=\\\"maxDate\\\" [min]=\\\"minDate\\\" />\\n                                            <div *ngIf=\\\"submitted && f.loanEndDateTimeCustomised.errors\\\"\\n                                                class=\\\"invalid-feedback\\\">\\n                                                <div *ngIf=\\\"f.loanEndDateTimeCustomised.errors.required\\\" i18n>End Date Time is\\n                                                    required\\n                                                </div>\\n                                                <div *ngIf=\\\"f.loanEndDateTimeCustomised.errors.date\\\" i18n>Invalid Date format.\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        -->\\n                        <div class=\\\"col-xl-12 mb-3\\\">\\n                            <div for=\\\"loanRepaymentType\\\" class=\\\"mb-2\\\" i18n>How to give the money</div>\\n\\n                            <div class=\\\"form-check-inline\\\"\\n                                *ngFor=\\\"let item of _.values( utilityService.LoanRepaymentTypes);\\\">\\n\\n                                <div class=\\\"custom-control custom-checkbox\\\">\\n                                    <input name=\\\"service\\\" id=\\\"services_{{item._id}}\\\" type=\\\"checkbox\\\"\\n                                        class=\\\"custom-control-input\\\" value=\\\"{{item._id}}\\\"\\n                                        (change)=\\\"onLoanRepaymentTypeChange($event)\\\"\\n                                        [checked]=\\\"onInitSetLoanRepaymentTypeValue(item._id)\\\"\\n                                        [ngClass]=\\\"{ 'is-invalid': submitted && f.loanRepaymentType.errors }\\\">\\n                                    <label for=\\\"services_{{item._id}}\\\"\\n                                        class=\\\"custom-control-label\\\">{{item.name}}</label>\\n                                </div>\\n\\n                            </div>\\n                            <div *ngIf=\\\"submitted && f.loanRepaymentType.errors\\\" class=\\\"invalid-feedback\\\">\\n                                <div *ngIf=\\\"f.loanRepaymentType.errors.required\\\">Payment option required\\n                                </div>\\n                            </div>\\n\\n                        </div>\\n\\n                        <div class=\\\"col-xl-12 mb-3\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <label for=\\\"comment\\\" i18n>Description:</label>\\n                                <textarea class=\\\"form-control\\\" formControlName=\\\"loanDescription\\\" rows=\\\"2\\\"\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.loanDescription.errors }\\\">\\n                                            </textarea>\\n                            </div>\\n                            <div *ngIf=\\\"submitted && f.loanDescription.errors\\\" class=\\\"invalid-feedback\\\">\\n                                <div *ngIf=\\\"f.loanDescription.errors.required\\\" i18n>Description is\\n                                    required\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"row\\\">\\n                        <div class=\\\"col-xl-12 text-center\\\">\\n                            <hr>\\n                            <button type=\\\"button\\\" (click)=\\\"onaddSessionUpdateSubmit()\\\" [disabled]=\\\"loading\\\"\\n                                class=\\\"btn btn-primary\\\" i18n>Submit</button>\\n                            <img *ngIf=\\\"loading\\\" class=\\\"pl-3\\\"\\n                                src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\" />\\n                        </div>\\n                    </div>\\n                </form>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<!-- addSession section -->\";","export default \"<!-- Page Heading -->\\n<!-- <div class=\\\"d-sm-flex align-items-center justify-content-between mb-4\\\">\\n        <h1 class=\\\"h3 mb-0 text-gray-800\\\">Dashboard</h1>\\n        <a href=\\\"#\\\" class=\\\"d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm\\\"><i class=\\\"fas fa-download fa-sm text-white-50\\\"></i> Profile</a>\\n    </div> -->\\n\\n<div [ngSwitch]=\\\"authenticationService.currentUserValue.role\\\">\\n    <div *ngSwitchCase=\\\"Role.Borrower\\\">\\n        <div class=\\\"jumbotron\\\"\\n            *ngIf=\\\"!authenticationService.currentUserValue.isVerified || !authenticationService.currentUserValue.isUsersBankDetailsSubmitted || !authenticationService.currentUserValue.isUsersIncomeAndExpenseProofVerified\\\">\\n            <div class=\\\"text-black-50 h2 font-weight-lighter\\\" i18n>\\n                Welome, Your profile has been verified succesfully. Your need to submit your\\n                <span class=\\\"badge badge-danger\\\" >Bank Details</span> and\\n                <span class=\\\"badge badge-danger\\\" >Income Proof Documents</span> to access the loan market.\\n            </div>\\n            <hr>\\n            <ul class=\\\"list-unstyled\\\">\\n                <li class=\\\"d-flex align-items-center justify-content-center mb-3 h4\\\" i18n>\\n                    Profile and personal document verification\\n                    <span [ngSwitch]=\\\"authenticationService.currentUserValue.isVerified\\\">\\n                        <i *ngSwitchCase=\\\"true\\\" class=\\\"icon icon-check-box text-success ml-3\\\"></i>\\n                        <i *ngSwitchDefault class=\\\"icon icon-pencil-alt text-danger ml-3\\\"\\n                            routerLink=\\\"/borrower/profile\\\"></i>\\n                    </span>\\n                </li>\\n                <li class=\\\"d-flex align-items-center justify-content-center mb-3 h4\\\" i18n>\\n                    Bank details submission\\n                    <span [ngSwitch]=\\\"authenticationService.currentUserValue.isUsersBankDetailsSubmitted\\\">\\n                        <i *ngSwitchCase=\\\"true\\\" class=\\\"icon icon-check-box text-success ml-3\\\"></i>\\n                        <i *ngSwitchDefault class=\\\"icon icon-pencil-alt text-danger ml-3\\\"\\n                            routerLink=\\\"/borrower/bank-details\\\"></i>\\n                    </span>\\n                </li>\\n                <li class=\\\"d-flex align-items-center justify-content-center mb-3 h4\\\" i18n>\\n                    Income Proof Documents and Mothly Expenses\\n                    <span [ngSwitch]=\\\"authenticationService.currentUserValue.isUsersIncomeAndExpenseProofVerified\\\">\\n                        <i *ngSwitchCase=\\\"true\\\" class=\\\"icon icon-check-box text-success ml-3\\\"></i>\\n                        <i *ngSwitchDefault class=\\\"icon icon-pencil-alt text-danger ml-3\\\"\\n                            routerLink=\\\"/borrower/income-proof\\\"></i>\\n                    </span>\\n                </li>\\n            </ul>\\n        </div>\\n    </div>\\n    <div *ngSwitchCase=\\\"Role.Lender\\\">\\n        <div class=\\\"jumbotron\\\"\\n            *ngIf=\\\"!authenticationService.currentUserValue.isVerified || !authenticationService.currentUserValue.isUsersBankDetailsSubmitted\\\">\\n            <div class=\\\"text-black-50 h2 font-weight-lighter\\\" i18n>\\n                Welome, Your profile has been verified succesfully. Your need to submit your\\n                <span class=\\\"badge badge-danger\\\">Bank Details</span> to access the Loan Market.\\n            </div>\\n            <hr>\\n            <ul class=\\\"list-unstyled\\\">\\n                <li class=\\\"d-flex align-items-center justify-content-center mb-3 h4\\\" i18n>\\n                    Profile and personal document verification\\n                    <span [ngSwitch]=\\\"authenticationService.currentUserValue.isVerified\\\">\\n                        <i *ngSwitchCase=\\\"true\\\" class=\\\"icon icon-check-box text-success ml-3\\\"></i>\\n                        <i *ngSwitchDefault class=\\\"icon icon-pencil-alt text-danger ml-3\\\"\\n                            routerLink=\\\"/lender/profile\\\"></i>\\n                    </span>\\n                </li>\\n                <li class=\\\"d-flex align-items-center justify-content-center mb-3 h4\\\" i18n>\\n                    Bank details submission\\n                    <span [ngSwitch]=\\\"authenticationService.currentUserValue.isUsersBankDetailsSubmitted\\\">\\n                        <i *ngSwitchCase=\\\"true\\\" class=\\\"icon icon-check-box text-success ml-3\\\"></i>\\n                        <i *ngSwitchDefault class=\\\"icon icon-pencil-alt text-danger ml-3\\\"\\n                            routerLink=\\\"/lender/bank-details\\\"></i>\\n                    </span>\\n                </li>\\n            </ul>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <!-- Earnings (Monthly) Card Example -->\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\n        <div class=\\\"card border-left-warning shadow h-100\\\">\\n            <div class=\\\"card-body dashobard-card\\\">\\n                <div class=\\\"row no-gutters align-items-center\\\">\\n                    <div class=\\\"col mr-2\\\">\\n                        <div class=\\\"text-xs font-weight-bold text-warning text-uppercase mb-1\\\" i18n>\\n                            Member since\\n                        </div>\\n                        <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\">\\n                            {{authenticationService.currentUserValue.userVerifiedOn | date:'dd-MMM-YYYY'}}\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-auto\\\">\\n                        <i class=\\\"fas fa-dollar-sign fa-2x text-gray-300\\\"></i>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\n        <div class=\\\"card border-left-primary shadow h-100\\\">\\n            <div class=\\\"card-body dashobard-card\\\">\\n                <div class=\\\"row no-gutters align-items-center\\\">\\n                    <div class=\\\"col mr-2\\\">\\n                        <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\n                            My Level\\n                        </div>\\n                        <div class=\\\"h5 mb-0 font-weight-bold text-gray-800 text-capitalize text-cap\\\">\\n                            <!--{{utilityService.returnStringWithReplacing_(authenticationService.currentUserValue.userType)}}-->\\n                            {{authenticationService.returnUserTypeForUserFromSuppliedUserLevel(authenticationService.currentUserValue.userType)}}\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-auto\\\">\\n                        <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <!-- Earnings (Monthly) Card Example -->\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\n        <div class=\\\"card border-left-success shadow h-100\\\">\\n            <div class=\\\"card-body dashobard-card\\\">\\n                <div class=\\\"row no-gutters align-items-center\\\">\\n                    <div class=\\\"col mr-2\\\">\\n                        <div class=\\\"text-xs font-weight-bold text-success text-uppercase mb-1\\\" i18n>\\n                            Paid Contracts\\n                        </div>\\n                        <div class=\\\"row no-gutters align-items-center\\\">\\n                            <div class=\\\"col-auto\\\">\\n                                <div class=\\\"h5 mb-0 mr-3 font-weight-bold text-gray-800\\\">{{allMyPaidContractCount}}\\n                                </div>\\n                            </div>\\n                            <!-- <div class=\\\"col\\\">\\n                                            <div class=\\\"progress progress-sm mr-2\\\">\\n                                                <div class=\\\"progress-bar bg-info\\\" role=\\\"progressbar\\\" style=\\\"width: 50%\\\" aria-valuenow=\\\"50\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"></div>\\n                                            </div>\\n                                        </div> -->\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-auto\\\">\\n                        <i class=\\\"fas fa-clipboard-list fa-2x text-gray-300\\\"></i>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <!-- Pending Requests Card Example -->\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\n        <div class=\\\"card border-left-secondary shadow h-100\\\">\\n            <div class=\\\"card-body dashobard-card\\\">\\n                <div class=\\\"row no-gutters align-items-center\\\">\\n                    <div class=\\\"col mr-2\\\">\\n                        <div class=\\\"text-xs font-weight-bold text-secondary text-uppercase mb-1\\\" i18n>\\n                            Paid Loans</div>\\n                        <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\">{{allMyPaidLoanCount}}</div>\\n                    </div>\\n                    <div class=\\\"col-auto\\\">\\n                        <i class=\\\"fas fa-comments fa-2x text-gray-300\\\"></i>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\n        <div class=\\\"card bg-primary text-white shadow\\\">\\n            <div class=\\\"card-body dashobard-card\\\">\\n                <div class=\\\"text-xs font-weight-bold text-uppercase mb-1\\\" i18n>\\n                    Active Loan</div>\\n                <div class=\\\"h5 mb-0 font-weight-bold\\\">{{allMyActiveLoanCount}}</div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\n        <div class=\\\"card bg-success text-white shadow\\\">\\n            <div class=\\\"card-body dashobard-card\\\">\\n                <div class=\\\"text-xs font-weight-bold text-uppercase mb-1\\\" i18n>\\n                    UnSigned contracts</div>\\n                <div class=\\\"h5 mb-0 font-weight-bold\\\">{{allMyUnSignedContractLoanCount}}</div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\n        <div class=\\\"card bg-warning text-white shadow\\\">\\n            <div class=\\\"card-body dashobard-card\\\">\\n                <div class=\\\"text-xs font-weight-bold text-uppercase mb-1\\\" i18n>\\n                    Disbursed Loans</div>\\n                <div class=\\\"h5 mb-0 font-weight-bold\\\">{{allMyDisbursedLoanCount}}</div>\\n            </div>\\n        </div>\\n    </div>\\n    <!--\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\n        <div class=\\\"card bg-secondary text-white shadow\\\">\\n            <div class=\\\"card-body dashobard-card\\\">\\n                <div class=\\\"text-xs font-weight-bold text-uppercase mb-1\\\">\\n                    Profit Overview</div>\\n                <div class=\\\"h5 mb-0 font-weight-bold\\\">{{allMyProfitOverviewCount}}</div>\\n            </div>\\n        </div>\\n    </div>\\n-->\\n</div>\\n\\n<div class=\\\"row\\\">\\n\\n    <div class=\\\"col-xl-12 col-12\\\">\\n        <div class=\\\"card shadow mb-4\\\">\\n\\n            <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\n                <h6 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>Active Loans</h6>\\n\\n            </div>\\n\\n            <div class=\\\"card-body p-0\\\">\\n                <div class=\\\"table-responsive table-billing-history\\\">\\n                    <table class=\\\"table mb-0\\\">\\n                        <thead>\\n                            <tr>\\n                                <th scope=\\\"col\\\" i18n>Type</th>\\n                                <th scope=\\\"col\\\">\\n                                    {{Role.Lender!=authenticationService.currentUserValue.role?'Lender\\n                                    Name':'Borrower Name'}}\\n                                </th>\\n                                <th scope=\\\"col\\\" i18n>Amount</th>\\n                                <th scope=\\\"col\\\" i18n>Refund</th>\\n                                <th scope=\\\"col\\\" i18n>Next EMI</th>\\n                                <th scope=\\\"col\\\" i18n>Status</th>\\n                                <th scope=\\\"col\\\">#</th>\\n                            </tr>\\n                        </thead>\\n                        <tbody>\\n                            <!--New Data table from Sessions Apply-->\\n                            <tr\\n                            *ngFor=\\\"let LoanApplyObj of utilityService._.values( allSessionApplyData) | mySessionsFilter : 'status' : ['accepted']:checkCreatedByUserId:checkCreatedByT\\\">\\n                            <td class=\\\"text-capitalize\\\">{{(LoanApplyObj.sessionForBorrower.loanType ||\\n                                \\\"\\\").replace(\\\"_\\\", \\\" \\\")}}</td>\\n                            <td class=\\\"text-capitalize\\\">\\n                                {{userService.returnUsersObjFromLocal(null,\\n                                null,'firstName',\\n                                (LoanApplyObj.lenderId!=authenticationService.currentUserValue._id?LoanApplyObj.lenderId:LoanApplyObj.borrowerId))}}\\n                            </td>\\n                            <td>{{LoanApplyObj.loanAmount || LoanApplyObj.sessionForBorrower.loanAmount}}</td>\\n                            <td>{{utilityService.returnRoundedNumber((LoanApplyObj.calculatedMonthlyAmountForEMI ||\\n                                LoanApplyObj.sessionForBorrower.calculatedMonthlyAmountForEMI) *\\n                                LoanApplyObj.sessionForBorrower.loanTenureInMonths)}}</td>\\n                            <td>{{LoanApplyObj.nextInstallment | date:'dd-MMM-YYYY'}}</td>\\n                            <td>\\n                                <div *ngIf=\\\"LoanApplyObj.lenderId!=authenticationService.currentUserValue._id\\\">\\n                                    <a *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByLender\\\">\\n                                        <span class=\\\"badge badge-danger\\\" i18n>\\n                                            Pending\\n                                        </span>\\n                                    </a>\\n                                    <a\\n                                        *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender && !LoanApplyObj.isLoanAmountPaidByLenderConfirmByBorrower\\\">\\n                                        <span class=\\\"badge badge-warning\\\" i18n>\\n                                            Money Sent\\n                                        </span>\\n                                    </a>\\n                                    <a\\n                                        *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender && LoanApplyObj.isLoanAmountPaidByLenderConfirmByBorrower\\\">\\n                                        <span class=\\\"badge badge-success\\\" i18n>\\n                                            Received Money\\n                                        </span>\\n                                    </a>\\n                                </div>\\n                                <div *ngIf=\\\"LoanApplyObj.lenderId==authenticationService.currentUserValue._id\\\">\\n                                    <a *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByLender\\\">\\n                                        <span\\n                                            *ngIf=\\\"LoanApplyObj.lenderId==authenticationService.currentUserValue._id\\\"\\n                                            class=\\\"badge badge-danger\\\" i18n>\\n                                            Money Not Sent\\n                                        </span>\\n                                    </a>\\n                                    <a\\n                                    *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender && !LoanApplyObj.isLoanAmountPaidByLenderConfirmByBorrower\\\">\\n                                    <span class=\\\"badge badge-warning\\\" i18n>\\n                                        Money Sent\\n                                    </span>\\n                                    </a>\\n                                    <a\\n                                        *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender && LoanApplyObj.isLoanAmountPaidByLenderConfirmByBorrower\\\">\\n                                        <span class=\\\"badge badge-success\\\" i18n>\\n                                            Money Sent\\n                                        </span>\\n                                    </a>\\n                                </div>\\n                            </td>\\n                            <td>\\n                                <div *ngIf=\\\"LoanApplyObj.lenderId!=authenticationService.currentUserValue._id\\\">\\n                                    <a (click)=\\\"LoanMoneyTransferStatusModel(LoanApplyObj.sessionForBorrower, LoanApplyObj)\\\"\\n                                        *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender && !LoanApplyObj.isLoanAmountPaidByLenderConfirmByBorrower\\\">\\n                                        <span class=\\\"badge badge-success\\\" i18n>is Money Received?</span>\\n                                    </a>\\n                                    <a *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender && LoanApplyObj.isLoanAmountPaidByLenderConfirmByBorrower && LoanApplyObj.nextInstallment && !LoanApplyObj.isLoanAmountPaidByBorrower\\\">\\n                                       <!--\\n                                        <span (click)=\\\"LoanMoneyTransferStatusModel(LoanApplyObj.sessionForBorrower, LoanApplyObj, LoanApplyObj.nextInstallment)\\\" class=\\\"badge badge-success\\\">is Installment Money Transfered?</span>\\n                                    -->\\n                                    <div class=\\\"form-check-inline\\\">\\n                                        <div class=\\\"custom-control custom-checkbox\\\">\\n                                            <input name=\\\"isLoanAmountPaidByBorrower\\\" id=\\\"isLoanAmountPaidByBorrower\\\" type=\\\"checkbox\\\"\\n                                                class=\\\"custom-control-input\\\" [value]=\\\"true\\\"\\n                                                (change)=\\\"LoanMoneyTransferStatusChange($event, LoanApplyObj.sessionForBorrower, LoanApplyObj, LoanApplyObj.nextInstallment)\\\"\\n                                                [checked]=\\\"LoanApplyObj.isLoanAmountPaidByBorrower\\\">\\n                                            <label for=\\\"isLoanAmountPaidByBorrower\\\" class=\\\"custom-control-label\\\" i18n>\\n                                                Installment Money Transfered\\n                                            </label>\\n                                        </div>\\n                                    </div>\\n                                    </a>\\n                                </div>\\n                                <div *ngIf=\\\"LoanApplyObj.lenderId==authenticationService.currentUserValue._id\\\">\\n                                    <a *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByLender\\\">\\n                                       <!--\\n                                        <span (click)=\\\"LoanMoneyTransferStatusModel(LoanApplyObj.sessionForBorrower, LoanApplyObj)\\\" class=\\\"badge badge-success\\\">\\n                                            is Money Transfered?\\n                                        </span>\\n                                    -->\\n                                        <div class=\\\"form-check-inline\\\">\\n                                            <div class=\\\"custom-control custom-checkbox\\\">\\n                                                <input name=\\\"isLoanAmountPaidByLender\\\" id=\\\"isLoanAmountPaidByLender\\\" type=\\\"checkbox\\\"\\n                                                    class=\\\"custom-control-input\\\" [value]=\\\"true\\\"\\n                                                    (change)=\\\"LoanMoneyTransferStatusChange($event, LoanApplyObj.sessionForBorrower, LoanApplyObj)\\\"\\n                                                    [checked]=\\\"LoanApplyObj.isLoanAmountPaidByLender\\\">\\n                                                <label for=\\\"isLoanAmountPaidByLender\\\" class=\\\"custom-control-label\\\" i18n>\\n                                                    Money Transfered\\n                                                </label>\\n                                            </div>\\n                                        </div>\\n                                    </a>\\n                                    <a (click)=\\\"LoanMoneyTransferStatusModel(LoanApplyObj.sessionForBorrower, LoanApplyObj, null, true)\\\"\\n                                        *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByBorrower && LoanApplyObj.installmentWiseLoanAmountPaidByBorrower\\\">\\n                                        <span class=\\\"badge badge-success\\\" i18n>is Installment Money Received?&nbsp;</span>\\n                                        <span\\n                                            *ngFor=\\\"let installmentObj of LoanApplyObj.installmentWiseLoanAmountPaidByBorrower\\\">\\n                                            <i *nfIf=\\\"installmentObj.createdOnForLoanAmountPaidToLender && !installmentObj.createdOnForLoanAmountPaidToLenderConfirmByLender\\\">*</i>\\n                                        </span>\\n                                    </a>\\n\\n\\n                                </div>\\n                            </td>\\n                        </tr>\\n                            <!--New Data table from Session Apply-->\\n\\n                            <!--Old Data table from Sessions-->\\n                            <!--\\n                            <tr\\n                                *ngFor=\\\"let LoanObj of allSessionsData | mySessionsFilter : 'sessionAppliedByBorrowers[0].status' : ['accepted']:checkCreatedByUserId:checkCreatedByT\\\">\\n                                <td class=\\\"text-capitalize\\\">{{(LoanObj.loanType || \\\"\\\").replace(\\\"_\\\", \\\" \\\")}}</td>\\n                                <td class=\\\"text-capitalize\\\">\\n                                    {{userService.returnUsersObjFromLocal(LoanObj.sessionAppliedByBorrowers,\\n                                    true,'firstName')}}</td>\\n                                <td>{{LoanObj.loanAmount}}</td>\\n                                <td>{{utilityService.returnRoundedNumber(LoanObj.calculatedMonthlyAmountForEMI *\\n                                    LoanObj.loanTenureInMonths)}}</td>\\n                                <td>{{LoanObj.nextInstallment | date:'dd-MMM-YYYY'}}</td>\\n                                <td>\\n                                    <div *ngFor=\\\"let LoanApplyObj of LoanObj.sessionAppliedByBorrowers\\\">\\n                                        <a>\\n                                            <span *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByLender\\\"\\n                                                class=\\\"badge badge-danger\\\">Pending</span>\\n                                            <span *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender\\\"\\n                                                class=\\\"badge badge-success\\\">Received Money</span>\\n                                        </a>\\n                                    </div>\\n                                </td>\\n                                <td>\\n                                    <a (click)=\\\"showAppliedToSession(LoanObj)\\\">\\n                                        <span class=\\\"badge badge-primary\\\">Details</span>\\n                                    </a>\\n                                </td>\\n                            </tr>\\n                        -->\\n                            <!--Old Data table from Sessions-->\\n                            <tr class=\\\"mt-2 text-center no-item\\\">\\n\\n                                <h5 class=\\\"my-4 font-weight-normal\\\" i18n>No Data Found.</h5>\\n                            </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"col-xl-12 col-12\\\">\\n        <div class=\\\"card shadow mb-4\\\">\\n\\n            <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\n                <h6 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>Unsigned Contracts</h6>\\n\\n            </div>\\n\\n            <div class=\\\"card-body p-0\\\">\\n                <div class=\\\"table-responsive table-billing-history\\\">\\n                    <table class=\\\"table mb-0\\\">\\n                        <thead>\\n                            <tr>\\n                                <th scope=\\\"col\\\" i18n>Type</th>\\n                                <th scope=\\\"col\\\" i18n>Lender Name</th>\\n                                <th scope=\\\"col\\\" i18n>Amount</th>\\n                                <th scope=\\\"col\\\" i18n>Refund</th>\\n                                <!--<th scope=\\\"col\\\">Next EMI</th>-->\\n                                <th scope=\\\"col\\\" i18n>Application Date</th>\\n                                <th scope=\\\"col\\\" i18n>Status</th>\\n                                <th scope=\\\"col\\\">#</th>\\n                            </tr>\\n                        </thead>\\n                        <tbody>\\n                            <tr\\n                                *ngFor=\\\"let LoanObj of allSessionsData | mySessionsFilter : 'sessionAppliedByBorrowers[0].status' : ['awaiting_for_approval']:checkCreatedByUserId:checkCreatedByT\\\">\\n                                <td class=\\\"text-capitalize\\\">{{(LoanObj.loanType || \\\"\\\").replace(\\\"_\\\", \\\" \\\")}}</td>\\n                                <td class=\\\"text-capitalize\\\">\\n                                    {{userService.returnUsersObjFromLocal(LoanObj.sessionAppliedByBorrowers,\\n                                    true,'firstName')}}</td>\\n                                <td>{{LoanObj.loanAmount}}</td>\\n                                <td>{{utilityService.returnRoundedNumber(LoanObj.calculatedMonthlyAmountForEMI *\\n                                    LoanObj.loanTenureInMonths)}}</td>\\n                                <!--<td>{{LoanObj.nextInstallment | date:'dd-MMM-YYYY'}}</td>-->\\n                                <td>{{LoanObj.applicationDate | datePretty}}</td>\\n                                <td>\\n                                    <div *ngFor=\\\"let LoanApplyObj of LoanObj.sessionAppliedByBorrowers\\\">\\n                                        <a>\\n                                            <span *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByLender\\\"\\n                                                class=\\\"badge badge-danger\\\" i18n>Pending</span>\\n                                            <span *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender\\\"\\n                                                class=\\\"badge badge-success\\\" i18n>Received Money</span>\\n                                        </a>\\n                                    </div>\\n                                </td>\\n                                <td>\\n                                    <a (click)=\\\"showAppliedToSession(LoanObj)\\\">\\n                                        <span class=\\\"badge badge-primary\\\" i18n>Details</span>\\n                                    </a>\\n                                </td>\\n                            </tr>\\n                            <tr class=\\\"mt-2 text-center no-item\\\">\\n\\n                                <h5 class=\\\"my-4 font-weight-normal\\\" i18n>No Data Found.</h5>\\n                            </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"col-xl-12 col-12\\\">\\n        <div class=\\\"card shadow mb-4\\\">\\n\\n            <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\n                <h6 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>Paid Loans</h6>\\n\\n            </div>\\n\\n            <div class=\\\"card-body p-0\\\">\\n                <div class=\\\"table-responsive table-billing-history\\\">\\n                    <table class=\\\"table mb-0\\\">\\n                        <thead>\\n                            <tr>\\n                                <th scope=\\\"col\\\" i18n>Type</th>\\n                                <th scope=\\\"col\\\" i18n>Lender Name</th>\\n                                <th scope=\\\"col\\\" i18n>Amount</th>\\n                                <th scope=\\\"col\\\" i18n>Refund</th>\\n                                <th scope=\\\"col\\\" i18n>Status</th>\\n                                <th scope=\\\"col\\\">#</th>\\n                            </tr>\\n                        </thead>\\n                        <tbody>\\n                            <tr\\n                                *ngFor=\\\"let LoanObj of allSessionsData | mySessionsFilter : 'sessionAppliedByBorrowers[0].status' : ['paid','completed']:checkCreatedByUserId:checkCreatedByT\\\">\\n                                <td class=\\\"text-capitalize\\\">{{(LoanObj.loanType || \\\"\\\").replace(\\\"_\\\", \\\" \\\")}}</td>\\n                                <td class=\\\"text-capitalize\\\">\\n                                    {{userService.returnUsersObjFromLocal(LoanObj.sessionAppliedByBorrowers,\\n                                    true,'firstName')}}</td>\\n                                <td>{{LoanObj.loanAmount}}</td>\\n                                <td>{{utilityService.returnRoundedNumber(LoanObj.calculatedMonthlyAmountForEMI *\\n                                    LoanObj.loanTenureInMonths)}}</td>\\n                                <td>\\n                                    <div *ngFor=\\\"let LoanApplyObj of LoanObj.sessionAppliedByBorrowers\\\">\\n                                        <a>\\n                                            <span *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByLender\\\"\\n                                                class=\\\"badge badge-danger\\\" i18n>Pending</span>\\n                                            <span *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender\\\"\\n                                                class=\\\"badge badge-success\\\" i18n>Received Money</span>\\n                                        </a>\\n                                    </div>\\n                                </td>\\n                                <td>\\n                                    <a (click)=\\\"showAppliedToSession(LoanObj)\\\">\\n                                        <span class=\\\"badge badge-primary\\\" i18n>Details</span>\\n                                    </a>\\n                                </td>\\n                            </tr>\\n                            <tr class=\\\"mt-2 text-center no-item\\\">\\n\\n                                <h5 class=\\\"my-4 font-weight-normal\\\" i18n>No Data Found.</h5>\\n                            </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<!--\\n    <div class=\\\"row d-none\\\">\\n    \\n        <div class=\\\"col-xl-4 col-12\\\">\\n            <div class=\\\"row\\\">\\n    \\n                <div class=\\\"col-xl-12 col-md-6 mb-3\\\">\\n                    <div class=\\\"card shadow-sm\\\">\\n                        <div class=\\\"card-body\\\">\\n                            <div class=\\\"row no-gutters align-items-center\\\">\\n                                <div class=\\\"col text-center border-right\\\">\\n                                    <div class=\\\"text-xs font-weight-bold text-success text-uppercase mb-1\\\">My Wallet\\n                                    </div>\\n                                    <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\">\\n                                        ${{fundService.totalFund4currentUser}}</div>\\n                                </div>\\n    \\n                                <div class=\\\"col text-center\\\">\\n                                    <div class=\\\"text-xs font-weight-bold text-success text-uppercase mb-1\\\">My Sessions\\n                                    </div>\\n                                    <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\">\\n                                        {{allSessionsCount}}/{{allSessionsTodayCount}}</div>\\n                                </div>\\n    \\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n    \\n                <div class=\\\"col-xl-12 col-md-6 mb-3\\\">\\n    \\n                    <section class=\\\"blog-sidebar pt-0\\\">\\n                        <div class=\\\"row pl-0 pr-0\\\">\\n                            <div class=\\\"col-lg-12\\\">\\n                                 <div>\\n                                    <h5 class=\\\"blog-title\\\">upcoming sessions</h5>\\n                                    <div class=\\\"sidebar-container\\\">\\n                                        <div *ngFor=\\\"let item of utilityService._.values(allSessionsTodayList);\\\" class=\\\"post-container d-flex\\\">\\n                                            <div class=\\\"w-35 m-r-25\\\">\\n                                                <img alt=\\\"\\\" class=\\\"img-fluid\\\" src=\\\"./assets/img/na.png\\\">\\n                                                <div class=\\\"badge badge-blue\\\">\\n                                                    {{item.location}}\\n                                                </div>\\n                                            </div>\\n                                            <div>\\n                                                <h5 class=\\\"post-head\\\">{{item.sessionSubject}}</h5>\\n                                                <h6 class=\\\"date\\\">{{item.loanStartDateTime | date:'medium'}}</h6>\\n                                                <div class=\\\"mt-3\\\">\\n                                                    <i class=\\\"icon-video-camera fa-lg mr-3\\\" (click)=\\\"clickedOnSessionChatVideo(item, true)\\\"></i>\\n                                                    <i class=\\\"icon-comment\\\" (click)=\\\"clickedOnSessionChatVideo(item, false)\\\"></i>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"mt-2 text-center blog-agency no-item\\\">\\n                                            <img src=\\\"assets/img/noresult.png\\\" style=\\\"height: 60px;\\\">\\n                                            <h5 class=\\\"mt-3 font-weight-normal\\\">Looks like you don't have any counselling Session today</h5>\\n                                        </div>\\n    \\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </section>\\n                </div>\\n    \\n            </div>\\n    \\n        </div>\\n    \\n        <div class=\\\"col-xl-8 col-12\\\">\\n    \\n            <section class=\\\"agency blog blog-sec blog-sidebar sider p-0\\\">\\n    \\n                <div class=\\\"h6 mb-3\\\">\\n    \\n                    LATEST SESSIONS\\n                   \\n                </div>\\n                <div class=\\\"card shadow-sm mb-4\\\" *ngFor=\\\"let session of allSessionsData\\\">\\n                    <div class=\\\"bg-white blog-title card-header mb-0 text-capitalize\\\">\\n                        {{session.sessionSubject}}\\n                    </div>\\n                    <div class=\\\"card-body px-md-3 px-1 small\\\">\\n                         <div class=\\\"row\\\">               \\n                        <div class=\\\"col-xl-12 col-12\\\">\\n                            <p class=\\\"para2\\\" [class.show_more]=\\\"!session._id\\\">\\n                                {{session.loanDescription}}\\n                            </p>\\n                        </div>          \\n                        <div class=\\\"col-xl-6 col-6 border-right mb-2\\\">\\n                            <i aria-hidden=\\\"true\\\" class=\\\"icon-timer mr-2\\\"></i> {{session.loanStartDateTime | date:'MMM d, h:mm a'}}\\n                        </div>\\n                       \\n                        <div class=\\\"col-xl-6 col-6\\\">\\n                            <i aria-hidden=\\\"true\\\" class=\\\"icon-location-pin m-r-10\\\"></i>\\n                            \\n                            {{session.location}}\\n                        </div>\\n                      \\n                    </div>\\n                    </div>\\n                    <div class=\\\"card-footer bg-white\\\">\\n                        <span class=\\\"badge badge-success font-weight-normal text-capitalize btn float-left\\\" >{{session.sessionType}}</span>\\n                        <a *ngIf=\\\"!check4applyToSession(session)\\\" class=\\\"btn btn-success  text-capitalize btn-sm float-right text-white\\\" (click)=\\\"applyToSession(session)\\\">Apply</a>\\n                        <a *ngIf=\\\"check4applyToSession(session)\\\" class=\\\"btn btn-primary text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(session)\\\"> Details</a>\\n                    </div>\\n                </div>\\n                \\n                <div *ngIf=\\\"!allSessionsData\\\">\\n                    <div class=\\\"content_loader\\\"></div>\\n                    <div class=\\\"content_loader\\\"></div>\\n                </div>\\n    \\n            </section>\\n        </div>\\n    </div>\\n    -->\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlYXJuaW5ncy5jb21wb25lbnQuY3NzIn0= */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {ScrollingModule} from '@angular/cdk/scrolling';\nimport { RouterModule, Routes } from '@angular/router';\nimport { BorrowerRoutingModule, } from './borrower-routing.module';\nimport { BorrowerComponent,ModalApplySession, ModalAppliedSessionDisplay } from './borrower.component';\nimport { HeaderComponent } from './header/header.component';\nimport { FooterComponent } from './footer/footer.component';\nimport { HomeComponent } from './home/home.component';\nimport { BrowseSessionsComponent } from './browse-sessions/browse-sessions.component';\nimport { MySessionsComponent } from './my-sessions/my-sessions.component';\nimport { EarningsComponent } from './earnings/earnings.component';\nimport { SharedModule } from './../shared/shared.module';\nimport { CalendarComponent } from './calendar/calendar.component';\nimport { FullCalendarModule } from '@fullcalendar/angular';\nimport dayGridPlugin from '@fullcalendar/daygrid'; \nimport interactionPlugin from '@fullcalendar/interaction';\nimport { LoanMarketComponent } from './loan-market/loan-market.component';\nimport { GetALoanComponent } from './get-a-loan/get-a-loan.component';\nimport { BorrowNowComponent } from './borrow-now/borrow-now.component';\n\n\nFullCalendarModule.registerPlugins([ // register FullCalendar plugins\n  dayGridPlugin,\n  interactionPlugin\n]);\n\n@NgModule({\n  declarations: [BorrowerComponent, HeaderComponent, FooterComponent, HomeComponent, BrowseSessionsComponent, MySessionsComponent, EarningsComponent, ModalApplySession, ModalAppliedSessionDisplay, CalendarComponent, LoanMarketComponent, GetALoanComponent, BorrowNowComponent],\n  imports: [\n    CommonModule,\n    MatDialogModule,\n    ScrollingModule,\n    BorrowerRoutingModule,\n    SharedModule,\n    RouterModule,\n    FullCalendarModule\n  ],\n  entryComponents: [ModalApplySession,ModalAppliedSessionDisplay]\n})\nexport class BorrowerModule { }\n","export default \"\";","export default \"<section class=\\\"tab-product  p-b-0\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-12 col-lg-12\\\">\\n            <ul class=\\\"nav nav-justified nav-material nav-tabs\\\" id=\\\"top-tab\\\" role=\\\"tablist\\\">\\n                <li class=\\\"nav-item\\\">\\n                    <a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\n                        [ngClass]=\\\"{ 'active': selectedTab=='received', 'show': selectedTab=='received'}\\\"\\n                        data-toggle=\\\"tab\\\" href=\\\"#top-home\\\" id=\\\"top-home-tab\\\" role=\\\"tab\\\"\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('received');\\\" i18n>My Contracts\\n                        &nbsp;\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalPendingContract || 0}}\\n                        </span>\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\n\\n                    </a>\\n                    <div class=\\\"material-border\\\"></div>\\n                </li>\\n                <li class=\\\"nav-item\\\">\\n                    <a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\n                        [ngClass]=\\\"{ 'active': selectedTab=='sent', 'show': selectedTab=='sent'}\\\" data-toggle=\\\"tab\\\"\\n                        href=\\\"#top-sent\\\" id=\\\"profile-sent-tab\\\" role=\\\"tab\\\"\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('sent')\\\" i18n>Sent\\n                        &nbsp;\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalSentContract || 0}}\\n                        </span>\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\n                    </a>\\n                    <div class=\\\"material-border\\\"></div>\\n                </li>\\n                <li class=\\\"nav-item\\\">\\n                    <a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\n                        [ngClass]=\\\"{ 'active': selectedTab=='canceled', 'show': selectedTab=='canceled'}\\\"\\n                        data-toggle=\\\"tab\\\" href=\\\"#top-canceled\\\" id=\\\"profile-canceled-tab\\\" role=\\\"tab\\\"\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('canceled')\\\" i18n>Cancelled\\n                        &nbsp;\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalCanceledContract || 0}}\\n                        </span>\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\n                            title=\\\"Cancelled contracts\\\"></i>\\n                    </a>\\n                    <div class=\\\"material-border\\\"></div>\\n                </li>\\n                <li class=\\\"nav-item\\\">\\n                    <a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\n                        [ngClass]=\\\"{ 'active': selectedTab=='active', 'show': selectedTab=='active'}\\\" data-toggle=\\\"tab\\\"\\n                        href=\\\"#top-active\\\" id=\\\"profile-active-tab\\\" role=\\\"tab\\\"\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('active')\\\" i18n>Active\\n                        &nbsp;\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalActiveContract || 0}}\\n                        </span>\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\n                    </a>\\n                    <div class=\\\"material-border\\\"></div>\\n                </li>\\n                <li class=\\\"nav-item\\\">\\n                    <a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\n                        [ngClass]=\\\"{ 'active': selectedTab=='paid', 'show': selectedTab=='paid'}\\\" data-toggle=\\\"tab\\\"\\n                        href=\\\"#top-profile\\\" id=\\\"profile-top-tab\\\" role=\\\"tab\\\"\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('paid')\\\" i18n>Paid\\n                        &nbsp;\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalPaidContract || 0}}\\n                        </span>\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\n                    </a>\\n                    <div class=\\\"material-border\\\"></div>\\n                </li>\\n                <li class=\\\"nav-item\\\"><a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\n                        [ngClass]=\\\"{ 'active': selectedTab=='unpaid', 'show': selectedTab=='unpaid'}\\\" data-toggle=\\\"tab\\\"\\n                        href=\\\"#top-profile\\\" id=\\\"profile-top-tab\\\" role=\\\"tab\\\"\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('unpaid')\\\" i18n>Unpaid\\n                        &nbsp;\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalUnPaidContract || 0}}\\n                        </span>\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\n                    </a>\\n                    <div class=\\\"material-border\\\"></div>\\n                </li>\\n                <li class=\\\"nav-item\\\"><a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\n                        [ngClass]=\\\"{ 'active': selectedTab=='inkasso', 'show': selectedTab=='inkasso'}\\\"\\n                        data-toggle=\\\"tab\\\" href=\\\"#top-contact\\\" id=\\\"contact-top-tab\\\" role=\\\"tab\\\"\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('inkasso')\\\" i18n>Inkasso\\n\\n                        &nbsp;\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalInkassoContract || 0}}\\n                        </span>\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\n                    </a>\\n                    <div class=\\\"material-border\\\"></div>\\n                </li>\\n                <!-- <li class=\\\"nav-item\\\"><a aria-selected=\\\"true\\\" class=\\\"nav-link\\\" data-toggle=\\\"tab\\\" href=\\\"#top-review\\\" id=\\\"review-top-tab\\\" role=\\\"tab\\\" (click)=\\\"SessionStatusTypeFilter=[SessionStatus.Completed]\\\">Completed \\n                    <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\n                        </a>\\n                    <div class=\\\"material-border\\\"></div>\\n                </li> -->\\n            </ul>\\n        </div>\\n    </div>\\n</section>\\n\\n<section class=\\\"agency blog blog-sec blog-sidebar sider p-0 mt-4\\\">\\n    <!-- ;-->\\n    <div class=\\\"card shadow-sm mb-4\\\"\\n        *ngFor=\\\"let LoanObj of allSessionsData | mySessionsFilter : 'sessionAppliedByBorrowers[0].status' : (SessionStatusTypeFilter.length>0 ? SessionStatusTypeFilter:['accepted']):checkCreatedByUserId:checkCreatedByT:(SessionStatusTypeFilter.indexOf(SessionStatus.Pending)>-1)\\\">\\n        <div class=\\\"bg-white blog-title card-header mb-0 text-capitalize\\\">\\n            <span class=\\\"float-left\\\">{{utilityService.returnLoanType(LoanObj.loanType)}}</span>\\n            <span class=\\\"float-right cursor-pointer\\\" (click)=\\\"usersProfile(LoanObj.createdByUserObj)\\\">\\n                <i class=\\\"icon icon-user\\\"></i>\\n                {{LoanObj.createdByUserObj.firstName}}\\n                <i *ngIf=\\\"authenticationService.currentUserValue._id==LoanObj.createdByUserObj._id\\\">*</i>\\n            </span>\\n        </div>\\n        <div class=\\\"card-body px-md-3 px-1 small\\\">\\n            <div class=\\\"row\\\">\\n\\n                <div class=\\\"col-xl-4 col-12\\\">\\n                    <div class=\\\"form-group border-right\\\">\\n                        <label for=\\\"loanAmount\\\" i18n>Loan Amount</label>\\n                        <h4 class=\\\"text-primary\\\">\\n                            {{LoanObj.loanAmount}}\\n                        </h4>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-xl-4 col-12\\\">\\n                    <div class=\\\"form-group  border-right\\\">\\n                        <label for=\\\"loanTenureInMonths\\\" i18n>Tenure in Months</label>\\n                        <h4 class=\\\"text-primary\\\">\\n                            {{LoanObj.loanTenureInMonths}}\\n                        </h4>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-xl-4 col-12\\\">\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"loanInterestRate\\\" i18n>Interest(%) Rate (per month)</label>\\n                        <h4 class=\\\"text-primary\\\">\\n                            {{LoanObj.loanInterestRate}}\\n                        </h4>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-xl-4 col-12\\\">\\n                    <div class=\\\"form-group border-right\\\">\\n                        <label for=\\\"loanStartDateTime\\\" i18n>Start Date</label>\\n                        <h4 class=\\\"text-primary\\\" i18n>\\n                            {{LoanObj.loanStartDateTime | date:'dd-MMM-YYYY'}}\\n                        </h4>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-xl-4 col-12\\\">\\n                    <div class=\\\"form-group  border-right\\\">\\n                        <p class=\\\"mb-2\\\" i18n>How to give the money</p>\\n\\n                        <span *ngIf=\\\"utilityService.returnLoanRepaymentType('bank',LoanObj)>-1\\\"\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                            BANK\\n                        </span>\\n                        <span *ngIf=\\\"utilityService.returnLoanRepaymentType('cash',LoanObj)>-1\\\"\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                            Cash\\n                        </span>\\n                        <span *ngIf=\\\"utilityService.returnLoanRepaymentType('revolut',LoanObj)>-1\\\"\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                            Revolut\\n                        </span>\\n                        <span *ngIf=\\\"utilityService.returnLoanRepaymentType('paypal',LoanObj)>-1\\\"\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                            Paypal\\n                        </span>\\n                        <span *ngIf=\\\"utilityService.returnLoanRepaymentType('skrill',LoanObj)>-1\\\"\\n                            class=\\\"badge font-weight-light text-uppercase badge-success\\\">\\n                            Skrill\\n                        </span>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-xl-12\\\">\\n                    <p class=\\\"mb-2\\\" i18n>Description:</p>\\n                    <div class=\\\"text-black-50\\\" >\\n                        {{LoanObj.loanDescription}}\\n                    </div>\\n                </div>\\n\\n            </div>\\n        </div>\\n        <div class=\\\"card-footer bg-white\\\">\\n            <span\\n                class=\\\"badge badge-success font-weight-normal text-capitalize btn float-left\\\">{{LoanObj.sessionType}}</span>\\n            <div class=\\\"row\\\"\\n                [ngSwitch]=\\\"returnSessionApplyStatus(utilityService._.first(LoanObj.sessionAppliedByBorrowers))\\\">\\n                <!-- the same view can be shown in more than one case -->\\n                <div class=\\\"col-xl-12\\\" *ngSwitchCase=\\\"SessionStatus.Pending\\\">\\n                    <!--\\n                    <a *ngIf=\\\"!check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\">APPLY</a>\\n                    <a *ngIf=\\\"check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\"> Details</a>\\n                    -->\\n\\n                    <label *ngIf=\\\"LoanObj.loanMaxBorrower\\\"\\n                        class=\\\"btn btn-primary text-capitalize btn-sm text-white\\\" title=\\\"Received Requests/Total Applicants\\\">\\n                        {{ _.keys(LoanObj.sessionAppliedByBorrowers).length || 0}}/{{LoanObj.loanMaxBorrower}}\\n                    </label>\\n\\n                    <a class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\"\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\" i18n> Details</a>\\n                    <a *ngIf=\\\"LoanObj.createdByUserObj._id==authenticationService.currentUserValue._id\\\"\\n                        class=\\\"btn btn-danger text-capitalize btn-sm float-right text-white mr-2\\\"><i class=\\\"icon icon-trash\\\"\\n                            (click)=\\\"deleteSessionById(LoanObj._id)\\\"></i></a>\\n                    \\n                    \\n                </div>\\n                <div class=\\\"col-xl-12\\\" *ngSwitchCase=\\\"SessionStatus.Accepted\\\">\\n                    <!--\\n                    <a *ngIf=\\\"!check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\">APPLY</a>\\n                    <a *ngIf=\\\"check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\"> Details</a>\\n                    -->\\n                    <a class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\"\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\" i18n> Details</a>\\n                    <label *ngIf=\\\"LoanObj.loanMaxBorrower\\\"\\n                        class=\\\"abs-center btn btn-primary text-capitalize btn-sm text-white\\\">\\n                        {{ _.keys(LoanObj.sessionAppliedByBorrowers).length || 0}}/{{LoanObj.loanMaxBorrower}}\\n                    </label>\\n                </div>\\n                <div class=\\\"col-xl-12\\\" *ngSwitchCase=\\\"SessionStatus.OngoingInitiated\\\">\\n                    <!--\\n                    <button *ngIf=\\\"check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right\\\" (click)=\\\"sessionApplyOngoingCheck(LoanObj, utilityService._.first(LoanObj.sessionAppliedByBorrowers))\\\">\\n                        Proceed for Execution\\n                    </button>\\n                -->\\n                    <a class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\"\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\" i18n> Details</a>\\n                    <label *ngIf=\\\"LoanObj.loanMaxBorrower\\\"\\n                        class=\\\"abs-center btn btn-primary text-capitalize btn-sm text-white\\\">\\n                        {{ _.keys(LoanObj.sessionAppliedByBorrowers).length || 0}}/{{LoanObj.loanMaxBorrower}}\\n                    </label>\\n                </div>\\n                <div class=\\\"col-xl-12\\\" *ngSwitchCase=\\\"SessionStatus.AwaitingForApproval\\\">\\n                    <a *ngIf=\\\"!check4applyToSession(LoanObj, checkCreatedByT)\\\"\\n                        class=\\\"btn btn-success btn-sm text-capitalize float-right text-white\\\"\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\">\\n                        Details\\n                    </a>\\n                    <a *ngIf=\\\"check4applyToSession(LoanObj, checkCreatedByT)\\\"\\n                        class=\\\"btn btn-success btn-sm text-capitalize float-right text-white\\\"\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\" i18n> <i class=\\\"icon-check fa-lg text-white\\\"></i>\\n                        Proceed for Contract Sign\\n                    </a>\\n                    <label *ngIf=\\\"LoanObj.loanMaxBorrower\\\"\\n                        class=\\\"abs-center btn btn-primary text-capitalize btn-sm text-white\\\">\\n                        {{ _.keys(LoanObj.sessionAppliedByBorrowers).length || 0}}/{{LoanObj.loanMaxBorrower}}\\n                    </label>\\n                </div>\\n                <div class=\\\"col-xl-12\\\" *ngSwitchCase=\\\"SessionStatus.Ongoing\\\">\\n                    <!--\\n                    <a *ngIf=\\\"!check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\">\\n                        Details\\n                    </a>\\n                    <a *ngIf=\\\"check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\"> <i class=\\\"icon-check fa-lg text-white\\\"></i>\\n                        Proceed for Execution\\n                    </a>\\n                -->\\n                    <a class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\"\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\"> Details</a>\\n                    <label *ngIf=\\\"LoanObj.loanMaxBorrower\\\"\\n                        class=\\\"abs-center btn btn-primary text-capitalize btn-sm text-white\\\">\\n                        {{ _.keys(LoanObj.sessionAppliedByBorrowers).length || 0}}/{{LoanObj.loanMaxBorrower}}\\n                    </label>\\n                </div>\\n                <!--default case when there are no matches -->\\n                <div class=\\\"col-xl-12\\\" *ngSwitchDefault>\\n                    <!--\\n                    <a *ngIf=\\\"!check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success btn-sm text-capitalize float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\">Apply</a>\\n                    <a *ngIf=\\\"check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\">Details</a>\\n                    -->\\n                    <a class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\"\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\" i18n> Details</a>\\n                    <label *ngIf=\\\"LoanObj.loanMaxBorrower\\\"\\n                        class=\\\"abs-center btn btn-primary text-capitalize btn-sm text-white\\\">\\n                        {{ _.keys(LoanObj.sessionAppliedByBorrowers).length || 0}}/{{LoanObj.loanMaxBorrower}}\\n                    </label>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"mt-5 text-center blog-agency no-item\\\">\\n        <!-- <img src=\\\"assets/img/noresult.png\\\"> -->\\n        <!--\\n        <div class=\\\"spinner-border text-success mb-4\\\"></div>\\n        <h2 class=\\\"text-black-50\\\">Hold on updating Loan Data</h2>\\n        -->\\n    </div>\\n</section>\";","import { Component, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport { CalendarOptions } from '@fullcalendar/angular'; // useful for typechecking\nimport { first } from 'rxjs/internal/operators/first';\nimport { Role, SessionStatus, User } from 'src/app/models';\nimport { AuthenticationService, AlertService, UserService } from 'src/app/services';\nimport { ContactService } from 'src/app/services/contact.service';\nimport { SessionsService } from 'src/app/services/sessions.service';\nimport { UtilityService } from 'src/app/services/utility.service';\nimport { SocketioService } from 'src/app/socketio.service';\nimport { ModalApplySession } from '../borrower.component';\n\n@Component({\n  selector: 'app-calendar',\n  templateUrl: './calendar.component.html',\n  styleUrls: ['./calendar.component.css']\n})\nexport class CalendarComponent implements OnInit {\n  loading: Boolean = false;\n  SessionStatus = SessionStatus;\n  SessionStatusTypeFilter: string[] = [];\n  checkCreatedByUserId: string = '';\n  checkCreatedByT: Boolean = false;\n  currentUser: User;\n  allSessionsData: any;\n  allSessionsCount: any;\n\n  constructor(\n    public authenticationService: AuthenticationService,\n    private socketService: SocketioService,\n    public dialog: MatDialog,\n    public contactService: ContactService,\n    private utilityService: UtilityService,\n    private alertService: AlertService,\n    public userService: UserService,\n    public router: Router,\n    private sessionsService: SessionsService,\n  ) {\n    this.sessionsService.getSessionAllByBorrowerId(this.authenticationService.currentUserValue._id, null, null, SessionStatus.Accepted, true, null)\n      .pipe(first())\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n            //alert(JSON.stringify( data));\n            this.allSessionsData = data['data'];\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\n            //this.alertService.success(data['message'], true);\n            this.bindDataToCalendrUI(this.allSessionsData);\n            this.loading = false;\n            //this.element_btn_click_addSession_skills_verification.click();\n          } else {\n            //alert(JSON.stringify(data['message']));\n            //this.alertService.error(data['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          //this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n\n    this.sessionsService.getUpdatesForSessionAllByBorrowerId()\n      .subscribe(\n        data => {\n          if (data && data['success']) {\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\n            for (let _items in data['data']) {\n              let _currentObj = data['data'][_items];\n              _keyPairedMapObj[_currentObj._id] = _currentObj\n            }\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\n            this.bindDataToCalendrUI(this.allSessionsData);\n            this.loading = false;\n          } else {\n            this.loading = false;\n          }\n        },\n        error => {\n          this.loading = false;\n        });\n\n  }\n\n  ngOnInit(): void {\n  }\n\n  calendarOptions: CalendarOptions = {\n    initialView: 'dayGridMonth',\n    dateClick: this.handleDateClick.bind(this), // bind is important!\n    eventClick: this.handleEeventClick.bind(this),\n    events: [\n      { title: 'event 1', date: '2019-04-01' },\n      { title: 'event 2', date: '2019-04-02' }\n    ]\n  };\n\n  handleDateClick(arg) {\n    arg.jsEvent.preventDefault();\n    //alert('date click! ' + arg.dateStr)\n  }\n  handleEeventClick(arg) {\n    arg.jsEvent.preventDefault();\n    //alert('event click! ' + arg.event.id);\n    let _sessionId = arg.event.id;\n    let _sessionObj = this.utilityService._.filter(this.allSessionsData, { '_id': _sessionId })[0];\n    let _proccessedSessionObj = null;\n    switch (this.authenticationService.currentUserValue.role) {\n      case Role.Borrower:\n        _proccessedSessionObj =this.utilityService._.cloneDeep(_sessionObj);\n        _proccessedSessionObj.sessionAppliedByBorrowers = _sessionObj.sessionAppliedByBorrowers;\n        break;\n      case Role.Lender:\n        _proccessedSessionObj = this.utilityService._.cloneDeep(_sessionObj);\n        _proccessedSessionObj.sessionAppliedByBorrowers = _sessionObj.sessionAppliedByBorrowers;//_sessionAppliedByLenders\n        break;\n      default:\n        _proccessedSessionObj = this.utilityService._.cloneDeep(_sessionObj);\n        break;\n    }\n    \n    let _sessionApplyObj = this.utilityService._.first(_proccessedSessionObj.sessionAppliedByBorrowers);\n    let _borrowerId = null;\n    if (_sessionApplyObj) {\n      _borrowerId = _sessionApplyObj.borrowerId\n    }\n\n    this.showDataOfLoanObjInModal(_sessionObj, _sessionApplyObj, _borrowerId);\n  }\n\n  bindDataToCalendrUI(_allSessionsData) {\n    let _all_installments = [];\n    for (let inedexOuter in _allSessionsData) {\n\n      let _LoanObj = {\n        _id: null,\n        loanTenureInMonths: null,\n        loanStartDateTime: null,\n        calculatedMonthlyAmountForEMI: null,\n        loanType: null\n      };\n      _LoanObj = _allSessionsData[inedexOuter];\n\n      for (let index = 0; index < _LoanObj.loanTenureInMonths; index++) {\n        let installment = {\n          loanStartDateTime: null,\n          calculatedMonthlyAmountForEMI: null,\n          title: null,\n          date: null,\n          description: null,\n          id: null,\n        };\n\n        installment.loanStartDateTime = this.utilityService.returnDateWithAddingMonths(_LoanObj.loanStartDateTime, index + 1).format(\"YYYY-MM-DD\");\n        installment.calculatedMonthlyAmountForEMI = _LoanObj.calculatedMonthlyAmountForEMI;\n\n        installment.date = installment.loanStartDateTime;\n        installment.id = _LoanObj._id;\n        installment.description = '' + installment.calculatedMonthlyAmountForEMI;\n        let _installmentString = '' + (index + 1).toString();\n        installment.title = _installmentString + '. ' + installment.calculatedMonthlyAmountForEMI + '-' + this.utilityService.returnLoanType(_LoanObj.loanType);\n        _all_installments.push(installment);\n      }\n\n    }\n\n\n    this.calendarOptions = {\n      initialView: 'dayGridMonth',\n      dateClick: this.handleDateClick.bind(this), // bind is important!\n      eventClick: this.handleEeventClick.bind(this),\n      events: _all_installments\n    };\n  }\n\n  showDataOfLoanObjInModal(sessionObj, sessionApply, borrowerId) {\n    const dialogRef = this.dialog.open(ModalApplySession, {\n      backdropClass: 'cdk-overlay-transparent-backdrop',\n      hasBackdrop: true,\n      data: {\n        sessionObj: sessionObj,\n        borrowerId: this.authenticationService.currentUserValue._id\n      }\n    });\n\n\n    dialogRef.afterClosed().subscribe(result => {\n      //console.log(`25 :: co :: Dialog result: ${JSON.stringify(result)}`);\n    });\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJteS1zZXNzaW9ucy5jb21wb25lbnQuY3NzIn0= */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYWxlbmRhci5jb21wb25lbnQuY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport * as moment from 'moment';\nimport { first } from 'rxjs/operators';\nimport { Role, SessionStatus, UserType } from 'src/app/models/role';\nimport { AuthenticationService, UserService, AlertService } from 'src/app/services';\nimport { AppRouterService } from 'src/app/services/app-router.service';\nimport { UtilityService } from 'src/app/services/utility.service';\nimport { SocketioService } from 'src/app/socketio.service';\nimport * as _ from 'lodash'\nimport { User } from 'src/app/models';\nimport { ContactService } from 'src/app/services/contact.service';\nimport { PublicProfileComponent } from 'src/app/shared/public-profile/public-profile.component';\nimport { MatDialog } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-borrow-now',\n  templateUrl: './borrow-now.component.html',\n  styleUrls: ['./borrow-now.component.css']\n})\nexport class BorrowNowComponent implements OnInit {\n  borrowNowForm: FormGroup;\n  loading: Boolean = false;\n  LoanObj: any = {};\n  loanId: any = null;\n  loanApplyId: any = null;\n  submitted: Boolean = false;\n  public borrowerUserObj: User = null;\n  public lenderUserObj: User = null;\n  headerMessage2show = \"\";\n  userClickedOnSignLoanContract: Boolean = false;\n  constructor(\n    private socketService: SocketioService,\n    public utilityService: UtilityService,\n    private socketioService: SocketioService,\n    private alertService: AlertService,\n    private appRouterService: AppRouterService,\n    private formBuilder: FormBuilder,\n    public authenticationService: AuthenticationService,\n    private userService: UserService,\n    public contactService: ContactService,\n    public dialog: MatDialog,\n  ) {\n    if (_.keys(this.authenticationService.allUserLevelsDataLenders).length <= 0 || _.keys(this.authenticationService.allUserLevelsDataBorrower).length <= 0) {\n      this.authenticationService.fetchAllUserLevelsByUserId();\n    }\n    let paramobj = history.state;\n    if (paramobj) {\n      this.loanId = paramobj['loanId'];\n      delete history.state['loanId'];\n\n      this.loanApplyId = paramobj['loanApplyId'];\n      delete history.state['loanApplyId'];\n      if (this.loanApplyId) {\n        this.initForm();\n        this.clickedOnSignLoanContract(true);\n      }\n      if (this.loanId) {\n        this.socketioService.getLoanMarketDataById(this.loanId)\n          .pipe(first())\n          .subscribe(\n            data => {\n              //#region proccess for success here\n              if (data && data['success']) {\n                if (data[\"data\"]) {\n                  //#region data set to local of loan obj\n                  if (data[\"data\"][\"_id\"]) {\n                    this.LoanObj = data[\"data\"];\n                  } else {\n                    this.LoanObj = data[\"data\"][0];\n                  }\n                  let _obj4LoanApply = null;\n                  if (this.loanApplyId) {\n                    _obj4LoanApply = _.filter(this.LoanObj.sessionAppliedByBorrowers, { \"_id\": this.loanApplyId })[0];\n                    this.showEditingForm(_obj4LoanApply);\n                  }\n                  let _userIdOfLoanCreatorOrEditorWhichisNotCurrentUser = this.LoanObj.createdByUserObj._id;\n                  if (this.loanApplyId) {\n                    if (this.authenticationService.currentUserValue._id == this.LoanObj.createdByUserObj._id) {\n                      _userIdOfLoanCreatorOrEditorWhichisNotCurrentUser = _obj4LoanApply.lenderId;\n                    }\n                  }\n                  //#endregion data set to local of loan obj\n                  //#region fetch creator id\n                  this.userService.getUserById(_userIdOfLoanCreatorOrEditorWhichisNotCurrentUser)\n                    .pipe(first())\n                    .subscribe(\n                      data => {\n                        if (data && data['success']) {\n\n                          this.lenderUserObj = _.cloneDeep(data[\"data\"]);\n                          this.loading = false;\n                          /*\n                          if (this.loanApplyId) {\n                            this.clickedOnSignLoanContract(true);\n                          }\n                          */\n                        } else {\n                          this.alertService.error(data['message']);\n                          this.loading = false;\n                          this.appRouterService.appRouter('');\n                        }\n                      },\n                      error => {\n                        let errorMsg2show = \"\";\n                        try {\n                          if (error && error.error && error.error.message) {\n                            errorMsg2show = error.error.message;\n                          } else if (error && error.message) {\n                            errorMsg2show = error.message;\n                          } else {\n                            errorMsg2show = error;\n                          }\n                        } catch (ex) { }\n                        this.alertService.error(errorMsg2show);\n                        this.loading = false;\n                        this.appRouterService.appRouter('');\n                      });\n                  //#endregion fetch creator id\n                }\n                this.loading = false;\n              } else {\n                this.alertService.error(data['message']);\n                this.loading = false;\n                this.appRouterService.appRouter('');\n              }\n              //#endregion proccess for success here\n            },\n            error => {\n              //#region proccess for failure here\n              let errorMsg2show = \"\";\n              try {\n                if (error && error.error && error.error.message) {\n                  errorMsg2show = error.error.message;\n                } else if (error && error.message) {\n                  errorMsg2show = error.message;\n                } else {\n                  errorMsg2show = error;\n                }\n              } catch (ex) { }\n              this.alertService.error(errorMsg2show);\n              this.loading = false;\n              this.appRouterService.appRouter('');\n              //#endregion proccess for failure here\n            });\n        //#region read current users data here\n        this.userService.getUserById(this.authenticationService.currentUserValue._id)\n          .pipe(first())\n          .subscribe(\n            data => {\n              //#region proccess for success here\n              if (data && data['success']) {\n                this.borrowerUserObj = data[\"data\"];\n                this.loading = false;\n                if (this.loanApplyId) {\n                  this.clickedOnSignLoanContract(true);\n                }\n              } else {\n                this.alertService.error(data['message']);\n                this.loading = false;\n                this.appRouterService.appRouter('');\n              }\n              //#endregion proccess for success here\n            },\n            error => {\n              //#region proccess for failure here\n              let errorMsg2show = \"\";\n              try {\n                if (error && error.error && error.error.message) {\n                  errorMsg2show = error.error.message;\n                } else if (error && error.message) {\n                  errorMsg2show = error.message;\n                } else {\n                  errorMsg2show = error;\n                }\n              } catch (ex) { }\n              this.alertService.error(errorMsg2show);\n              this.loading = false;\n              this.appRouterService.appRouter('');\n              //#endregion proccess for failure here\n            });\n        //#endregion read current users data here\n      } else {\n        //navigate back\n        this.alertService.error(\"Data is missing or invalid entry\");\n        this.appRouterService.appRouter('');\n      }\n\n    } else {\n      //navigate back\n      this.alertService.error(\"Data is missing or invalid entry\");\n      this.appRouterService.appRouter('');\n    }\n  }\n\n  ngOnInit(): void {\n    this.initForm();\n  }\n\n  initForm() {\n    this.returnHeaderTitleForPage();\n    this.borrowNowForm = this.formBuilder.group({\n      eSignatureBorrowersPassportNumber: ['', Validators.required],\n      eSignatureBorrowersName: ['', Validators.required],\n      loanInsuranceRequired: [false],\n      loanInsuranceAmount: [0],\n      proposedLoanAmount: [null, Validators.min(this.LoanObj.loanAmount)],\n      loanApplyNumber: [null],\n      loanInsuranceCreatedOn: [null],\n      calculatedMonthlyAmountForEMI: [null],\n      eSignatureLendersCreatedOn: [null],\n      eSignatureBorrowersCreatedOn: [null],\n      loanAgreementCondition: [null, Validators.required]\n    });\n  }\n  showEditingForm(_userObj) {\n    this.borrowNowForm = this.formBuilder.group({\n      eSignatureLendersPassportNumber: [_userObj.eSignatureLendersPassportNumber || '', Validators.required],\n      eSignatureLendersName: [_userObj.eSignatureLendersName || '', Validators.required],\n      eSignatureBorrowersPassportNumber: [_userObj.eSignatureBorrowersPassportNumber || '', Validators.required],\n      eSignatureBorrowersName: [_userObj.eSignatureBorrowersName || '', Validators.required],\n      loanInsuranceRequired: [_userObj.loanInsuranceRequired || false],\n      loanInsuranceAmount: [_userObj.loanInsuranceAmount || 0],\n      proposedLoanAmount: [_userObj.proposedLoanAmount || null, Validators.min(this.LoanObj.loanAmount)],\n      loanApplyNumber: [_userObj.loanApplyNumber || null],\n      loanInsuranceCreatedOn: [_userObj.loanInsuranceCreatedOn || null],\n      calculatedMonthlyAmountForEMI: [_userObj.calculatedMonthlyAmountForEMI || null],\n      eSignatureLendersCreatedOn: [_userObj.eSignatureLendersCreatedOn || null],\n      eSignatureBorrowersCreatedOn: [_userObj.eSignatureBorrowersCreatedOn || null],\n      loanAgreementCondition: [null, Validators.required]\n    });\n  }\n  get f() { return this.borrowNowForm.controls; }\n\n  returnHeaderTitleForPage() {\n    if (this.userClickedOnSignLoanContract) {\n      this.headerMessage2show = \"Sign Loan Contract\";\n    } else {\n      this.headerMessage2show = \"Loan Summary\";\n    }\n  }\n\n  resetClickedOnSignLoanContract() {\n    this.userClickedOnSignLoanContract = false;\n    this.returnHeaderTitleForPage();\n  }\n\n  clickedOnSignLoanContract(bypass2CheckOfProposedAmount: boolean = false) {\n    if (!bypass2CheckOfProposedAmount) {\n      if (this.borrowNowForm.get('proposedLoanAmount').value) {\n        /*\n        if (this.borrowNowForm.get('proposedLoanAmount').value <= this.LoanObj.loanAmount) {\n          this.alertService.error(\"amount must be hight than kr \" + this.LoanObj.loanAmount);\n          return;\n        }\n        */\n        if (this.borrowNowForm.get('proposedLoanAmount').value <= 1) {\n          this.alertService.error(\"amount must be hight than kr \" + 1);\n          return;\n        }\n        /*\n        if (this.borrowNowForm.get('proposedLoanAmount').value > this.borrowerUserObj.monthlyIncomeExpenseMargineAmount) {\n          this.alertService.error(\"amount must be lower than or equal to kr \" + this.borrowerUserObj.monthlyIncomeExpenseMargineAmount);\n          return;\n        }\n        */\n\n        if (this.borrowNowForm.get('proposedLoanAmount').value > this.returnAllowedAmountForLenderDependOnUserType()) {\n          this.alertService.error(\"amount must be lower than or equal to kr \" + this.returnAllowedAmountForLenderDependOnUserType());\n          return;\n        }\n\n        let _calculatedMonthlyAmountForEMI = this.utilityService.fnCalculateMonthlyAmountForEMI(this.borrowNowForm.get('proposedLoanAmount').value, this.LoanObj.loanTenureInMonths, this.LoanObj.loanInterestRate);\n        this.borrowNowForm.get('calculatedMonthlyAmountForEMI').setValue(_calculatedMonthlyAmountForEMI);\n      } else {\n        if (!this.borrowNowForm.get('calculatedMonthlyAmountForEMI').value) {\n          let _calculatedMonthlyAmountForEMI = this.utilityService.fnCalculateMonthlyAmountForEMI(this.LoanObj.loanAmount, this.LoanObj.loanTenureInMonths, this.LoanObj.loanInterestRate);\n          this.borrowNowForm.get('calculatedMonthlyAmountForEMI').setValue(_calculatedMonthlyAmountForEMI);\n        }\n      }\n    }\n\n    this.userClickedOnSignLoanContract = true;\n    this.returnHeaderTitleForPage();\n    if (this.borrowerUserObj) {\n      this.borrowNowForm.get('eSignatureBorrowersName').setValue(this.borrowerUserObj.firstName || this.borrowerUserObj.lastName);\n      this.borrowNowForm.get('eSignatureBorrowersPassportNumber').setValue(this.borrowerUserObj.myPassportNumber || this.borrowerUserObj.myDLNumber);\n    }\n  }\n\n  returnAllowedAmountForLenderDependOnUserType() {\n    let maxLoanAmountForLender = null;\n\n    if (this.lenderUserObj.userType) {\n      let maxLoanAmountForLenderObj = _.filter(this.authenticationService.allUserLevelsDataLenders, { '_id': this.lenderUserObj.userType });\n      if (maxLoanAmountForLenderObj && maxLoanAmountForLenderObj._id) {\n        maxLoanAmountForLender = maxLoanAmountForLenderObj.minimumSpent;\n      } else {\n        maxLoanAmountForLender = null;\n      }\n    }\n    if (maxLoanAmountForLender) {\n      return maxLoanAmountForLender;\n    }\n    //#region old version\n    if (this.lenderUserObj.userType) {\n      maxLoanAmountForLender = this.utilityService.LoanAmountMaxTypes[this.lenderUserObj.userType].amount;\n    } else {\n      maxLoanAmountForLender = this.utilityService.LoanAmountMaxTypes[UserType.new_lender].amount;\n    }\n    return maxLoanAmountForLender;\n    //#endregion old version\n  }\n\n  clickedOnVerifiedSignLoanContract() {\n    if (this.borrowerUserObj) {\n      if (!this.borrowNowForm.get('eSignatureBorrowersName').value) {\n        this.borrowNowForm.get('eSignatureBorrowersName').setValue(this.borrowerUserObj.firstName || this.borrowerUserObj.lastName);\n      }\n      if (!this.borrowNowForm.get('eSignatureBorrowersPassportNumber').value) {\n        this.borrowNowForm.get('eSignatureBorrowersPassportNumber').setValue(this.borrowerUserObj.myPassportNumber || this.borrowerUserObj.myDLNumber);\n      }\n    }\n    this.submitted = true;\n    if (this.borrowNowForm.invalid) {\n      return;\n    }\n\n    if (this.borrowNowForm.get('eSignatureBorrowersPassportNumber').value != this.borrowerUserObj.myPassportNumber) {\n      this.alertService.error(\"Passport Number miss match. Please enter proper number\");\n      return;\n    }\n    switch (this.authenticationService.currentUserValue.role) {\n      case Role.Lender:\n        this.borrowNowForm.get('eSignatureLendersCreatedOn').setValue(_.now());\n        break;\n      case Role.Borrower:\n        this.borrowNowForm.get('eSignatureBorrowersCreatedOn').setValue(_.now());\n        break;\n    }\n\n    let selectedTab = null;\n    let _currentSessionApply = {\n      sessionObj: {\n        loanAmount: null\n      },\n      borrowerId: null,\n      lenderId: null,\n      _id: null,\n      status: null,\n      loanId: null,\n      isLoanBorrowed: false,\n      createdByUserObj: {},\n      createdBy: null\n    };\n\n    _currentSessionApply = this.borrowNowForm.value;\n    _currentSessionApply.sessionObj = this.LoanObj;\n    if (this.borrowNowForm.get('proposedLoanAmount').value) {\n      _currentSessionApply.sessionObj.loanAmount = this.borrowNowForm.get('proposedLoanAmount').value;\n    }\n    _currentSessionApply.borrowerId = this.borrowerUserObj._id;\n    _currentSessionApply.lenderId = this.lenderUserObj._id;\n    _currentSessionApply.loanId = this.LoanObj._id;\n    _currentSessionApply.isLoanBorrowed = true;\n    _currentSessionApply.status || SessionStatus.Pending;\n\n    _currentSessionApply._id = this.loanApplyId;\n    if (_currentSessionApply) {\n      if (!_currentSessionApply._id) {\n        _currentSessionApply._id = _currentSessionApply.loanId + '__' + _currentSessionApply.borrowerId;\n      }\n      if (this.LoanObj.createdBy == this.borrowerUserObj._id) {\n        //here status set to accepted as this is lender side and creator is same so borrower already initiated ongoing proccess\n        _currentSessionApply.status = _currentSessionApply.status || SessionStatus.Accepted;\n      } else {\n        //here loan created by borrower so informing borrower as lender is interested to lend money so borrower can set to accepted status\n        _currentSessionApply.status = _currentSessionApply.status || SessionStatus.AwaitingForApproval;\n      }\n      this.socketService.sendCurrentAppliedSessionObj(_currentSessionApply.loanId);\n      switch (_currentSessionApply.status) {\n        case SessionStatus.Pending:\n        case SessionStatus.AwaitingForApproval:\n          _currentSessionApply.createdBy = this.authenticationService.currentUserValue._id;\n          this.socketService.setSessionApply(true, _currentSessionApply);\n          break;\n        default:\n          this.socketService.updateSessionApply(true, _currentSessionApply, this.borrowerUserObj);\n          break;\n      }\n      //#region create chat group\n      let _adminUsersArray = [];\n      _adminUsersArray.push(this.lenderUserObj._id);\n      _adminUsersArray.push(this.borrowerUserObj._id);\n      /*this.borrowerUserObj.firstName + \" - \" + */\n      let _currentContactObj = this.contactService.returnContactJsonData(this.authenticationService.currentUserValue._id, this.utilityService.returnLoanType(this.LoanObj.loanType) + \" - \" + (this.LoanObj.loanNumber || ''), this.LoanObj._id, _currentSessionApply._id, _adminUsersArray, null, null, null, false);\n      this.socketService.sendEventToAddNewContact(_currentContactObj);\n      //#endregion create chat group\n\n      switch (_currentSessionApply.status) {\n        case SessionStatus.AwaitingForApproval:\n          selectedTab = { selectedTab: 'sent' };\n          break;\n        case SessionStatus.Accepted:\n          this.alertService.success(\"Updated. Loan contract is available under My Contract->Active tab.\", true);\n          //#region print PDF signed contract\n          let _LoanObj = {\n            borrowersUserObj: null,\n            lendersUserObj: null,\n            loanStartDateTime: null,\n            installments: null,\n            loanType: null,\n            loanRepaymentType: null\n          };\n\n          _LoanObj = _.cloneDeep(_currentSessionApply);\n\n\n          _LoanObj.borrowersUserObj = _.cloneDeep(this.borrowerUserObj);\n          _LoanObj.lendersUserObj = _.cloneDeep(this.lenderUserObj);\n\n          _LoanObj.loanStartDateTime = moment(this.LoanObj.loanStartDateTime).format(\"DD-MMM-YYYY\");\n          _LoanObj.lendersUserObj.lenderPassportOrDlNumber = this.lenderUserObj.myPassportNumber;\n          _LoanObj.borrowersUserObj.borrowerPassportOrDlNumber = this.borrowerUserObj.myPassportNumber;\n\n          _LoanObj.installments = [];\n          for (let index = 0; index < this.LoanObj.loanTenureInMonths; index++) {\n            let installment = {\n              loanStartDateTime: null,\n              calculatedMonthlyAmountForEMI: null\n            };\n            installment.loanStartDateTime = this.utilityService.returnDateWithAddingMonths(_LoanObj.loanStartDateTime, index + 1).format(\"DD-MMM-YYYY\");\n            installment.calculatedMonthlyAmountForEMI = this.borrowNowForm.get('calculatedMonthlyAmountForEMI').value || this.LoanObj.calculatedMonthlyAmountForEMI;\n            _LoanObj.installments.push(installment);\n          }\n\n          _LoanObj.loanType = this.utilityService.returnLoanType(this.LoanObj.loanType);\n\n          _LoanObj.loanRepaymentType = this.LoanObj.loanRepaymentType\n\n          this.authenticationService.generateReport4SignedContract(_LoanObj)\n            .pipe(first())\n            .subscribe(\n              data => {\n              },\n              error => {\n                let errorMsg2show = \"\";\n                try {\n                  if (error && error.error && error.error.message) {\n                    errorMsg2show = error.error.message;\n                  } else if (error && error.message) {\n                    errorMsg2show = error.message;\n                  } else {\n                    errorMsg2show = error;\n                  }\n                } catch (ex) {\n                }\n                //this.alertService.error(errorMsg2show);\n                this.loading = false;\n              });\n          //#endregion print PDF signed contract\n          break;\n        case SessionStatus.Pending:\n          this.alertService.success(\"Loan contract signed successfully.\", true);\n          break;\n        case SessionStatus.Rejected:\n        case SessionStatus.RejectedOngoing:\n        case SessionStatus.RejectedOngoingWithRefund:\n        case SessionStatus.Suspended:\n          this.alertService.success(\"Updated. Loan contract is available under My Contract->Rejected tab.\", true);\n          break;\n        case SessionStatus.Completed:\n          this.alertService.success(\"Updated. Loan contract is available under My Contract->Paid tab.\", true);\n          break;\n        case SessionStatus.Active:\n        case SessionStatus.Ongoing:\n        case SessionStatus.OngoingInitiated:\n          this.alertService.success(\"Updated. Loan contract is available under My Contract->Ongoing tab.\", true);\n          break;\n        default:\n          break;\n      }\n\n    }\n\n    this.appRouterService.appRouteToPath(\"/borrower/my-contract\", selectedTab);\n\n  }\n\n  clicked2LoanAgreementCondition(event) {\n    if (event.srcElement.checked) {\n      this.borrowNowForm.get('loanAgreementCondition').setValue(true);\n    } else {\n      this.borrowNowForm.get('loanAgreementCondition').setValue(false);\n    }\n  }\n  usersProfile(userObj) {\n    //#region fetch creator id\n    this.userService.getUserById(userObj._id)\n      .pipe(first())\n      .subscribe(\n        data => {\n          if (data && data['success']) {\n            //console.log('84', this.authenticationService.currentUserValue);\n            const dialogRef = this.dialog.open(PublicProfileComponent, {\n\n              maxWidth: '100vw',\n              maxHeight: '100vh',\n              height: '100%',\n              width: '100%',\n              hasBackdrop: true,\n              data: {\n                userObj: _.cloneDeep(data['data']),\n                adminViewT: false\n              }\n            });\n\n            dialogRef.afterClosed().subscribe(result => {\n              //console.log(`99 :: msc :: Dialog result: ${JSON.stringify(result)}`);\n            });\n\n          } else {\n\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          this.alertService.error(errorMsg2show);\n\n        });\n    //#endregion fetch creator id\n\n  }\n}\n\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-room',\n  templateUrl: './room.component.html',\n  styleUrls: ['./room.component.css']\n})\nexport class RoomComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnInit, OnDestroy, ChangeDetectorRef } from '@angular/core';\nimport { SocketioService } from 'src/app/socketio.service';\nimport { Subscription } from 'rxjs';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ModalApplySession, ModalAppliedSessionDisplay } from '../borrower.component';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { AlertService, AuthenticationService, UserService } from 'src/app/services';\nimport { SessionsService } from 'src/app/services/sessions.service';\nimport { UtilityService } from 'src/app/services/utility.service';\nimport { first } from 'rxjs/operators';\nimport * as _ from 'lodash';\nimport { Role, SessionStatus } from 'src/app/models';\nimport { AddFundsService } from 'src/app/services/add-funds.service';\nimport { Router } from '@angular/router';\nimport { ContactService } from 'src/app/services/contact.service';\nimport { MoneyTransferDataComponent } from 'src/app/shared/money-transfer-data/money-transfer-data.component';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit, OnDestroy {\n  SearchString: string;\n  currentOnlineUserList: any;\n  subscription: Subscription;\n  subscription1: Subscription;\n  show_more = true;\n  loading: boolean;\n  allSessionsData: any;\n  allSessionsCount: number;\n  homeComponantForm: FormGroup;\n  allSessionsTodayList: any;\n  allSessionsTodayCount: any;\n\n  checkCreatedByUserId: string = null;\n  checkCreatedByT: Boolean = false;\n\n  allMyActiveLoanCount: number = 0;\n  allMyDisbursedLoanCount: number = 0;\n  allMyUnSignedContractLoanCount: number = 0;\n  allMyProfitOverviewCount: number = 0;//undone\n  allMyPaidContractCount: number = 0;//undone\n  allMyPaidLoanCount: number = 0;//undone\n  Role = Role;\n\n  showSessionApplyInRoot: boolean = true;//by default set it to// false;\n  allSessionApplyData: any = [];\n  ngOnInit() {\n  }\n\n  ngOnDestroy() {\n  }\n\n  constructor(\n    public userService: UserService,\n    private socketService: SocketioService,\n    private formBuilder: FormBuilder,\n    private sessionsService: SessionsService,\n    private alertService: AlertService,\n    public utilityService: UtilityService,\n    public dialog: MatDialog,\n    public authenticationService: AuthenticationService,\n    public fundService: AddFundsService,\n    public router: Router,\n    public contactService: ContactService,\n    private _cdr: ChangeDetectorRef\n  ) {\n    this.checkIfCurrentUserUpdatedAndVerifiedIncomeAndExpenseDetailsOrNot();\n    this.checkCreatedByUserId = null;\n    this.checkCreatedByT = null;\n    let _obj2Save = {};\n    //#region get count for allMyActiveLoanCount i.e. status set to paid\n    _obj2Save = {\n      borrowerId: this.authenticationService.currentUserValue._id,\n      status: SessionStatus.Completed\n    };\n    this.socketService.getSessionApplyCountByQuery(false, _obj2Save, true, 'sessions_response_get_session_apply_count_by_query_allMyPaidContractCount')\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n            this.allMyPaidContractCount = data['data'];\n            this.allMyPaidLoanCount = data['data'];\n          } else {\n            //alert(JSON.stringify(data['message']));\n            //this.alertService.error(data['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          //this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n    //#endregion get count for allMyActiveLoanCount i.e. status set to paid\n\n    //#region get count for allMyActiveLoanCount i.e. status set to accepted\n    _obj2Save = {\n      borrowerId: this.authenticationService.currentUserValue._id,\n      status: SessionStatus.Accepted\n    };\n    this.socketService.getSessionApplyCountByQuery(false, _obj2Save, true, 'sessions_response_get_session_apply_count_by_query_allMyActiveLoanCount')\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n            this.allMyActiveLoanCount = data['data'];\n          } else {\n            //alert(JSON.stringify(data['message']));\n            //this.alertService.error(data['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          //this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n    //#endregion get count for allMyActiveLoanCount i.e. status set to accepted\n    //#region get count for allMyDisbursedLoanCount i.e. status set to accepted and loan amount paid by lender\n    _obj2Save = {\n      borrowerId: this.authenticationService.currentUserValue._id,\n      status: SessionStatus.Accepted,\n      isLoanAmountPaidByLender: true\n    };\n    this.socketService.getSessionApplyCountByQuery(false, _obj2Save, true, 'sessions_response_get_session_apply_count_by_query_allMyDisbursedLoanCount')\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n\n            this.allMyDisbursedLoanCount = data['data'];\n          } else {\n            //alert(JSON.stringify(data['message']));\n            //this.alertService.error(data['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          //this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n    //#endregion get count for allMyDisbursedLoanCount i.e. status set to accepted and loan amount paid by lender\n\n    //#region get count for allMyUnSignedContractLoanCount i.e. status set to AwaitingForApproval\n    _obj2Save = {\n      borrowerId: this.authenticationService.currentUserValue._id,\n      status: SessionStatus.AwaitingForApproval\n    };\n    this.socketService.getSessionApplyCountByQuery(false, _obj2Save, true, 'sessions_response_get_session_apply_count_by_query_allMyUnSignedContractLoanCount')\n      .pipe(first())\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n            this.allMyUnSignedContractLoanCount = data['data'];\n          } else {\n            //alert(JSON.stringify(data['message']));\n            //this.alertService.error(data['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          //this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n    //#endregion get count for allMyUnSignedContractLoanCount i.e. status set to AwaitingForApproval\n\n    this.sessionsService.getSessionAllByBorrowerId(this.authenticationService.currentUserValue._id, null, null, null, true, null)\n      .pipe(first())\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n            //alert(JSON.stringify( data));\n            this.allSessionsData = data['data'];\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\n            this.calculateAndStoreLocalNextEMIDateOfAppliedLoansForBorrower();\n            //this.alertService.success(data['message'], true);\n            this.loading = false;\n            //this.element_btn_click_addSession_skills_verification.click();\n          } else {\n            //alert(JSON.stringify(data['message']));\n            //this.alertService.error(data['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          //this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n\n    this.sessionsService.getUpdatesForSessionAllByBorrowerId()\n      .subscribe(\n        data => {\n          if (data && data['success']) {\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\n            for (let _items in data['data']) {\n              let _currentObj = data['data'][_items];\n              _keyPairedMapObj[_currentObj._id] = _currentObj\n            }\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\n            this.calculateAndStoreLocalNextEMIDateOfAppliedLoansForBorrower();\n            this.loading = false;\n          } else {\n            this.loading = false;\n          }\n        },\n        error => {\n          this.loading = false;\n        });\n\n    /*\n        this.subscription = this.socketService.getCurrentOnlineUsersListObj().subscribe(_currentOnlineUserList => {\n          if (_currentOnlineUserList) {\n            this.currentOnlineUserList = _currentOnlineUserList;\n          } else {\n            this.currentOnlineUserList = null;\n          }\n        });\n    \n        this.subscription1 =  this.socketService.getCurrentSessionCount().subscribe(_allSessionsCount => {\n          if (_allSessionsCount) {\n            this.allSessionsCount = _allSessionsCount;\n          } else {\n            this.allSessionsCount = null;\n          }\n        });\n    \n        let _obj2Use4Filter = {\n          role: 'borrower'\n        };\n        let useAndTrueOrFalse = false;\n    \n        this.socketService.getUserOnlineList(false, _obj2Use4Filter, useAndTrueOrFalse);\n        let _obj2Save = {};\n        this.socketService.getSessionCountByQuery(false, _obj2Save);\n        fundService.getFundsCountForRequestedUser(this.authenticationService.currentUserValue._id);\n        fundService.getSessionSpentCountForRequestedUser(this.authenticationService.currentUserValue._id);\n        this.socketService.getSessionAllTodaysDateAcceptedOnly(this.authenticationService.currentUserValue._id, this.authenticationService.currentUserValue.role).subscribe(result => {\n          let data = null;\n          if (result) {\n            if (result['success'] == true || result['success'] == false) {\n              data = result['data'];\n            } else {\n              data = result;\n            }\n          }\n          this.allSessionsTodayList = data;\n          if (this.utilityService._.keys(this.allSessionsTodayList).length <= 0) {\n            this.allSessionsTodayList = [];\n          }\n          this.allSessionsTodayCount = this.utilityService._.keys(this.allSessionsTodayList).length;\n        });\n        */\n  }\n  checkIfCurrentUserUpdatedAndVerifiedIncomeAndExpenseDetailsOrNot() {\n\n    this.userService.getUserIncomeExpenseDetailsByUserId(this.authenticationService.currentUserValue._id)\n      .pipe(first())\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n\n            if ((data[\"data\"][\"bankName\"] && data[\"data\"][\"accountNumber\"]) || data[\"data\"][\"isUsersBankDetailsSubmitted\"]) {\n              this.authenticationService.currentUserValue.isUsersBankDetailsSubmitted = true;\n              this.authenticationService.sendCurrentUserObj(this.authenticationService.currentUserValue);\n            }\n\n            if (data[\"data\"][\"totalIncome4currentUser\"] && data[\"data\"][\"totalExpense4currentUser\"]) {\n\n              this.authenticationService.currentUserValue.totalIncome4currentUser = data[\"data\"][\"totalIncome4currentUser\"];\n              this.authenticationService.currentUserValue.totalExpense4currentUser = data[\"data\"][\"totalExpense4currentUser\"];\n              this.authenticationService.currentUserValue.totalAllowedBudget = this.authenticationService.currentUserValue.totalIncome4currentUser - this.authenticationService.currentUserValue.totalExpense4currentUser;\n\n              this.authenticationService.currentUserValue.isUsersIncomeAndExpenseProofVerified = true;\n              this.authenticationService.sendCurrentUserObj(this.authenticationService.currentUserValue);\n            }\n\n          } else {\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          this.loading = false;\n        });\n  }\n\n  returnT4IfCurrentInstallmentAlreadyPaidConfirmByLender(LoanApplyObj, currentRowDate, _key) {\n    let _installmentKey = this.utilityService.moment(currentRowDate).format('DD-MMM-YYYY');\n    if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\n      if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_installmentKey]) {\n        if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_installmentKey].createdOnForLoanAmountPaidToLenderConfirmByLender) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  returnT4IfCurrentInstallmentAlreadyPaid(LoanApplyObj, currentRowDate, _key) {\n    let _installmentKey = this.utilityService.moment(currentRowDate).format('DD-MMM-YYYY');\n    if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\n      if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_installmentKey]) {\n        return true;\n      }\n    }\n    return false;\n  }\n  calculateAndStoreLocalNextEMIDateOfAppliedLoansForBorrower() {\n    //#region calculate and update next EMI of applied loans\n    for (let item in this.allSessionsData) {\n      let _LoanObj = this.allSessionsData[item];\n      if (_LoanObj) {\n        _LoanObj.nextInstallment = null;\n        for (let indexOuter in _LoanObj.sessionAppliedByBorrowers) {\n          let LoanApplyObj = _LoanObj.sessionAppliedByBorrowers[indexOuter];\n\n          if (LoanApplyObj) {\n            for (let index = 0; index < _LoanObj.loanTenureInMonths; index++) {\n              let installment = {\n                loanStartDateTime: null,\n                calculatedMonthlyAmountForEMI: null\n              };\n              installment.loanStartDateTime = this.utilityService.returnDateWithAddingMonths(_LoanObj.loanStartDateTime, index + 1);\n\n              if (!this.returnT4IfCurrentInstallmentAlreadyPaid(LoanApplyObj, installment.loanStartDateTime, null)) {\n                if (!_LoanObj.nextInstallment) {\n                  if (this.utilityService.moment(_LoanObj.nextInstallment).isBefore(this.utilityService.moment(installment.loanStartDateTime))) {\n                    break;\n                  }\n                }\n                _LoanObj.applicationDate = (LoanApplyObj.eSignatureLendersCreatedOn || LoanApplyObj.eSignatureBorrowersCreatedOn);\n                _LoanObj.nextInstallment = installment.loanStartDateTime;\n                break;\n              }\n            }\n\n          }\n        }\n        this.allSessionsData[item] = _LoanObj;\n\n      }\n    }\n    //#endregion calculate and update next EMI of applied loans\n    //#region create session apply from sessions\n    if (this.showSessionApplyInRoot) {\n      this.reformSessionApplyFromSessionsData(true);\n    }\n    //#endregion create session apply from sessions\n  }\n\n  reformSessionApplyFromSessionsData(resetOldT: boolean = false) {\n    //#region create session apply from sessions\n    if (resetOldT) {\n      this.allSessionApplyData = [];\n    }\n    for (let item in this.allSessionsData) {\n      for (let item in this.allSessionsData) {\n        let _LoanObj = this.allSessionsData[item];\n        if (_LoanObj) {\n          for (let indexOuter in _LoanObj.sessionAppliedByBorrowers) {\n            let LoanApplyObj = _LoanObj.sessionAppliedByBorrowers[indexOuter];\n            if (LoanApplyObj) {\n              let sessionForBorrower = _.cloneDeep(_LoanObj);\n              delete sessionForBorrower.sessionAppliedByBorrowers;\n\n              LoanApplyObj.sessionForBorrower = sessionForBorrower;\n              LoanApplyObj.applicationDate = _LoanObj.applicationDate;\n              LoanApplyObj.nextInstallment = _LoanObj.nextInstallment;\n\n              this.allSessionApplyData[LoanApplyObj._id] = LoanApplyObj;\n            }\n          }\n        }\n      }\n    }\n    //#endregion create session apply from sessions\n  }\n\n  sessionApplyOngoingCheck(sessionObj, sessionApply) {\n    //console.log('179', this.authenticationService.currentUserValue);\n    const dialogRef = this.dialog.open(ModalApplySession, {\n      maxWidth: '100vw',\n      maxHeight: '100vh',\n      height: '100%',\n      width: '100%',\n      data: {\n        sessionObj: sessionObj,\n        borrowerId: this.authenticationService.currentUserValue._id,\n        sessionApply: sessionApply\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      let _currentSessionApply = null;\n      if (result) {\n        if (result.data) {\n\n        }\n      }\n      //console.log(`163 :: myc :: Dialog result: ${JSON.stringify(result)}`);\n    });\n  }\n  showAppliedToSession(sessionObj) {\n    let _proccessedSessionObj = null;\n    switch (this.authenticationService.currentUserValue.role) {\n      case Role.Borrower:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\n        break;\n      default:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        break;\n    }\n\n    //console.log('214', this.authenticationService.currentUserValue);\n    const dialogRef = this.dialog.open(ModalAppliedSessionDisplay, {\n      backdropClass: 'custom-dialog-backdrop-class',\n      panelClass: 'my_session_details_modal',\n      maxWidth: '100vw',\n      maxHeight: '100vh',\n      height: '100%',\n      width: '100%',\n      data: {\n        sessionObj: _proccessedSessionObj,\n        borrowerId: this.authenticationService.currentUserValue._id\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        if (result.data) {\n          //console.log(`86 :: msc :: Dialog result: ${JSON.stringify(result)}`);\n          if (result.data.status && result.data.sessionApply) {\n            let _loanApplyId = result.data.sessionApply._id;\n            let _status = result.data.status;\n            //initiate payment here\n            //this.socketService.setSessionApplyUpdateStatus(false, _loanId, _loanApplyId, _status, this.authenticationService.currentUserValue._id, _transactionId);\n            let _allowed2CreateContactForSessionT = false;\n            switch (_status) {\n              case SessionStatus.Accepted:\n                //this.alertService.success(\"Updated. Session is available under My Sessions->Accepted tab.\", true);\n                this.proccedAppliedToSession(sessionObj, _loanApplyId);\n                break;\n            }\n          }\n          if (result.data.updatedSessionObj) {\n\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\n\n            _keyPairedMapObj[result.data.updatedSessionObj._id] = result.data.updatedSessionObj;\n\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\n            this.calculateAndStoreLocalNextEMIDateOfAppliedLoansForBorrower();\n            this._cdr.detectChanges();\n          }\n        }\n      }\n    });\n  }\n  proccedAppliedToSession(sessionObj, loanApplyId) {\n    let loanId = sessionObj._id;\n\n    let _proccessedSessionObj = null;\n    switch (this.authenticationService.currentUserValue.role) {\n      case Role.Borrower:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\n        break;\n      case Role.Lender:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"lenderId\": this.authenticationService.currentUserValue._id });//_sessionAppliedByLenders\n        break;\n      default:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        break;\n    }\n    if (!loanApplyId) {\n      loanApplyId = _proccessedSessionObj.sessionAppliedByBorrowers[0]._id;\n    }\n    this.router.navigate(['/borrower/borrow-now'], { state: { loanId: loanId, loanApplyId: loanApplyId } });\n  }\n\n  LoanMoneyTransferStatusChange(event, LoanObj: any, LoanApplyObj: any, installmentKey: string = null, updateLastInstallmentPaymentStatus: boolean = false) {\n    //console.log('585', this.authenticationService.currentUserValue);\n    if (installmentKey) {\n      if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\n        for (let _items in LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\n          let _currentObj = LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_items];\n          if (_currentObj) {\n            if (_currentObj.createdOnForLoanAmountPaidToLender && !_currentObj.createdOnForLoanAmountPaidToLenderConfirmByLender) {\n              this.alertService.error('Last installment payment confirmation is pending from Lender', true);\n              return;\n            }\n          }\n        }\n      }\n    }\n    if (updateLastInstallmentPaymentStatus) {\n      if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\n        for (let _items in LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\n          let _currentObj = LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_items];\n          if (_currentObj) {\n            if (_currentObj.createdOnForLoanAmountPaidToLender && !_currentObj.createdOnForLoanAmountPaidToLenderConfirmByLender) {\n              installmentKey = _currentObj.installmentKey;\n              break;\n            }\n          }\n        }\n      }\n      if (!installmentKey) {\n        this.alertService.error('Last installment payment not done by borrower', true);\n        return;\n      }\n    }\n\n    let LoanApplyObjCurrent4Installment = {\n      isInstallmentPaidByAdmin: null,\n      transactionOnForLoanAmountPaidToLender: null,\n      transactionIdForLoanAmountPaidToLender: null,\n      installmentKey: null,\n      createdOnForLoanAmountPaidToLender: null,\n      transactionOnForLoanAmountPaidToLenderConfirmByLender: null,\n      createdOnForLoanAmountPaidToLenderConfirmByLender: null\n    };\n    if (event.srcElement.checked) {\n      //#region update status add data\n      if (installmentKey) {\n        if (!updateLastInstallmentPaymentStatus) {\n          //#region Borrower updating status for installment done\n          //#endregion Borrower updating status for installment done\n        } else {\n          //#region Lender updating status for installment done by Borrower\n          //#endregion Lender updating status for installment done by Borrower\n        }\n        //#region direct action here with BYPASS ALL CASES\n        LoanApplyObjCurrent4Installment.isInstallmentPaidByAdmin = false;\n        LoanApplyObjCurrent4Installment.transactionOnForLoanAmountPaidToLender = this.utilityService._.now();\n        LoanApplyObjCurrent4Installment.transactionIdForLoanAmountPaidToLender = 'AUTO-SAVED';\n        LoanApplyObjCurrent4Installment.installmentKey = this.utilityService.moment(installmentKey).format('DD-MMM-YYYY');\n        LoanApplyObjCurrent4Installment.createdOnForLoanAmountPaidToLender = this.utilityService._.now();\n        LoanApplyObjCurrent4Installment.transactionOnForLoanAmountPaidToLenderConfirmByLender = this.utilityService._.now();\n        LoanApplyObjCurrent4Installment.createdOnForLoanAmountPaidToLenderConfirmByLender = this.utilityService._.now();\n\n        let _loanTenureInMonths: number = parseInt(LoanObj.loanTenureInMonths);\n        if (_loanTenureInMonths == (_.keys(LoanApplyObj.installmentWiseLoanAmountPaidByBorrower).length + 1)) {\n          if (confirm(\"This is confirmation of last installment\") == false) {\n            event.srcElement.checked = false;\n            return;\n          }\n        }\n        if (!LoanApplyObj.isLoanAmountPaidByLender) {\n          //#region direct action here with BYPASS ALL CASES\n          this.middiatorFnForLoanAmountPaidByLenderConfirmByBorrowerWithUpdateAll(LoanApplyObj, true, true);\n          //#endregion direct action here with BYPASS ALL CASES\n        }\n        this.socketService.sendEventForLoanAmountPaidToLenderConfirmByLenderWithUpdateAll(LoanApplyObj.loanId, LoanApplyObj._id, this.authenticationService.currentUserValue._id, installmentKey, _loanTenureInMonths, LoanApplyObjCurrent4Installment)\n          .pipe(first())\n          .subscribe(details => {\n            if (details && details[\"success\"]) {\n              this.broadcastUpdatedEvent2All(details[\"data\"]);\n            }\n          });\n        //#endregion direct action here with BYPASS ALL CASES\n      } else {\n        if (!LoanApplyObj.isLoanAmountPaidByLender) {\n          //#region Lender updating status for payment done\n          //#endregion Lender updating status for payment done\n        } else {\n          //#region Borrower updating status for payment done by Lender\n          //#endregion Borrower updating status for payment done by Lender\n        }\n        //#region direct action here with BYPASS ALL CASES\n        this.middiatorFnForLoanAmountPaidByLenderConfirmByBorrowerWithUpdateAll(LoanApplyObj, true, false);\n        //#endregion direct action here with BYPASS ALL CASES\n      }\n      //#endregion update status add data\n    } else {\n      //#region update status remove data\n      if (installmentKey) {\n        if (!updateLastInstallmentPaymentStatus) {\n          //#region Borrower updating status for installment done\n          //#endregion Borrower updating status for installment done\n        } else {\n          //#region Lender updating status for installment done by Borrower\n          //#endregion Lender updating status for installment done by Borrower\n        }\n        //#region direct action here with BYPASS ALL CASES\n        LoanApplyObjCurrent4Installment.isInstallmentPaidByAdmin = false;\n        LoanApplyObjCurrent4Installment.transactionOnForLoanAmountPaidToLender = null;\n        LoanApplyObjCurrent4Installment.transactionIdForLoanAmountPaidToLender = null;\n        LoanApplyObjCurrent4Installment.installmentKey = this.utilityService.moment(installmentKey).format('DD-MMM-YYYY');\n        LoanApplyObjCurrent4Installment.createdOnForLoanAmountPaidToLender = null;\n        LoanApplyObjCurrent4Installment.transactionOnForLoanAmountPaidToLenderConfirmByLender = null;\n        LoanApplyObjCurrent4Installment.createdOnForLoanAmountPaidToLenderConfirmByLender = null;\n        LoanApplyObjCurrent4Installment[\"installmentKeyDeleteThisKey\"] = true;\n        let _loanTenureInMonths: number = parseInt(LoanObj.loanTenureInMonths);\n        this.socketService.sendEventForLoanAmountPaidToLenderConfirmByLenderWithUpdateAll(LoanApplyObj.loanId, LoanApplyObj._id, this.authenticationService.currentUserValue._id, installmentKey, _loanTenureInMonths, LoanApplyObjCurrent4Installment)\n          .pipe(first())\n          .subscribe(details => {\n            if (details && details[\"success\"]) {\n              this.broadcastUpdatedEvent2All(details[\"data\"]);\n            }\n          });\n        //#endregion direct action here with BYPASS ALL CASES\n      } else {\n        if (!LoanApplyObj.isLoanAmountPaidByLender) {\n          //#region Lender updating status for payment done\n          //#endregion Lender updating status for payment done\n        } else {\n          //#region Borrower updating status for payment done by Lender\n          //#endregion Borrower updating status for payment done by Lender\n        }\n        //#region direct action here with BYPASS ALL CASES\n        this.middiatorFnForLoanAmountPaidByLenderConfirmByBorrowerWithUpdateAll(LoanApplyObj, false, false);\n        //#endregion direct action here with BYPASS ALL CASES\n      }\n      //#endregion update status remove data\n    }\n  }\n\n  middiatorFnForLoanAmountPaidByLenderConfirmByBorrowerWithUpdateAll(LoanApplyObj: any, addTremoveF: boolean, addedWithInstallment: boolean) {\n    let LoanApplyObjCurrent = {\n      isLoanAmountPaidByLender: null,\n      _id: null,\n      createdOnForLoanAmountPaidByLender: null,\n      transactionIdForLoanAmountPaidByLender: null,\n      transactionOnForLoanAmountPaidByLender: null,\n      transactionDescriptionForLoanAmountPaidByLender: null,\n      transactionOnForLoanAmountPaidByLenderConfirmByBorrower: null,\n      createdOnForLoanAmountPaidByLenderConfirmByBorrower: null,\n      transactionDescriptionForLoanAmountPaidByLenderConfirmByBorrower: null,\n      isLoanAmountPaidByLenderConfirmByBorrower: null,\n    };\n\n    if (addTremoveF) {\n      LoanApplyObjCurrent.isLoanAmountPaidByLender = true;\n      LoanApplyObjCurrent._id = LoanApplyObj._id;\n      LoanApplyObjCurrent.createdOnForLoanAmountPaidByLender = this.utilityService._.now();\n      LoanApplyObjCurrent.transactionIdForLoanAmountPaidByLender = 'AUTO-SAVED';\n      LoanApplyObjCurrent.transactionOnForLoanAmountPaidByLender = this.utilityService._.now();\n      LoanApplyObjCurrent.transactionDescriptionForLoanAmountPaidByLender = 'This data is auto saved'+(addedWithInstallment?' with installment payment':'');\n      LoanApplyObjCurrent.isLoanAmountPaidByLenderConfirmByBorrower = true;\n      LoanApplyObjCurrent.transactionOnForLoanAmountPaidByLenderConfirmByBorrower = this.utilityService._.now();\n      LoanApplyObjCurrent.createdOnForLoanAmountPaidByLenderConfirmByBorrower = this.utilityService._.now();\n      LoanApplyObjCurrent.transactionDescriptionForLoanAmountPaidByLenderConfirmByBorrower = 'This data is auto saved'+(addedWithInstallment?' with installment payment':'');\n    } else {\n      LoanApplyObjCurrent.isLoanAmountPaidByLender = false;\n      LoanApplyObjCurrent._id = LoanApplyObj._id;\n      LoanApplyObjCurrent.createdOnForLoanAmountPaidByLender = this.utilityService._.now();\n      LoanApplyObjCurrent.transactionIdForLoanAmountPaidByLender = 'AUTO-SAVED';\n      LoanApplyObjCurrent.transactionOnForLoanAmountPaidByLender = this.utilityService._.now();\n      LoanApplyObjCurrent.transactionDescriptionForLoanAmountPaidByLender = 'This data is auto saved'+(addedWithInstallment?' with installment payment':'');\n      LoanApplyObjCurrent.isLoanAmountPaidByLenderConfirmByBorrower = false;\n      LoanApplyObjCurrent.transactionOnForLoanAmountPaidByLenderConfirmByBorrower = this.utilityService._.now();\n      LoanApplyObjCurrent.createdOnForLoanAmountPaidByLenderConfirmByBorrower = this.utilityService._.now();\n      LoanApplyObjCurrent.transactionDescriptionForLoanAmountPaidByLenderConfirmByBorrower = 'This data is auto saved'+(addedWithInstallment?' with installment payment':'');\n    }\n    this.socketService.sendEventForLoanAmountPaidByLenderConfirmByBorrowerWithUpdateAll(LoanApplyObj.loanId, LoanApplyObj._id, this.authenticationService.currentUserValue._id, LoanApplyObjCurrent).pipe(first()).subscribe(details => {\n      if (details && details[\"success\"]) {\n        this.broadcastUpdatedEvent2All(details[\"data\"]);\n      }\n    });\n  }\n\n  LoanMoneyTransferStatusModel(LoanObj: any, LoanApplyObj: any, installmentKey: string = null, updateLastInstallmentPaymentStatus: boolean = false) {\n\n    //console.log('585', this.authenticationService.currentUserValue);\n    if (installmentKey) {\n      if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\n        for (let _items in LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\n          let _currentObj = LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_items];\n          if (_currentObj) {\n            if (_currentObj.createdOnForLoanAmountPaidToLender && !_currentObj.createdOnForLoanAmountPaidToLenderConfirmByLender) {\n              this.alertService.error('Last installment payment confirmation is pending from Lender', true);\n              return;\n            }\n          }\n        }\n      }\n    }\n    if (updateLastInstallmentPaymentStatus) {\n      if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\n        for (let _items in LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\n          let _currentObj = LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_items];\n          if (_currentObj) {\n            if (_currentObj.createdOnForLoanAmountPaidToLender && !_currentObj.createdOnForLoanAmountPaidToLenderConfirmByLender) {\n              installmentKey = _currentObj.installmentKey;\n              break;\n            }\n          }\n        }\n      }\n      if (!installmentKey) {\n        this.alertService.error('Last installment payment not done by borrower', true);\n        return;\n      }\n    }\n    const dialogRef = this.dialog.open(MoneyTransferDataComponent, {\n\n      maxWidth: '100vw',\n      maxHeight: '100vh',\n      height: '100%',\n      width: '100%',\n      hasBackdrop: true,\n      data: {\n        LoanObj: LoanObj,\n        LoanApplyObj: LoanApplyObj,\n        installmentKey: installmentKey,\n        updateLastInstallmentPaymentStatus: updateLastInstallmentPaymentStatus\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      //console.log(`597 :: msc :: Dialog result: ${JSON.stringify(result)}`);\n      if (result && result.data && result.data.updatedSessionObj) {\n        this.broadcastUpdatedEvent2All(result.data.updatedSessionObj);\n      }\n    });\n  }\n\n  broadcastUpdatedEvent2All(sessionObj) {\n    if (sessionObj) {\n\n      let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\n\n      _keyPairedMapObj[sessionObj._id] = sessionObj;\n      this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\n\n      this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'borrowerId')));\n      this.calculateAndStoreLocalNextEMIDateOfAppliedLoansForBorrower();\n\n      this._cdr.detectChanges();\n    }\n  }\n\n  /*\n    get f() { return this.homeComponantForm.controls; }\n  \n    sessionSearchByService() {\n      let generaldata4search = this.homeComponantForm.get('generaldata4search').value;\n      let useAndTrueOrFalse = false;\n      this.allSessionsData = [];\n      this.sessionsService.getSessionAllByService('', '', generaldata4search, generaldata4search, useAndTrueOrFalse)\n        .pipe(first())\n        .subscribe(\n          data => {\n            ////console.log('data => ', data)\n            if (data && data['success']) {\n              //alert(JSON.stringify( data));\n              this.allSessionsData = data['data'];\n              //this.alertService.success(data['message'], true);\n              this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'borrowerId')));\n              this.loading = false;\n              //this.element_btn_click_addSession_skills_verification.click();\n            } else {\n              //alert(JSON.stringify(data['message']));\n              //this.alertService.error(data['message']);\n              this.loading = false;\n            }\n          },\n          error => {\n            let errorMsg2show = \"\";\n            try {\n              if (error && error.error && error.error.message) {\n                errorMsg2show = error.error.message;\n              } else if (error && error.message) {\n                errorMsg2show = error.message;\n              } else {\n                errorMsg2show = error;\n              }\n            } catch (ex) { }\n            //this.alertService.error(errorMsg2show);\n            this.loading = false;\n          });\n  \n    }\n    ngOnInit() {\n      this.homeComponantForm = this.formBuilder.group({\n        services4search: [''],\n        location4search: [''],\n        generaldata4search: [''],\n      });\n  \n      this.sessionsService.getSessionAllWithSessionApply(this.authenticationService.currentUserValue._id)\n        .pipe(first())\n        .subscribe(\n          data => {\n            ////console.log('data => ', data)\n            if (data && data['success']) {\n              //alert(JSON.stringify( data));\n              this.allSessionsData = data['data'];\n              this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'borrowerId')));\n              //this.alertService.success(data['message'], true);\n              this.loading = false;\n              //this.element_btn_click_addSession_skills_verification.click();\n            } else {\n              //alert(JSON.stringify(data['message']));\n              //this.alertService.error(data['message']);\n              this.loading = false;\n            }\n          },\n          error => {\n            let errorMsg2show = \"\";\n            try {\n              if (error && error.error && error.error.message) {\n                errorMsg2show = error.error.message;\n              } else if (error && error.message) {\n                errorMsg2show = error.message;\n              } else {\n                errorMsg2show = error;\n              }\n            } catch (ex) { }\n            //this.alertService.error(errorMsg2show);\n            this.loading = false;\n          });\n      this.sessionsService.getUpdatesForSessionAllByBorrowerId()\n        .subscribe(\n          data => {\n            if (data && data['success']) {\n              let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\n              for (let _items in data['data']) {\n                let _currentObj = data['data'][_items];\n                _keyPairedMapObj[_currentObj._id] = _currentObj\n              }\n              this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\n              this.loading = false;\n            } else {\n              this.loading = false;\n            }\n          },\n          error => {\n            this.loading = false;\n          });\n      this.sessionsService.getSessionLengthByService(null, null, null, null, null)\n        .pipe(first())\n        .subscribe(\n          data => {\n            ////console.log('data => ', data)\n            if (data && data['success']) {\n              //alert(JSON.stringify( data));\n              this.allSessionsCount = data['data'];\n              //this.alertService.success(data['message'], true);\n              this.loading = false;\n              //this.element_btn_click_addSession_skills_verification.click();\n            } else {\n              //alert(JSON.stringify(data['message']));\n              //this.alertService.error(data['message']);\n              this.loading = false;\n            }\n          },\n          error => {\n            let errorMsg2show = \"\";\n            try {\n              if (error && error.error && error.error.message) {\n                errorMsg2show = error.error.message;\n              } else if (error && error.message) {\n                errorMsg2show = error.message;\n              } else {\n                errorMsg2show = error;\n              }\n            } catch (ex) { }\n            //this.alertService.error(errorMsg2show);\n            this.loading = false;\n          });\n    }\n    ngOnDestroy() {\n      // unsubscribe to ensure no memory leaks\n      this.subscription.unsubscribe();\n      this.subscription1.unsubscribe();\n    }\n  \n    check4applyToSession(sessionObj) {\n      if (sessionObj && sessionObj.sessionAppliedByBorrowers) {\n        if (_.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id }).length > 0) {\n          return true;\n        }\n      }\n      return false;\n    }\n  \n    applyToSession(sessionObj) {\n      //console.log('179', this.authenticationService.currentUserValue);\n      const dialogRef = this.dialog.open(ModalApplySession, {\n        maxWidth: '100vw',\n        maxHeight: '100vh',\n        height: '100%',\n        width: '100%',\n        data: {\n          sessionObj: sessionObj,\n          borrowerId: this.authenticationService.currentUserValue._id\n        }\n      });\n  \n      dialogRef.afterClosed().subscribe(result => {\n        let _currentSessionApply = null;\n        if (result) {\n          if (result.data) {\n            _currentSessionApply = result.data.sessionApply\n            if (_currentSessionApply) {\n              if (!_currentSessionApply._id) {\n                _currentSessionApply._id = _currentSessionApply.loanId + '__' + _currentSessionApply.borrowerId;\n              }\n              _currentSessionApply.status = result.data.status || SessionStatus.Pending;\n              this.socketService.sendCurrentAppliedSessionObj(_currentSessionApply.loanId);\n              switch (_currentSessionApply.status) {\n                case SessionStatus.Pending:\n                  this.socketService.setSessionApply(true, _currentSessionApply);\n                  break;\n                default:\n                  this.socketService.updateSessionApply(true, _currentSessionApply, this.authenticationService.currentUserValue);\n                  break;\n              }\n              switch (_currentSessionApply.status) {\n                case SessionStatus.Accepted:\n                  this.alertService.success(\"Updated. Session is available under My Sessions->Accepted tab.\", true);\n                  break;\n                case SessionStatus.Pending:\n                  this.alertService.success(\"Added. Session is available under My Sessions->Pending tab.\", true);\n                  break;\n                case SessionStatus.Rejected:\n                case SessionStatus.RejectedOngoing:\n                case SessionStatus.RejectedOngoingWithRefund:\n                case SessionStatus.Suspended:\n                  this.alertService.success(\"Updated. Session is available under My Sessions->Rejected tab.\", true);\n                  break;\n                case SessionStatus.Completed:\n                  this.alertService.success(\"Updated. Session is available under My Sessions->Completed tab.\", true);\n                  break;\n                case SessionStatus.Active:\n                case SessionStatus.Ongoing:\n                case SessionStatus.OngoingInitiated:\n                case SessionStatus.AwaitingForApproval:\n                  this.alertService.success(\"Updated. Session is available under My Sessions->Ongoing tab.\", true);\n                  break;\n                default:\n                  break;\n              }\n            }\n          }\n        }\n        //console.log(`239 :: hc :: Dialog result: ${JSON.stringify(result)}`);\n      });\n    }\n  \n    showAppliedToSession(sessionObj) {\n      let _proccessedSessionObj = null;\n      switch (this.authenticationService.currentUserValue.role) {\n        case Role.Borrower:\n          _proccessedSessionObj = _.cloneDeep(sessionObj);\n          _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\n          break;\n        default:\n          _proccessedSessionObj = _.cloneDeep(sessionObj);\n          break;\n      }\n  \n  \n      //console.log('214', this.authenticationService.currentUserValue);\n      const dialogRef = this.dialog.open(ModalAppliedSessionDisplay, {\n        backdropClass: 'cdk-overlay-transparent-backdrop',\n        hasBackdrop: true,\n        maxWidth: '100vw',\n        maxHeight: '100vh',\n        height: '100%',\n        width: '100%',\n        data: {\n          sessionObj: _proccessedSessionObj,\n          borrowerId: this.authenticationService.currentUserValue._id\n        }\n      });\n  \n      dialogRef.afterClosed().subscribe(result => {\n        //console.log(`238 :: hc :: Dialog result: ${JSON.stringify(result)}`);\n      });\n    }\n  \n    clickedOnSessionChatVideo(sessionObj, AVTrueChatFalse) {\n      let _contactId = this.contactService.returnContactIdForSession(sessionObj._id, sessionObj.sessionAppliedByBorrowers[0]._id);\n      let _parentRouting = '';\n      switch (this.authenticationService.currentUserValue.role) {\n        case Role.Borrower:\n          _parentRouting = 'borrower';\n          break;\n        case Role.Lender:\n          _parentRouting = 'lender';\n          break;\n        case Role.Admin:\n          _parentRouting = 'admin';\n          break;\n      }\n      this.router.navigate(['/' + _parentRouting + '/messages'], { state: { contactId: _contactId, AVTrueChatFalse: AVTrueChatFalse } });\n    }\n    */\n}","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { SocketioService } from 'src/app/socketio.service';\nimport { SessionsService } from 'src/app/services/sessions.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AuthenticationService, AlertService, UserService } from 'src/app/services';\nimport { UtilityService } from 'src/app/services/utility.service';\nimport { first } from 'rxjs/operators';\nimport { ModalAppliedSessionDisplay, ModalApplySession } from '../borrower.component';\nimport * as _ from 'lodash';\nimport { Role, SessionStatus } from 'src/app/models';\nimport { Router } from '@angular/router';\nimport { PublicProfileComponent } from 'src/app/shared/public-profile/public-profile.component';\n\ndeclare var $: any;\ndeclare var jQuery: any;\n\n@Component({\n  selector: 'app-my-sessions',\n  templateUrl: './my-sessions.component.html',\n  styleUrls: ['./my-sessions.component.css']\n})\n\nexport class MySessionsComponent implements OnInit {\n\n  loading: boolean;\n  allSessionsData: any;\n  SessionStatusTypeFilter: string[] = [];\n  checkCreatedByUserId: string = '';\n  checkCreatedByT: Boolean = false;\n  isLast: any;\n  SessionStatus = SessionStatus;\n  sessionApply: any;\n  selectedTab: string = 'active';\n  public _ = _;\n  constructor(\n    private socketService: SocketioService,\n    private sessionsService: SessionsService,\n    private alertService: AlertService,\n    public utilityService: UtilityService,\n    public dialog: MatDialog,\n    public authenticationService: AuthenticationService,\n    public userService: UserService,\n    public router: Router,\n    private _cdr: ChangeDetectorRef\n  ) {\n    let paramobj = history.state;\n    if (paramobj) {\n      this.selectedTab = paramobj['selectedTab'];\n      delete history.state['selectedTab'];\n    }\n    if (!this.selectedTab) {\n      this.selectedTab = 'active';\n    }\n    this.setFilteresOfMySessionDependsOnTab(this.selectedTab);\n    this.getUserLoanTypeWiseCountDetailsByUserId();\n  }\n\n  setFilteresOfMySessionDependsOnTab(selectedTab) {\n    switch (selectedTab) {\n      case 'received':\n        this.SessionStatusTypeFilter = [SessionStatus.Pending, SessionStatus.AwaitingForApproval];\n        this.checkCreatedByUserId = this.authenticationService.currentUserValue._id;\n        this.checkCreatedByT = true;\n        break;\n      case 'sent':\n        this.SessionStatusTypeFilter = [SessionStatus.AwaitingForApproval];\n        this.checkCreatedByUserId = this.authenticationService.currentUserValue._id;\n        this.checkCreatedByT = false;\n        break;\n      case 'canceled':\n        this.SessionStatusTypeFilter = [SessionStatus.Canceled, SessionStatus.Rejected, SessionStatus.RejectedOngoing, SessionStatus.Suspended, SessionStatus.RejectedOngoingWithRefund];\n        this.checkCreatedByUserId = null;\n        this.checkCreatedByT = false;\n        break;\n      case 'active':\n        this.SessionStatusTypeFilter = [SessionStatus.Accepted];\n        this.checkCreatedByUserId = null;\n        this.checkCreatedByT = false;\n        break;\n      case 'paid':\n        this.SessionStatusTypeFilter = [SessionStatus.Completed];\n        this.checkCreatedByUserId = null;\n        this.checkCreatedByT = false;\n        break;\n      case 'unpaid':\n        this.SessionStatusTypeFilter = [SessionStatus.RejectedOngoing, SessionStatus.Suspended, SessionStatus.Unpaid];\n        this.checkCreatedByUserId = null;\n        this.checkCreatedByT = false;\n        break;\n      case 'inkasso':\n        this.SessionStatusTypeFilter = [SessionStatus.Rejected, SessionStatus.RejectedOngoingWithRefund, SessionStatus.Inkasso];\n        this.checkCreatedByUserId = null;\n        this.checkCreatedByT = false;\n        break;\n    }\n  }\n\n  ngOnInit() {\n    (function ($) {\n      try {\n        $('.tooltip-info').tooltip();\n      } catch (ex) {\n        //console.log('48', ex.message);\n      }\n    })(jQuery);\n\n    this.sessionsService.getSessionAllByBorrowerId(this.authenticationService.currentUserValue._id, null, null, null, true, null)\n      .pipe(first())\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n            //alert(JSON.stringify( data));\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\n            for (let _items in data['data']) {\n              let _currentObj = data['data'][_items];\n              _keyPairedMapObj[_currentObj._id] = _currentObj\n            }\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\n            //this.alertService.success(data['message'], true);\n            this.loading = false;\n            //this.element_btn_click_addSession_skills_verification.click();\n          } else {\n            //alert(JSON.stringify(data['message']));\n            //this.alertService.error(data['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          //this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n\n    this.sessionsService.getUpdatesForSessionAllByBorrowerId()\n      .subscribe(\n        data => {\n          if (data && data['success']) {\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\n            for (let _items in data['data']) {\n              let _currentObj = data['data'][_items];\n              _keyPairedMapObj[_currentObj._id] = _currentObj\n            }\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\n            this.loading = false;\n          } else {\n            this.loading = false;\n          }\n        },\n        error => {\n          this.loading = false;\n        });\n\n    this.socketService.getCurrentSessionAll().subscribe(_allSessionsData => {\n      if (_allSessionsData) {\n        let data = { 'data': _allSessionsData };\n        let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\n        for (let _items in data['data']) {\n          let _currentObj = data['data'][_items];\n          _keyPairedMapObj[_currentObj._id] = _currentObj\n        }\n        this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\n\n        this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\n\n      } else {\n        //this.allSessionsData = [];\n      }\n    });\n    let _obj2Save = {\n      createdBy: this.authenticationService.currentUserValue._id\n    };\n    this.socketService.getSessionAllByQuery(false, _obj2Save, null);\n  }\n\n  showAppliedToSession(sessionObj) {\n    let _proccessedSessionObj = null;\n    switch (this.authenticationService.currentUserValue.role) {\n      case Role.Borrower:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\n        break;\n      default:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        break;\n    }\n\n    //console.log('214', this.authenticationService.currentUserValue);\n    const dialogRef = this.dialog.open(ModalAppliedSessionDisplay, {\n      backdropClass: 'custom-dialog-backdrop-class',\n      panelClass: 'my_session_details_modal',\n      maxWidth: '100vw',\n      maxHeight: '100vh',\n      height: '100%',\n      width: '100%',\n      data: {\n        sessionObj: _proccessedSessionObj,\n        borrowerId: this.authenticationService.currentUserValue._id\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        if (result.data) {\n          //console.log(`86 :: msc :: Dialog result: ${JSON.stringify(result)}`);\n          if (result.data.status && result.data.sessionApply) {\n            let _loanApplyId = result.data.sessionApply._id;\n            let _status = result.data.status;\n            //initiate payment here\n            //this.socketService.setSessionApplyUpdateStatus(false, _loanId, _loanApplyId, _status, this.authenticationService.currentUserValue._id, _transactionId);\n            let _allowed2CreateContactForSessionT = false;\n            switch (_status) {\n              case SessionStatus.Accepted:\n                //this.alertService.success(\"Updated. Session is available under My Sessions->Accepted tab.\", true);\n                this.proccedAppliedToSession(sessionObj, _loanApplyId);\n                break;\n              case SessionStatus.Rejected:\n                this.socketService.setSessionApplyUpdateStatus(true, result.data.sessionApply.loanId, _loanApplyId, _status, this.authenticationService.currentUserValue._id, null);\n                break;\n            }\n          }\n          if (result.data.updatedSessionObj) {\n\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\n\n            _keyPairedMapObj[result.data.updatedSessionObj._id] = result.data.updatedSessionObj;\n\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\n\n            this._cdr.detectChanges();\n          }\n        }\n      }\n    });\n  }\n\n  proccedAppliedToSession(sessionObj, loanApplyId) {\n    let loanId = sessionObj._id;\n\n    let _proccessedSessionObj = null;\n    switch (this.authenticationService.currentUserValue.role) {\n      case Role.Borrower:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\n        break;\n      default:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        break;\n    }\n    if (!loanApplyId) {\n      loanApplyId = _proccessedSessionObj.sessionAppliedByBorrowers[0]._id;\n    }\n    this.router.navigate(['/borrower/borrow-now'], { state: { loanId: loanId, loanApplyId: loanApplyId } });\n  }\n\n  check4applyToSession(sessionObj, checkCreatedBySelfT) {\n    if (sessionObj && sessionObj.sessionAppliedByBorrowers) {\n      if (checkCreatedBySelfT) {\n        if (sessionObj.createdBy == this.authenticationService.currentUserValue._id) {\n          if (_.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id }).length > 0) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  returnSessionApplyStatus(sessionApply) {\n    let _currentStatus = SessionStatus.Pending;\n    try {\n      if ((sessionApply.status == SessionStatus.Pending || sessionApply.status == 'Pending' || sessionApply.status == '' || sessionApply.status == null || typeof sessionApply.status == 'undefined')) {\n        _currentStatus = SessionStatus.Pending;\n      } else {\n        _currentStatus = sessionApply.status;\n      }\n    } catch (ex) { }\n    return _currentStatus;\n  }\n\n  sessionApplyOngoingCheck(sessionObj, sessionApply) {\n    //console.log('179', this.authenticationService.currentUserValue);\n    const dialogRef = this.dialog.open(ModalApplySession, {\n      maxWidth: '100vw',\n      maxHeight: '100vh',\n      height: '100%',\n      width: '100%',\n      data: {\n        sessionObj: sessionObj,\n        borrowerId: this.authenticationService.currentUserValue._id,\n        sessionApply: sessionApply\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      let _currentSessionApply = null;\n      if (result) {\n        if (result.data) {\n          _currentSessionApply = result.data.sessionApply\n          if (_currentSessionApply) {\n            if (!_currentSessionApply._id) {\n              _currentSessionApply._id = _currentSessionApply.loanId + '__' + _currentSessionApply.borrowerId;\n            }\n            let _loanId = _currentSessionApply.loanId;\n            let _sessionPrice = _currentSessionApply.loanAmount;\n            let _loanApplyId = _currentSessionApply._id;\n            let _borrowerId = _currentSessionApply.borrowerId;\n            let _transactionId = result.data.transactionId;\n            let _status = result.data.status;\n            _currentSessionApply.status = result.data.status || SessionStatus.Pending;\n            this.socketService.sendCurrentAppliedSessionObj(_currentSessionApply.loanId);\n            switch (_currentSessionApply.status) {\n              case SessionStatus.Pending:\n                _currentSessionApply.createdBy = this.authenticationService.currentUserValue._id;\n                this.socketService.setSessionApply(true, _currentSessionApply);\n                break;\n              default:\n                this.socketService.updateSessionApply(true, _currentSessionApply, this.authenticationService.currentUserValue);\n                break;\n            }\n            switch (_currentSessionApply.status) {\n              case SessionStatus.Accepted:\n                this.alertService.success(\"Updated. Session is available under My Sessions->Accepted tab.\", true);\n                break;\n              case SessionStatus.Pending:\n                this.alertService.success(\"Added. Session is available under My Sessions->Pending tab.\", true);\n                break;\n              case SessionStatus.Rejected:\n                this.socketService.setSessionApplyUpdateStatus(true, _loanId, _loanApplyId, _status, this.authenticationService.currentUserValue._id, _transactionId);\n                break;\n              case SessionStatus.RejectedOngoing:\n              case SessionStatus.RejectedOngoingWithRefund:\n              case SessionStatus.Suspended:\n                this.alertService.success(\"Updated. Session is available under My Sessions->Rejected tab.\", true);\n                break;\n              case SessionStatus.Completed:\n                this.alertService.success(\"Updated. Session is available under My Sessions->Completed tab.\", true);\n                break;\n              case SessionStatus.Active:\n              case SessionStatus.Ongoing:\n              case SessionStatus.OngoingInitiated:\n              case SessionStatus.AwaitingForApproval:\n                this.alertService.success(\"Updated. Session is available under My Sessions->Ongoing tab.\", true);\n                break;\n              default:\n                break;\n            }\n          }\n        }\n      }\n      //console.log(`163 :: myc :: Dialog result: ${JSON.stringify(result)}`);\n    });\n  }\n\n  getUserLoanTypeWiseCountDetailsByUserId() {\n    this.userService.getUserLoanTypeWiseCountDetailsByUserId(this.authenticationService.currentUserValue._id, this.authenticationService.currentUserValue.role)\n      .pipe(first())\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n            this.authenticationService.currentUserLoanTypeWiseCountDetails = data['data'];\n          } else {\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n\n        });\n  }\n  usersProfile(userObj) {\n    //#region fetch creator id\n    this.userService.getUserById(userObj._id)\n      .pipe(first())\n      .subscribe(\n        data => {\n          if (data && data['success']) {\n            //console.log('84', this.authenticationService.currentUserValue);\n            const dialogRef = this.dialog.open(PublicProfileComponent, {\n\n              maxWidth: '100vw',\n              maxHeight: '100vh',\n              height: '100%',\n              width: '100%',\n              hasBackdrop: true,\n              data: {\n                userObj: _.cloneDeep(data['data']),\n                adminViewT: false\n              }\n            });\n\n            dialogRef.afterClosed().subscribe(result => {\n              //console.log(`99 :: msc :: Dialog result: ${JSON.stringify(result)}`);\n            });\n\n          } else {\n\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          this.alertService.error(errorMsg2show);\n\n        });\n    //#endregion fetch creator id\n\n  }\n  deleteSessionById(sessionId) {\n    this.sessionsService.deleteSessionById(sessionId, this.authenticationService.currentUserValue._id)\n      .pipe(first())\n      .subscribe(\n        _allLoanMarketData => {\n          if (_allLoanMarketData && _allLoanMarketData['success']) {\n            //alert(JSON.stringify( data));\n            if (_allLoanMarketData) {\n              if (_allLoanMarketData[\"success\"]) {\n                let temp_allLoanMarketData = _.mapKeys(this.allSessionsData, '_id')\n                if (_allLoanMarketData[\"data\"].isDeleted) {\n                  delete temp_allLoanMarketData[_allLoanMarketData[\"data\"]._id];\n                  this.alertService.success('Deleted successfully');\n                } else {\n                  temp_allLoanMarketData[_allLoanMarketData[\"data\"]._id] = _allLoanMarketData[\"data\"];\n                  this.alertService.success('Updated successfully');\n                }\n                this.allSessionsData = _.values(temp_allLoanMarketData);\n                this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\n\n                this._cdr.detectChanges();\n              }\n            }\n            this.loading = false;\n          } else {\n            //alert(JSON.stringify(data['message']));\n            this.alertService.error(_allLoanMarketData['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-earnings',\n  templateUrl: './earnings.component.html',\n  styleUrls: ['./earnings.component.css']\n})\nexport class EarningsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","export default \".container_read {\\n    height: 70px;\\n    overflow: hidden;\\n  }\\n  \\n  .show_more {\\n    overflow: visible;\\n    height: auto;\\n  }\\n\\n  \\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxpQkFBaUI7SUFDakIsWUFBWTtFQUNkIiwiZmlsZSI6ImhvbWUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXJfcmVhZCB7XG4gICAgaGVpZ2h0OiA3MHB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIH1cbiAgXG4gIC5zaG93X21vcmUge1xuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgIGhlaWdodDogYXV0bztcbiAgfVxuXG4gICJdfQ== */\";","export default \".wrapper:focus {\\n    outline: 0;\\n}\\n\\n.clash-card {\\n    background: white;\\n    display: inline-block;\\n    margin: auto;\\n    border-radius: 19px;\\n    position: relative;\\n    text-align: center;\\n    box-shadow: -1px 15px 30px -12px black;\\n}\\n\\n.clash-card__image {\\n    position: relative;\\n    height: 230px;\\n    margin-bottom: 35px;\\n    border-top-left-radius: 14px;\\n    border-top-right-radius: 14px;\\n}\\n\\n.clash-card__image--barbarian {\\n    background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/barbarian-bg.jpg');\\n}\\n\\n.clash-card__image--barbarian img {\\n    width: 400px;\\n    position: absolute;\\n    top: -65px;\\n    left: -70px;\\n}\\n\\n.clash-card__image--archer {\\n    background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/archer-bg.jpg');\\n}\\n\\n.clash-card__image--archer img {\\n    width: 400px;\\n    position: absolute;\\n    top: -34px;\\n    left: -37px;\\n}\\n\\n.clash-card__image--giant {\\n    background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/giant-bg.jpg');\\n}\\n\\n.clash-card__image--giant img {\\n    width: 340px;\\n    position: absolute;\\n    top: -30px;\\n    left: -25px;\\n}\\n\\n.clash-card__image--goblin {\\n    background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/goblin-bg.jpg');\\n}\\n\\n.clash-card__image--goblin img {\\n    width: 370px;\\n    position: absolute;\\n    top: -21px;\\n    left: -37px;\\n}\\n\\n.clash-card__image--wizard {\\n    background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/wizard-bg.jpg');\\n}\\n\\n.clash-card__image--wizard img {\\n    width: 345px;\\n    position: absolute;\\n    top: -28px;\\n    left: -10px;\\n}\\n\\n.clash-card__level {\\n    text-transform: uppercase;\\n    font-size: 12px;\\n    font-weight: 700;\\n    margin-bottom: 3px;\\n}\\n\\n.clash-card__level--barbarian {\\n    color: #ec9b3b;\\n}\\n\\n.clash-card__level--archer {\\n    color: #ee5487;\\n}\\n\\n.clash-card__level--giant {\\n    color: #f6901a;\\n}\\n\\n.clash-card__level--goblin {\\n    color: #82bb30;\\n}\\n\\n.clash-card__level--wizard {\\n    color: #4facff;\\n}\\n\\n.clash-card__unit-name {\\n    font-size: 26px;\\n    color: black;\\n    font-weight: 900;\\n    margin-bottom: 5px;\\n}\\n\\n.clash-card__unit-description {\\n    padding: 5px;\\n    margin-bottom: 10px;\\n}\\n\\n.clash-card__unit-stats--barbarian {\\n    background: #ec9b3b;\\n}\\n\\n.clash-card__unit-stats--barbarian .one-third {\\n    border-right: 1px solid #bd7c2f;\\n}\\n\\n.clash-card__unit-stats--archer {\\n    background: #ee5487;\\n}\\n\\n.clash-card__unit-stats--archer .one-third {\\n    border-right: 1px solid #d04976;\\n}\\n\\n.clash-card__unit-stats--giant {\\n    background: #f6901a;\\n}\\n\\n.clash-card__unit-stats--giant .one-third {\\n    border-right: 1px solid #de7b09;\\n}\\n\\n.clash-card__unit-stats--goblin {\\n    background: #82bb30;\\n}\\n\\n.clash-card__unit-stats--goblin .one-third {\\n    border-right: 1px solid #71a32a;\\n}\\n\\n.clash-card__unit-stats--wizard {\\n    background: #4facff;\\n}\\n\\n.clash-card__unit-stats--wizard .one-third {\\n    border-right: 1px solid #309eff;\\n}\\n\\n.clash-card__unit-stats {\\n    color: white;\\n    font-weight: 700;\\n    border-bottom-left-radius: 14px;\\n    border-bottom-right-radius: 14px;\\n}\\n\\n.clash-card__unit-stats .one-third {\\n    width: 33%;\\n    float: left;\\n    padding: 10px 5px;\\n}\\n\\n.clash-card__unit-stats sup {\\n    position: absolute;\\n    bottom: 4px;\\n    font-size: 45%;\\n    margin-left: 2px;\\n}\\n\\n.clash-card__unit-stats .stat {\\n    position: relative;\\n    font-size: 20px;\\n    margin-bottom: 5px;\\n}\\n\\n.clash-card__unit-stats .stat-value {\\n    text-transform: uppercase;\\n    font-weight: 400;\\n    font-size: 12px;\\n}\\n\\n.clash-card__unit-stats .no-border {\\n    border-right: none;\\n}\\n\\n.clearfix:after {\\n    visibility: hidden;\\n    display: block;\\n    font-size: 0;\\n    content: \\\" \\\";\\n    clear: both;\\n    height: 0;\\n}\\n\\n.slick-prev {\\n    left: 100px;\\n    z-index: 999;\\n}\\n\\n.slick-next {\\n    right: 100px;\\n    z-index: 999;\\n}\\n\\n.month {\\n    font-size: 8px;\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvYW4tbWFya2V0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIscUJBQXFCO0lBQ3JCLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixzQ0FBc0M7QUFDMUM7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQiw0QkFBNEI7SUFDNUIsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0ksdUZBQXVGO0FBQzNGOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0ksb0ZBQW9GO0FBQ3hGOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0ksbUZBQW1GO0FBQ3ZGOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0ksb0ZBQW9GO0FBQ3hGOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0ksb0ZBQW9GO0FBQ3hGOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksY0FBYztBQUNsQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksY0FBYztBQUNsQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGdCQUFnQjtJQUNoQiwrQkFBK0I7SUFDL0IsZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksVUFBVTtJQUNWLFdBQVc7SUFDWCxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsV0FBVztJQUNYLGNBQWM7SUFDZCxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixnQkFBZ0I7SUFDaEIsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2QsWUFBWTtJQUNaLFlBQVk7SUFDWixXQUFXO0lBQ1gsU0FBUztBQUNiOztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEIiLCJmaWxlIjoibG9hbi1tYXJrZXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi53cmFwcGVyOmZvY3VzIHtcbiAgICBvdXRsaW5lOiAwO1xufVxuXG4uY2xhc2gtY2FyZCB7XG4gICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBib3JkZXItcmFkaXVzOiAxOXB4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYm94LXNoYWRvdzogLTFweCAxNXB4IDMwcHggLTEycHggYmxhY2s7XG59XG5cbi5jbGFzaC1jYXJkX19pbWFnZSB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGhlaWdodDogMjMwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMzVweDtcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAxNHB4O1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAxNHB4O1xufVxuXG4uY2xhc2gtY2FyZF9faW1hZ2UtLWJhcmJhcmlhbiB7XG4gICAgYmFja2dyb3VuZDogdXJsKCdodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby8xOTU2MTIvYmFyYmFyaWFuLWJnLmpwZycpO1xufVxuXG4uY2xhc2gtY2FyZF9faW1hZ2UtLWJhcmJhcmlhbiBpbWcge1xuICAgIHdpZHRoOiA0MDBweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAtNjVweDtcbiAgICBsZWZ0OiAtNzBweDtcbn1cblxuLmNsYXNoLWNhcmRfX2ltYWdlLS1hcmNoZXIge1xuICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTk1NjEyL2FyY2hlci1iZy5qcGcnKTtcbn1cblxuLmNsYXNoLWNhcmRfX2ltYWdlLS1hcmNoZXIgaW1nIHtcbiAgICB3aWR0aDogNDAwcHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogLTM0cHg7XG4gICAgbGVmdDogLTM3cHg7XG59XG5cbi5jbGFzaC1jYXJkX19pbWFnZS0tZ2lhbnQge1xuICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTk1NjEyL2dpYW50LWJnLmpwZycpO1xufVxuXG4uY2xhc2gtY2FyZF9faW1hZ2UtLWdpYW50IGltZyB7XG4gICAgd2lkdGg6IDM0MHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IC0zMHB4O1xuICAgIGxlZnQ6IC0yNXB4O1xufVxuXG4uY2xhc2gtY2FyZF9faW1hZ2UtLWdvYmxpbiB7XG4gICAgYmFja2dyb3VuZDogdXJsKCdodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby8xOTU2MTIvZ29ibGluLWJnLmpwZycpO1xufVxuXG4uY2xhc2gtY2FyZF9faW1hZ2UtLWdvYmxpbiBpbWcge1xuICAgIHdpZHRoOiAzNzBweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAtMjFweDtcbiAgICBsZWZ0OiAtMzdweDtcbn1cblxuLmNsYXNoLWNhcmRfX2ltYWdlLS13aXphcmQge1xuICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTk1NjEyL3dpemFyZC1iZy5qcGcnKTtcbn1cblxuLmNsYXNoLWNhcmRfX2ltYWdlLS13aXphcmQgaW1nIHtcbiAgICB3aWR0aDogMzQ1cHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogLTI4cHg7XG4gICAgbGVmdDogLTEwcHg7XG59XG5cbi5jbGFzaC1jYXJkX19sZXZlbCB7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgICBtYXJnaW4tYm90dG9tOiAzcHg7XG59XG5cbi5jbGFzaC1jYXJkX19sZXZlbC0tYmFyYmFyaWFuIHtcbiAgICBjb2xvcjogI2VjOWIzYjtcbn1cblxuLmNsYXNoLWNhcmRfX2xldmVsLS1hcmNoZXIge1xuICAgIGNvbG9yOiAjZWU1NDg3O1xufVxuXG4uY2xhc2gtY2FyZF9fbGV2ZWwtLWdpYW50IHtcbiAgICBjb2xvcjogI2Y2OTAxYTtcbn1cblxuLmNsYXNoLWNhcmRfX2xldmVsLS1nb2JsaW4ge1xuICAgIGNvbG9yOiAjODJiYjMwO1xufVxuXG4uY2xhc2gtY2FyZF9fbGV2ZWwtLXdpemFyZCB7XG4gICAgY29sb3I6ICM0ZmFjZmY7XG59XG5cbi5jbGFzaC1jYXJkX191bml0LW5hbWUge1xuICAgIGZvbnQtc2l6ZTogMjZweDtcbiAgICBjb2xvcjogYmxhY2s7XG4gICAgZm9udC13ZWlnaHQ6IDkwMDtcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbi5jbGFzaC1jYXJkX191bml0LWRlc2NyaXB0aW9uIHtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxuLmNsYXNoLWNhcmRfX3VuaXQtc3RhdHMtLWJhcmJhcmlhbiB7XG4gICAgYmFja2dyb3VuZDogI2VjOWIzYjtcbn1cblxuLmNsYXNoLWNhcmRfX3VuaXQtc3RhdHMtLWJhcmJhcmlhbiAub25lLXRoaXJkIHtcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjYmQ3YzJmO1xufVxuXG4uY2xhc2gtY2FyZF9fdW5pdC1zdGF0cy0tYXJjaGVyIHtcbiAgICBiYWNrZ3JvdW5kOiAjZWU1NDg3O1xufVxuXG4uY2xhc2gtY2FyZF9fdW5pdC1zdGF0cy0tYXJjaGVyIC5vbmUtdGhpcmQge1xuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkMDQ5NzY7XG59XG5cbi5jbGFzaC1jYXJkX191bml0LXN0YXRzLS1naWFudCB7XG4gICAgYmFja2dyb3VuZDogI2Y2OTAxYTtcbn1cblxuLmNsYXNoLWNhcmRfX3VuaXQtc3RhdHMtLWdpYW50IC5vbmUtdGhpcmQge1xuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZTdiMDk7XG59XG5cbi5jbGFzaC1jYXJkX191bml0LXN0YXRzLS1nb2JsaW4ge1xuICAgIGJhY2tncm91bmQ6ICM4MmJiMzA7XG59XG5cbi5jbGFzaC1jYXJkX191bml0LXN0YXRzLS1nb2JsaW4gLm9uZS10aGlyZCB7XG4gICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgIzcxYTMyYTtcbn1cblxuLmNsYXNoLWNhcmRfX3VuaXQtc3RhdHMtLXdpemFyZCB7XG4gICAgYmFja2dyb3VuZDogIzRmYWNmZjtcbn1cblxuLmNsYXNoLWNhcmRfX3VuaXQtc3RhdHMtLXdpemFyZCAub25lLXRoaXJkIHtcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjMzA5ZWZmO1xufVxuXG4uY2xhc2gtY2FyZF9fdW5pdC1zdGF0cyB7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMTRweDtcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTRweDtcbn1cblxuLmNsYXNoLWNhcmRfX3VuaXQtc3RhdHMgLm9uZS10aGlyZCB7XG4gICAgd2lkdGg6IDMzJTtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBwYWRkaW5nOiAxMHB4IDVweDtcbn1cblxuLmNsYXNoLWNhcmRfX3VuaXQtc3RhdHMgc3VwIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm90dG9tOiA0cHg7XG4gICAgZm9udC1zaXplOiA0NSU7XG4gICAgbWFyZ2luLWxlZnQ6IDJweDtcbn1cblxuLmNsYXNoLWNhcmRfX3VuaXQtc3RhdHMgLnN0YXQge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBmb250LXNpemU6IDIwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xufVxuXG4uY2xhc2gtY2FyZF9fdW5pdC1zdGF0cyAuc3RhdC12YWx1ZSB7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuLmNsYXNoLWNhcmRfX3VuaXQtc3RhdHMgLm5vLWJvcmRlciB7XG4gICAgYm9yZGVyLXJpZ2h0OiBub25lO1xufVxuXG4uY2xlYXJmaXg6YWZ0ZXIge1xuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBmb250LXNpemU6IDA7XG4gICAgY29udGVudDogXCIgXCI7XG4gICAgY2xlYXI6IGJvdGg7XG4gICAgaGVpZ2h0OiAwO1xufVxuXG4uc2xpY2stcHJldiB7XG4gICAgbGVmdDogMTAwcHg7XG4gICAgei1pbmRleDogOTk5O1xufVxuXG4uc2xpY2stbmV4dCB7XG4gICAgcmlnaHQ6IDEwMHB4O1xuICAgIHotaW5kZXg6IDk5OTtcbn1cblxuLm1vbnRoIHtcbiAgICBmb250LXNpemU6IDhweDtcbn1cblxuIl19 */\";","export default \"  <!--copyright start-->\\n  <div class=\\\"agency copyright\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-sm-6\\\">\\n                <div class=\\\"link-horizontal\\\">\\n                    <ul>\\n                        <li>\\n                            <a class=\\\"copyright-text\\\" routerLink=\\\"/disclaimer\\\" routerLinkActive=\\\"active\\\" i18n>Privacy Policy</a>\\n                        </li>\\n\\n                        <li>\\n                            <a class=\\\"copyright-text\\\" routerLink=\\\"/disclaimer\\\" routerLinkActive=\\\"active\\\" i18n>Terms of Use</a>\\n                        </li>\\n                        <li>\\n                            <a class=\\\"copyright-text\\\" routerLink=\\\"/faqs\\\" routerLinkActive=\\\"active\\\" i18n>FAQs</a>\\n                        </li>\\n                        \\n                    </ul>\\n                </div>\\n            </div>\\n            <div class=\\\"col-sm-6\\\">\\n                <div>\\n                    <h6 class=\\\"copyright-text text-white text-right\\\" i18n> 2020 Avitii Lender System\\n\\n                    </h6>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n  </div>\\n  <!--copyright end-->\\n  \\n \";","\nimport { NgModule } from '@angular/core';\n\nimport { Routes, RouterModule } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { BorrowerComponent } from './borrower.component';\nimport { HomeComponent } from './home/home.component';\nimport { BrowseSessionsComponent } from './browse-sessions/browse-sessions.component';\nimport { MySessionsComponent } from './my-sessions/my-sessions.component';\nimport { EarningsComponent } from './earnings/earnings.component';\nimport { RoomComponent } from './room/room.component';\n\nimport { MessagesComponent } from './../shared/messages/messages.component';\nimport { ProfileComponent } from './../shared/profile/profile.component';\nimport { WalletComponent } from './../shared/wallet/wallet.component';\nimport { MeetingVcComponent } from './../shared/meeting-vc/meeting-vc.component';\nimport { PaymentComponent } from './../shared/payment/payment.component';\nimport { UserRatingsComponent } from './../shared/user-ratings/user-ratings.component';\nimport { RolesGuard } from '../components/_guards/roles.guard';\nimport { LoanMarketComponent } from './loan-market/loan-market.component';\nimport {GetALoanComponent} from './get-a-loan/get-a-loan.component';\nimport { BorrowNowComponent } from './borrow-now/borrow-now.component';\nimport { UpdatePasswordComponent } from '../shared/update-password/update-password.component';\nimport { BankDetailsComponent } from '../shared/bank-details/bank-details.component';\nimport { CalendarComponent } from './calendar/calendar.component';\nimport { MonthlySubscriptionComponent } from '../shared/monthly-subscription/monthly-subscription.component';\nimport { IncomeProofComponent } from '../shared/income-proof/income-proof.component';\nimport { PaymentCancelComponent } from '../shared/payment-cancel/payment-cancel.component';\nimport { PaymentSuccessComponent } from '../shared/payment-success/payment-success.component';\nimport { UsersIncomeExpenseVerifyGuard } from '../users-income-expense-verify.guard';\nimport { BankDetailsVerifyGuard } from '../bank-details-verify.guard';\nimport { RatingsListComponent } from '../shared/ratings-list/ratings-list.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BorrowerComponent,\n    children: [\n      {canActivate: [RolesGuard], path: '', component: HomeComponent},\n      { canActivate: [RolesGuard], path: 'profile', component: ProfileComponent },    \n      {canActivate: [RolesGuard], path: 'wallet', component: WalletComponent},\n      {canActivate: [RolesGuard], path: 'browse', component: BrowseSessionsComponent},\n      { canActivate: [RolesGuard], path: 'my-contract', component: MySessionsComponent },\n      { canActivate: [RolesGuard], path: 'messages', component: MessagesComponent },\n      { canActivate: [RolesGuard], path: 'earnings', component: EarningsComponent },\n      { canActivate: [RolesGuard], path: 'vcmeet', component: MeetingVcComponent },\n      { canActivate: [RolesGuard], path: 'room', component: RoomComponent },\n      { canActivate: [RolesGuard], path: 'payment', component: PaymentComponent },\n      { canActivate: [RolesGuard], path: 'payment-success', component: PaymentSuccessComponent },\n      { canActivate: [RolesGuard], path: 'payment-cancel', component: PaymentCancelComponent },\n      { canActivate: [RolesGuard], path: 'ratings', component: UserRatingsComponent },\n      { canActivate: [RolesGuard, BankDetailsVerifyGuard, UsersIncomeExpenseVerifyGuard], path: 'loan-market', component: LoanMarketComponent },\n      { canActivate: [RolesGuard, BankDetailsVerifyGuard, UsersIncomeExpenseVerifyGuard], path: 'make-a-loan', component: GetALoanComponent },\n      { canActivate: [RolesGuard], path: 'borrow-now', component: BorrowNowComponent },\n      { canActivate: [RolesGuard], path: 'update-password', component: UpdatePasswordComponent },\n      { canActivate: [RolesGuard], path: 'bank-details', component: BankDetailsComponent },\n      { canActivate: [RolesGuard], path: 'my-subscriptions', component: MonthlySubscriptionComponent },\n      { canActivate: [RolesGuard], path: 'income-proof', component: IncomeProofComponent },\n      { canActivate: [RolesGuard], path: 'calendar', component: CalendarComponent },\n      { canActivate: [RolesGuard], path: 'my-ratings', component: RatingsListComponent },\n    ]\n  },\n  {\n    path: '**',\n    redirectTo: '',\n    pathMatch: 'full'\n  }\n];\n@NgModule({\n\n  imports: [RouterModule.forChild(routes)],\n  exports: [\n    RouterModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ]\n})\nexport class BorrowerRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, Validators, FormBuilder, FormControl, FormArray } from '@angular/forms';\nimport { first } from 'rxjs/operators';\nimport * as moment from 'moment';\nimport { AuthenticationService, AlertService } from 'src/app/services';\nimport { AppRouterService } from 'src/app/services/app-router.service';\nimport { SessionsService } from 'src/app/services/sessions.service';\nimport { UtilityService } from 'src/app/services/utility.service';\nimport * as _ from 'lodash';\nimport { ActivatedRoute } from '@angular/router';\nimport { SessionStatus, SessionTypes, UserType, Role } from 'src/app/models';\n\n@Component({\n  selector: 'app-get-a-loan',\n  templateUrl: './get-a-loan.component.html',\n  styleUrls: ['./get-a-loan.component.css']\n})\nexport class GetALoanComponent implements OnInit {\n  public _ = _;\n  addSessionForm: FormGroup;\n  private _sessionType: string;\n  //UserType = UserType;\n  //currentUserRoleType: string = null;\n  currentUserMaxLoanAmount: number = 0;\n  loading = false;\n  submitted = false;\n  element_btn_click_addSession_basic_details: HTMLElement;\n  element_btn_click_addSession_skills_verification: HTMLElement;\n  private sub: any;\n  fileData: File = null;\n  previewUrl: any = null;\n  fileUploadProgress: string = null;\n  uploadedFilePath: string = null;\n  private loanId: any;\n  private borrowerId: any;\n  _calculatedMonthlyAmountForEMI = 0;\n  SessionStatus = SessionStatus;\n  SessionTypes = SessionTypes;\n  ParentServicesTypes: any = null;\n  ChildServicesTypes: any = [];\n  countrylist: any = null;\n  loanInterestRateMin: number = 0;\n  loanInterestRateMax: number = 0;\n  constructor(\n\n    private formBuilder: FormBuilder,\n    private authenticationService: AuthenticationService,\n    private sessionsService: SessionsService,\n    private alertService: AlertService,\n    private appRouterService: AppRouterService,\n    public utilityService: UtilityService,\n    private route: ActivatedRoute\n  ) {\n    // redirect to home if already logged in\n    if (!this.authenticationService.currentUserValue) {\n      this.appRouterService.appRouter('');\n    }\n    //#region do not allow to create new loan in last 3 day's of the month\n    let dt = this.utilityService.moment();\n    let day4monthEnd = 3;\n    if (dt.date() >= (dt.daysInMonth() - day4monthEnd)) {\n      this.appRouterService.appRouter('');\n      this.alertService.error('New loan request not allowed in end of the month, Please try again later in next month', true);\n      return;\n    }\n    //#endregion do not allow to create new loan in last 3 day's of the month\n    //this.currentUserRoleType = this.authenticationService.currentUserValue.userType;\n    this.currentUserMaxLoanAmount = 1000;\n\n    this.initForm();\n\n    let paramobj = history.state;\n    if (paramobj) {\n      this.loanId = paramobj['id'];\n      this.borrowerId = paramobj['borrowerId'];\n      delete history.state['id'];\n      delete history.state['borrowerId'];\n      /*\n      this.sub = this.route.queryParams.subscribe(params => {\n        this.loanId = params['id'];\n        */\n      if (this.loanId) {\n        this.sessionsService.getSessionById(this.loanId)\n          .pipe(first())\n          .subscribe(\n            data => {\n              ////console.log('data => ', data)\n              if (data && data['success']) {\n                //alert(JSON.stringify( data));\n                this.showEditingForm(data[\"data\"]);\n                //this.alertService.success(data['message'], true);\n                this.loading = false;\n                //this.element_btn_click_addSession_skills_verification.click();\n              } else {\n                //alert(JSON.stringify(data['message']));\n                this.alertService.error(data['message']);\n                this.loading = false;\n              }\n            },\n            error => {\n              let errorMsg2show = \"\";\n              try {\n                if (error && error.error && error.error.message) {\n                  errorMsg2show = error.error.message;\n                } else if (error && error.message) {\n                  errorMsg2show = error.message;\n                } else {\n                  errorMsg2show = error;\n                }\n              } catch (ex) { }\n              this.alertService.error(errorMsg2show);\n              this.loading = false;\n            });\n      } else if (this.borrowerId) {\n        this.initForm();\n      }\n      /* });*/\n    }\n  }\n\n  showEditingForm(_userObj) {\n\n    this.loanInterestRateMin = 0;\n    this.loanInterestRateMax = 50;\n    let _loanInterestRateValidation = [Validators.required, Validators.min(this.loanInterestRateMin), Validators.max(this.loanInterestRateMax)];\n    switch (this.authenticationService.currentUserValue.role) {\n      case Role.Borrower:\n        if (this.authenticationService.currentUserValue.isRKIRegistered) {\n          this.loanInterestRateMin = 3;\n          this.loanInterestRateMax = 35;\n        } else {\n          this.loanInterestRateMin = 0;\n          this.loanInterestRateMax = 3;\n        }\n        _loanInterestRateValidation = [Validators.required, Validators.min(this.loanInterestRateMin), Validators.max(this.loanInterestRateMax)];\n        break;\n    }\n\n    this.addSessionForm = this.formBuilder.group({\n\n      _id: [_userObj._id || ''],\n      loanType: [_userObj.loanType || '', Validators.required],\n      sessionType: [_userObj.sessionType || ''],\n      sessionSubject: [_userObj.sessionSubject || ''],\n      loanDescription: [_userObj.loanDescription || ''],\n      transactionIdCollection: [_userObj.transactionIdCollection || ''],\n      sessionsExecutionCollection: [_userObj.sessionsExecutionCollection || ''],\n      loanStartDateTimeCustomised: [_userObj.loanStartDateTimeCustomised || '', Validators.required],\n      loanEndDateTimeCustomised: [_userObj.loanEndDateTimeCustomised || ''],\n      loanStartDateTime: [_userObj.loanStartDateTime || ''],\n      loanEndDateTime: [_userObj.loanEndDateTime || ''],\n      services: [_userObj.services || ''],\n      location: [_userObj.location || ''],\n      status: [_userObj.status || ''],\n      additionalDocuments: this.formBuilder.array(_userObj.additionalDocuments || [], []),\n      loanAmount: [_userObj.loanAmount || 0, [Validators.required, Validators.min(1), Validators.max(this.currentUserMaxLoanAmount)]],\n      loanTenureInMonths: [_userObj.loanTenureInMonths || 1, [Validators.required, Validators.min(1)]],\n      loanInterestRate: [_userObj.loanInterestRate || this.loanInterestRateMax, _loanInterestRateValidation],\n      loanRepaymentType: this.formBuilder.array(_userObj.loanRepaymentType || [], Validators.required),\n      loanInsuranceType: [_userObj.loanInsuranceType || ''],\n      loanMaxBorrower: [_userObj.loanMaxBorrower || 1, [Validators.required, Validators.min(1)]],\n      createdOn: [_userObj.createdOn || ''],\n      updatedOn: [_userObj.updatedOn || ''],\n      isDeleted: [_userObj.isDeleted || ''],\n      createdBy: [_userObj.createdBy || ''],\n      deletedBy: [_userObj.deletedBy || ''],\n      updatedBy: [this.authenticationService.currentUserValue._id || ''],\n      bannerUrl: [_userObj.bannerUrl || ''],\n      borrowerId: [_userObj.borrowerId || ''],\n      isLoanRequested: [true],\n      calculatedMonthlyAmountForEMI: []\n    });\n    this._sessionType = _userObj.sessionType;\n  }\n\n  initHtmlContent() {\n    if (!this.element_btn_click_addSession_basic_details) {\n      this.element_btn_click_addSession_basic_details = document.getElementById('btn_click_addSession_basic_details') as HTMLElement;\n      this.element_btn_click_addSession_skills_verification = document.getElementById('btn_click_addSession_skills_verification') as HTMLElement;\n    }\n  }\n\n  initForm() {\n    this.loanInterestRateMin = 1;\n    this.loanInterestRateMax = 50;\n    let _loanInterestRateValidation = [Validators.required, Validators.min(this.loanInterestRateMin), Validators.max(this.loanInterestRateMax)];\n    switch (this.authenticationService.currentUserValue.role) {\n      case Role.Borrower:\n        if (this.authenticationService.currentUserValue.isRKIRegistered) {\n          this.loanInterestRateMin = 3;\n          this.loanInterestRateMax = 35;\n        } else {\n          this.loanInterestRateMin = 1;\n          this.loanInterestRateMax = 3;\n        }\n        _loanInterestRateValidation = [Validators.required, Validators.min(this.loanInterestRateMin), Validators.max(this.loanInterestRateMax)];\n        break;\n    }\n    //_.first(this.ParentServicesTypes)['_id']\n    this.initHtmlContent();\n    this.addSessionForm = this.formBuilder.group({\n\n      _id: [''],\n      loanType: ['', Validators.required],\n      sessionType: [''],\n      sessionSubject: [''],\n      loanDescription: [''],\n      transactionIdCollection: [''],\n      sessionsExecutionCollection: [''],\n      loanStartDateTimeCustomised: [''],\n      loanEndDateTimeCustomised: [''],\n      loanStartDateTime: [''],\n      loanEndDateTime: [''],\n      services: [''],\n      location: [''],\n      status: [SessionStatus.Pending],\n      additionalDocuments: this.formBuilder.array([], []),\n      loanAmount: [0, [Validators.required, Validators.min(1), Validators.max(this.currentUserMaxLoanAmount)]],\n      loanTenureInMonths: [1, [Validators.required, Validators.min(1)]],\n      loanInterestRate: [this.loanInterestRateMax, _loanInterestRateValidation],\n      loanRepaymentType: this.formBuilder.array([], Validators.required),\n      loanInsuranceType: [''],\n      loanMaxBorrower: [1, [Validators.required, Validators.min(1)]],\n      createdOn: [''],\n      updatedOn: [''],\n      isDeleted: [false],\n      createdBy: [this.authenticationService.currentUserValue._id || ''],\n      deletedBy: [''],\n      updatedBy: [''],\n      bannerUrl: [''],\n      borrowerId: [this.borrowerId || ''],\n      isLoanRequested: [true],\n      calculatedMonthlyAmountForEMI: []\n    });\n  }\n\n  clickOnGoToNext(_step) {\n    this.initHtmlContent();\n    switch (_step) {\n      case 2:\n        this.element_btn_click_addSession_skills_verification.click();\n        break;\n    }\n  }\n\n  ngOnInit() {\n\n  }\n\n  // convenience getter for easy access to form fields\n  get f() { return this.addSessionForm.controls; }\n\n  onaddSessionUpdateSubmit() {\n    this.submitted = true;\n    if (this.addSessionForm.invalid) {\n      return;\n    }\n\n    let _loanStartDateTime = this.addSessionForm.get('loanStartDateTimeCustomised').value;\n    let _loanEndDateTime = this.addSessionForm.get('loanEndDateTimeCustomised').value;\n    /*\n        if (!_loanStartDateTime || moment(_loanStartDateTime).isBefore(moment().add(1, 'day'))) {\n          this.alertService.error(\"Start date must have 24 hours difference\");\n          return;\n        }\n    */\n    _loanEndDateTime = null;\n    switch (this.addSessionForm.get('sessionType').value) {\n      case SessionTypes.Instant:\n        _loanStartDateTime = null;\n        _loanEndDateTime = null;\n        break;\n    }\n\n\n    let loanStartDateTime_Temp = null;\n    let loanEndDateTime_Temp = null;\n    if (_loanStartDateTime) {\n      loanStartDateTime_Temp = moment(_loanStartDateTime, 'YYYY-MM-DD').format('YYYY-MM-DD');\n    } else {\n      loanStartDateTime_Temp = moment().add(1, 'h').format('YYYY-MM-DD');\n    }\n\n    if (_loanEndDateTime) {\n      loanEndDateTime_Temp = moment(_loanEndDateTime, 'YYYY-MM-DD').format('YYYY-MM-DD');\n    } else {\n      loanEndDateTime_Temp = moment(loanStartDateTime_Temp, 'YYYY-MM-DD').add(this.addSessionForm.get('loanTenureInMonths').value, 'month').format('YYYY-MM-DD');\n    }\n\n    //#region validate dates\n    this.addSessionForm.get('loanStartDateTime').setValue(Date.parse(loanStartDateTime_Temp));\n    this.addSessionForm.get('loanEndDateTime').setValue(Date.parse(loanEndDateTime_Temp));\n\n    if (!moment(this.addSessionForm.get('loanStartDateTime').value).isValid || _.isNaN(moment(this.addSessionForm.get('loanStartDateTime').value)) || !this.addSessionForm.get('loanStartDateTime').value) {\n      this.alertService.error(\"start time is not valid\");\n      return;\n    }\n    if (!moment(this.addSessionForm.get('loanEndDateTime').value).isValid || _.isNaN(moment(this.addSessionForm.get('loanEndDateTime').value)) || !this.addSessionForm.get('loanEndDateTime').value) {\n      this.alertService.error(\"end time is not valid\");\n      return;\n    }\n    /*\n      if (moment(this.addSessionForm.get('loanStartDateTime').value).isBefore(moment())) {\n        this.alertService.error(\"Loan should start in future date time only.\");\n        return;\n      }\n  */\n    if (moment(this.addSessionForm.get('loanStartDateTime').value).add(1, 'h').isAfter(moment(this.addSessionForm.get('loanEndDateTime').value))) {\n      this.alertService.error(\"There must be min. 1 hour difference in Loan start and end time\");\n      return;\n    }\n\n    //#endregion validate dates\n\n\n    if (this.loanId) {\n      this.sessionsService.updateSessionById(this.addSessionForm.value)\n        .pipe(first())\n        .subscribe(\n          data => {\n            if (data && data['success']) {\n              //alert(JSON.stringify( data));\n              //this.alertService.success('Loan Request Updated successfully', true);\n              //this.appRouterService.appRouter(this.authenticationService.currentUserValue);\n              this.alertService.success(\"Loan Request Updated successfully. Loan contract is available under My Contract->My Contract tab.\", true);\n              this.appRouterService.appRouteToPath(\"/borrower/my-contract\", { selectedTab: 'received' }, true);\n            } else {\n              //alert(JSON.stringify(data['message']));\n              this.alertService.error(data['message']);\n              this.loading = false;\n            }\n          },\n          error => {\n            let errorMsg2show = \"\";\n            try {\n              if (error && error.error && error.error.message) {\n                errorMsg2show = error.error.message;\n              } else if (error && error.message) {\n                errorMsg2show = error.message;\n              } else {\n                errorMsg2show = error;\n              }\n            } catch (ex) { }\n            this.alertService.error(errorMsg2show);\n            this.loading = false;\n          });\n    } else {\n      this.sessionsService.addNewSession(this.addSessionForm.value)\n        .pipe(first())\n        .subscribe(\n          data => {\n            if (data && data['success']) {\n\n              //alert(JSON.stringify( data));\n              //this.alertService.success('Loan Request added in loan market. Lenders request will be visible under receivers tab.', true);\n              //this.appRouterService.appRouter(this.authenticationService.currentUserValue);\n              this.alertService.success(\"Loan Request added in loan market. Loan contract is available under My Contract->My Contract tab.\", true);\n              this.appRouterService.appRouteToPath(\"/borrower/my-contract\", { selectedTab: 'received' }, true);\n            } else {\n              //alert(JSON.stringify(data['message']));\n              this.alertService.error(data['message']);\n              this.loading = false;\n            }\n          },\n          error => {\n            let errorMsg2show = \"\";\n            try {\n              if (error && error.error && error.error.message) {\n                errorMsg2show = error.error.message;\n              } else if (error && error.message) {\n                errorMsg2show = error.message;\n              } else {\n                errorMsg2show = error;\n              }\n            } catch (ex) { }\n            this.alertService.error(errorMsg2show);\n            this.loading = false;\n          });\n    }\n\n  }\n  now = new Date();\n  year = this.now.getFullYear();\n  month = this.now.getMonth();\n  day = this.now.getDate();\n  hours = this.now.getHours();\n  minutes = this.now.getMinutes();\n  minDate = moment({ year: this.year, month: this.month, day: this.day, hour: this.hours + 1, minute: this.minutes }).format('YYYY-MM-DD');\n\n  maxDate = moment({ year: this.year, month: this.month + 1, day: this.day, hour: this.hours, minute: this.minutes }).format('YYYY-MM-DD');\n\n  date(ev) {\n    //console.log(this.minDate)\n    //console.log(ev.target.value)\n  }\n\n  calculateMonthlyAmountForEMI() {\n    let loanAmount = this.addSessionForm.get('loanAmount').value || 0;\n    let loanTenureInMonths = this.addSessionForm.get('loanTenureInMonths').value || 0;\n    let loanInterestRate = this.addSessionForm.get('loanInterestRate').value || 0;\n\n    this._calculatedMonthlyAmountForEMI = this.utilityService.fnCalculateMonthlyAmountForEMI(loanAmount, loanTenureInMonths, loanInterestRate);\n\n    this.addSessionForm.get('calculatedMonthlyAmountForEMI').setValue(this._calculatedMonthlyAmountForEMI);\n  }\n\n  onLoanRepaymentTypeChange(e) {\n    const checkArray: FormArray = this.addSessionForm.get('loanRepaymentType') as FormArray;\n    if (e.target.checked) {\n      checkArray.push(new FormControl(e.target.value));\n    } else {\n      let i: number = 0;\n      checkArray.controls.forEach((item: FormControl) => {\n        if (item.value == e.target.value) {\n          checkArray.removeAt(i);\n          return;\n        }\n        i++;\n      });\n    }\n  }\n\n  onInitSetLoanRepaymentTypeValue(_id) {\n    const checkArray: FormArray = this.addSessionForm.get('loanRepaymentType') as FormArray;\n    let _isLoanRepaymentTypeChecked = (checkArray.value.indexOf(_id) > -1);\n    return _isLoanRepaymentTypeChecked;\n  }\n\n}","export default \"nav {\\n    padding: 0;\\n}\\nheader img{\\n    height: 3.3rem;\\n}\\nheader nav ul .mega-menu .mega-menu-container {\\n\\n    min-width: auto;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlYWRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksVUFBVTtBQUNkO0FBQ0E7SUFDSSxjQUFjO0FBQ2xCO0FBQ0E7O0lBRUksZUFBZTtBQUNuQiIsImZpbGUiOiJoZWFkZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIm5hdiB7XG4gICAgcGFkZGluZzogMDtcbn1cbmhlYWRlciBpbWd7XG4gICAgaGVpZ2h0OiAzLjNyZW07XG59XG5oZWFkZXIgbmF2IHVsIC5tZWdhLW1lbnUgLm1lZ2EtbWVudS1jb250YWluZXIge1xuXG4gICAgbWluLXdpZHRoOiBhdXRvO1xufVxuIl19 */\";","export default \"<div class=\\\"row\\\">\\n\\n    <!-- <div class=\\\"col-xl-4 col-12\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-lg-12 collection-filter\\\">\\n               \\n                <div class=\\\"collection-filter-block\\\">\\n                  \\n                    <div class=\\\"collection-mobile-back\\\"><span class=\\\"filter-back\\\"><i aria-hidden=\\\"true\\\"\\n                                class=\\\"fa fa-angle-left\\\"></i> back</span>\\n                    </div>\\n                    <div class=\\\"collection-collapse-block open\\\">\\n                        <h3 class=\\\"collapse-block-title\\\">Services</h3>\\n                        <div class=\\\"collection-collapse-block-content\\\">\\n                            <div class=\\\"collection-brand-filter\\\">\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\" *ngFor=\\\"let item of utilityService.ServicesTypes; let i = index\\\">\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"{{item.value}}\\\" type=\\\"radio\\\">\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"{{item.value}}\\\">{{item.name}}</label>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                   \\n                    <div class=\\\"collection-collapse-block open\\\">\\n                        <h3 class=\\\"collapse-block-title\\\">Type</h3>\\n                        <div class=\\\"collection-collapse-block-content\\\">\\n                            <div class=\\\"collection-brand-filter\\\">\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"zara\\\" type=\\\"checkbox\\\">\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"zara\\\">Instant</label>\\n                                </div>\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"vera-moda\\\" type=\\\"checkbox\\\">\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"vera-moda\\\">Scheduled</label>\\n                                </div>\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"forever-21\\\" type=\\\"checkbox\\\">\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"forever-21\\\">All</label>\\n                                </div>\\n\\n                            </div>\\n                        </div>\\n                    </div>\\n              \\n                    <div class=\\\"collection-collapse-block border-0 open\\\">\\n                        <h3 class=\\\"collapse-block-title\\\">price</h3>\\n                        <div class=\\\"collection-collapse-block-content\\\">\\n                            <div class=\\\"collection-brand-filter\\\">\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"hundred\\\" type=\\\"checkbox\\\">\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"hundred\\\">$10 - $100</label>\\n                                </div>\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"twohundred\\\" type=\\\"checkbox\\\">\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"twohundred\\\">$100 - $200</label>\\n                                </div>\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"threehundred\\\" type=\\\"checkbox\\\">\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"threehundred\\\">$200 - $300</label>\\n                                </div>\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"fourhundred\\\" type=\\\"checkbox\\\">\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"fourhundred\\\">$300 - $400</label>\\n                                </div>\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"fourhundredabove\\\" type=\\\"checkbox\\\">\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"fourhundredabove\\\">$400 above</label>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n\\n            </div>\\n\\n\\n        </div>\\n\\n    </div> -->\\n\\n    <div class=\\\"col-xl-12 col-12\\\">\\n        <div class=\\\"row mb-3\\\">\\n            <div class=\\\"col-xl-12 col-12\\\">\\n                <form class=\\\"bg-pink border p-4 shadow-sm\\\" [formGroup]=\\\"browseSessionForm\\\">\\n                    <div class=\\\"form-row\\\">\\n                        <div class=\\\"col-xl-10\\\">\\n                            <div class=\\\"row\\\">\\n                                <div class=\\\"col-xl-12\\\">\\n\\n                                    <div class=\\\"input-group\\\">\\n                                        <input formControlName=\\\"generaldata4search\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Find Sessions\\\">\\n                                        <div class=\\\"input-group-append\\\">\\n                                            <button class=\\\"btn btn-secondary\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#filter-menus\\\"><i class=\\\"icon-filter\\\"></i></button>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"row collapse\\\" id=\\\"filter-menus\\\">\\n                                <div class=\\\"col-xl-6 mt-2\\\">\\n                                    <select formControlName=\\\"services4search\\\" class=\\\"custom-select\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.location.errors }\\\">\\n                                        <option value=\\\"\\\" selected i18n>Service Type</option>\\n                                        <option *ngFor=\\\"let item of ParentServicesTypes\\\"\\n                                            [ngValue]=\\\"item._id\\\">\\n                                            {{item.name}}</option>\\n                                    </select>\\n                                </div>\\n                                <div class=\\\"col-xl-6 mt-2\\\">\\n                                    <select formControlName=\\\"location4search\\\" class=\\\"custom-select\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.location.errors }\\\">\\n                                        <option value=\\\"\\\" selected i18n>Choose Location</option>\\n                                        <option *ngFor=\\\"let location of countrylist\\\" [ngValue]=\\\"location\\\">\\n                                            {{location}}</option>\\n                                    </select>\\n                                </div>\\n                            </div>\\n\\n                        </div>\\n                        <div class=\\\"col-xl-2\\\">\\n                            <button class=\\\"btn btn-outline-primary btn-block h-100 mt-md-0 mt-2\\\" (click)=\\\"sessionSearchByService()\\\" i18n>\\n                                <i class=\\\"icon-search\\\"></i> SEARCH\\n                            </button>\\n                        </div>\\n\\n                    </div>\\n\\n                </form>\\n            </div>\\n        </div>\\n        <section class=\\\"agency blog blog-sec blog-sidebar sider p-0\\\">\\n\\n            <div class=\\\"h6 mb-3\\\" i18n>\\n\\n                SESSION RESULT\\n                <!--\\n                <div class=\\\"btn-group btn-group-toggle btn-group-sm float-right\\\" data-toggle=\\\"buttons\\\">\\n                    <label class=\\\"btn btn-secondary active\\\">\\n                        <input type=\\\"radio\\\" name=\\\"options\\\" id=\\\"option1\\\" autocomplete=\\\"off\\\" checked> USA\\n                    </label>\\n                    <label class=\\\"btn btn-secondary\\\">\\n                        <input type=\\\"radio\\\" name=\\\"options\\\" id=\\\"option2\\\" autocomplete=\\\"off\\\"> Worldwide\\n                    </label>\\n            </div>\\n        -->\\n                <!-- <span class=\\\"float-right custom-switch floar-right\\\">\\n\\n                    <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"customSwitch1\\\">\\n                    <label class=\\\"custom-control-label\\\" for=\\\"customSwitch1\\\">USA</label>\\n                </span> -->\\n            </div>\\n            <cdk-virtual-scroll-viewport itemSize=\\\"50\\\" class=\\\"ngfor-viewport\\\">\\n                <div  *cdkVirtualFor=\\\"let session of allSessionsData\\\" class=\\\"ngfor-item card shadow-sm mb-4\\\">\\n                    <div class=\\\"bg-white blog-title card-header mb-0 text-capitalize\\\">\\n                        {{session.sessionSubject}}\\n                    </div>\\n                    <div class=\\\"card-body px-md-3 px-1 small\\\">\\n                         <div class=\\\"row\\\">               \\n                        <div class=\\\"col-xl-12 col-12\\\">\\n                            <p class=\\\"para2\\\" [class.show_more]=\\\"!session._id\\\">\\n                                {{session.loanDescription}}\\n                            </p>\\n                        </div>          \\n                        <div class=\\\"col-xl-6 col-6 border-right mb-2\\\">\\n                            <i aria-hidden=\\\"true\\\" class=\\\"icon-timer mr-2\\\"></i> {{session.loanStartDateTime | date:'MMM d, h:mm a'}}\\n                        </div>\\n                       \\n                        <div class=\\\"col-xl-6 col-6\\\">\\n                            <i aria-hidden=\\\"true\\\" class=\\\"icon-location-pin m-r-10\\\"></i>\\n                            \\n                            {{session.location}}\\n                        </div>\\n                      \\n                    </div>\\n                    </div>\\n                    <div class=\\\"card-footer bg-white\\\">\\n                        <span class=\\\"badge badge-success font-weight-normal text-capitalize btn float-left\\\" >{{session.sessionType}}</span>\\n                        <a *ngIf=\\\"!check4applyToSession(session)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"applyToSession(session)\\\" i18n>Apply</a>\\n\\n                        <a *ngIf=\\\"check4applyToSession(session)\\\" class=\\\"btn btn-primary text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(session)\\\" i18n> Details</a>\\n\\n                    </div>\\n                </div>\\n                \\n             \\n                <div *ngIf=\\\"!allSessionsData\\\">\\n                    <div class=\\\"content_loader\\\"></div>\\n                    <div class=\\\"content_loader\\\"></div>\\n                </div>\\n            </cdk-virtual-scroll-viewport>\\n            \\n\\n           \\n        </section>\\n    </div>\\n\\n</div>\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Role, SessionStatus } from 'src/app/models/role';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { UtilityService } from 'src/app/services/utility.service';\nimport { SocketioService } from 'src/app/socketio.service';\nimport * as _ from 'lodash';\nimport { MatDialog } from '@angular/material/dialog';\nimport { PublicProfileComponent } from 'src/app/shared/public-profile/public-profile.component';\nimport { first } from 'rxjs/operators';\nimport { UserService } from 'src/app/services';\nimport { SessionsService } from 'src/app/services/sessions.service';\nimport { SearchComponent } from 'src/app/shared/search/search.component';\n\n@Component({\n  selector: 'app-loan-market',\n  templateUrl: './loan-market.component.html',\n  styleUrls: ['./loan-market.component.css']\n})\nexport class LoanMarketComponent implements OnInit {\n  subscription: any;\n  allLoanMarketData: any;\n  loading: boolean = false;\n  searchFilterObj:any;\n  public _ = _;\n  constructor(\n    private userService: UserService,\n    public dialog: MatDialog,\n    private socketService: SocketioService,\n    public utilityService: UtilityService,\n    private alertService: AlertService,\n    public router: Router,\n    public authenticationService: AuthenticationService,\n    private sessionsService: SessionsService\n  ) {\n    this.getLoanMarketData();\n    this.sessionsService.getSessionNewAdded().subscribe(_allLoanMarketData => {\n      if (_allLoanMarketData) {\n        if (_allLoanMarketData[\"success\"]) {\n          let temp_allLoanMarketData = _.mapKeys(this.allLoanMarketData, '_id')\n          if (_allLoanMarketData[\"data\"].isDeleted) {\n            delete temp_allLoanMarketData[_allLoanMarketData[\"data\"]._id];\n          } else {\n            temp_allLoanMarketData[_allLoanMarketData[\"data\"]._id] = _allLoanMarketData[\"data\"];\n          }\n          this.allLoanMarketData = _.values(temp_allLoanMarketData);\n        }\n      }\n    });\n    this.sessionsService.getSessionUpdated().subscribe(_allLoanMarketData => {\n      if (_allLoanMarketData) {\n        if (_allLoanMarketData[\"success\"]) {\n          let temp_allLoanMarketData = _.mapKeys(this.allLoanMarketData, '_id')\n          if (_allLoanMarketData[\"data\"].isDeleted) {\n            delete temp_allLoanMarketData[_allLoanMarketData[\"data\"]._id];\n          } else {\n            temp_allLoanMarketData[_allLoanMarketData[\"data\"]._id] = _allLoanMarketData[\"data\"];\n          }\n          this.allLoanMarketData = _.values(temp_allLoanMarketData);\n        }\n      }\n    });\n  }\n\n  ngOnInit(): void {\n  }\n\n  navigate2LoanProccess(loanId) {\n    this.router.navigate(['/borrower/borrow-now'], { state: { loanId: loanId } });\n  }\n\n  returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(loanMarket) {\n    let _currentUserId = this.authenticationService.currentUserValue._id;\n    if (loanMarket && _.keys(loanMarket.sessionAppliedByBorrowers).length > 0) {\n      //#region proccess only if any one applied to current loan request\n      let _list_of_pending_loans = null;\n      let roleId2Check = null;\n      let _list_of_pending_or_accepted_loans_by_me = null;\n      //#region check whether anyone have applied to current loan or not\n      _list_of_pending_loans = _.filter(loanMarket.sessionAppliedByBorrowers, function (e) {\n        if (e) {\n          switch (e.status) {\n            case SessionStatus.Pending:\n              return true;\n              break;\n            case SessionStatus.Accepted:\n            case SessionStatus.AwaitingForApproval:\n              return false;//return true;\n              break;\n            default:\n              return false;\n              break;\n          }\n        }\n      });\n      //#endregion check whether anyone have applied to current loan or not\n      //#region set value for attribute depends on user's role\n      switch (this.authenticationService.currentUserValue.role) {\n        case Role.Borrower:\n          roleId2Check = 'borrowerId';\n          break;\n        case Role.Lender:\n          roleId2Check = 'lenderId';\n          break;\n      }\n      //#endregion set value for attribute depends on user's role\n      //#region check whether I have already applied to current loan or not\n      _list_of_pending_or_accepted_loans_by_me = _.filter(loanMarket.sessionAppliedByBorrowers, function (e) {\n        if (e) {\n          if (e[roleId2Check] == _currentUserId) {\n            //already applied then why to come here\n            return true;\n          } else {\n            return false;\n          }\n        }\n      });\n      //#endregion check whether I have already applied to current loan or not\n      //#region return boolean value for current request\n      if (_list_of_pending_or_accepted_loans_by_me.length > 0) {\n        return true;\n      } else {\n        return !(_list_of_pending_loans.length > 0);//!!(_list_of_pending_or_accepted_loans.length >= loanMarket.loanMaxBorrower);\n      }\n      //#endregion return boolean value for current request\n      //#endregion proccess only if any one applied to current loan request\n    } else {\n      //#region no one applied till now for current loan request\n      return false;\n      //#endregion no one applied till now for current loan request\n    }\n  }\n  usersProfile(userObj) {\n    //#region fetch creator id\n    this.userService.getUserById(userObj._id)\n      .pipe(first())\n      .subscribe(\n        data => {\n          if (data && data['success']) {\n            //console.log('84', this.authenticationService.currentUserValue);\n            const dialogRef = this.dialog.open(PublicProfileComponent, {\n\n              maxWidth: '100vw',\n              maxHeight: '100vh',\n              height: '100%',\n              width: '100%',\n              hasBackdrop: true,\n              data: {\n                userObj: _.cloneDeep(data['data']),\n                adminViewT: false\n              }\n            });\n\n            dialogRef.afterClosed().subscribe(result => {\n              //console.log(`99 :: msc :: Dialog result: ${JSON.stringify(result)}`);\n            });\n\n          } else {\n\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          this.alertService.error(errorMsg2show);\n\n        });\n    //#endregion fetch creator id\n\n  }\n\n  showSearchPanel() {\n\n    //console.log('84', this.authenticationService.currentUserValue);\n    const dialogRef = this.dialog.open(SearchComponent, {\n      maxWidth: '100vw',\n      maxHeight: '100vh',\n      height: '65%',\n      width: '50%',\n      hasBackdrop: true,\n      data: {\n        searchFilterObj:this.searchFilterObj,\n        adminViewT: false\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && result.data) {\n        let _obj2Save = result.data;\n        if (!_obj2Save) {\n          _obj2Save = {};\n        }\n        this.searchFilterObj = _obj2Save;\n        _obj2Save.status = 'pending';\n        _obj2Save.isDeleted = false;\n        let emitThisEvent = null;\n        switch (this.authenticationService.currentUserValue.role) {\n          case Role.Borrower:\n            _obj2Save.isLoanRequested = false;\n            emitThisEvent = 'sessions_response_getall_bysearch_from_borrower';\n            break;\n          case Role.Lender:\n            _obj2Save.isLoanRequested = true;\n            emitThisEvent = 'sessions_response_getall_bysearch_from_lender';\n            break;\n        }\n\n        this.socketService.getLoanMarketDataForSearch(_obj2Save, emitThisEvent).subscribe(_allLoanMarketData => {\n        });\n        //console.log(`223 :: msc :: Dialog result: ${JSON.stringify(result)}`);\n      }\n\n    });\n    //#endregion fetch creator id\n\n  }\n  cleanSearchFilter(){\n    this.searchFilterObj = null;\n    this.getLoanMarketData();\n  }\n\n  getLoanMarketData() {\n    this.subscription = this.socketService.getLoanMarketDataForBorrower().subscribe(_allLoanMarketData => {\n      if (_allLoanMarketData) {\n        this.allLoanMarketData = _allLoanMarketData[\"data\"];\n      } else {\n        this.allLoanMarketData = [];\n      }\n    });\n  }\n\n}\n","\nimport { Component, AfterViewInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { User, Role, SessionStatus } from 'src/app/models';\nimport { AuthenticationService, AlertService } from 'src/app/services';\nimport { SessionsService } from 'src/app/services/sessions.service';\nimport * as _ from 'lodash';\nimport { UtilityService } from 'src/app/services/utility.service';\nimport { MatDialog } from '@angular/material/dialog';\n/*import { ServiceTypesService } from 'src/app/services/service-types.service';*/\nimport { first } from 'rxjs/operators';\nimport { ModalApplySession, ModalAppliedSessionDisplay } from '../borrower.component';\nimport { SocketioService } from 'src/app/socketio.service';\nimport { AddFundsService } from 'src/app/services/add-funds.service';\nimport { NotificationService } from 'src/app/services/notification.service';\nimport { MessagesService } from 'src/app/services/messages.service';\ndeclare var $: any;\ndeclare var jQuery: any;\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css'],\n})\nexport class HeaderComponent implements AfterViewInit {\n\n  currentUser: User;\n  allInstantSessionsData: any[];\n\n  public submitted: boolean;\n  loading: boolean;\n  allSessionsData: any;\n  allSessionsCount: number;\n  ParentServicesTypes: any = null;\n\n  constructor(\n    private router: Router,\n    private authenticationService: AuthenticationService,\n    private alertService: AlertService,\n    private sessionsService: SessionsService,\n    public dialog: MatDialog,\n    /*private serviceTypesService: ServiceTypesService,*/\n    public socketService: SocketioService,\n    public fundService: AddFundsService,\n    public utilityService: UtilityService,\n    public notificationService:NotificationService,\n    public messagesService:MessagesService\n  ) {\n    this.messagesService.getAllMyContacts();\n    this.authenticationService.currentUser.subscribe(x => {\n      this.currentUser = x;\n      if(!this.currentUser){\n        return;\n      }\n      fundService.getFundsCountForRequestedUser(this.currentUser._id);\n      fundService.getSessionSpentCountForRequestedUser(this.currentUser._id);\n      this.sessionsService.getSessionAllWithSessionApply(this.authenticationService.currentUserValue._id)\n        .subscribe(\n          data => {\n            ////console.log('data => ', data)\n            if (data && data['success']) {\n              //alert(JSON.stringify( data));\n              this.allSessionsData = data['data'];\n              //this.alertService.success(data['message'], true);\n              this.loading = false;\n              //this.element_btn_click_addSession_skills_verification.click();\n            } else {\n              //alert(JSON.stringify(data['message']));\n              //this.alertService.error(data['message']);\n              this.loading = false;\n            }\n          },\n          error => {\n            let errorMsg2show = \"\";\n            try {\n              if (error && error.error && error.error.message) {\n                errorMsg2show = error.error.message;\n              } else if (error && error.message) {\n                errorMsg2show = error.message;\n              } else {\n                errorMsg2show = error;\n              }\n            } catch (ex) { }\n            //this.alertService.error(errorMsg2show);\n            this.loading = false;\n          });\n\n    });\n\n    this.sessionsService.getSessionInstastTypeAdded()\n      .subscribe(\n        data => {\n          if (data && data['success']) {\n            if (!this.allInstantSessionsData) {\n              this.allInstantSessionsData = [];\n            }\n            let _currentSessionObj = data['data'];\n            let _existingSessionObjKryPair = _.mapKeys(_.values(this.allInstantSessionsData), '_id');\n            if (_.keys(_existingSessionObjKryPair).length > 0) {\n              delete _existingSessionObjKryPair[_currentSessionObj._id];\n            }\n            _existingSessionObjKryPair[_currentSessionObj._id] = _currentSessionObj;\n            this.allInstantSessionsData = _.values(_existingSessionObjKryPair);\n          } else {\n            //this.alertService.error(data['message']);\n          }\n        },\n        error => {\n        });\n\n    this.socketService.getCurrentAppliedSessionObj()\n      .subscribe(\n        data => {\n          if (data) {\n            if (!this.allInstantSessionsData) {\n              this.allInstantSessionsData = [];\n            }\n            let _existingSessionObjKryPair = _.mapKeys(_.values(this.allInstantSessionsData), '_id');\n            delete _existingSessionObjKryPair[data];\n            this.allInstantSessionsData = _.values(_existingSessionObjKryPair);\n          } else {\n            //this.alertService.error(data['message']);\n          }\n        },\n        error => {\n        });\n    this.socketService.getSessionUpdates().subscribe(data => {\n      if (data && data['success']) {\n        if (!this.allSessionsData) {\n          this.allSessionsData = [];\n        }\n        let _currentSessionObj = data['data'];\n        let _existingSessionObjKryPair = _.mapKeys(_.values(this.allSessionsData), '_id');\n        if (_.keys(_existingSessionObjKryPair).length > 0) {\n          delete _existingSessionObjKryPair[_currentSessionObj._id];\n        }\n        _existingSessionObjKryPair[_currentSessionObj._id] = _currentSessionObj;\n        this.allSessionsData = _.values(_existingSessionObjKryPair);\n      } else {\n        //this.alertService.error(data['message']);\n      }\n    },\n      error => {\n      });\n      /*\n    this.serviceTypesService.getServiceTypesChildAll()\n      .pipe(first())\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n            //alert(JSON.stringify( data));\n            this.ParentServicesTypes = data[\"data\"];\n            //this.alertService.success(data['message'], true);\n            this.loading = false;\n            //this.element_btn_click_addServiceTypes_skills_verification.click();\n          } else {\n            //alert(JSON.stringify(data['message']));\n            this.alertService.error(data['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          this.ParentServicesTypes = [];\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n*/\n  }\n\n\n  check4applyToSession(sessionObj) {\n    if (sessionObj && sessionObj.sessionAppliedByBorrowers) {\n      if (_.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id }).length > 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  navigate2State(state) {\n    state = (state ? state : '/logout');\n    this.router.navigate([state]);\n  }\n\n  applyToSession(sessionObj) {\n    //console.log('179', this.authenticationService.currentUserValue);\n    const dialogRef = this.dialog.open(ModalApplySession, {\n      backdropClass: 'cdk-overlay-transparent-backdrop',\n      maxWidth: '100vw',\n      maxHeight: '100vh',\n      height: '100%',\n      width: '100%',\n      hasBackdrop: true,\n      data: {\n        sessionObj: sessionObj,\n        borrowerId: this.authenticationService.currentUserValue._id\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      let _currentSessionApply = null;\n      if (result) {\n        if (result.data) {\n          _currentSessionApply = result.data.sessionApply\n          if (_currentSessionApply) {\n\n            if (!this.allInstantSessionsData) {\n              this.allInstantSessionsData = [];\n            }\n            let _existingSessionObjKryPair = _.mapKeys(_.values(this.allInstantSessionsData), '_id');\n            if (_.keys(_existingSessionObjKryPair).length > 0) {\n              delete _existingSessionObjKryPair[_currentSessionApply.loanId];\n            }\n            this.allInstantSessionsData = _.values(_existingSessionObjKryPair);\n\n            if (!_currentSessionApply._id) {\n              _currentSessionApply._id = _currentSessionApply.loanId + '__' + _currentSessionApply.borrowerId;\n            }\n            _currentSessionApply.status = result.data.status || SessionStatus.Pending;\n            this.socketService.sendCurrentAppliedSessionObj(_currentSessionApply.loanId);\n            switch (_currentSessionApply.status) {\n              case SessionStatus.Pending:\n                _currentSessionApply.createdBy=this.authenticationService.currentUserValue._id;\n                this.socketService.setSessionApply(true, _currentSessionApply);\n                break;\n              default:\n                this.socketService.updateSessionApply(true, _currentSessionApply, this.authenticationService.currentUserValue);\n                break;\n            }\n            switch (_currentSessionApply.status) {\n              case SessionStatus.Accepted:\n                this.alertService.success(\"Updated. Session is available under My Sessions->Accepted tab.\", true);\n                break;\n              case SessionStatus.Pending:\n                this.alertService.success(\"Added. Session is available under My Sessions->Pending tab.\", true);\n                break;\n              case SessionStatus.Rejected:\n              case SessionStatus.RejectedOngoing:\n              case SessionStatus.RejectedOngoingWithRefund:\n              case SessionStatus.Suspended:\n                this.alertService.success(\"Updated. Session is available under My Sessions->Rejected tab.\", true);\n                break;\n              case SessionStatus.Completed:\n                this.alertService.success(\"Updated. Session is available under My Sessions->Completed tab.\", true);\n                break;\n              case SessionStatus.Active:\n              case SessionStatus.Ongoing:\n              case SessionStatus.OngoingInitiated:\n              case SessionStatus.AwaitingForApproval:\n                this.alertService.success(\"Updated. Session is available under My Sessions->Ongoing tab.\", true);\n                break;\n              default:\n                break;\n            }\n          }\n        }\n      }\n      //console.log(`211 :: headerc :: Dialog result: ${JSON.stringify(result)}`);\n    });\n  }\n\n  showAppliedToSession(sessionObj) {\n    let _proccessedSessionObj = null;\n    switch (this.authenticationService.currentUserValue.role) {\n      case Role.Borrower:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\n        break;\n      default:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        break;\n    }\n\n\n    //console.log('214', this.authenticationService.currentUserValue);\n    const dialogRef = this.dialog.open(ModalAppliedSessionDisplay, {\n      backdropClass: 'cdk-overlay-transparent-backdrop',\n      hasBackdrop: true,\n      maxWidth: '100vw',\n      maxHeight: '100vh',\n      height: '100%',\n      width: '100%',\n      data: {\n        sessionObj: _proccessedSessionObj,\n        borrowerId: this.authenticationService.currentUserValue._id\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      //console.log(`238 :: hc :: Dialog result: ${JSON.stringify(result)}`);\n    });\n  }\n\n\n  logout() {\n    this.router.navigate(['/logout']);\n  }\n\n  showAlert() {\n    alert(\"Sorry, you can not create a loan request untill 30th October.\")\n  }\n\n  ngAfterViewInit(): void {\n    (function ($) {\n      \"use strict\";\n\n\n      $('.filter-btn').on('click', function (e) {\n        $('.collection-filter').css(\"left\", \"-15px\");\n      });\n      $('.filter-back').on('click', function (e) {\n        $('.collection-filter').css(\"left\", \"-365px\");\n        $('.sidebar-popup').trigger('click');\n      });\n\n      //toggle show\n      $('.toggle-nav').on('click', function (e) {\n        $('.navbar').css(\"right\", \"0px\");\n        $('.navbar_side_panel').show();\n      });\n      $('.btn-back').on('click', function (e) {\n        $('.navbar').css(\"right\", \"-350px\");\n        $('.navbar_side_panel').hide();\n      });\n      function checkWidth() {\n        var windowSize = $(window).width();\n        if (windowSize <= 991) {\n          $(\".dropdown\").click(function () {\n            $(\".dropdown ~ul\").not($(this).siblings()).hide(\"fast\");\n            $(\".dropdown ~.mega-menu-container\").not($(this).siblings()).hide(\"fast\");\n            $(this).siblings().slideToggle(\"fast\");\n          });\n        }\n        else if (windowSize >= 991) {\n          $(\".navbar > ul > li.mega-menu\").mouseover(function () {\n            $(this).children().css(\"display\", \"block\");\n          });\n          $(\".navbar > ul > li.mega-menu\").mouseout(function () {\n            $(this).children().last().css(\"display\", \"none\");\n          });\n\n          $(\".sub-menu\").mouseover(function () {\n            $(this).children().css(\"display\", \"block\")\n          });\n          $(\".sub-menu\").mouseout(function () {\n            $(this).children().last().css(\"display\", \"none\")\n          });\n        }\n      }\n      checkWidth();\n      $(window).resize(checkWidth);\n    })(jQuery);\n  }\n\n}\n","export default \"<full-calendar [options]=\\\"calendarOptions\\\"></full-calendar>\\n\";","export default \"footer {\\n    padding: 0px 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksY0FBYztBQUNsQiIsImZpbGUiOiJmb290ZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImZvb3RlciB7XG4gICAgcGFkZGluZzogMHB4IDA7XG59Il19 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyb29tLmNvbXBvbmVudC5jc3MifQ== */\";","export default \"<!-- <section class=\\\"agency blog blog-sec blog-sidebar sider p-0 mt-4\\\">\\n    <div class=\\\"card shadow-sm mb-4\\\" *ngFor=\\\"let LoanMarket of allLoanMarketData\\\">\\n        <div class=\\\"bg-white blog-title card-header mb-0 text-capitalize\\\">\\n            {{LoanMarket.LoanMarketubject}}\\n        </div>\\n        <div class=\\\"card-body px-md-3 px-1 small\\\">\\n             <div class=\\\"row\\\">               \\n            <div class=\\\"col-xl-12 col-12\\\">\\n                <p class=\\\"para2\\\" [class.show_more]=\\\"!LoanMarket._id\\\">\\n                    {{LoanMarket.loanAmount}}\\n                </p>\\n            </div>          \\n            <div class=\\\"col-xl-6 col-6 border-right mb-2\\\">\\n                <i aria-hidden=\\\"true\\\" class=\\\"icon-timer mr-2\\\"></i> {{LoanMarket.loanStartDateTime | date:'MMM d, h:mm a'}}\\n            </div>\\n            <div class=\\\"col-xl-6 col-6\\\">\\n                <i aria-hidden=\\\"true\\\" class=\\\"icon-location-pin m-r-10\\\"></i>\\n                {{LoanMarket.location}}\\n            </div>\\n          \\n        </div>\\n        </div>\\n        <div class=\\\"card-footer bg-white\\\">\\n            <span class=\\\"badge badge-success font-weight-normal text-capitalize btn float-left\\\" >{{LoanMarket.LoanMarketType}}</span>\\n          \\n            <a class=\\\"btn btn-primary text-capitalize  btn-sm float-right text-white\\\" (click)=\\\"showAppliedToLoanMarket(LoanMarket)\\\">Details</a>\\n        </div>\\n    </div>\\n\\n\\n    <div class=\\\"mt-5 text-center blog-agency no-item\\\">\\n        <img src=\\\"assets/img/noresult.png\\\">\\n        <h2 class=\\\"mt-4 font-weight-normal\\\">No Data Found</h2>\\n    </div>\\n</section> -->\\n\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-xl-12 col-12 align-items-stretch\\\">\\n        <button i18n *ngIf=\\\"this.searchFilterObj\\\" class=\\\"btn btn-xs btn-danger float-right mb-3 mt-n2 ml-2\\\" (click)=\\\"cleanSearchFilter()\\\">\\n            <i class=\\\"icon icon-trash\\\"></i> Reset\\n        </button>\\n        <button i18n class=\\\"btn btn-xs btn-success float-right mb-3 mt-n2\\\"  (click)=\\\"showSearchPanel()\\\"> \\n            <i class=\\\"icon icon-filter\\\"></i> Filter\\n        </button>\\n    </div>\\n</div>\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-xl-4 col-12 d-flex align-items-stretch mb-4\\\"\\n        *ngFor=\\\"let LoanMarket of allLoanMarketData | sortArrayByUpdatedOn:'loanStartDateTime':true\\\">\\n       \\n        <div class=\\\"clash-card wizard w-100\\\">\\n            <div class=\\\"product-image\\\" *ngIf=\\\"(!returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket) && utilityService.returnTIfSuppliedDateIsNotFromCurrentMonth(LoanMarket.loanStartDateTime)) || (returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket))\\\">\\n                <span class=\\\"onsale-section\\\" *ngIf=\\\"returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket)\\\"><span class=\\\"onsale\\\" i18n>Contract Signed</span></span>\\n\\n                <span class=\\\"onsale-section\\\"  *ngIf=\\\"!returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket) && utilityService.returnTIfSuppliedDateIsNotFromCurrentMonth(LoanMarket.loanStartDateTime)\\\"><span class=\\\"onsale\\\" i18n>Cancelled</span></span>\\n              </div>\\n\\n             \\n\\n\\n            <div class=\\\"clash-card__level clash-card__level--wizard mt-3\\\">\\n                <!--{{(LoanMarket.createdByUserObj.userType || \\\"\\\").replace(\\\"_\\\", \\\" \\\")}}-->\\n                {{authenticationService.returnUserTypeForUserFromSuppliedUserLevel(LoanMarket.createdByUserObj.userType)}}\\n            </div>\\n            <div class=\\\"clash-card__unit-name text-capitalize\\\">{{(LoanMarket.loanType || \\\"\\\").replace(\\\"_\\\", \\\" \\\")}}</div>\\n            <div class=\\\"clash-card__unit-description\\\">\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-xl-4 col-4 border-right\\\" data-toggle=\\\"tooltip\\\" title=\\\"Created By\\\">\\n                        <div (click)=\\\"usersProfile(LoanMarket.createdByUserObj)\\\">\\n                            <!--<i class=\\\"icon icon-user\\\"></i>-->\\n                            <span\\n                                class=\\\"flag-icon flag-icon-{{utilityService.returnCountryCodeFromName(LoanMarket.createdByUserObj.country)}} flag-icon-squared\\\"></span>\\n                        </div>\\n                        <div class=\\\"text-black-50 small\\\">\\n                            {{LoanMarket.createdByUserObj.firstName}}\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-xl-4 col-4 border-right\\\" data-toggle=\\\"tooltip\\\" title=\\\"Max Applicants\\\">\\n                        <div>\\n                            <i class=\\\"icon icon-check-box\\\"></i>\\n                        </div>\\n                        <div class=\\\"text-black-50 small\\\">\\n                            {{ _.keys(LoanMarket.sessionAppliedByBorrowers).length || 0}}/{{LoanMarket.loanMaxBorrower}}\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-xl-4 col-4 \\\" data-toggle=\\\"tooltip\\\" title=\\\"Created On\\\">\\n                        <div>\\n                            <i class=\\\"icon icon-time\\\"></i>\\n                        </div>\\n                        <div class=\\\"text-black-50 small\\\">\\n                            {{LoanMarket.loanStartDateTime | date:'MMM d, yy'}}\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-xl-12 col-12 mt-2\\\">\\n                        <div class=\\\"text-black-50 small mb-1\\\" i18n>\\n                            Payment Methods\\n                        </div>\\n\\n                        <span *ngIf=\\\"LoanMarket.loanRepaymentType.indexOf('bank')>-1\\\"\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\n                            BANK\\n                        </span>\\n                        <span *ngIf=\\\"LoanMarket.loanRepaymentType.indexOf('cash')>-1\\\"\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\n                            Cash\\n                        </span>\\n                        <span *ngIf=\\\"LoanMarket.loanRepaymentType.indexOf('revolut')>-1\\\"\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\n                            Revolut\\n                        </span>\\n                        <span *ngIf=\\\"LoanMarket.loanRepaymentType.indexOf('paypal')>-1\\\"\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\n                            Paypal\\n                        </span>\\n                        <span *ngIf=\\\"LoanMarket.loanRepaymentType.indexOf('skrill')>-1\\\"\\n                            class=\\\"badge font-weight-light text-uppercase badge-success\\\" i18n>\\n                            Skrill\\n                        </span>\\n                    </div>\\n                </div>\\n            </div>\\n            <button\\n                *ngIf=\\\"!returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket) && !utilityService.returnTIfSuppliedDateIsNotFromCurrentMonth(LoanMarket.loanStartDateTime)\\\"\\n                class=\\\"btn btn-success btn-sm mb-2\\\" (click)=\\\"navigate2LoanProccess(LoanMarket._id)\\\" i18n>\\n                Borrow Now\\n            </button>\\n            <button\\n                *ngIf=\\\"!returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket) && utilityService.returnTIfSuppliedDateIsNotFromCurrentMonth(LoanMarket.loanStartDateTime)\\\" i18n\\n                class=\\\"btn btn-danger btn-sm mb-2\\\" disabled>\\n                Cancelled\\n            </button>\\n            <button *ngIf=\\\"returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket)\\\"\\n                class=\\\"btn btn-primary btn-sm mb-2\\\" i18n><i class=\\\"icon icon-check-box\\\"></i>\\n                Contract Signed\\n            </button>\\n\\n            <div class=\\\"clash-card__unit-stats clash-card__unit-stats--wizard clearfix\\\">\\n                <div class=\\\"one-third\\\">\\n                    <div class=\\\"stat\\\">{{LoanMarket.loanAmount}}</div>\\n                    <div class=\\\"stat-value\\\" i18n>Amount</div>\\n                </div>\\n\\n                <div class=\\\"one-third\\\">\\n                    <div class=\\\"stat\\\">\\n                        {{utilityService.returnRoundedNumber(LoanMarket.calculatedMonthlyAmountForEMI*LoanMarket.loanTenureInMonths)}}\\n                    </div>\\n                    <div class=\\\"stat-value\\\" i18n>Refund</div>\\n                </div>\\n\\n                <div class=\\\"one-third no-border\\\">\\n                    <div class=\\\"stat\\\">{{LoanMarket.loanTenureInMonths}} <sub\\n                            class=\\\"month\\\">{{LoanMarket.loanTenureInMonths>1?'Months':'Month'}}</sub></div>\\n                    <div class=\\\"stat-value\\\" i18n>Duration</div>\\n                </div>\\n\\n            </div>\\n\\n        </div>\\n        <!-- end clash-card goblin-->\\n\\n\\n    </div>\\n    <!-- <div class=\\\"mt-5 text-center blog-agency no-item\\\">\\n        <img src=\\\"assets/img/noresult.png\\\">\\n        <h2 class=\\\"mt-4 font-weight-normal\\\">No Data Found</h2>\\n    </div> -->\\n</div>\";","export default \".ngfor-viewport {\\n    height: 80vh;\\n \\n  }\\n  \\n\\n  \\n\\n  @media (max-width: 767.98px) { \\n    .ngfor-item {\\n      max-height: 290px;\\n      margin-bottom: 15px;\\n    }\\n    a.btn.btn-apply-session{\\n      width: 100%;\\n      margin-top: 11px;\\n    }\\n    p.para2{\\n      overflow: hidden;\\n      text-overflow: ellipsis; \\n    }\\n  }\\n  \\n\\n  \\n\\n  @media (min-width: 767.98px) {\\n    .ngfor-item {\\n      max-height: 200px;\\n      margin-bottom: 20px !important;\\n    }\\n   }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyb3dzZS1zZXNzaW9ucy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTs7RUFFZDs7Ozs7RUFLQTtJQUNFO01BQ0UsaUJBQWlCO01BQ2pCLG1CQUFtQjtJQUNyQjtJQUNBO01BQ0UsV0FBVztNQUNYLGdCQUFnQjtJQUNsQjtJQUNBO01BQ0UsZ0JBQWdCO01BQ2hCLHVCQUF1QjtJQUN6QjtFQUNGOzs7OztFQUVBO0lBQ0U7TUFDRSxpQkFBaUI7TUFDakIsOEJBQThCO0lBQ2hDO0dBQ0QiLCJmaWxlIjoiYnJvd3NlLXNlc3Npb25zLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubmdmb3Itdmlld3BvcnQge1xuICAgIGhlaWdodDogODB2aDtcbiBcbiAgfVxuICBcblxuICBcblxuICBAbWVkaWEgKG1heC13aWR0aDogNzY3Ljk4cHgpIHsgXG4gICAgLm5nZm9yLWl0ZW0ge1xuICAgICAgbWF4LWhlaWdodDogMjkwcHg7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICAgIH1cbiAgICBhLmJ0bi5idG4tYXBwbHktc2Vzc2lvbntcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgbWFyZ2luLXRvcDogMTFweDtcbiAgICB9XG4gICAgcC5wYXJhMntcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgXG4gICAgfVxuICB9XG5cbiAgQG1lZGlhIChtaW4td2lkdGg6IDc2Ny45OHB4KSB7XG4gICAgLm5nZm9yLWl0ZW0ge1xuICAgICAgbWF4LWhlaWdodDogMjAwcHg7XG4gICAgICBtYXJnaW4tYm90dG9tOiAyMHB4ICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgfSJdfQ== */\";","export default \"<ul class=\\\"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion navbar_side_panel\\\" id=\\\"accordionSidebar\\\">\\n\\n    <!-- Sidebar - Brand -->\\n    <a class=\\\"sidebar-brand d-flex align-items-center justify-content-center\\\">\\n        <img class=\\\"img-fluid\\\" src=\\\"./assets/img/avitii-logo.png\\\">\\n    </a>\\n\\n    <!-- Divider -->\\n    <hr class=\\\"sidebar-divider my-0\\\">\\n    <!-- <div class=\\\"d-inline text-white text-center mt-2\\\">\\n        <a class=\\\"mr-1 small text-white\\\" href=\\\"/en\\\">English</a> |\\n        <a href=\\\"/da\\\" class=\\\"ml-1 small text-white\\\">Dansk</a>\\n    </div> -->\\n    <!-- Nav Item - Dashboard -->\\n    <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link\\\">\\n            {{currentUser.firstName}} \\n            <span class=\\\"badge badge-success float-right font-weight-lighter text-capitalize\\\" [textContent]=\\\"currentUser.role\\\" i18n> Borrower</span>\\n         </a>\\n    </li>\\n    \\n\\n    <!-- Divider -->\\n    <hr class=\\\"sidebar-divider\\\">\\n\\n    <!-- Heading -->\\n    <!-- <div class=\\\"sidebar-heading\\\">\\n        Interface\\n    </div> -->\\n    <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/borrower\\\">\\n            <i class=\\\"icon icon-home\\\"></i>\\n            <span i18n>Dashboard</span></a>\\n    </li>\\n    <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/borrower/loan-market\\\" routerLinkActive=\\\"active\\\">\\n            <i class=\\\"icon icon-shopping-cart\\\"></i>\\n            <span i18n>Loan Market</span></a>\\n    </li>\\n\\n    <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link\\\"\\n        (click)=\\\"showAlert()\\\"\\n       \\n        routerLinkActive=\\\"active\\\">\\n            <i class=\\\"icon icon-money\\\"></i>\\n            <span i18n>Get a Loan</span></a>\\n    </li>\\n     <!-- routerLink=\\\"/borrower/make-a-loan\\\"  -->\\n     \\n    <!-- Nav Item - Pages Collapse Menu -->\\n    <!-- <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link collapsed\\\" href=\\\"#\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#collapseTwo\\\" aria-expanded=\\\"true\\\" aria-controls=\\\"collapseTwo\\\">\\n            <i class=\\\"icon icon-bag\\\"></i>\\n            <span>My Contracts</span>\\n        </a>\\n        <div id=\\\"collapseTwo\\\" class=\\\"collapse\\\" aria-labelledby=\\\"headingTwo\\\" data-parent=\\\"#accordionSidebar\\\">\\n            <div class=\\\"bg-white py-2 collapse-inner rounded\\\">\\n            \\n                <a class=\\\"collapse-item\\\" (click)=\\\"navigate2State('/borrower/my-contract')\\\" routerLinkActive=\\\"active\\\">My Offers</a>\\n                <a class=\\\"collapse-item\\\" (click)=\\\"navigate2State('/borrower/my-contract')\\\" routerLinkActive=\\\"active\\\">Paid Contracts</a>\\n                <a class=\\\"collapse-item\\\" (click)=\\\"navigate2State('/borrower/my-contract')\\\" routerLinkActive=\\\"active\\\">Unpaid Contracts</a>\\n                <a class=\\\"collapse-item\\\" (click)=\\\"navigate2State('/borrower/my-contract')\\\" routerLinkActive=\\\"active\\\">Inkasso cases</a>\\n           \\n            </div>\\n        </div>\\n    </li> -->\\n\\n    <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/borrower/my-contract\\\" routerLinkActive=\\\"active\\\">\\n            <i class=\\\"icon icon-bag\\\"></i>\\n            <span i18n>My Contracts</span></a>\\n    </li>\\n\\n    <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link\\\"  routerLink=\\\"/borrower/messages\\\" routerLinkActive=\\\"active\\\">\\n            <i class=\\\"icon icon-comments\\\"></i>\\n            <span i18n>Messages</span>\\n            <span *ngIf=\\\"messagesService.returnTotalPendingMessagesForUser()>0\\\" class=\\\"badge badge-light float-right font-weight-lighter text-capitalize\\\" i18n> {{messagesService.returnTotalPendingMessagesForUser()}}</span>\\n        </a>\\n    </li>\\n\\n    <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link\\\"  routerLink=\\\"/borrower/calendar\\\" routerLinkActive=\\\"active\\\">\\n            <i class=\\\"icon icon-calendar\\\"></i>\\n            <span i18n>Calendar</span></a>\\n    </li>\\n\\n    <!-- <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/borrower/ratings\\\" routerLinkActive=\\\"active\\\">\\n            <i class=\\\"icon icon-star\\\"></i>\\n            <span>My Ratings</span></a>\\n    </li> -->\\n\\n    <!-- Divider -->\\n    <hr class=\\\"sidebar-divider\\\">\\n\\n    <!-- Heading -->\\n    <!-- <div class=\\\"sidebar-heading\\\">\\n        Addons\\n    </div> -->\\n\\n    <!-- Nav Item - Pages Collapse Menu -->\\n    <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link collapsed\\\" data-toggle=\\\"collapse\\\" aria-expanded=\\\"true\\\" aria-controls=\\\"collapsePages\\\">\\n            <i class=\\\"icon icon-settings\\\"></i>\\n            <span i18n>Settings</span>\\n        </a>\\n        <div id=\\\"collapsePages\\\" class=\\\"collapse show\\\" aria-labelledby=\\\"headingPages\\\" data-parent=\\\"#accordionSidebar\\\">\\n            <div class=\\\"bg-white py-2 collapse-inner rounded\\\">\\n            \\n                <a class=\\\"collapse-item\\\" routerLink=\\\"/borrower/profile\\\" routerLinkActive=\\\"active\\\" i18n>My Profile</a>\\n                <a class=\\\"collapse-item\\\" routerLink=\\\"/borrower/update-password\\\" routerLinkActive=\\\"active\\\" i18n>Change Password</a>\\n                <a class=\\\"collapse-item\\\" routerLink=\\\"/borrower/bank-details\\\" routerLinkActive=\\\"active\\\" i18n>Bank Details</a>\\n                <a class=\\\"collapse-item\\\" routerLink=\\\"/borrower/income-proof\\\" routerLinkActive=\\\"active\\\" i18n>Income Proof</a>\\n                <a class=\\\"collapse-item\\\" routerLink=\\\"/borrower/my-subscriptions\\\" routerLinkActive=\\\"active\\\" i18n>My Subscriptions</a>\\n               \\n            </div>\\n        </div>\\n    </li>\\n\\n \\n    <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/logout\\\">\\n            <i class=\\\"icon icon-flickr-alt\\\"></i>\\n            <span i18n>Logout</span></a>\\n    </li>\\n\\n    <!-- Divider -->\\n    <!-- <hr class=\\\"sidebar-divider d-none d-md-block\\\">\\n\\n\\n    <div class=\\\"text-center d-none d-md-inline\\\">\\n        <button class=\\\"rounded-circle border-0\\\" id=\\\"sidebarToggle\\\"></button>\\n    </div> -->\\n\\n\\n</ul>\\n\\n\\n\";","export default \"<form [formGroup]=\\\"borrowNowForm\\\" class=\\\"theme-form\\\">\\n    <!-- addSession section -->\\n    <div class=\\\"row\\\" *ngIf=\\\"!userClickedOnSignLoanContract\\\">\\n        <div class=\\\"col-xl-3 col-12\\\">\\n            <div class=\\\"card border-left-primary shadow py-2 mb-3\\\">\\n                <div class=\\\"card-body\\\">\\n                    <div class=\\\"row no-gutters align-items-center\\\">\\n                        <div class=\\\"col mr-2\\\">\\n                            <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\n                                EMI (Monthly)\\n                            </div>\\n                            <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\" >\\n                                kr {{LoanObj.calculatedMonthlyAmountForEMI}}\\n                            </div>\\n                        </div>\\n                        <div class=\\\"col-auto\\\">\\n                            <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"card border-left-primary shadow py-2 mb-3\\\">\\n                <div class=\\\"card-body\\\">\\n                    <div class=\\\"row no-gutters align-items-center\\\">\\n                        <div class=\\\"col mr-2\\\">\\n                            <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\n                                Loan Amount\\n                            </div>\\n                            <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\" i18n>\\n                                kr {{LoanObj.loanAmount}}\\n                            </div>\\n                        </div>\\n                        <div class=\\\"col-auto\\\">\\n                            <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"card border-left-primary shadow py-2 mb-3\\\">\\n                <div class=\\\"card-body\\\">\\n                    <div class=\\\"row no-gutters align-items-center\\\">\\n                        <div class=\\\"col mr-2\\\">\\n                            <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\n                                Total Loan\\n                            </div>\\n                            <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\" i18n>\\n                                kr\\n                                {{utilityService.returnRoundedNumber(LoanObj.calculatedMonthlyAmountForEMI*LoanObj.loanTenureInMonths)}}\\n                            </div>\\n                        </div>\\n                        <div class=\\\"col-auto\\\">\\n                            <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"col-xl-9 col-12\\\">\\n            <div class=\\\"card shadow mb-4\\\">\\n                <!-- Card Header - Dropdown -->\\n                <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\n                    <span class=\\\"float-left\\\">\\n                        <h5 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>{{headerMessage2show}}</h5>\\n                    </span>\\n                    <span>\\n                        <div (click)=\\\"usersProfile(LoanObj.createdByUserObj)\\\">\\n                            <i class=\\\"icon icon-user\\\"></i>\\n                        </div>\\n                    </span>\\n                </div>\\n                <!-- Card Body -->\\n                <div class=\\\"card-body\\\">\\n                    <div class=\\\"theme-form\\\">\\n                        <div class=\\\"row\\\">\\n                            <div class=\\\"col-xl-4 col-12 border-right\\\">\\n                                <div class=\\\"form-group\\\">\\n                                    <label for=\\\"loanType\\\" i18n>Loan Type</label>\\n                                    <h4 class=\\\"text-primary\\\" >\\n                                        {{utilityService.returnLoanType(LoanObj.loanType)}}\\n                                    </h4>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-xl-4 col-12 border-right\\\">\\n                                <div class=\\\"form-group \\\">\\n                                    <label for=\\\"loanAmount\\\" i18n>Loan Amount</label>\\n                                    <h4 class=\\\"text-primary\\\">\\n                                        {{LoanObj.loanAmount}}\\n                                    </h4>\\n                                </div>\\n                                <div class=\\\"form-group bg-light2 p-2\\\">\\n                                    <label for=\\\"proposedLoanAmount\\\" i18n>\\n                                        Propose a new loan amount <sub>(Optional) & amount must be hight than kr\\n                                            {{LoanObj.loanAmount}}</sub></label>\\n                                    <input type=\\\"number\\\" formControlName=\\\"proposedLoanAmount\\\" class=\\\"form-control\\\"\\n                                        [ngClass]=\\\"{ 'is-invalid': submitted && f.proposedLoanAmount.errors }\\\"\\n                                        placeholder=\\\"Enter New Amount\\\" />\\n                                    <div *ngIf=\\\"submitted && f.proposedLoanAmount.errors\\\" class=\\\"invalid-feedback\\\">\\n                                        <div *ngIf=\\\"f.proposedLoanAmount.errors.required\\\" i18n>\\n                                            Proposed Loan Amount is required\\n                                        </div>\\n                                        <div *ngIf=\\\"f.proposedLoanAmount.min.required\\\" i18n>\\n                                            amount must be hight than kr {{LoanObj.loanAmount}}\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-xl-4 col-12\\\">\\n                                <div class=\\\"form-group\\\">\\n                                    <label for=\\\"loanTenureInMonths\\\" i18n>Tenure in Months</label>\\n                                    <h4 class=\\\"text-primary\\\">\\n                                        {{LoanObj.loanTenureInMonths}}\\n                                    </h4>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-xl-4 col-12 border-right\\\">\\n                                <div class=\\\"form-group \\\">\\n                                    <label for=\\\"loanInterestRate\\\" i18n>Interest(%) Rate (per month)</label>\\n                                    <h4 class=\\\"text-primary\\\">\\n                                        {{LoanObj.loanInterestRate}}\\n                                    </h4>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-xl-4 col-12 border-right\\\">\\n                                <div class=\\\"form-group \\\">\\n                                    <label for=\\\"loanStartDateTime\\\" i18n>Start Date</label>\\n                                    <h4 class=\\\"text-primary\\\" >\\n                                        {{LoanObj.loanStartDateTime | date:'dd-MMM-YYYY'}}\\n                                    </h4>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-xl-4 col-12\\\">\\n                                <div class=\\\"form-group\\\">\\n                                    <p class=\\\"mb-2\\\" i18n>How to give the money</p>\\n\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('bank',LoanObj)>-1\\\"\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                                        BANK\\n                                    </span>\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('cash',LoanObj)>-1\\\"\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\n                                        Cash\\n                                    </span>\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('revolut',LoanObj)>-1\\\"\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\n                                        Revolut\\n                                    </span>\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('paypal',LoanObj)>-1\\\"\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\n                                        Paypal\\n                                    </span>\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('skrill',LoanObj)>-1\\\"\\n                                        class=\\\"badge font-weight-light text-uppercase badge-success\\\" i18n>\\n                                        Skrill\\n                                    </span>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-xl-12\\\">\\n                                <p class=\\\"mb-2\\\" i18n>Description:</p>\\n                                <div class=\\\"text-black-50\\\" i18n>\\n                                    {{LoanObj.loanDescription}}\\n                                </div>\\n                            </div>\\n                            <!-- <div class=\\\"col-xl-12\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <label for=\\\"proposedLoanAmount\\\" i18n>\\n                                    Propose a new loan amount <sub>(Optional) & amount must be hight than kr {{LoanObj.loanAmount}}</sub></label>\\n                                <input type=\\\"number\\\" formControlName=\\\"proposedLoanAmount\\\" class=\\\"form-control\\\"\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.proposedLoanAmount.errors }\\\" />\\n                                <div *ngIf=\\\"submitted && f.proposedLoanAmount.errors\\\"\\n                                    class=\\\"invalid-feedback\\\">\\n                                    <div *ngIf=\\\"f.proposedLoanAmount.errors.required\\\" i18n>\\n                                        Proposed Loan Amount is required\\n                                    </div>\\n                                    <div *ngIf=\\\"f.proposedLoanAmount.min.required\\\" i18n>\\n                                        amount must be hight than kr {{LoanObj.loanAmount}}\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div> -->\\n                            <div class=\\\"col-xl-12 col-12 mt-3\\\">\\n                                <div class=\\\"table-responsive table-billing-history\\\">\\n                                    <table class=\\\"table mb-0\\\">\\n                                        <thead>\\n                                            <tr>\\n                                                <th scope=\\\"col\\\" i18n>EMI Date</th>\\n                                                <th scope=\\\"col\\\" i18n>Payment</th>\\n\\n                                            </tr>\\n                                        </thead>\\n                                        <tbody>\\n                                            <tr\\n                                                *ngFor=\\\"let in of utilityService.counter(LoanObj.loanTenureInMonths) ;let i = index\\\">\\n                                                <td>{{utilityService.returnDateWithAddingMonths(LoanObj.loanStartDateTime,i+1)\\n                                                    | date:'dd-MMM-YYYY'}}</td>\\n                                                <td>kr {{LoanObj.calculatedMonthlyAmountForEMI}}</td>\\n\\n                                            </tr>\\n\\n                                        </tbody>\\n                                    </table>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"card-footer\\\">\\n                    <button *ngIf=\\\"!userClickedOnSignLoanContract\\\" type=\\\"button\\\" class=\\\"btn btn-primary float-right\\\"\\n                        (click)=\\\"clickedOnSignLoanContract()\\\" i18n>\\n                        Sign Loan Contract\\n                    </button>\\n                    <button *ngIf=\\\"userClickedOnSignLoanContract\\\" type=\\\"button\\\" class=\\\"btn btn-primary float-right\\\"\\n                        (click)=\\\"resetClickedOnSignLoanContract()\\\" i18n>\\n                        Cancel\\n                    </button>\\n                </div>\\n            </div>\\n        </div>\\n\\n    </div>\\n    <div class=\\\"row\\\" *ngIf=\\\"userClickedOnSignLoanContract\\\">\\n\\n        <div class=\\\"col-xl-12 col-12\\\">\\n            <div class=\\\"card shadow mb-4\\\">\\n                <!-- Card Header - Dropdown -->\\n                <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\n                    <h5 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>Loan Contract</h5>\\n                </div>\\n                <!-- Card Body -->\\n                <div class=\\\"card-body\\\">\\n                    <div class=\\\"theme-form\\\">\\n                        <div class=\\\"row mb-3\\\">\\n                            <div class=\\\"col-xl-12 col-12\\\" *ngIf=\\\"lenderUserObj && borrowerUserObj\\\">\\n\\n                                <table class=\\\"table table table-bordered  shadow-sm\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th style=\\\"width: 20%;\\\">#</th>\\n\\n                                            <th style=\\\"width: 40%;\\\" i18n>Borrower</th>\\n                                            <th style=\\\"width: 40%;\\\" i18n>Lender</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody>\\n                                        <tr>\\n                                            <td>\\n                                                <div class=\\\"text-black-50 text-uppercase\\\" i18n>\\n                                                    NAME</div>\\n                                            </td>\\n                                            <td>\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary text-uppercase\\\">\\n                                                    {{borrowerUserObj.firstName}}&nbsp;{{borrowerUserObj.lastName}}\\n                                                </div>\\n                                            </td>\\n                                            <td>\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary text-uppercase\\\">\\n                                                    {{lenderUserObj.firstName}}&nbsp;{{lenderUserObj.lastName}}\\n                                                </div>\\n                                            </td>\\n                                        </tr>\\n\\n                                        <tr>\\n                                            <td>\\n                                                <div class=\\\"text-black-50 text-uppercase\\\" i18n>\\n                                                    Address</div>\\n                                            </td>\\n                                            <td>\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary\\\">\\n                                                    {{borrowerUserObj.address}}\\n                                                </div>\\n                                            </td>\\n                                            <td>\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary\\\">\\n                                                    {{lenderUserObj.address}}\\n                                                </div>\\n                                            </td>\\n                                        </tr>\\n\\n                                        <tr>\\n                                            <td>\\n                                                <div class=\\\"text-black-50 text-uppercase\\\" i18n>\\n                                                    Passport Number</div>\\n                                            </td>\\n                                            <td>\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary\\\">\\n                                                    {{borrowerUserObj.myPassportNumber}}\\n                                                </div>\\n                                            </td>\\n                                            <td>\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary\\\">\\n                                                    {{lenderUserObj.myPassportNumber}}\\n                                                </div>\\n                                            </td>\\n                                        </tr>\\n\\n                                        <tr>\\n                                            <td>\\n                                                <div class=\\\"text-black-50 text-uppercase\\\" i18n>\\n                                                    DL Number</div>\\n                                            </td>\\n                                            <td>\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary\\\">\\n                                                    {{borrowerUserObj.myDLNumber}}\\n                                                </div>\\n                                            </td>\\n                                            <td>\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary\\\">\\n                                                    {{lenderUserObj.myDLNumber}}\\n                                                </div>\\n                                            </td>\\n                                        </tr>\\n\\n                                        <tr>\\n                                            <td>\\n                                                <div class=\\\"text-black-50 text-uppercase\\\" i18n>\\n                                                    Payment Method</div>\\n                                            </td>\\n                                            <td>\\n                                                <div *ngIf=\\\"utilityService.returnLoanRepaymentType('bank',LoanObj)>-1\\\">\\n                                                    BANK\\n\\n                                                    <label for=\\\"borrowerBankName\\\" i18n>Bank Name</label>\\n                                                    <h4 class=\\\"text-primary\\\" >\\n                                                        {{borrowerUserObj.bankName}}\\n                                                    </h4>\\n                                                    <label for=\\\"borrowerRegNumber\\\" i18n>Reg nr</label>\\n                                                    <h4 class=\\\"text-primary\\\" >\\n                                                        {{borrowerUserObj.regNumber}}\\n                                                    </h4>\\n                                                    <label for=\\\"borrowerAccountNumber\\\" i18n>Account Number</label>\\n                                                    <h4 class=\\\"text-primary\\\" >\\n                                                        {{borrowerUserObj.accountNumber}}\\n                                                    </h4>\\n                                                    <!--\\n                                                <label for=\\\"borrowerMobilePayment\\\" i18n>Mobile payment</label>\\n                                                <h4 class=\\\"text-primary\\\" i18n>\\n                                                    {{borrowerUserObj.mobilePayment}}\\n                                                </h4>\\n                                            -->\\n                                                </div>\\n                                                <div *ngIf=\\\"utilityService.returnLoanRepaymentType('cash',LoanObj)>-1\\\"\\n                                                    class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\n                                                    Cash\\n                                                </div>\\n                                                <div\\n                                                    *ngIf=\\\"utilityService.returnLoanRepaymentType('revolut',LoanObj)>-1\\\" i18n>\\n\\n                                                    Revolut:\\n                                                    {{borrowerUserObj.revolutWalletID}}\\n                                                </div>\\n                                                <div\\n                                                    *ngIf=\\\"utilityService.returnLoanRepaymentType('paypal',LoanObj)>-1\\\" i18n>\\n                                                    Paypal ID: {{borrowerUserObj.paypalWalletID}}\\n                                                </div>\\n                                                <div\\n                                                    *ngIf=\\\"utilityService.returnLoanRepaymentType('skrill',LoanObj)>-1\\\" i18n>\\n                                                    Skrill: {{borrowerUserObj.skrillWalletID}}\\n                                                </div>\\n\\n\\n                                            </td>\\n\\n                                            <td>\\n                                                <div *ngIf=\\\"utilityService.returnLoanRepaymentType('bank',LoanObj)>-1\\\" i18n>\\n                                                    BANK\\n\\n                                                    <div class=\\\"text-black-50\\\" >Bank Name</div>\\n                                                    <div class=\\\"font-weight-bold text-primary mb-1\\\">\\n                                                        {{lenderUserObj.bankName}}\\n                                                    </div>\\n                                                    <div for=\\\"lenderRegNumber\\\" >Reg Number</div>\\n                                                    <div class=\\\"font-weight-bold text-primary mb-1\\\">\\n                                                        {{lenderUserObj.regNumber}}\\n                                                    </div>\\n                                                    <div for=\\\"lenderAccountNumber\\\" >Account Number</div>\\n                                                    <div class=\\\"font-weight-bold text-primary mb-1\\\">\\n                                                        {{lenderUserObj.accountNumber}}\\n                                                    </div>\\n                                                </div>\\n                                                <div *ngIf=\\\"utilityService.returnLoanRepaymentType('cash',LoanObj)>-1\\\"\\n                                                    class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\n                                                    Cash\\n                                                </div>\\n                                                <div\\n                                                    *ngIf=\\\"utilityService.returnLoanRepaymentType('revolut',LoanObj)>-1\\\" >\\n\\n                                                    Revolut:\\n                                                    {{lenderUserObj.revolutWalletID}}\\n                                                </div>\\n                                                <div\\n                                                    *ngIf=\\\"utilityService.returnLoanRepaymentType('paypal',LoanObj)>-1\\\">\\n                                                    Paypal ID: {{lenderUserObj.paypalWalletID}}\\n                                                </div>\\n                                                <div\\n                                                    *ngIf=\\\"utilityService.returnLoanRepaymentType('skrill',LoanObj)>-1\\\">\\n                                                    Skrill: {{lenderUserObj.skrillWalletID}}\\n                                                </div>\\n\\n\\n                                            </td>\\n\\n                                        </tr>\\n\\n                                    </tbody>\\n                                </table>\\n                            </div>\\n\\n                        </div>\\n\\n                        <div class=\\\"row mb-3\\\">\\n                            <div class=\\\"col-xl-4 col-12 \\\">\\n                                <div class=\\\"card shadow-sm p-2\\\">\\n                                    <label for=\\\"loanType\\\" i18n>Loan Type</label>\\n                                    <h4 class=\\\"text-primary\\\">\\n                                        {{utilityService.returnLoanType(LoanObj.loanType)}}\\n                                    </h4>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-xl-4 col-12\\\">\\n                                <div class=\\\"card shadow-sm p-2\\\" *ngIf=\\\"!f.proposedLoanAmount.value\\\">\\n                                    <label for=\\\"loanAmount\\\" i18n>Loan Amount</label>\\n                                    <h4 class=\\\"text-primary\\\">\\n                                        {{LoanObj.loanAmount}}\\n                                    </h4>\\n                                </div>\\n                                <div class=\\\"card shadow-sm p-2\\\" *ngIf=\\\"f.proposedLoanAmount.value\\\">\\n                                    <label for=\\\"loanAmount\\\" i18n>Loan Amount/Proposed Loan Amount</label>\\n                                    <h4 class=\\\"text-primary\\\">\\n                                        <span\\n                                            style=\\\"-webkit-text-decoration-line: line-through;text-decoration-line: line-through;\\\">\\n                                            {{LoanObj.loanAmount}}\\n                                        </span>\\n                                        /\\n                                        <span>\\n                                            {{f.proposedLoanAmount.value}}\\n                                        </span>\\n                                    </h4>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-xl-4 col-12\\\">\\n                                <div class=\\\"card shadow-sm p-2\\\">\\n                                    <label i18n>Tenure in Months</label>\\n                                    <h4 class=\\\"text-primary\\\">\\n                                        {{LoanObj.loanTenureInMonths}}\\n                                    </h4>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"row\\\">\\n                            <div class=\\\"col-xl-4 col-12\\\">\\n                                <div class=\\\"card shadow-sm p-2\\\">\\n                                    <label i18n>Interest(%) Rate (per month)</label>\\n                                    <h4 class=\\\"text-primary\\\">\\n                                        {{LoanObj.loanInterestRate}}\\n                                    </h4>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-xl-4 col-12\\\">\\n                                <div class=\\\"card shadow-sm p-2\\\">\\n                                    <label i18n>Start Date</label>\\n                                    <h4 class=\\\"text-primary\\\">\\n                                        {{LoanObj.loanStartDateTime | date:'dd-MMM-YYYY'}}\\n                                    </h4>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-xl-4 col-12\\\">\\n                                <div class=\\\"card shadow-sm p-2\\\">\\n\\n                                    <label class=\\\"mb-3\\\" i18n>Payment Method</label>\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('bank',LoanObj)>-1\\\"\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success w-20\\\">\\n                                        BANK\\n                                    </span>\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('cash',LoanObj)>-1\\\"\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success w-20\\\">\\n                                        Cash\\n                                    </span>\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('revolut',LoanObj)>-1\\\"\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success w-20\\\">\\n                                        Revolut\\n                                    </span>\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('paypal',LoanObj)>-1\\\"\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success w-20\\\">\\n                                        Paypal\\n                                    </span>\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('skrill',LoanObj)>-1\\\"\\n                                        class=\\\"badge font-weight-light text-uppercase badge-success w-20\\\">\\n                                        Skrill\\n                                    </span>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-xl-12 mt-3\\\">\\n                                <div class=\\\"card shadow-sm p-2\\\">\\n                                    <label i18n>Description</label>\\n\\n                                    <div class=\\\"text-black-50\\\">\\n                                        {{LoanObj.loanDescription}}\\n                                    </div>\\n                                </div>\\n\\n                            </div>\\n                            <div class=\\\"col-xl-12 mt-3\\\" *ngIf=\\\"f.loanInsuranceRequired.value\\\">\\n                                <div class=\\\"card shadow-sm p-2\\\">\\n                                    <label i18n>Applied for Insurance with Amount</label>\\n                                    <div class=\\\"text-black-50\\\">\\n                                        {{f.loanInsuranceAmount.value}}\\n                                    </div>\\n                                </div>\\n                            </div>\\n\\n                            <div class=\\\"col-xl-12 col-12 mt-3\\\">\\n                                <div class=\\\"table-responsive table shadow-sm\\\">\\n                                    <table class=\\\"table mb-0\\\">\\n                                        <thead>\\n                                            <tr>\\n                                                <th scope=\\\"col\\\" i18n>EMI Date</th>\\n                                                <th scope=\\\"col\\\" i18n>Payment</th>\\n\\n                                            </tr>\\n                                        </thead>\\n                                        <tbody>\\n                                            <tr\\n                                                *ngFor=\\\"let in of utilityService.counter(LoanObj.loanTenureInMonths) ;let i = index\\\">\\n                                                <td>{{utilityService.returnDateWithAddingMonths(LoanObj.loanStartDateTime,i+1)\\n                                                    | date:'dd-MMM-YYYY'}}</td>\\n                                                <td *ngIf=\\\"(!f.calculatedMonthlyAmountForEMI.value) || (f.calculatedMonthlyAmountForEMI.value ==LoanObj.calculatedMonthlyAmountForEMI)\\\">kr\\n                                                    {{LoanObj.calculatedMonthlyAmountForEMI}}</td>\\n                                                <td *ngIf=\\\"(f.calculatedMonthlyAmountForEMI.value) && (f.calculatedMonthlyAmountForEMI.value !=LoanObj.calculatedMonthlyAmountForEMI)\\\">kr\\n                                                    <span\\n                                                        style=\\\"-webkit-text-decoration-line: line-through;text-decoration-line: line-through;\\\">\\n                                                        {{LoanObj.calculatedMonthlyAmountForEMI}}\\n                                                    </span>\\n                                                    &nbsp;\\n                                                    <span>\\n                                                        {{f.calculatedMonthlyAmountForEMI.value}}\\n                                                    </span>\\n                                                </td>\\n                                            </tr>\\n                                        </tbody>\\n                                    </table>\\n                                </div>\\n                            </div>\\n                        </div>\\n\\n                    </div>\\n                </div>\\n\\n            </div>\\n\\n            <div class=\\\"card shadow mb-4\\\">\\n\\n                <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\n                    <h5 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>Terms & Conditions</h5>\\n                </div>\\n\\n                <div class=\\\"card-body\\\">\\n                    <ol class=\\\"terms ml-n4\\\">\\n                        <li>\\n                            <div class=\\\"font-weight-bold\\\" i18n>Scope</div>\\n                            <div i18n>\\n                                These loan terms apply to all loan agreements entered into between the borrower and the\\n                                lender\\n                                through the Avitii Lending System. Avitii Lending System acts solely as a dissemination\\n                                platform\\n                                and cannot be held liable of any kind, either by the lender or the borrower.\\n                                By signing the loan agreement, you have accepted these loan terms, which deal with you\\n                                and the\\n                                borrower. You are at all times subject to the terms of use of the Avitii Lending System.\\n                                Deviations from the loan terms must be agreed in writing, and in the event of a\\n                                discrepancy\\n                                between the loan terms and your agreement, the loan agreement will take precedence.\\n                                Avitii Lending System does not provide financial advice when concluding the credit\\n                                agreement and\\n                                therefore does not assume any responsibility in connection with this.\\n                                Both the borrower and the lender confirm compliance with the country's applicable laws\\n                                and\\n                                regulations for private loans between private individuals.\\n                                Borrower as well as lender, provides using Avitii Lending System\\n                                consent to information including, loan history as well as profile data,\\n                                address, photo id, social media shared and registered at Credit-List.net\\n                            </div>\\n\\n                        </li>\\n                        <li>\\n                            <div class=\\\"font-weight-bold\\\" i18n>Acceptance deadline</div>\\n                            <div i18n>\\n                                Loan offers offered on the Avitii Lending System must be considered as an open offer,\\n                                for any\\n                                borrower profile on the website. It is the individual private loan provider who, based\\n                                on the\\n                                borrower's information, makes the final decision on the loan implementation.\\n                                Loan offers are considered as P2P loans, where any acceptance of loan offers is binding\\n                                on the\\n                                borrower. The lender as well as the borrower can stay updated at any time with the terms\\n                                of\\n                                agreements on the Avitii Lending Systems website.\\n                            </div>\\n                        </li>\\n                        <li>\\n                            <div class=\\\"font-weight-bold\\\" i18n>Prerequisites</div>\\n                            <div i18n>\\n                                Credit rating: As a borrower, you declare in good faith that your information entered at\\n                                all\\n                                times is correct, that at the time of entering into the loan you have not been declared\\n                                unfit to\\n                                take care of yourself or your finances. At the same time, you declare not to be under\\n                                compulsory\\n                                dissolution, debt restructuring, or otherwise declared insolvent.\\n                                Money laundering: Avitii Lending System is a dissemination platform, and is therefore\\n                                out of\\n                                responsibility. Private lender enters into loan agreement with private borrowers. As a\\n                                borrower\\n                                on the website, you must in principle always provide private information on an ongoing\\n                                basis, at\\n                                the request of Avittii Lending Systems. If you do not provide the necessary correct\\n                                information,\\n                                the Avitii Lending System may exclude you from using the Website.\\n                            </div>\\n\\n                        </li>\\n                        <li>\\n                            <div class=\\\"font-weight-bold\\\" i18n>Loan terms</div>\\n                            The borrower must at all times be aware that he or she has the finances to take out offered\\n                            loans. In addition to the principal, the opportunity to bear interest expenses, fees and\\n                            other\\n                            expenses in connection with redemption.\\n\\n                            <div i18n>The borrower must at all times confirm their creditworthiness, as well as they are\\n                                not\\n                                over-mortgaged for the applicable period. The borrower must at all times comply with the\\n                                applicable rules for repayment. In the event of late payment or otherwise default, it is\\n                                up\\n                                to the lender to impose additional expenses. The borrower confirms that he or she is\\n                                solely\\n                                responsible for finding a solution to repay the loan / debt.</div>\\n                            <div i18n>\\n                                The borrower confirms with this agreement that he agrees that the lender can at any time\\n                                transfer the loan to a third party for recovery.\\n                            </div>\\n                            <div i18n>\\n                                Receipt for repayment or remission must be notified in writing by endorsement on this\\n                                loan\\n                                document.\\n                            </div>\\n\\n                            <div i18n>\\n                                In the event of late payment, 5 days from the payment date are generally given to find a\\n                                solution yourself. In case the borrower fails to comply with the repayment within the 5\\n                                days, the lender is entitled to impose a 65% fee on the amount lent, valid from the date\\n                                of\\n                                payment. After another 5 days, the debt will be transferred to recovery.\\n                            </div>\\n\\n                        </li>\\n                        <li>\\n                            <div class=\\\"font-weight-bold\\\" i18n>Fraud</div>\\n                            <div i18n>\\n                                Borrowers who take out loans fraudulently, or in some other way by giving incorrect\\n                                information\\n                                and thus force themselves on loans that they are unable to repay or should have\\n                                foreseen, not\\n                                being able to repay will be considered fraud.\\n                                279 CRIMINAL ACT Fraud For fraud, a person is punished who, in order to obtain gain or\\n                                other\\n                                unjustified gain, by unlawfully causing, corroborating or exploiting an error,\\n                                determines\\n                                another for an act or omission, whereby the person or person for whom the act is\\n                                inflicted or\\n                                the omission becomes decisive, a loss of property.\\n                            </div>\\n\\n                        </li>\\n\\n\\n                    </ol>\\n                    <hr>\\n                    <h5>E-Signature</h5>\\n                    <hr>\\n\\n                    <div class=\\\"row\\\">\\n                        <div class=\\\"col-xl-6 col-12 d-none\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <label for=\\\"eSignatureBorrowersName\\\" i18n>Name</label>\\n                                <input type=\\\"text\\\" formControlName=\\\"eSignatureBorrowersName\\\" class=\\\"form-control\\\"\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.eSignatureBorrowersName.errors }\\\" />\\n                                <div *ngIf=\\\"submitted && f.eSignatureBorrowersName.errors\\\" class=\\\"invalid-feedback\\\">\\n                                    <div *ngIf=\\\"f.eSignatureBorrowersName.errors.required\\\" i18n>Name is required</div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"col-xl-6 col-12 d-none\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <label for=\\\"eSignatureBorrowersPassportNumber\\\" i18n>Passport or Driving Licence\\n                                    Number</label>\\n                                <input type=\\\"text\\\" formControlName=\\\"eSignatureBorrowersPassportNumber\\\"\\n                                    class=\\\"form-control\\\"\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.eSignatureBorrowersPassportNumber.errors }\\\" />\\n                                <div *ngIf=\\\"submitted && f.eSignatureBorrowersPassportNumber.errors\\\"\\n                                    class=\\\"invalid-feedback\\\">\\n                                    <div *ngIf=\\\"f.eSignatureBorrowersPassportNumber.errors.required\\\" i18n>Passport or\\n                                        Driving\\n                                        Licence Number is required</div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"col-xl-6 col-12\\\">\\n                            <div class=\\\"form-check-inline\\\">\\n                                <div class=\\\"custom-control custom-checkbox\\\">\\n                                    <input name=\\\"loanAgreementCondition\\\" id=\\\"loanAgreementCondition\\\" type=\\\"checkbox\\\"\\n                                        class=\\\"custom-control-input\\\" [value]=\\\"true\\\"\\n                                        (change)=\\\"clicked2LoanAgreementCondition($event)\\\"\\n                                        [checked]=\\\"f.loanAgreementCondition.value\\\"\\n                                        [ngClass]=\\\"{ 'is-invalid': submitted && f.loanAgreementCondition.errors }\\\">\\n                                    <label for=\\\"loanAgreementCondition\\\" class=\\\"custom-control-label\\\">\\n                                        Agree to the above terms & conditions for Loan Agreement.\\n                                    </label>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"card-footer\\\">\\n\\n                    <button type=\\\"button\\\" class=\\\"btn btn-success float-right\\\"\\n                        (click)=\\\"clickedOnVerifiedSignLoanContract()\\\" i18n>\\n                        SUBMIT\\n                    </button>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</form>\\n<!-- addSession section -->\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJnZXQtYS1sb2FuLmNvbXBvbmVudC5jc3MifQ== */\";","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\nimport { UtilityService } from 'src/app/services/utility.service';\nimport { SessionsService } from 'src/app/services/sessions.service';\nimport { AlertService, AuthenticationService, UserService } from 'src/app/services';\nimport { first } from 'rxjs/operators';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ModalApplySession, ModalAppliedSessionDisplay } from '../borrower.component';\nimport * as _ from 'lodash';\nimport { Role, SessionStatus } from 'src/app/models';\n/*import { ServiceTypesService } from 'src/app/services/service-types.service';*/\nimport { SocketioService } from 'src/app/socketio.service';\ndeclare var require: any\nconst { overwrite, getNames } = require('country-list');\noverwrite([{\n  code: 'US',\n  name: 'USA'\n}])\n@Component({\n  selector: 'app-browse-sessions',\n  templateUrl: './browse-sessions.component.html',\n  styleUrls: ['./browse-sessions.component.css'],\n  changeDetection: ChangeDetectionStrategy.Default\n})\nexport class BrowseSessionsComponent implements OnInit {\n  public submitted: boolean;\n  loading: boolean;\n  allSessionsData: any;\n  allSessionsCount: number;\n  browseSessionForm: FormGroup;\n  ParentServicesTypes: any = null;\n  countrylist: any = null;\n  constructor(\n    public userService:UserService,\n    private socketService: SocketioService,\n    private formBuilder: FormBuilder,\n    private sessionsService: SessionsService,\n    private alertService: AlertService,\n    public utilityService: UtilityService,\n    public dialog: MatDialog,\n    private authenticationService: AuthenticationService,\n    /*private serviceTypesService: ServiceTypesService,*/\n  ) {\n    this.countrylist = getNames();\n  /*\n    this.serviceTypesService.getServiceTypesChildAll()\n      .pipe(first())\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n            //alert(JSON.stringify( data));\n            this.ParentServicesTypes = data[\"data\"];\n            //this.alertService.success(data['message'], true);\n            this.loading = false;\n            //this.element_btn_click_addServiceTypes_skills_verification.click();\n          } else {\n            //alert(JSON.stringify(data['message']));\n            this.alertService.error(data['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          this.ParentServicesTypes = [];\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n*/\n  }\n\n  check4applyToSession(sessionObj) {\n    if (sessionObj && sessionObj.sessionAppliedByBorrowers) {\n      if (_.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id }).length > 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  ngOnInit() {\n    this.browseSessionForm = this.formBuilder.group({\n      services4search: [''],\n      location4search: [''],\n      generaldata4search: [''],\n    });\n\n    this.sessionsService.getSessionAllWithSessionApply(this.authenticationService.currentUserValue._id)\n      .pipe(first())\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n            //alert(JSON.stringify( data));\n            this.allSessionsData = data['data'];\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq( this.utilityService._.map( this.utilityService._.flattenDepth( this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"),1),'borrowerId')));\n            //this.alertService.success(data['message'], true);\n            this.loading = false;\n            //this.element_btn_click_addSession_skills_verification.click();\n          } else {\n            //alert(JSON.stringify(data['message']));\n            //this.alertService.error(data['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          //this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n    this.sessionsService.getUpdatesForSessionAllByBorrowerId()\n      .subscribe(\n        data => {\n          if (data && data['success']) {\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\n            for (let _items in data['data']) {\n              let _currentObj = data['data'][_items];\n              _keyPairedMapObj[_currentObj._id] = _currentObj\n            }\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\n            this.loading = false;\n          } else {\n            this.loading = false;\n          }\n        },\n        error => {\n          this.loading = false;\n        });\n    this.sessionsService.getSessionLengthByService(null, null, null, null, null)\n      .pipe(first())\n      .subscribe(\n        data => {\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n            //alert(JSON.stringify( data));\n            this.allSessionsCount = data['data'];\n            //this.alertService.success(data['message'], true);\n            this.loading = false;\n            //this.element_btn_click_addSession_skills_verification.click();\n          } else {\n            //alert(JSON.stringify(data['message']));\n            //this.alertService.error(data['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          //this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n  }\n  get f() { return this.browseSessionForm.controls; }\n\n  sessionSearchByService() {\n    let services = this.browseSessionForm.get('services4search').value;\n    let location = this.browseSessionForm.get('location4search').value;\n    let generaldata4search = this.browseSessionForm.get('generaldata4search').value;\n    let useAndTrueOrFalse = false;\n    this.allSessionsData = [];\n    this.sessionsService.getSessionAllByService(services, location, generaldata4search, generaldata4search, useAndTrueOrFalse)\n      .pipe(first())\n      .subscribe(\n        data => {\n\n          ////console.log('data => ', data)\n          if (data && data['success']) {\n            //alert(JSON.stringify( data));\n            this.allSessionsData = data['data'];\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq( this.utilityService._.map( this.utilityService._.flattenDepth( this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"),1),'borrowerId')));\n            //this.alertService.success(data['message'], true);\n            this.loading = false;\n            //this.element_btn_click_addSession_skills_verification.click();\n          } else {\n            //alert(JSON.stringify(data['message']));\n            //this.alertService.error(data['message']);\n            this.loading = false;\n          }\n        },\n        error => {\n          let errorMsg2show = \"\";\n          try {\n            if (error && error.error && error.error.message) {\n              errorMsg2show = error.error.message;\n            } else if (error && error.message) {\n              errorMsg2show = error.message;\n            } else {\n              errorMsg2show = error;\n            }\n          } catch (ex) { }\n          //this.alertService.error(errorMsg2show);\n          this.loading = false;\n        });\n\n  }\n\n  applyToSession(sessionObj) {\n    //console.log('179', this.authenticationService.currentUserValue);\n    const dialogRef = this.dialog.open(ModalApplySession, {\n      backdropClass: 'custom-dialog-backdrop-class',\n      panelClass: 'custom-dialog-panel-class',\n      data: {\n        sessionObj: sessionObj,\n        borrowerId: this.authenticationService.currentUserValue._id\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      let _currentSessionApply = null;\n      if (result) {\n        if (result.data) {\n          _currentSessionApply = result.data.sessionApply\n          if (_currentSessionApply) {\n            if (!_currentSessionApply._id) {\n              _currentSessionApply._id = _currentSessionApply.loanId + '__' + _currentSessionApply.borrowerId;\n            }\n            _currentSessionApply.status = result.data.status || SessionStatus.Pending;\n            this.socketService.sendCurrentAppliedSessionObj(_currentSessionApply.loanId);\n            switch (_currentSessionApply.status) {\n              case SessionStatus.Pending:\n                _currentSessionApply.createdBy=this.authenticationService.currentUserValue._id;\n                this.socketService.setSessionApply(true, _currentSessionApply);\n                break;\n              default:\n                this.socketService.updateSessionApply(true, _currentSessionApply, this.authenticationService.currentUserValue);\n                break;\n            }\n            switch (_currentSessionApply.status) {\n              case SessionStatus.Accepted:\n                this.alertService.success(\"Updated. Session is available under My Sessionss ->Accepted tab.\", true);\n                break;\n              case SessionStatus.Pending:\n                this.alertService.success(\"Applied. Session is available under My Sessionss->Pending tab.\", true);\n                break;\n              case SessionStatus.Rejected:\n              case SessionStatus.RejectedOngoing:\n              case SessionStatus.RejectedOngoingWithRefund:\n              case SessionStatus.Suspended:\n                this.alertService.success(\"Updated. Session is available under My Sessionss->Rejected tab.\", true);\n                break;\n              case SessionStatus.Completed:\n                this.alertService.success(\"Updated. Session is available under My Sessionss->Completed tab.\", true);\n                break;\n              case SessionStatus.Active:\n              case SessionStatus.Ongoing:\n              case SessionStatus.OngoingInitiated:\n              case SessionStatus.AwaitingForApproval:\n                this.alertService.success(\"Updated. Session is available under My Sessionss->Ongoing tab.\", true);\n                break;\n              default:\n                break;\n            }\n          }\n        }\n      }\n      //console.log(`252 :: bsc :: Dialog result: ${JSON.stringify(result)}`);\n    });\n  }\n\n  showAppliedToSession(sessionObj) {\n    let _proccessedSessionObj = null;\n    switch (this.authenticationService.currentUserValue.role) {\n      case Role.Borrower:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\n        break;\n      default:\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\n        break;\n    }\n    //console.log('214', this.authenticationService.currentUserValue);\n    const dialogRef = this.dialog.open(ModalAppliedSessionDisplay, {\n      backdropClass: 'custom-dialog-backdrop-class',\n      panelClass: 'custom-dialog-panel-class',\n      data: {\n        sessionObj: _proccessedSessionObj,\n        borrowerId: this.authenticationService.currentUserValue._id\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      //console.log(`191 :: bcs :: Dialog result: ${JSON.stringify(result)}`);\n    });\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.css']\n})\nexport class FooterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","export default \"<p>room works!</p>\\n\";","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Role } from 'src/app/models/role';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { AlertService } from 'src/app/services';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UsersIncomeExpenseVerifyGuard implements CanActivate {\n  constructor(\n    private alertService: AlertService,\n    private router: Router,\n    private authenticationService: AuthenticationService\n  ) {\n  }\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    const currentUser = this.authenticationService.currentUserValue;\n    if (currentUser) {\n      let _currentUserRole = '';\n      try {\n        _currentUserRole = currentUser.role;\n      } catch (ex) { }\n\n      if (!currentUser.isUsersIncomeAndExpenseProofVerified) {\n        this.router.navigate([_currentUserRole + '/home']);\n        this.alertService.error(\"Income proof documents and mothly expenses verification is still pending. Please update to access this feature.\", true);\n        return false;\n      }\n      // authorised so return true\t\n      return true;\n    }\n    // not logged in so redirect to login page with the return url\n    let paramobj = this.router.getCurrentNavigation().extras.state;\n    if (paramobj) {\n      paramobj.returnUrl = state.url;\n    }\n    this.router.navigate(['/login'], { state: paramobj });\n\n    return false;\n  }\n\n}\n"]}