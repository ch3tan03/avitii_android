{"version":3,"sources":["webpack:///node_modules/@fullcalendar/common/main.js","webpack:///node_modules/preact/dist/preact.module.js","webpack:///node_modules/@fullcalendar/common/vdom.js","webpack:///src/app/components/_guards/roles.guard.ts","webpack:///node_modules/@fullcalendar/common/main.css","webpack:///node_modules/preact/compat/dist/compat.module.js","webpack:///node_modules/@fullcalendar/angular/__ivy_ngcc__/fesm2015/fullcalendar-angular.js","webpack:///node_modules/preact/hooks/dist/hooks.module.js","webpack:///node_modules/@fullcalendar/daygrid/main.js","webpack:///node_modules/@fullcalendar/core/vdom.js","webpack:///node_modules/@fullcalendar/core/main.js","webpack:///node_modules/fast-deep-equal/index.js","webpack:///node_modules/@fullcalendar/interaction/main.js","webpack:///node_modules/@fullcalendar/daygrid/main.css","webpack:///src/app/bank-details-verify.guard.ts"],"names":["EventSourceApi","context","internalEventSource","prototype","remove","dispatch","type","sourceId","refetch","sourceIds","isRefetch","Object","defineProperty","get","publicId","enumerable","configurable","meta","url","format","removeElement","el","parentNode","removeChild","elementClosest","selector","closest","document","documentElement","contains","elementMatches","parentElement","nodeType","method","matches","matchesSelector","msMatchesSelector","call","findElements","container","containers","HTMLElement","allMatches","i","length","querySelectorAll","j","push","findDirectChildren","parent","parents","childNodes","children","childNode","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","val","style","test","getEventTargetViaRoot","ev","_a","_b","composedPath","target","getElRoot","getRootNode","preventDefault","buildDelegationHandler","handler","matchedChild","listenBySelector","eventType","attachedHandler","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","callback","realCallback","forEach","eventName","guidNumber","guid","String","disableCursor","body","classList","add","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","input","specs","tokens","token","split","Array","isArray","charAt","field","substring","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","compareNumbers","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","Error","getBoundingClientRect","width","DAY_IDS","addWeeks","m","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","Math","round","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","min","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","Date","getUTCMilliseconds","concat","UTC","apply","isValidDate","isNaN","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","hasOwnProperty","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","undefined","name_2","filterHash","hash","filtered","key","mapHash","newHash","arrayToHash","_i","a_1","item","buildHashFromArray","tuple","hashValuesToArray","obj","isPropsEqual","getUnequalProps","keys","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","parsed","parse","allDay","allDayGuess","duration","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","options","defs","instances","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","map","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","exec","sign","parseInt","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","value","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","replace","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","abs","mins","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","arguments","memoizeObjArg","_this","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","locale","buildNativeFormattingFunc","sanitizeSettings","timeZone","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","injectTzoStr","trim","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","direction","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","plugins","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","noEventsText","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","views","initialEvents","events","eventSources","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","className","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","reduce","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","id","title","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","startMarker","endMeta","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","c","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","emitter","trigger","buildDateSpanApiWithContext","jsEvent","origEvent","view","viewApi","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","on","handlerName","currentCalendarOptionsRefiners","console","warn","off","args","changeView","viewType","dateOrRange","zoomTo","state","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","formatDate","formatter","settings","dateOrObj","endDate","selectionInput","dateSelection","addEvent","eventInput","sourceInput","EventApi","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","event","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","str","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","RAW_EN_LOCALE","code","list","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","slice","merged","NumberFormat","dateInput","buildDateEnv$1","dateMeta","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","filter","rawDef","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","createElement","position","innerHTML","appendChild","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","_c","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","getSlotClassNames","buildNavLinkData","JSON","stringify","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","firstChild","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","x","clientHeight","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","then","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","hasHandlers","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","_super","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","contextType","BaseComponent","create","setRef","ref","current","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","hooks","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","StandardTheme","root","tableCellShaded","buttonGroup","button","buttonActive","close","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","RenderHook","rootElRef","handleRootEl","elRef","render","hookProps","MountHook","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","Consumer","renderId","ContentHookInner","renderInnerContent","componentDidMount","updateCustomContent","componentDidUpdate","componentWillUnmount","customContentInfo","destroy","getInnerContent","getContentMeta","contentKey","contentVal","buildLifecycleFuncs","normalizeContent","searchKey","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","optionDefaults","buttonTextOverride","buttonTextDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","source","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","error","message","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionStr","parseSection","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","text","eventSourceDef$2","arg","arrayEventSourcePlugin","eventSourceDef$1","bind","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","html","injectHtml","domNodes","injectDomNodes","oldNodes","newNodes","newNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","clearTimeout","tryDrain","setTimeout","pause","scope","resume","force","depth","drained","clear","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","data","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","setState","prevProps","newOptionOverrides","sliceEvents","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","index","intersectSpans","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","rects","entries","entries_1","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","ariaAttrs","buttonClasses","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","disabled","onClick","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","EventClicking","handleSegClick","segEl","hasUrlContainer","href","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","handleNavLinkClick","_handleNavLinkClick","headerRef","footerRef","interactionsStore","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","toolbarProps","viewVGrow","viewAspectRatio","isHeightAuto","forPrint","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","anchorEl","navLinkOptions","getAttribute","customAction","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","tabIndex","extraHookProps","colSpan","extraDataAttrs","isSticky","TableDowCell","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","createRef","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$1","getSegAnchorAttrs","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","WeekNumberRoot","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMousedown","handleCloseClick","onClose","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","version","v","l","u","t","r","o","f","e","h","defaultProps","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","p","_","k","base","g","__r","debounceRendering","some","__P","__n","ownerSVGElement","z","A","P","N","M","nextSibling","insertBefore","C","H","$","setProperty","cssText","toLowerCase","T","I","setAttribute","removeAttribute","__E","O","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","attributes","__html","checked","unmount","S","q","B","D","getDerivedStateFromError","componentDidCatch","forceUpdate","Promise","resolve","FullCalendarVDom","Component","Fragment","createContext","createPortal","flushToDom","unmountComponentAtNode","RolesGuard","alertService","router","authenticationService","route","currentUser","currentUserValue","_currentUserRole","role","ex","Lender","isVerified","isRegisteredAllowed2EditProfile","navigate","Borrower","roles","queryParams","returnUrl","providedIn","E","displayName","isReactComponent","__f","isPureReactComponent","R","Symbol","$$typeof","count","only","toArray","__u","U","F","__R","__O","pop","__H","revealOrder","size","W","Map","set","V","textContent","writable","Z","Y","cancelBubble","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","G","J","K","multiple","selected","defaultValue","Q","X","ReactCurrentDispatcher","readContext","nn","tn","rn","un","ln","cn","fn","useState","useReducer","useEffect","useLayoutEffect","useRef","useImperativeHandle","useMemo","useCallback","useContext","useDebugValue","Children","hydrate","createFactory","cloneElement","isValidElement","findDOMNode","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","deepCopy","shallowCopy","assign","output","OPTION_IS_DEEP","resources","FullCalendarComponent","element","optionSnapshot","deepChangeDetection","optionVal","calendar","nativeElement","newOptions","newProcessedOptions","oldOptionNames","pauseRendering","resumeRendering","ɵfac","FullCalendarComponent_Factory","ɵcmp","selectors","decls","vars","template","FullCalendarComponent_Template","rf","ctx","styles","encapsulation","ctorParameters","propDecorators","ngDevMode","None","FullCalendarModule","FullCalendarModule_Factory","ɵmod","ɵinj","imports","ngJitMode","declarations","exports","requestAnimationFrame","cancelAnimationFrame","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","singlePlacements","invisibleSegs","isForcedInvisible","visibility","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayElRef","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgContent","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","absoluteTop","resliceSeg","hiddenEntries_1","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","rects_1","multiPlacements","rects_2","isFirstCol","rects_3","spanStart","spanEnd","forceHidden","excludeHidden","touchingEntryId","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","nodes","segPlacements_1","leftRightCss","isExternalSizingChange","frameEls","limitByContentHeight","queryEventInstanceHeights","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","main","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","globalObj","globalThis","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","ContextType","origProvider","isNew","subs_1","_props","old","node","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","classNames_1","module","equal","RegExp","flags","toString","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","dateStr","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","BankDetailsVerifyGuard","isUsersBankDetailsSubmitted","paramobj","getCurrentNavigation","extras"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA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;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;A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AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;AAMA,UAAIC,QAAQ;AAAG;AAAe,gBAAUxzC,MAAV,EAAkB;AAC5C,gEAAUwzC,QAAV,EAAoBxzC,MAApB;;AACA,iBAASwzC,QAAT,CAAkBvkF,EAAlB,EAAsBo8C,eAAtB,EAAuC;AACnC,cAAIA,eAAe,KAAK,KAAK,CAA7B,EAAgC;AAAEA,2BAAe,GAAG,EAAlB;AAAuB;;AACzD,cAAIzmC,KAAK,GAAGo7B,MAAM,CAAC/vC,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;AACA2U,eAAK,CAAC6uE,WAAN,GAAoB,KAApB;AACA7uE,eAAK,CAAC8uE,UAAN,GAAmB,KAAnB;AACA9uE,eAAK,CAAC6lC,iBAAN,GAA0B,EAA1B;AACA7lC,eAAK,CAAC+uE,qBAAN,GAA8B,CAA9B,CANmC,CAMF;;AACjC/uE,eAAK,CAACgvE,YAAN,GAAqB,UAAU7rD,MAAV,EAAkB;AACnC;AACA,oBAAQA,MAAM,CAAC75B,IAAf;AACI,mBAAK,gBAAL;AACA,mBAAK,kBAAL;AACI0W,qBAAK,CAACivE,YAAN,CAAmB37B,QAAnB;;AAHR;AAKH,WAPD;;AAQAtzC,eAAK,CAACm4C,UAAN,GAAmB,UAAUvC,IAAV,EAAgB;AAC/B51C,iBAAK,CAACgnB,WAAN,GAAoB4uB,IAApB;;AACA51C,iBAAK,CAACivE,YAAN,CAAmB/xC,OAAnB,CAA2B0Y,IAAI,CAAC/vB,eAAL,CAAqBpX,aAAhD;AACH,WAHD;;AAIAzO,eAAK,CAACkvE,mBAAN,GAA4B,YAAY;AACpC,gBAAIlvE,KAAK,CAAC6uE,WAAV,EAAuB;AACnB7uE,mBAAK,CAAC8uE,UAAN,GAAmB,IAAnB;AACA,kBAAIK,aAAa,GAAGnvE,KAAK,CAACgnB,WAA1B;AACA,kFAAO,2EAAc,iEAAd,EAA4B;AAAE1sB,uBAAO,EAAE60E,aAAa,CAACtpD,eAAzB;AAA0C+N,qBAAK,EAAEu7C,aAAa,CAACv7C,KAA/D;AAAsE7T,uBAAO,EAAEovD,aAAa,CAACpvD;AAA7F,eAA5B,EAAoI,UAAUtN,UAAV,EAAsBxH,MAAtB,EAA8Bu2C,YAA9B,EAA4CC,QAA5C,EAAsD;AAC7LzhD,qBAAK,CAACovE,aAAN,CAAoB38D,UAApB;;AACAzS,qBAAK,CAACqvE,SAAN,CAAgBpkE,MAAhB;;AACA,uBAAQ,2EAAc,gFAA2B02C,QAAzC,EAAmD;AAAEzjD,uBAAK,EAAE8B,KAAK,CAAC+uE;AAAf,iBAAnD,EACJ,2EAAc,oEAAd,EAA+B,uDAAS;AAAEvtB,8BAAY,EAAEA,YAAhB;AAA8BC,0BAAQ,EAAEA;AAAxC,iBAAT,EAA6D0tB,aAA7D,CAA/B,CADI,CAAR;AAEH,eALM,CAAP,EAKInvE,KAAK,CAAC3V,EALV;AAMH,aATD,MAUK,IAAI2V,KAAK,CAAC8uE,UAAV,EAAsB;AACvB9uE,mBAAK,CAAC8uE,UAAN,GAAmB,KAAnB;AACA,kGAAuB9uE,KAAK,CAAC3V,EAA7B;;AACA2V,mBAAK,CAACovE,aAAN,CAAoB,EAApB;;AACApvE,mBAAK,CAACqvE,SAAN,CAAgB,EAAhB;AACH;;AACD;AACH,WAlBD;;AAmBArvE,eAAK,CAAC3V,EAAN,GAAWA,EAAX;AACA2V,eAAK,CAACivE,YAAN,GAAqB,IAAI,kEAAJ,CAAkBjvE,KAAK,CAACkvE,mBAAxB,CAArB;AACA,cAAI,wEAAJ,CAAwB;AACpBzoC,2BAAe,EAAEA,eADG;AAEpBnmB,uBAAW,EAAEtgB,KAFO;AAGpB+2C,oBAAQ,EAAE/2C,KAAK,CAACgvE,YAHI;AAIpB53B,kBAAM,EAAEp3C,KAAK,CAACm4C;AAJM,WAAxB;AAMA,iBAAOn4C,KAAP;AACH;;AACDrW,cAAM,CAACC,cAAP,CAAsBglF,QAAQ,CAACzlF,SAA/B,EAA0C,MAA1C,EAAkD;AAC9CU,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAKm9B,WAAL,CAAiB3G,OAAxB;AAAkC,WADP,CACQ;AADR;AAG9Ct2B,oBAAU,EAAE,KAHkC;AAI9CC,sBAAY,EAAE;AAJgC,SAAlD;;AAMA4kF,gBAAQ,CAACzlF,SAAT,CAAmB26C,MAAnB,GAA4B,YAAY;AACpC,cAAIwrC,YAAY,GAAG,KAAKT,WAAxB;;AACA,cAAI,CAACS,YAAL,EAAmB;AACf,iBAAKT,WAAL,GAAmB,IAAnB;AACH,WAFD,MAGK;AACD,iBAAKE,qBAAL,IAA8B,CAA9B;AACH;;AACD,eAAKE,YAAL,CAAkB/xC,OAAlB;;AACA,cAAIoyC,YAAJ,EAAkB;AACd,iBAAKzrD,UAAL;AACH;AACJ,SAZD;;AAaA+qD,gBAAQ,CAACzlF,SAAT,CAAmB87C,OAAnB,GAA6B,YAAY;AACrC,cAAI,KAAK4pC,WAAT,EAAsB;AAClB,iBAAKA,WAAL,GAAmB,KAAnB;AACA,iBAAKI,YAAL,CAAkB/xC,OAAlB;AACH;AACJ,SALD;;AAMA0xC,gBAAQ,CAACzlF,SAAT,CAAmB06B,UAAnB,GAAgC,YAAY;AACxCuX,gBAAM,CAACjyC,SAAP,CAAiB06B,UAAjB,CAA4Bx4B,IAA5B,CAAiC,IAAjC;;AACA;AACH,SAHD;;AAIAujF,gBAAQ,CAACzlF,SAAT,CAAmBy6B,cAAnB,GAAoC,UAAUvzB,IAAV,EAAgB;AAChD,eAAK4+E,YAAL,CAAkBz7B,KAAlB,CAAwB,gBAAxB;AACAnjD,cAAI;AACJ,eAAK4+E,YAAL,CAAkBv7B,MAAlB,CAAyB,gBAAzB;AACH,SAJD;;AAKAk7B,gBAAQ,CAACzlF,SAAT,CAAmB84E,cAAnB,GAAoC,YAAY;AAC5C,eAAKgN,YAAL,CAAkBz7B,KAAlB,CAAwB,gBAAxB;AACH,SAFD;;AAGAo7B,gBAAQ,CAACzlF,SAAT,CAAmB+4E,eAAnB,GAAqC,YAAY;AAC7C,eAAK+M,YAAL,CAAkBv7B,MAAlB,CAAyB,gBAAzB,EAA2C,IAA3C;AACH,SAFD;;AAGAk7B,gBAAQ,CAACzlF,SAAT,CAAmBotD,YAAnB,GAAkC,UAAU9P,eAAV,EAA2B+P,MAA3B,EAAmC;AACjE,eAAK7yB,kBAAL,CAAwB4yB,YAAxB,CAAqC9P,eAArC,EAAsD+P,MAAtD;AACH,SAFD;;AAGAo4B,gBAAQ,CAACzlF,SAAT,CAAmBimF,aAAnB,GAAmC,UAAU38D,UAAV,EAAsB;AACrD,cAAI,CAAC,2EAAcA,UAAd,EAA0B,KAAKozB,iBAA/B,CAAL,EAAwD;AACpD,gBAAI32C,SAAS,GAAG,KAAK7E,EAAL,CAAQ6E,SAAxB;;AACA,iBAAK,IAAI6I,EAAE,GAAG,CAAT,EAAY9K,EAAE,GAAG,KAAK44C,iBAA3B,EAA8C9tC,EAAE,GAAG9K,EAAE,CAACrB,MAAtD,EAA8DmM,EAAE,EAAhE,EAAoE;AAChE,kBAAIyd,SAAS,GAAGvoB,EAAE,CAAC8K,EAAD,CAAlB;AACA7I,uBAAS,CAAC9F,MAAV,CAAiBosB,SAAjB;AACH;;AACD,iBAAK,IAAItoB,EAAE,GAAG,CAAT,EAAYqiF,YAAY,GAAG98D,UAAhC,EAA4CvlB,EAAE,GAAGqiF,YAAY,CAAC3jF,MAA9D,EAAsEsB,EAAE,EAAxE,EAA4E;AACxE,kBAAIsoB,SAAS,GAAG+5D,YAAY,CAACriF,EAAD,CAA5B;AACAgC,uBAAS,CAACC,GAAV,CAAcqmB,SAAd;AACH;;AACD,iBAAKqwB,iBAAL,GAAyBpzB,UAAzB;AACH;AACJ,SAbD;;AAcAm8D,gBAAQ,CAACzlF,SAAT,CAAmBkmF,SAAnB,GAA+B,UAAUpkE,MAAV,EAAkB;AAC7C,sFAAe,KAAK5gB,EAApB,EAAwB,QAAxB,EAAkC4gB,MAAlC;AACH,SAFD;;AAGA,eAAO2jE,QAAP;AACH,OA/G6B,CA+G5B,gEA/G4B,CAA9B,C,CAkHA;;;;;;;;;;;;;;;;oBC1HA;;AAIAY,YAAM,CAAC9L,OAAP,GAAiB,SAAS+L,KAAT,CAAe3+E,CAAf,EAAkBC,CAAlB,EAAqB;AACpC,YAAID,CAAC,KAAKC,CAAV,EAAa,OAAO,IAAP;;AAEb,YAAID,CAAC,IAAIC,CAAL,IAAU,OAAOD,CAAP,IAAY,QAAtB,IAAkC,OAAOC,CAAP,IAAY,QAAlD,EAA4D;AAC1D,cAAID,CAAC,CAACkmE,WAAF,KAAkBjmE,CAAC,CAACimE,WAAxB,EAAqC,OAAO,KAAP;AAErC,cAAIprE,MAAJ,EAAYD,CAAZ,EAAe6M,IAAf;;AACA,cAAIzI,KAAK,CAACC,OAAN,CAAcc,CAAd,CAAJ,EAAsB;AACpBlF,kBAAM,GAAGkF,CAAC,CAAClF,MAAX;AACA,gBAAIA,MAAM,IAAImF,CAAC,CAACnF,MAAhB,EAAwB,OAAO,KAAP;;AACxB,iBAAKD,CAAC,GAAGC,MAAT,EAAiBD,CAAC,OAAO,CAAzB;AACE,kBAAI,CAAC8jF,KAAK,CAAC3+E,CAAC,CAACnF,CAAD,CAAF,EAAOoF,CAAC,CAACpF,CAAD,CAAR,CAAV,EAAwB,OAAO,KAAP;AAD1B;;AAEA,mBAAO,IAAP;AACD;;AAID,cAAImF,CAAC,CAACkmE,WAAF,KAAkB0Y,MAAtB,EAA8B,OAAO5+E,CAAC,CAACq6C,MAAF,KAAap6C,CAAC,CAACo6C,MAAf,IAAyBr6C,CAAC,CAAC6+E,KAAF,KAAY5+E,CAAC,CAAC4+E,KAA9C;AAC9B,cAAI7+E,CAAC,CAAC6B,OAAF,KAAchJ,MAAM,CAACR,SAAP,CAAiBwJ,OAAnC,EAA4C,OAAO7B,CAAC,CAAC6B,OAAF,OAAgB5B,CAAC,CAAC4B,OAAF,EAAvB;AAC5C,cAAI7B,CAAC,CAAC8+E,QAAF,KAAejmF,MAAM,CAACR,SAAP,CAAiBymF,QAApC,EAA8C,OAAO9+E,CAAC,CAAC8+E,QAAF,OAAiB7+E,CAAC,CAAC6+E,QAAF,EAAxB;AAE9Cp3E,cAAI,GAAG7O,MAAM,CAAC6O,IAAP,CAAY1H,CAAZ,CAAP;AACAlF,gBAAM,GAAG4M,IAAI,CAAC5M,MAAd;AACA,cAAIA,MAAM,KAAKjC,MAAM,CAAC6O,IAAP,CAAYzH,CAAZ,EAAenF,MAA9B,EAAsC,OAAO,KAAP;;AAEtC,eAAKD,CAAC,GAAGC,MAAT,EAAiBD,CAAC,OAAO,CAAzB;AACE,gBAAI,CAAChC,MAAM,CAACR,SAAP,CAAiB2N,cAAjB,CAAgCzL,IAAhC,CAAqC0F,CAArC,EAAwCyH,IAAI,CAAC7M,CAAD,CAA5C,CAAL,EAAuD,OAAO,KAAP;AADzD;;AAGA,eAAKA,CAAC,GAAGC,MAAT,EAAiBD,CAAC,OAAO,CAAzB,GAA6B;AAC3B,gBAAIgM,GAAG,GAAGa,IAAI,CAAC7M,CAAD,CAAd;AAEA,gBAAI,CAAC8jF,KAAK,CAAC3+E,CAAC,CAAC6G,GAAD,CAAF,EAAS5G,CAAC,CAAC4G,GAAD,CAAV,CAAV,EAA4B,OAAO,KAAP;AAC7B;;AAED,iBAAO,IAAP;AACD,SAnCmC,CAqCpC;;;AACA,eAAO7G,CAAC,KAAGA,CAAJ,IAASC,CAAC,KAAGA,CAApB;AACD,OAvCD;;;;;;;;;;;;;;;;;ACNA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;AAIA,kEAAO8+E,oBAAP,GAA8B,GAA9B;AACA,UAAIC,gBAAgB,GAAG,CAAvB;AACA,UAAIC,WAAW,GAAG,CAAlB;AACA,UAAIC,0BAA0B,GAAG,KAAjC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AACA,UAAIC,eAAe;AAAG;AAAe,kBAAY;AAC7C,iBAASA,eAAT,CAAyBC,WAAzB,EAAsC;AAClC,cAAIlwE,KAAK,GAAG,IAAZ;;AACA,eAAKmwE,SAAL,GAAiB,IAAjB,CAFkC,CAGlC;;AACA,eAAK1lF,QAAL,GAAgB,EAAhB,CAJkC,CAId;;AACpB,eAAK2lF,cAAL,GAAsB,EAAtB;AACA,eAAKC,gBAAL,GAAwB,KAAxB;AACA,eAAKC,iBAAL,GAAyB,IAAzB,CAPkC,CAOH;AAC/B;;AACA,eAAKlyD,UAAL,GAAkB,KAAlB;AACA,eAAKmyD,eAAL,GAAuB,KAAvB;AACA,eAAKC,cAAL,GAAsB,KAAtB,CAXkC,CAYlC;AACA;;AACA,eAAKC,eAAL,GAAuB,UAAUzjF,EAAV,EAAc;AACjC,gBAAI,CAACgT,KAAK,CAAC0wE,iBAAN,EAAD,IACAC,oBAAoB,CAAC3jF,EAAD,CADpB,IAEAgT,KAAK,CAAC4wE,QAAN,CAAe5jF,EAAf,CAFJ,EAEwB;AACpB,kBAAI8yB,GAAG,GAAG9f,KAAK,CAAC6wE,oBAAN,CAA2B7jF,EAA3B,EAA+B,IAA/B,CAAV;;AACAgT,mBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqCF,GAArC;;AACA9f,mBAAK,CAAC8wE,eAAN,CAAsBhxD,GAAtB;;AACA,kBAAI,CAAC9f,KAAK,CAACqwE,gBAAX,EAA6B;AACzB1lF,wBAAQ,CAACmD,gBAAT,CAA0B,WAA1B,EAAuCkS,KAAK,CAAC+wE,eAA7C;AACH;;AACDpmF,sBAAQ,CAACmD,gBAAT,CAA0B,SAA1B,EAAqCkS,KAAK,CAACgxE,aAA3C;AACH;AACJ,WAZD;;AAaA,eAAKD,eAAL,GAAuB,UAAU/jF,EAAV,EAAc;AACjC,gBAAI8yB,GAAG,GAAG9f,KAAK,CAAC6wE,oBAAN,CAA2B7jF,EAA3B,CAAV;;AACAgT,iBAAK,CAACixE,YAAN,CAAmBnxD,GAAnB;;AACA9f,iBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqCF,GAArC;AACH,WAJD;;AAKA,eAAKkxD,aAAL,GAAqB,UAAUhkF,EAAV,EAAc;AAC/BrC,oBAAQ,CAACoD,mBAAT,CAA6B,WAA7B,EAA0CiS,KAAK,CAAC+wE,eAAhD;AACApmF,oBAAQ,CAACoD,mBAAT,CAA6B,SAA7B,EAAwCiS,KAAK,CAACgxE,aAA9C;;AACAhxE,iBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmChgB,KAAK,CAAC6wE,oBAAN,CAA2B7jF,EAA3B,CAAnC;;AACAgT,iBAAK,CAACkxE,OAAN,GAJ+B,CAId;;AACpB,WALD,CAhCkC,CAsClC;AACA;;;AACA,eAAKC,gBAAL,GAAwB,UAAUnkF,EAAV,EAAc;AAClC,gBAAIgT,KAAK,CAAC4wE,QAAN,CAAe5jF,EAAf,CAAJ,EAAwB;AACpBgT,mBAAK,CAACuwE,eAAN,GAAwB,IAAxB;;AACA,kBAAIzwD,GAAG,GAAG9f,KAAK,CAACoxE,oBAAN,CAA2BpkF,EAA3B,EAA+B,IAA/B,CAAV;;AACAgT,mBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqCF,GAArC;;AACA9f,mBAAK,CAAC8wE,eAAN,CAAsBhxD,GAAtB,EAJoB,CAKpB;AACA;;;AACA,kBAAIuxD,QAAQ,GAAGrkF,EAAE,CAACI,MAAlB;;AACA,kBAAI,CAAC4S,KAAK,CAACqwE,gBAAX,EAA6B;AACzBgB,wBAAQ,CAACvjF,gBAAT,CAA0B,WAA1B,EAAuCkS,KAAK,CAACsxE,eAA7C;AACH;;AACDD,sBAAQ,CAACvjF,gBAAT,CAA0B,UAA1B,EAAsCkS,KAAK,CAACuxE,cAA5C;AACAF,sBAAQ,CAACvjF,gBAAT,CAA0B,aAA1B,EAAyCkS,KAAK,CAACuxE,cAA/C,EAZoB,CAY4C;AAChE;AACA;AACA;;AACAj8C,oBAAM,CAACxnC,gBAAP,CAAwB,QAAxB,EAAkCkS,KAAK,CAACwxE,iBAAxC,EAA2D,IAA3D;AACH;AACJ,WAnBD;;AAoBA,eAAKF,eAAL,GAAuB,UAAUtkF,EAAV,EAAc;AACjC,gBAAI8yB,GAAG,GAAG9f,KAAK,CAACoxE,oBAAN,CAA2BpkF,EAA3B,CAAV;;AACAgT,iBAAK,CAACixE,YAAN,CAAmBnxD,GAAnB;;AACA9f,iBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqCF,GAArC;AACH,WAJD;;AAKA,eAAKyxD,cAAL,GAAsB,UAAUvkF,EAAV,EAAc;AAChC,gBAAIgT,KAAK,CAACoe,UAAV,EAAsB;AAAE;AACpB,kBAAIizD,QAAQ,GAAGrkF,EAAE,CAACI,MAAlB;AACAikF,sBAAQ,CAACtjF,mBAAT,CAA6B,WAA7B,EAA0CiS,KAAK,CAACsxE,eAAhD;AACAD,sBAAQ,CAACtjF,mBAAT,CAA6B,UAA7B,EAAyCiS,KAAK,CAACuxE,cAA/C;AACAF,sBAAQ,CAACtjF,mBAAT,CAA6B,aAA7B,EAA4CiS,KAAK,CAACuxE,cAAlD;AACAj8C,oBAAM,CAACvnC,mBAAP,CAA2B,QAA3B,EAAqCiS,KAAK,CAACwxE,iBAA3C,EAA8D,IAA9D,EALkB,CAKmD;;AACrExxE,mBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmChgB,KAAK,CAACoxE,oBAAN,CAA2BpkF,EAA3B,CAAnC;;AACAgT,mBAAK,CAACkxE,OAAN,GAPkB,CAOD;;;AACjBlxE,mBAAK,CAACuwE,eAAN,GAAwB,KAAxB;AACAkB,gCAAkB;AACrB;AACJ,WAZD;;AAaA,eAAKD,iBAAL,GAAyB,YAAY;AACjCxxE,iBAAK,CAACwwE,cAAN,GAAuB,IAAvB;AACH,WAFD;;AAGA,eAAKkB,YAAL,GAAoB,UAAU1kF,EAAV,EAAc;AAC9B,gBAAI,CAACgT,KAAK,CAACqwE,gBAAX,EAA6B;AACzB,kBAAIsB,KAAK,GAAIr8C,MAAM,CAACyB,WAAP,GAAqB/2B,KAAK,CAAC4xE,WAA5B,GAA2C5xE,KAAK,CAAC6xE,SAA7D;AACA,kBAAIC,KAAK,GAAIx8C,MAAM,CAAC0B,WAAP,GAAqBh3B,KAAK,CAAC+xE,WAA5B,GAA2C/xE,KAAK,CAACgyE,SAA7D;;AACAhyE,mBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqC;AACjCG,yBAAS,EAAEnzB,EADsB;AAEjCilF,uBAAO,EAAEjyE,KAAK,CAACuwE,eAFkB;AAGjCJ,yBAAS,EAAEnwE,KAAK,CAACmwE,SAHgB;AAIjCwB,qBAAK,EAAEA,KAJ0B;AAKjCG,qBAAK,EAAEA,KAL0B;AAMjCziD,sBAAM,EAAEsiD,KAAK,GAAG3xE,KAAK,CAACkyE,SANW;AAOjC5iD,sBAAM,EAAEwiD,KAAK,GAAG9xE,KAAK,CAACmyE;AAPW,eAArC;AASH;AACJ,WAdD;;AAeA,eAAKjC,WAAL,GAAmBA,WAAnB;AACA,eAAKnwD,OAAL,GAAe,IAAI,4DAAJ,EAAf;AACAmwD,qBAAW,CAACpiF,gBAAZ,CAA6B,WAA7B,EAA0C,KAAK2iF,eAA/C;AACAP,qBAAW,CAACpiF,gBAAZ,CAA6B,YAA7B,EAA2C,KAAKqjF,gBAAhD,EAAkE;AAAEiB,mBAAO,EAAE;AAAX,WAAlE;AACAC,yBAAe;AAClB;;AACDpC,uBAAe,CAAC9mF,SAAhB,CAA0B87C,OAA1B,GAAoC,YAAY;AAC5C,eAAKirC,WAAL,CAAiBniF,mBAAjB,CAAqC,WAArC,EAAkD,KAAK0iF,eAAvD;AACA,eAAKP,WAAL,CAAiBniF,mBAAjB,CAAqC,YAArC,EAAmD,KAAKojF,gBAAxD,EAA0E;AAAEiB,mBAAO,EAAE;AAAX,WAA1E;AACAE,2BAAiB;AACpB,SAJD;;AAKArC,uBAAe,CAAC9mF,SAAhB,CAA0BynF,QAA1B,GAAqC,UAAU5jF,EAAV,EAAc;AAC/C,cAAImjF,SAAS,GAAG,KAAKoC,cAAL,CAAoBvlF,EAApB,CAAhB;AACA,cAAIwlF,MAAM,GAAGxlF,EAAE,CAACI,MAAhB;;AACA,cAAI+iF,SAAS,KACR,CAAC,KAAKC,cAAN,IAAwB,4EAAeoC,MAAf,EAAuB,KAAKpC,cAA5B,CADhB,CAAb,EAC2E;AACvE,iBAAKD,SAAL,GAAiBA,SAAjB;AACA,iBAAK/xD,UAAL,GAAkB,IAAlB,CAFuE,CAE/C;;AACxB,iBAAKoyD,cAAL,GAAsB,KAAtB;AACA,mBAAO,IAAP;AACH;;AACD,iBAAO,KAAP;AACH,SAXD;;AAYAP,uBAAe,CAAC9mF,SAAhB,CAA0B+nF,OAA1B,GAAoC,YAAY;AAC5ClB,oCAA0B,GAAG,KAA7B;AACA,eAAK5xD,UAAL,GAAkB,KAAlB;AACA,eAAK+xD,SAAL,GAAiB,IAAjB,CAH4C,CAI5C;;AACA,eAAKsC,kBAAL;AACH,SAND;;AAOAxC,uBAAe,CAAC9mF,SAAhB,CAA0BopF,cAA1B,GAA2C,UAAUvlF,EAAV,EAAc;AACrD,cAAI,KAAKvC,QAAT,EAAmB;AACf,mBAAO,4EAAeuC,EAAE,CAACI,MAAlB,EAA0B,KAAK3C,QAA/B,CAAP;AACH;;AACD,iBAAO,KAAKylF,WAAZ;AACH,SALD;;AAMAD,uBAAe,CAAC9mF,SAAhB,CAA0BunF,iBAA1B,GAA8C,YAAY;AACtD,iBAAOZ,gBAAgB,IAAI,KAAKS,eAAhC;AACH,SAFD,CArI6C,CAwI7C;;;AACAN,uBAAe,CAAC9mF,SAAhB,CAA0BupF,iBAA1B,GAA8C,YAAY;AACtD,cAAI,KAAKt0D,UAAT,EAAqB;AACjB4xD,sCAA0B,GAAG,IAA7B;AACH;AACJ,SAJD,CAzI6C,CA8I7C;AACA;;;AACAC,uBAAe,CAAC9mF,SAAhB,CAA0B2nF,eAA1B,GAA4C,UAAU9jF,EAAV,EAAc;AACtD,cAAI,KAAKsjF,iBAAT,EAA4B;AACxB,iBAAKW,YAAL,CAAkBjkF,EAAlB;AACAsoC,kBAAM,CAACxnC,gBAAP,CAAwB,QAAxB,EAAkC,KAAK4jF,YAAvC,EAAqD,IAArD,EAFwB,CAEoC;AAC/D;AACJ,SALD;;AAMAzB,uBAAe,CAAC9mF,SAAhB,CAA0B8nF,YAA1B,GAAyC,UAAUjkF,EAAV,EAAc;AACnD,cAAI,KAAKsjF,iBAAT,EAA4B;AACxB,iBAAKuB,SAAL,GAAiB7kF,EAAE,CAAC2kF,KAApB;AACA,iBAAKK,SAAL,GAAiBhlF,EAAE,CAAC8kF,KAApB;AACA,iBAAKF,WAAL,GAAmBt8C,MAAM,CAACyB,WAA1B;AACA,iBAAKg7C,WAAL,GAAmBz8C,MAAM,CAAC0B,WAA1B;AACH;AACJ,SAPD;;AAQAi5C,uBAAe,CAAC9mF,SAAhB,CAA0BspF,kBAA1B,GAA+C,YAAY;AACvD,cAAI,KAAKnC,iBAAT,EAA4B;AACxBh7C,kBAAM,CAACvnC,mBAAP,CAA2B,QAA3B,EAAqC,KAAK2jF,YAA1C,EAAwD,IAAxD,EADwB,CACuC;AAClE;AACJ,SAJD,CA9J6C,CAmK7C;AACA;;;AACAzB,uBAAe,CAAC9mF,SAAhB,CAA0B0nF,oBAA1B,GAAiD,UAAU7jF,EAAV,EAAc2lF,OAAd,EAAuB;AACpE,cAAItjD,MAAM,GAAG,CAAb;AACA,cAAIC,MAAM,GAAG,CAAb,CAFoE,CAGpE;;AACA,cAAIqjD,OAAJ,EAAa;AACT,iBAAKT,SAAL,GAAiBllF,EAAE,CAAC2kF,KAApB;AACA,iBAAKQ,SAAL,GAAiBnlF,EAAE,CAAC8kF,KAApB;AACH,WAHD,MAIK;AACDziD,kBAAM,GAAGriC,EAAE,CAAC2kF,KAAH,GAAW,KAAKO,SAAzB;AACA5iD,kBAAM,GAAGtiC,EAAE,CAAC8kF,KAAH,GAAW,KAAKK,SAAzB;AACH;;AACD,iBAAO;AACHhyD,qBAAS,EAAEnzB,EADR;AAEHilF,mBAAO,EAAE,KAFN;AAGH9B,qBAAS,EAAE,KAAKA,SAHb;AAIHwB,iBAAK,EAAE3kF,EAAE,CAAC2kF,KAJP;AAKHG,iBAAK,EAAE9kF,EAAE,CAAC8kF,KALP;AAMHziD,kBAAM,EAAEA,MANL;AAOHC,kBAAM,EAAEA;AAPL,WAAP;AASH,SArBD;;AAsBA2gD,uBAAe,CAAC9mF,SAAhB,CAA0BioF,oBAA1B,GAAiD,UAAUpkF,EAAV,EAAc2lF,OAAd,EAAuB;AACpE,cAAIC,OAAO,GAAG5lF,EAAE,CAAC4lF,OAAjB;AACA,cAAIjB,KAAJ;AACA,cAAIG,KAAJ;AACA,cAAIziD,MAAM,GAAG,CAAb;AACA,cAAIC,MAAM,GAAG,CAAb,CALoE,CAMpE;AACA;;AACA,cAAIsjD,OAAO,IAAIA,OAAO,CAAChnF,MAAvB,EAA+B;AAC3B+lF,iBAAK,GAAGiB,OAAO,CAAC,CAAD,CAAP,CAAWjB,KAAnB;AACAG,iBAAK,GAAGc,OAAO,CAAC,CAAD,CAAP,CAAWd,KAAnB;AACH,WAHD,MAIK;AACDH,iBAAK,GAAG3kF,EAAE,CAAC2kF,KAAX;AACAG,iBAAK,GAAG9kF,EAAE,CAAC8kF,KAAX;AACH,WAfmE,CAgBpE;;;AACA,cAAIa,OAAJ,EAAa;AACT,iBAAKT,SAAL,GAAiBP,KAAjB;AACA,iBAAKQ,SAAL,GAAiBL,KAAjB;AACH,WAHD,MAIK;AACDziD,kBAAM,GAAGsiD,KAAK,GAAG,KAAKO,SAAtB;AACA5iD,kBAAM,GAAGwiD,KAAK,GAAG,KAAKK,SAAtB;AACH;;AACD,iBAAO;AACHhyD,qBAAS,EAAEnzB,EADR;AAEHilF,mBAAO,EAAE,IAFN;AAGH9B,qBAAS,EAAE,KAAKA,SAHb;AAIHwB,iBAAK,EAAEA,KAJJ;AAKHG,iBAAK,EAAEA,KALJ;AAMHziD,kBAAM,EAAEA,MANL;AAOHC,kBAAM,EAAEA;AAPL,WAAP;AASH,SAlCD;;AAmCA,eAAO2gD,eAAP;AACH,OA/NoC,EAArC,C,CAgOA;;;AACA,eAASU,oBAAT,CAA8B3jF,EAA9B,EAAkC;AAC9B,eAAOA,EAAE,CAACw1C,MAAH,KAAc,CAAd,IAAmB,CAACx1C,EAAE,CAAC6lF,OAA9B;AACH,O,CACD;AACA;;;AACA,eAASpB,kBAAT,GAA8B;AAC1B3B,wBAAgB,IAAI,CAApB;AACAv8B,kBAAU,CAAC,YAAY;AACnBu8B,0BAAgB,IAAI,CAApB;AACH,SAFS,EAEP,4DAAOD,oBAFA,CAAV;AAGH,O,CACD;AACA;;;AACA,eAASwC,eAAT,GAA2B;AACvBtC,mBAAW,IAAI,CAAf;;AACA,YAAIA,WAAW,KAAK,CAApB,EAAuB;AACnBz6C,gBAAM,CAACxnC,gBAAP,CAAwB,WAAxB,EAAqCglF,iBAArC,EAAwD;AAAEV,mBAAO,EAAE;AAAX,WAAxD;AACH;AACJ;;AACD,eAASE,iBAAT,GAA6B;AACzBvC,mBAAW,IAAI,CAAf;;AACA,YAAI,CAACA,WAAL,EAAkB;AACdz6C,gBAAM,CAACvnC,mBAAP,CAA2B,WAA3B,EAAwC+kF,iBAAxC,EAA2D;AAAEV,mBAAO,EAAE;AAAX,WAA3D;AACH;AACJ;;AACD,eAASU,iBAAT,CAA2B9lF,EAA3B,EAA+B;AAC3B,YAAIgjF,0BAAJ,EAAgC;AAC5BhjF,YAAE,CAACO,cAAH;AACH;AACJ;AAED;AACA;AACA;AACA;AACA;;;AACA,UAAIwlF,aAAa;AAAG;AAAe,kBAAY;AAC3C,iBAASA,aAAT,GAAyB;AACrB,eAAKrN,SAAL,GAAiB,KAAjB,CADqB,CACG;;AACxB,eAAKsN,QAAL,GAAgB,IAAhB;AACA,eAAKC,QAAL,GAAgB,IAAhB;AACA,eAAKC,YAAL,GAAoB,IAApB,CAJqB,CAIK;AAC1B;;AACA,eAAK5oF,UAAL,GAAkBK,QAAQ,CAACsE,IAA3B,CANqB,CAMY;;AACjC,eAAKkkF,MAAL,GAAc,IAAd;AACA,eAAKC,cAAL,GAAsB,CAAtB;AACH;;AACDL,qBAAa,CAAC5pF,SAAd,CAAwB8R,KAAxB,GAAgC,UAAU+3E,QAAV,EAAoBrB,KAApB,EAA2BG,KAA3B,EAAkC;AAC9D,eAAKkB,QAAL,GAAgBA,QAAhB;AACA,eAAKE,YAAL,GAAoB,KAAKF,QAAL,CAAclhF,qBAAd,EAApB;AACA,eAAKuhF,WAAL,GAAmB1B,KAAK,GAAGr8C,MAAM,CAACyB,WAAlC;AACA,eAAKu8C,WAAL,GAAmBxB,KAAK,GAAGx8C,MAAM,CAAC0B,WAAlC;AACA,eAAK3H,MAAL,GAAc,CAAd;AACA,eAAKC,MAAL,GAAc,CAAd;AACA,eAAKikD,gBAAL;AACH,SARD;;AASAR,qBAAa,CAAC5pF,SAAd,CAAwBqqF,UAAxB,GAAqC,UAAU7B,KAAV,EAAiBG,KAAjB,EAAwB;AACzD,eAAKziD,MAAL,GAAesiD,KAAK,GAAGr8C,MAAM,CAACyB,WAAhB,GAA+B,KAAKs8C,WAAlD;AACA,eAAK/jD,MAAL,GAAewiD,KAAK,GAAGx8C,MAAM,CAAC0B,WAAhB,GAA+B,KAAKs8C,WAAlD;AACA,eAAKC,gBAAL;AACH,SAJD,CApB2C,CAyB3C;;;AACAR,qBAAa,CAAC5pF,SAAd,CAAwBsqF,YAAxB,GAAuC,UAAUv2B,IAAV,EAAgB;AACnD,cAAIA,IAAJ,EAAU;AACN,gBAAI,CAAC,KAAKwoB,SAAV,EAAqB;AACjB,kBAAI,KAAKuN,QAAT,EAAmB;AACf,qBAAKA,QAAL,CAAcpmF,KAAd,CAAoB8X,OAApB,GAA8B,EAA9B;AACH;;AACD,mBAAK+gE,SAAL,GAAiBxoB,IAAjB,CAJiB,CAIM;;AACvB,mBAAKq2B,gBAAL,GALiB,CAKQ;AAC5B;AACJ,WARD,MASK,IAAI,KAAK7N,SAAT,EAAoB;AACrB,gBAAI,KAAKuN,QAAT,EAAmB;AACf,mBAAKA,QAAL,CAAcpmF,KAAd,CAAoB8X,OAApB,GAA8B,MAA9B;AACH;;AACD,iBAAK+gE,SAAL,GAAiBxoB,IAAjB;AACH;AACJ,SAhBD,CA1B2C,CA2C3C;;;AACA61B,qBAAa,CAAC5pF,SAAd,CAAwBuqF,IAAxB,GAA+B,UAAUC,oBAAV,EAAgCllF,QAAhC,EAA0C;AACrE,cAAIuR,KAAK,GAAG,IAAZ;;AACA,cAAI4zE,IAAI,GAAG,SAAPA,IAAO,GAAY;AACnB5zE,iBAAK,CAACkxE,OAAN;;AACAziF,oBAAQ;AACX,WAHD;;AAIA,cAAIklF,oBAAoB,IACpB,KAAKV,QADL,IAEA,KAAKvN,SAFL,IAGA,KAAK0N,cAHL,MAGuB;AACtB,eAAK/jD,MAAL,IAAe,KAAKC,MAJrB,CAAJ,CAIiC;AAJjC,YAKE;AACE,iBAAKukD,iBAAL,CAAuBD,IAAvB,EAA6B,KAAKR,cAAlC;AACH,WAPD,MAQK;AACD7/B,sBAAU,CAACqgC,IAAD,EAAO,CAAP,CAAV;AACH;AACJ,SAjBD;;AAkBAb,qBAAa,CAAC5pF,SAAd,CAAwB0qF,iBAAxB,GAA4C,UAAUplF,QAAV,EAAoB2kF,cAApB,EAAoC;AAC5E,cAAIH,QAAQ,GAAG,KAAKA,QAApB;AACA,cAAIa,iBAAiB,GAAG,KAAKd,QAAL,CAAclhF,qBAAd,EAAxB,CAF4E,CAEb;;AAC/DmhF,kBAAQ,CAACpmF,KAAT,CAAeknF,UAAf,GACI,SAASX,cAAT,GAA0B,KAA1B,GACI,OADJ,GACcA,cADd,GAC+B,IAFnC;AAGA,kFAAWH,QAAX,EAAqB;AACjBpkD,gBAAI,EAAEilD,iBAAiB,CAACjlD,IADP;AAEjBE,eAAG,EAAE+kD,iBAAiB,CAAC/kD;AAFN,WAArB;AAIA,0FAAmBkkD,QAAnB,EAA6B,YAAY;AACrCA,oBAAQ,CAACpmF,KAAT,CAAeknF,UAAf,GAA4B,EAA5B;AACAtlF,oBAAQ;AACX,WAHD;AAIH,SAdD;;AAeAskF,qBAAa,CAAC5pF,SAAd,CAAwB+nF,OAAxB,GAAkC,YAAY;AAC1C,cAAI,KAAK+B,QAAT,EAAmB;AACf,uFAAc,KAAKA,QAAnB;AACA,iBAAKA,QAAL,GAAgB,IAAhB;AACH;;AACD,eAAKD,QAAL,GAAgB,IAAhB;AACH,SAND;;AAOAD,qBAAa,CAAC5pF,SAAd,CAAwBoqF,gBAAxB,GAA2C,YAAY;AACnD,cAAI,KAAKP,QAAL,IAAiB,KAAKtN,SAA1B,EAAqC;AACjC,oFAAW,KAAKsO,WAAL,EAAX,EAA+B;AAC3BnlD,kBAAI,EAAE,KAAKqkD,YAAL,CAAkBrkD,IAAlB,GAAyB,KAAKQ,MADT;AAE3BN,iBAAG,EAAE,KAAKmkD,YAAL,CAAkBnkD,GAAlB,GAAwB,KAAKO;AAFP,aAA/B;AAIH;AACJ,SAPD;;AAQAyjD,qBAAa,CAAC5pF,SAAd,CAAwB6qF,WAAxB,GAAsC,YAAY;AAC9C,cAAId,YAAY,GAAG,KAAKA,YAAxB;AACA,cAAID,QAAQ,GAAG,KAAKA,QAApB;;AACA,cAAI,CAACA,QAAL,EAAe;AACXA,oBAAQ,GAAG,KAAKA,QAAL,GAAgB,KAAKD,QAAL,CAAciB,SAAd,CAAwB,IAAxB,CAA3B,CADW,CAC+C;AAC1D;AACA;;AACAhB,oBAAQ,CAAC/jF,SAAT,CAAmBC,GAAnB,CAAuB,iBAAvB;AACA8jF,oBAAQ,CAAC/jF,SAAT,CAAmBC,GAAnB,CAAuB,mBAAvB;AACA,oFAAW8jF,QAAX,EAAqB;AACjBjjD,sBAAQ,EAAE,OADO;AAEjBmjD,oBAAM,EAAE,KAAKA,MAFI;AAGjB5N,wBAAU,EAAE,EAHK;AAIjB2O,uBAAS,EAAE,YAJM;AAKjBniF,mBAAK,EAAEmhF,YAAY,CAACpkD,KAAb,GAAqBokD,YAAY,CAACrkD,IALxB;AAMjB5jB,oBAAM,EAAEioE,YAAY,CAAClkD,MAAb,GAAsBkkD,YAAY,CAACnkD,GAN1B;AAOjBD,mBAAK,EAAE,MAPU;AAQjBE,oBAAM,EAAE,MARS;AASjBmlD,oBAAM,EAAE;AATS,aAArB;AAWA,iBAAK7pF,UAAL,CAAgB4lC,WAAhB,CAA4B+iD,QAA5B;AACH;;AACD,iBAAOA,QAAP;AACH,SAvBD;;AAwBA,eAAOF,aAAP;AACH,OArHkC,EAAnC;AAuHA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AACA,UAAIqB,eAAe;AAAG;AAAe,gBAAUh5C,MAAV,EAAkB;AACnD,gEAAUg5C,eAAV,EAA2Bh5C,MAA3B;;AACA,iBAASg5C,eAAT,CAAyBC,gBAAzB,EAA2CC,aAA3C,EAA0D;AACtD,cAAIt0E,KAAK,GAAGo7B,MAAM,CAAC/vC,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;AACA2U,eAAK,CAAC0xE,YAAN,GAAqB,YAAY;AAC7B1xE,iBAAK,CAACq7B,SAAN,GAAkBr7B,KAAK,CAACq0E,gBAAN,CAAuBv5C,YAAvB,EAAlB;AACA96B,iBAAK,CAACs7B,UAAN,GAAmBt7B,KAAK,CAACq0E,gBAAN,CAAuBp5C,aAAvB,EAAnB;;AACAj7B,iBAAK,CAACu0E,kBAAN;AACH,WAJD;;AAKAv0E,eAAK,CAACq0E,gBAAN,GAAyBA,gBAAzB;AACAr0E,eAAK,CAACs0E,aAAN,GAAsBA,aAAtB;AACAt0E,eAAK,CAACq7B,SAAN,GAAkBr7B,KAAK,CAACw0E,aAAN,GAAsBH,gBAAgB,CAACv5C,YAAjB,EAAxC;AACA96B,eAAK,CAACs7B,UAAN,GAAmBt7B,KAAK,CAACy0E,cAAN,GAAuBJ,gBAAgB,CAACp5C,aAAjB,EAA1C;AACAj7B,eAAK,CAACy7B,WAAN,GAAoB44C,gBAAgB,CAAC55C,cAAjB,EAApB;AACAz6B,eAAK,CAAC07B,YAAN,GAAqB24C,gBAAgB,CAAC/5C,eAAjB,EAArB;AACAt6B,eAAK,CAACk1B,WAAN,GAAoBm/C,gBAAgB,CAAC35C,cAAjB,EAApB;AACA16B,eAAK,CAACg1B,YAAN,GAAqBq/C,gBAAgB,CAAC95C,eAAjB,EAArB;AACAv6B,eAAK,CAAC00E,UAAN,GAAmB10E,KAAK,CAAC20E,iBAAN,EAAnB,CAfsD,CAeR;;AAC9C,cAAI30E,KAAK,CAACs0E,aAAV,EAAyB;AACrBt0E,iBAAK,CAAC40E,cAAN,GAAuB9mF,gBAAvB,CAAwC,QAAxC,EAAkDkS,KAAK,CAAC0xE,YAAxD;AACH;;AACD,iBAAO1xE,KAAP;AACH;;AACDo0E,uBAAe,CAACjrF,SAAhB,CAA0B87C,OAA1B,GAAoC,YAAY;AAC5C,cAAI,KAAKqvC,aAAT,EAAwB;AACpB,iBAAKM,cAAL,GAAsB7mF,mBAAtB,CAA0C,QAA1C,EAAoD,KAAK2jF,YAAzD;AACH;AACJ,SAJD;;AAKA0C,uBAAe,CAACjrF,SAAhB,CAA0B2xC,YAA1B,GAAyC,YAAY;AACjD,iBAAO,KAAKO,SAAZ;AACH,SAFD;;AAGA+4C,uBAAe,CAACjrF,SAAhB,CAA0B8xC,aAA1B,GAA0C,YAAY;AAClD,iBAAO,KAAKK,UAAZ;AACH,SAFD;;AAGA84C,uBAAe,CAACjrF,SAAhB,CAA0BoyC,YAA1B,GAAyC,UAAUxM,GAAV,EAAe;AACpD,eAAKslD,gBAAL,CAAsB94C,YAAtB,CAAmCxM,GAAnC;;AACA,cAAI,CAAC,KAAKulD,aAAV,EAAyB;AACrB;AACA;AACA,iBAAKj5C,SAAL,GAAiB/nC,IAAI,CAAC2O,GAAL,CAAS3O,IAAI,CAACwB,GAAL,CAASi6B,GAAT,EAAc,KAAKsL,eAAL,EAAd,CAAT,EAAgD,CAAhD,CAAjB;AACA,iBAAKk6C,kBAAL;AACH;AACJ,SARD;;AASAH,uBAAe,CAACjrF,SAAhB,CAA0BqyC,aAA1B,GAA0C,UAAUzM,GAAV,EAAe;AACrD,eAAKslD,gBAAL,CAAsB74C,aAAtB,CAAoCzM,GAApC;;AACA,cAAI,CAAC,KAAKulD,aAAV,EAAyB;AACrB;AACA;AACA,iBAAKh5C,UAAL,GAAkBhoC,IAAI,CAAC2O,GAAL,CAAS3O,IAAI,CAACwB,GAAL,CAASi6B,GAAT,EAAc,KAAKyL,gBAAL,EAAd,CAAT,EAAiD,CAAjD,CAAlB;AACA,iBAAK+5C,kBAAL;AACH;AACJ,SARD;;AASAH,uBAAe,CAACjrF,SAAhB,CAA0BuxC,cAA1B,GAA2C,YAAY;AACnD,iBAAO,KAAKxF,WAAZ;AACH,SAFD;;AAGAk/C,uBAAe,CAACjrF,SAAhB,CAA0BoxC,eAA1B,GAA4C,YAAY;AACpD,iBAAO,KAAKvF,YAAZ;AACH,SAFD;;AAGAo/C,uBAAe,CAACjrF,SAAhB,CAA0BsxC,cAA1B,GAA2C,YAAY;AACnD,iBAAO,KAAKgB,WAAZ;AACH,SAFD;;AAGA24C,uBAAe,CAACjrF,SAAhB,CAA0BmxC,eAA1B,GAA4C,YAAY;AACpD,iBAAO,KAAKoB,YAAZ;AACH,SAFD;;AAGA04C,uBAAe,CAACjrF,SAAhB,CAA0BorF,kBAA1B,GAA+C,YAAY,CAC1D,CADD;;AAEA,eAAOH,eAAP;AACH,OAnEoC,CAmEnC,qEAnEmC,CAArC;;AAqEA,UAAIS,sBAAsB;AAAG;AAAe,gBAAUz5C,MAAV,EAAkB;AAC1D,gEAAUy5C,sBAAV,EAAkCz5C,MAAlC;;AACA,iBAASy5C,sBAAT,CAAgCxqF,EAAhC,EAAoCiqF,aAApC,EAAmD;AAC/C,iBAAOl5C,MAAM,CAAC/vC,IAAP,CAAY,IAAZ,EAAkB,IAAI,4EAAJ,CAA4BhB,EAA5B,CAAlB,EAAmDiqF,aAAnD,KAAqE,IAA5E;AACH;;AACDO,8BAAsB,CAAC1rF,SAAvB,CAAiCyrF,cAAjC,GAAkD,YAAY;AAC1D,iBAAO,KAAKP,gBAAL,CAAsBhqF,EAA7B;AACH,SAFD;;AAGAwqF,8BAAsB,CAAC1rF,SAAvB,CAAiCwrF,iBAAjC,GAAqD,YAAY;AAC7D,iBAAO,8EAAiB,KAAKN,gBAAL,CAAsBhqF,EAAvC,CAAP;AACH,SAFD;;AAGA,eAAOwqF,sBAAP;AACH,OAZ2C,CAY1CT,eAZ0C,CAA5C;;AAcA,UAAIU,qBAAqB;AAAG;AAAe,gBAAU15C,MAAV,EAAkB;AACzD,gEAAU05C,qBAAV,EAAiC15C,MAAjC;;AACA,iBAAS05C,qBAAT,CAA+BR,aAA/B,EAA8C;AAC1C,iBAAOl5C,MAAM,CAAC/vC,IAAP,CAAY,IAAZ,EAAkB,IAAI,2EAAJ,EAAlB,EAAgDipF,aAAhD,KAAkE,IAAzE;AACH;;AACDQ,6BAAqB,CAAC3rF,SAAtB,CAAgCyrF,cAAhC,GAAiD,YAAY;AACzD,iBAAOt/C,MAAP;AACH,SAFD;;AAGAw/C,6BAAqB,CAAC3rF,SAAtB,CAAgCwrF,iBAAhC,GAAoD,YAAY;AAC5D,iBAAO;AACH9lD,gBAAI,EAAE,KAAKyM,UADR;AAEHxM,iBAAK,EAAE,KAAKwM,UAAL,GAAkB,KAAKpG,WAF3B;AAGHnG,eAAG,EAAE,KAAKsM,SAHP;AAIHrM,kBAAM,EAAE,KAAKqM,SAAL,GAAiB,KAAKrG;AAJ3B,WAAP;AAMH,SAPD,CARyD,CAgBzD;AACA;;;AACA8/C,6BAAqB,CAAC3rF,SAAtB,CAAgCorF,kBAAhC,GAAqD,YAAY;AAC7D,eAAKG,UAAL,GAAkB,KAAKC,iBAAL,EAAlB;AACH,SAFD;;AAGA,eAAOG,qBAAP;AACH,OAtB0C,CAsBzCV,eAtByC,CAA3C,C,CAwBA;AACA;AACA;;;AACA,UAAIW,OAAO,GAAG,OAAOC,WAAP,KAAuB,UAAvB,GAAoCA,WAAW,CAACtpE,GAAhD,GAAsDzV,IAAI,CAACyV,GAAzE;AACA;AACA;AACA;;AAEA;AACA;;AACA,UAAIupE,YAAY;AAAG;AAAe,kBAAY;AAC1C,iBAASA,YAAT,GAAwB;AACpB,cAAIj1E,KAAK,GAAG,IAAZ,CADoB,CAEpB;;;AACA,eAAKk1E,SAAL,GAAiB,IAAjB;AACA,eAAKC,WAAL,GAAmB,CAAC7/C,MAAD,EAAS,cAAT,CAAnB;AACA,eAAK8/C,aAAL,GAAqB,EAArB,CALoB,CAKK;;AACzB,eAAKC,WAAL,GAAmB,GAAnB,CANoB,CAMI;AACxB;;AACA,eAAKC,cAAL,GAAsB,IAAtB;AACA,eAAKC,cAAL,GAAsB,IAAtB;AACA,eAAKC,WAAL,GAAmB,KAAnB;AACA,eAAKC,YAAL,GAAoB,IAApB,CAXoB,CAYpB;;AACA,eAAKC,WAAL,GAAmB,KAAnB;AACA,eAAKC,aAAL,GAAqB,KAArB;AACA,eAAKC,aAAL,GAAqB,KAArB;AACA,eAAKC,cAAL,GAAsB,KAAtB;;AACA,eAAKC,OAAL,GAAe,YAAY;AACvB,gBAAI91E,KAAK,CAACw1E,WAAV,EAAuB;AAAE;AACrB,kBAAIO,IAAI,GAAG/1E,KAAK,CAACg2E,eAAN,CAAsBh2E,KAAK,CAACs1E,cAAN,GAAuBhgD,MAAM,CAACyB,WAApD,EAAiE/2B,KAAK,CAACu1E,cAAN,GAAuBjgD,MAAM,CAAC0B,WAA/F,CAAX;;AACA,kBAAI++C,IAAJ,EAAU;AACN,oBAAIrqE,GAAG,GAAGqpE,OAAO,EAAjB;;AACA/0E,qBAAK,CAACi2E,UAAN,CAAiBF,IAAjB,EAAuB,CAACrqE,GAAG,GAAG1L,KAAK,CAACk2E,cAAb,IAA+B,IAAtD;;AACAl2E,qBAAK,CAACm2E,gBAAN,CAAuBzqE,GAAvB;AACH,eAJD,MAKK;AACD1L,qBAAK,CAACw1E,WAAN,GAAoB,KAApB,CADC,CAC0B;AAC9B;AACJ;AACJ,WAZD;AAaH;;AACDP,oBAAY,CAAC9rF,SAAb,CAAuB8R,KAAvB,GAA+B,UAAU02E,KAAV,EAAiBG,KAAjB,EAAwBsE,aAAxB,EAAuC;AAClE,cAAI,KAAKlB,SAAT,EAAoB;AAChB,iBAAKO,YAAL,GAAoB,KAAKY,WAAL,CAAiBD,aAAjB,CAApB;AACA,iBAAKd,cAAL,GAAsB,IAAtB;AACA,iBAAKC,cAAL,GAAsB,IAAtB;AACA,iBAAKG,WAAL,GAAmB,KAAnB;AACA,iBAAKC,aAAL,GAAqB,KAArB;AACA,iBAAKC,aAAL,GAAqB,KAArB;AACA,iBAAKC,cAAL,GAAsB,KAAtB;AACA,iBAAKrC,UAAL,CAAgB7B,KAAhB,EAAuBG,KAAvB;AACH;AACJ,SAXD;;AAYAmD,oBAAY,CAAC9rF,SAAb,CAAuBqqF,UAAvB,GAAoC,UAAU7B,KAAV,EAAiBG,KAAjB,EAAwB;AACxD,cAAI,KAAKoD,SAAT,EAAoB;AAChB,gBAAII,cAAc,GAAG3D,KAAK,GAAGr8C,MAAM,CAACyB,WAApC;AACA,gBAAIw+C,cAAc,GAAGzD,KAAK,GAAGx8C,MAAM,CAAC0B,WAApC;AACA,gBAAIs/C,MAAM,GAAG,KAAKf,cAAL,KAAwB,IAAxB,GAA+B,CAA/B,GAAmCA,cAAc,GAAG,KAAKA,cAAtE;AACA,gBAAIgB,MAAM,GAAG,KAAKjB,cAAL,KAAwB,IAAxB,GAA+B,CAA/B,GAAmCA,cAAc,GAAG,KAAKA,cAAtE;;AACA,gBAAIgB,MAAM,GAAG,CAAb,EAAgB;AACZ,mBAAKZ,WAAL,GAAmB,IAAnB;AACH,aAFD,MAGK,IAAIY,MAAM,GAAG,CAAb,EAAgB;AACjB,mBAAKX,aAAL,GAAqB,IAArB;AACH;;AACD,gBAAIY,MAAM,GAAG,CAAb,EAAgB;AACZ,mBAAKX,aAAL,GAAqB,IAArB;AACH,aAFD,MAGK,IAAIW,MAAM,GAAG,CAAb,EAAgB;AACjB,mBAAKV,cAAL,GAAsB,IAAtB;AACH;;AACD,iBAAKP,cAAL,GAAsBA,cAAtB;AACA,iBAAKC,cAAL,GAAsBA,cAAtB;;AACA,gBAAI,CAAC,KAAKC,WAAV,EAAuB;AACnB,mBAAKA,WAAL,GAAmB,IAAnB;AACA,mBAAKW,gBAAL,CAAsBpB,OAAO,EAA7B;AACH;AACJ;AACJ,SAzBD;;AA0BAE,oBAAY,CAAC9rF,SAAb,CAAuBuqF,IAAvB,GAA8B,YAAY;AACtC,cAAI,KAAKwB,SAAT,EAAoB;AAChB,iBAAKM,WAAL,GAAmB,KAAnB,CADgB,CACU;;AAC1B,iBAAK,IAAIz9E,EAAE,GAAG,CAAT,EAAY9K,EAAE,GAAG,KAAKwoF,YAA3B,EAAyC19E,EAAE,GAAG9K,EAAE,CAACrB,MAAjD,EAAyDmM,EAAE,EAA3D,EAA+D;AAC3D,kBAAIy+E,WAAW,GAAGvpF,EAAE,CAAC8K,EAAD,CAApB;AACAy+E,yBAAW,CAACvxC,OAAZ;AACH;;AACD,iBAAKwwC,YAAL,GAAoB,IAApB;AACH;AACJ,SATD;;AAUAR,oBAAY,CAAC9rF,SAAb,CAAuBgtF,gBAAvB,GAA0C,UAAUzqE,GAAV,EAAe;AACrD,eAAKwqE,cAAL,GAAsBxqE,GAAtB;AACAi4D,+BAAqB,CAAC,KAAKmS,OAAN,CAArB;AACH,SAHD;;AAIAb,oBAAY,CAAC9rF,SAAb,CAAuB8sF,UAAvB,GAAoC,UAAUF,IAAV,EAAgBv5E,OAAhB,EAAyB;AACzD,cAAIg6E,WAAW,GAAGT,IAAI,CAACS,WAAvB;AACA,cAAIpB,aAAa,GAAG,KAAKA,aAAzB;AACA,cAAIqB,WAAW,GAAGrB,aAAa,GAAGW,IAAI,CAACW,QAAvC;AACA,cAAIC,QAAQ,GAAG;AACZF,qBAAW,GAAGA,WAAf,IAA+BrB,aAAa,GAAGA,aAA/C,CAAD,GAAkE;AAC/D,eAAKC,WADR,GACsB74E,OAFvB;AAGA,cAAIR,IAAI,GAAG,CAAX;;AACA,kBAAQ+5E,IAAI,CAACppF,IAAb;AACI,iBAAK,MAAL;AACIqP,kBAAI,GAAG,CAAC,CAAR;AACJ;;AACA,iBAAK,OAAL;AACIw6E,yBAAW,CAACh7C,aAAZ,CAA0Bg7C,WAAW,CAACv7C,aAAZ,KAA8B07C,QAAQ,GAAG36E,IAAnE;AACA;;AACJ,iBAAK,KAAL;AACIA,kBAAI,GAAG,CAAC,CAAR;AACJ;;AACA,iBAAK,QAAL;AACIw6E,yBAAW,CAACj7C,YAAZ,CAAyBi7C,WAAW,CAAC17C,YAAZ,KAA6B67C,QAAQ,GAAG36E,IAAjE;AACA;AAZR;AAcH,SAtBD,CApF0C,CA2G1C;;;AACAi5E,oBAAY,CAAC9rF,SAAb,CAAuB6sF,eAAvB,GAAyC,UAAUnnD,IAAV,EAAgBE,GAAhB,EAAqB;AAC1D,cAAIqmD,aAAa,GAAG,KAAKA,aAAzB;AACA,cAAIwB,QAAQ,GAAG,IAAf;;AACA,eAAK,IAAI7+E,EAAE,GAAG,CAAT,EAAY9K,EAAE,GAAG,KAAKwoF,YAA3B,EAAyC19E,EAAE,GAAG9K,EAAE,CAACrB,MAAjD,EAAyDmM,EAAE,EAA3D,EAA+D;AAC3D,gBAAIy+E,WAAW,GAAGvpF,EAAE,CAAC8K,EAAD,CAApB;AACA,gBAAI62B,IAAI,GAAG4nD,WAAW,CAAC9B,UAAvB;AACA,gBAAImC,QAAQ,GAAGhoD,IAAI,GAAGD,IAAI,CAACC,IAA3B;AACA,gBAAIioD,SAAS,GAAGloD,IAAI,CAACE,KAAL,GAAaD,IAA7B;AACA,gBAAIkoD,OAAO,GAAGhoD,GAAG,GAAGH,IAAI,CAACG,GAAzB;AACA,gBAAIioD,UAAU,GAAGpoD,IAAI,CAACI,MAAL,GAAcD,GAA/B,CAN2D,CAO3D;;AACA,gBAAI8nD,QAAQ,IAAI,CAAZ,IAAiBC,SAAS,IAAI,CAA9B,IAAmCC,OAAO,IAAI,CAA9C,IAAmDC,UAAU,IAAI,CAArE,EAAwE;AACpE,kBAAID,OAAO,IAAI3B,aAAX,IAA4B,KAAKM,WAAjC,IAAgDc,WAAW,CAAC37C,WAAZ,EAAhD,KACC,CAAC+7C,QAAD,IAAaA,QAAQ,CAACF,QAAT,GAAoBK,OADlC,CAAJ,EACgD;AAC5CH,wBAAQ,GAAG;AAAEJ,6BAAW,EAAEA,WAAf;AAA4B7pF,sBAAI,EAAE,KAAlC;AAAyC+pF,0BAAQ,EAAEK;AAAnD,iBAAX;AACH;;AACD,kBAAIC,UAAU,IAAI5B,aAAd,IAA+B,KAAKO,aAApC,IAAqDa,WAAW,CAACz7C,aAAZ,EAArD,KACC,CAAC67C,QAAD,IAAaA,QAAQ,CAACF,QAAT,GAAoBM,UADlC,CAAJ,EACmD;AAC/CJ,wBAAQ,GAAG;AAAEJ,6BAAW,EAAEA,WAAf;AAA4B7pF,sBAAI,EAAE,QAAlC;AAA4C+pF,0BAAQ,EAAEM;AAAtD,iBAAX;AACH;;AACD,kBAAIH,QAAQ,IAAIzB,aAAZ,IAA6B,KAAKQ,aAAlC,IAAmDY,WAAW,CAACx7C,aAAZ,EAAnD,KACC,CAAC47C,QAAD,IAAaA,QAAQ,CAACF,QAAT,GAAoBG,QADlC,CAAJ,EACiD;AAC7CD,wBAAQ,GAAG;AAAEJ,6BAAW,EAAEA,WAAf;AAA4B7pF,sBAAI,EAAE,MAAlC;AAA0C+pF,0BAAQ,EAAEG;AAApD,iBAAX;AACH;;AACD,kBAAIC,SAAS,IAAI1B,aAAb,IAA8B,KAAKS,cAAnC,IAAqDW,WAAW,CAACt7C,cAAZ,EAArD,KACC,CAAC07C,QAAD,IAAaA,QAAQ,CAACF,QAAT,GAAoBI,SADlC,CAAJ,EACkD;AAC9CF,wBAAQ,GAAG;AAAEJ,6BAAW,EAAEA,WAAf;AAA4B7pF,sBAAI,EAAE,OAAlC;AAA2C+pF,0BAAQ,EAAEI;AAArD,iBAAX;AACH;AACJ;AACJ;;AACD,iBAAOF,QAAP;AACH,SA/BD;;AAgCA3B,oBAAY,CAAC9rF,SAAb,CAAuBktF,WAAvB,GAAqC,UAAUD,aAAV,EAAyB;AAC1D,iBAAO,KAAKa,cAAL,CAAoBb,aAApB,EAAmC56E,GAAnC,CAAuC,UAAUnR,EAAV,EAAc;AACxD,gBAAIA,EAAE,KAAKirC,MAAX,EAAmB;AACf,qBAAO,IAAIw/C,qBAAJ,CAA0B,KAA1B,CAAP,CADe,CAC0B;AAC5C;;AACD,mBAAO,IAAID,sBAAJ,CAA2BxqF,EAA3B,EAA+B,KAA/B,CAAP,CAJwD,CAIV;AACjD,WALM,CAAP;AAMH,SAPD;;AAQA4qF,oBAAY,CAAC9rF,SAAb,CAAuB8tF,cAAvB,GAAwC,UAAUb,aAAV,EAAyB;AAC7D,cAAIp9C,GAAG,GAAG,EAAV;;AACA,eAAK,IAAIjhC,EAAE,GAAG,CAAT,EAAY9K,EAAE,GAAG,KAAKkoF,WAA3B,EAAwCp9E,EAAE,GAAG9K,EAAE,CAACrB,MAAhD,EAAwDmM,EAAE,EAA1D,EAA8D;AAC1D,gBAAIm/E,KAAK,GAAGjqF,EAAE,CAAC8K,EAAD,CAAd;;AACA,gBAAI,OAAOm/E,KAAP,KAAiB,QAArB,EAA+B;AAC3Bl+C,iBAAG,CAACjtC,IAAJ,CAASmrF,KAAT;AACH,aAFD,MAGK;AACDl+C,iBAAG,CAACjtC,IAAJ,CAASsK,KAAT,CAAe2iC,GAAf,EAAoBjpC,KAAK,CAAC5G,SAAN,CAAgBwkC,KAAhB,CAAsBtiC,IAAtB,CAA2B,uEAAU+qF,aAAV,EAAyBvqF,gBAAzB,CAA0CqrF,KAA1C,CAA3B,CAApB;AACH;AACJ;;AACD,iBAAOl+C,GAAP;AACH,SAZD;;AAaA,eAAOi8C,YAAP;AACH,OAlKiC,EAAlC;AAoKA;AACA;AACA;AACA;AACA;AACA;;;AACA,UAAIkC,yBAAyB;AAAG;AAAe,gBAAU/7C,MAAV,EAAkB;AAC7D,gEAAU+7C,yBAAV,EAAqC/7C,MAArC;;AACA,iBAAS+7C,yBAAT,CAAmCjH,WAAnC,EAAgDzlF,QAAhD,EAA0D;AACtD,cAAIuV,KAAK,GAAGo7B,MAAM,CAAC/vC,IAAP,CAAY,IAAZ,EAAkB6kF,WAAlB,KAAkC,IAA9C;;AACAlwE,eAAK,CAACkwE,WAAN,GAAoBA,WAApB,CAFsD,CAGtD;AACA;;AACAlwE,eAAK,CAACmzC,KAAN,GAAc,IAAd;AACAnzC,eAAK,CAACo3E,WAAN,GAAoB,CAApB;AACAp3E,eAAK,CAACq3E,kBAAN,GAA2B,IAA3B,CAPsD,CAOrB;;AACjCr3E,eAAK,CAACs3E,iBAAN,GAA0B,KAA1B;AACAt3E,eAAK,CAACu3E,aAAN,GAAsB,KAAtB,CATsD,CASzB;;AAC7Bv3E,eAAK,CAACoe,UAAN,GAAmB,KAAnB,CAVsD,CAU5B;;AAC1Bpe,eAAK,CAACw3E,YAAN,GAAqB,KAArB;AACAx3E,eAAK,CAACy3E,mBAAN,GAA4B,KAA5B;AACAz3E,eAAK,CAAC03E,cAAN,GAAuB,IAAvB;;AACA13E,eAAK,CAAC23E,aAAN,GAAsB,UAAU3qF,EAAV,EAAc;AAChC,gBAAI,CAACgT,KAAK,CAACoe,UAAX,EAAuB;AAAE;AACrBpe,mBAAK,CAACu3E,aAAN,GAAsB,IAAtB;AACAv3E,mBAAK,CAACw3E,YAAN,GAAqB,KAArB;AACAx3E,mBAAK,CAACy3E,mBAAN,GAA4B,KAA5B;AACA,4FAAiB9sF,QAAQ,CAACsE,IAA1B;AACA,8FAAmBtE,QAAQ,CAACsE,IAA5B,EALmB,CAMnB;AACA;AACA;;AACA,kBAAI,CAACjC,EAAE,CAACilF,OAAR,EAAiB;AACbjlF,kBAAE,CAACmzB,SAAH,CAAa5yB,cAAb;AACH;;AACDyS,mBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqChzB,EAArC;;AACA,kBAAIgT,KAAK,CAACu3E,aAAN,IAAuB;AACvB,eAACv3E,KAAK,CAAC43E,OAAN,CAAcvH,gBADnB,EACqC;AACjC;AACArwE,qBAAK,CAAC63E,MAAN,CAAapE,YAAb,CAA0B,KAA1B,EAFiC,CAEC;;;AAClCzzE,qBAAK,CAAC63E,MAAN,CAAa58E,KAAb,CAAmBjO,EAAE,CAACmjF,SAAtB,EAAiCnjF,EAAE,CAAC2kF,KAApC,EAA2C3kF,EAAE,CAAC8kF,KAA9C,EAHiC,CAGqB;;;AACtD9xE,qBAAK,CAAC83E,UAAN,CAAiB9qF,EAAjB;;AACA,oBAAI,CAACgT,KAAK,CAACo3E,WAAX,EAAwB;AACpBp3E,uBAAK,CAAC+3E,uBAAN,CAA8B/qF,EAA9B;AACH;AACJ;AACJ;AACJ,WAzBD;;AA0BAgT,eAAK,CAACg4E,aAAN,GAAsB,UAAUhrF,EAAV,EAAc;AAChC,gBAAIgT,KAAK,CAACu3E,aAAV,EAAyB;AACrBv3E,mBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqChzB,EAArC;;AACA,kBAAI,CAACgT,KAAK,CAACy3E,mBAAX,EAAgC;AAC5B,oBAAIL,WAAW,GAAGp3E,KAAK,CAACo3E,WAAxB;AACA,oBAAIa,UAAU,GAAG,KAAK,CAAtB,CAF4B,CAEH;;AACzB,oBAAI5oD,MAAM,GAAGriC,EAAE,CAACqiC,MAAhB;AAAA,oBAAwBC,MAAM,GAAGtiC,EAAE,CAACsiC,MAApC;AACA2oD,0BAAU,GAAG5oD,MAAM,GAAGA,MAAT,GAAkBC,MAAM,GAAGA,MAAxC;;AACA,oBAAI2oD,UAAU,IAAIb,WAAW,GAAGA,WAAhC,EAA6C;AAAE;AAC3Cp3E,uBAAK,CAAC+3E,uBAAN,CAA8B/qF,EAA9B;AACH;AACJ;;AACD,kBAAIgT,KAAK,CAACoe,UAAV,EAAsB;AAClB;AACA,oBAAIpxB,EAAE,CAACmzB,SAAH,CAAa72B,IAAb,KAAsB,QAA1B,EAAoC;AAChC0W,uBAAK,CAAC63E,MAAN,CAAarE,UAAb,CAAwBxmF,EAAE,CAAC2kF,KAA3B,EAAkC3kF,EAAE,CAAC8kF,KAArC;;AACA9xE,uBAAK,CAACk4E,YAAN,CAAmB1E,UAAnB,CAA8BxmF,EAAE,CAAC2kF,KAAjC,EAAwC3kF,EAAE,CAAC8kF,KAA3C;AACH;;AACD9xE,qBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,UAAtB,EAAkChzB,EAAlC;AACH;AACJ;AACJ,WArBD;;AAsBAgT,eAAK,CAACm4E,WAAN,GAAoB,UAAUnrF,EAAV,EAAc;AAC9B,gBAAIgT,KAAK,CAACu3E,aAAV,EAAyB;AACrBv3E,mBAAK,CAACu3E,aAAN,GAAsB,KAAtB;AACA,0FAAe5sF,QAAQ,CAACsE,IAAxB;AACA,4FAAiBtE,QAAQ,CAACsE,IAA1B;;AACA+Q,mBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmChzB,EAAnC,EAJqB,CAImB;;;AACxC,kBAAIgT,KAAK,CAACoe,UAAV,EAAsB;AAClBpe,qBAAK,CAACk4E,YAAN,CAAmBxE,IAAnB;;AACA1zE,qBAAK,CAACo4E,WAAN,CAAkBprF,EAAlB,EAFkB,CAEK;;AAC1B;;AACD,kBAAIgT,KAAK,CAAC03E,cAAV,EAA0B;AACtBrkC,4BAAY,CAACrzC,KAAK,CAAC03E,cAAP,CAAZ;AACA13E,qBAAK,CAAC03E,cAAN,GAAuB,IAAvB;AACH;AACJ;AACJ,WAfD;;AAgBA,cAAIE,OAAO,GAAG53E,KAAK,CAAC43E,OAAN,GAAgB,IAAI3H,eAAJ,CAAoBC,WAApB,CAA9B;AACA0H,iBAAO,CAAC73D,OAAR,CAAgBqE,EAAhB,CAAmB,aAAnB,EAAkCpkB,KAAK,CAAC23E,aAAxC;AACAC,iBAAO,CAAC73D,OAAR,CAAgBqE,EAAhB,CAAmB,aAAnB,EAAkCpkB,KAAK,CAACg4E,aAAxC;AACAJ,iBAAO,CAAC73D,OAAR,CAAgBqE,EAAhB,CAAmB,WAAnB,EAAgCpkB,KAAK,CAACm4E,WAAtC;;AACA,cAAI1tF,QAAJ,EAAc;AACVmtF,mBAAO,CAACntF,QAAR,GAAmBA,QAAnB;AACH;;AACDuV,eAAK,CAAC63E,MAAN,GAAe,IAAI9E,aAAJ,EAAf;AACA/yE,eAAK,CAACk4E,YAAN,GAAqB,IAAIjD,YAAJ,EAArB;AACA,iBAAOj1E,KAAP;AACH;;AACDm3E,iCAAyB,CAAChuF,SAA1B,CAAoC87C,OAApC,GAA8C,YAAY;AACtD,eAAK2yC,OAAL,CAAa3yC,OAAb,GADsD,CAEtD;AACA;;AACA,eAAKkzC,WAAL,CAAiB,EAAjB;AACH,SALD;;AAMAhB,iCAAyB,CAAChuF,SAA1B,CAAoC2uF,UAApC,GAAiD,UAAU9qF,EAAV,EAAc;AAC3D,cAAIgT,KAAK,GAAG,IAAZ;;AACA,cAAI,OAAO,KAAKmzC,KAAZ,KAAsB,QAA1B,EAAoC;AAChC,iBAAKukC,cAAL,GAAsBnkC,UAAU,CAAC,YAAY;AACzCvzC,mBAAK,CAAC03E,cAAN,GAAuB,IAAvB;;AACA13E,mBAAK,CAACq4E,cAAN,CAAqBrrF,EAArB;AACH,aAH+B,EAG7B,KAAKmmD,KAHwB,CAAhC,CADgC,CAIhB;AACnB,WALD,MAMK;AACD,iBAAKklC,cAAL,CAAoBrrF,EAApB;AACH;AACJ,SAXD;;AAYAmqF,iCAAyB,CAAChuF,SAA1B,CAAoCkvF,cAApC,GAAqD,UAAUrrF,EAAV,EAAc;AAC/D,eAAKwqF,YAAL,GAAoB,IAApB;AACA,eAAKc,YAAL,CAAkBtrF,EAAlB;AACH,SAHD;;AAIAmqF,iCAAyB,CAAChuF,SAA1B,CAAoC4uF,uBAApC,GAA8D,UAAU/qF,EAAV,EAAc;AACxE,eAAKyqF,mBAAL,GAA2B,IAA3B;AACA,eAAKa,YAAL,CAAkBtrF,EAAlB;AACH,SAHD;;AAIAmqF,iCAAyB,CAAChuF,SAA1B,CAAoCmvF,YAApC,GAAmD,UAAUtrF,EAAV,EAAc;AAC7D,cAAI,KAAKwqF,YAAL,IAAqB,KAAKC,mBAA9B,EAAmD;AAC/C,gBAAI,CAAC,KAAKG,OAAL,CAAapH,cAAd,IAAgC,KAAK6G,kBAAzC,EAA6D;AACzD,mBAAKj5D,UAAL,GAAkB,IAAlB;AACA,mBAAKk5D,iBAAL,GAAyB,KAAzB;AACA,mBAAKY,YAAL,CAAkBj9E,KAAlB,CAAwBjO,EAAE,CAAC2kF,KAA3B,EAAkC3kF,EAAE,CAAC8kF,KAArC,EAA4C,KAAK5B,WAAjD;AACA,mBAAKnwD,OAAL,CAAaC,OAAb,CAAqB,WAArB,EAAkChzB,EAAlC;;AACA,kBAAI,KAAKqqF,kBAAL,KAA4B,KAAhC,EAAuC;AACnC,qBAAKO,OAAL,CAAalF,iBAAb;AACH;AACJ;AACJ;AACJ,SAZD;;AAaAyE,iCAAyB,CAAChuF,SAA1B,CAAoCivF,WAApC,GAAkD,UAAUprF,EAAV,EAAc;AAC5D;AACA;AACA,eAAK6qF,MAAL,CAAYnE,IAAZ,CAAiB,KAAK4D,iBAAtB,EAAyC,KAAKiB,QAAL,CAActpC,IAAd,CAAmB,IAAnB,EAAyBjiD,EAAzB,CAAzC;AACH,SAJD;;AAKAmqF,iCAAyB,CAAChuF,SAA1B,CAAoCovF,QAApC,GAA+C,UAAUvrF,EAAV,EAAc;AACzD,eAAKoxB,UAAL,GAAkB,KAAlB;AACA,eAAK2B,OAAL,CAAaC,OAAb,CAAqB,SAArB,EAAgChzB,EAAhC;AACH,SAHD,CAvI6D,CA2I7D;;;AACAmqF,iCAAyB,CAAChuF,SAA1B,CAAoCqvF,aAApC,GAAoD,UAAUt7B,IAAV,EAAgB;AAChE,eAAK06B,OAAL,CAAavH,gBAAb,GAAgCnzB,IAAhC;AACH,SAFD;;AAGAi6B,iCAAyB,CAAChuF,SAA1B,CAAoC8zD,kBAApC,GAAyD,UAAUC,IAAV,EAAgB;AACrE,eAAK26B,MAAL,CAAYpE,YAAZ,CAAyBv2B,IAAzB;AACH,SAFD;;AAGAi6B,iCAAyB,CAAChuF,SAA1B,CAAoCg0D,oBAApC,GAA2D,UAAUD,IAAV,EAAgB;AACvE,eAAKo6B,iBAAL,GAAyBp6B,IAAzB;AACH,SAFD;;AAGAi6B,iCAAyB,CAAChuF,SAA1B,CAAoCi0D,oBAApC,GAA2D,UAAUF,IAAV,EAAgB;AACvE,eAAKg7B,YAAL,CAAkBhD,SAAlB,GAA8Bh4B,IAA9B;AACH,SAFD;;AAGA,eAAOi6B,yBAAP;AACH,OAzJ8C,CAyJ7C,oEAzJ6C,CAA/C;AA2JA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AACA,UAAIsB,aAAa;AAAG;AAAe,kBAAY;AAC3C,iBAASA,aAAT,CAAuBpuF,EAAvB,EAA2B;AACvB,eAAKquF,QAAL,GAAgB,yEAAYruF,EAAZ,CAAhB,CADuB,CAEvB;;AACA,eAAKorF,YAAL,GAAoB,gFAAmBprF,EAAnB,EAAuBmR,GAAvB,CAA2B,UAAUm9E,QAAV,EAAoB;AAAE,mBAAO,IAAI9D,sBAAJ,CAA2B8D,QAA3B,EAAqC,IAArC,CAAP;AAAoD,WAArG,CAApB;AACH;;AACDF,qBAAa,CAACtvF,SAAd,CAAwB87C,OAAxB,GAAkC,YAAY;AAC1C,eAAK,IAAIltC,EAAE,GAAG,CAAT,EAAY9K,EAAE,GAAG,KAAKwoF,YAA3B,EAAyC19E,EAAE,GAAG9K,EAAE,CAACrB,MAAjD,EAAyDmM,EAAE,EAA3D,EAA+D;AAC3D,gBAAIy+E,WAAW,GAAGvpF,EAAE,CAAC8K,EAAD,CAApB;AACAy+E,uBAAW,CAACvxC,OAAZ;AACH;AACJ,SALD;;AAMAwzC,qBAAa,CAACtvF,SAAd,CAAwByvF,WAAxB,GAAsC,YAAY;AAC9C,cAAI/pD,IAAI,GAAG,KAAK6pD,QAAL,CAAc7pD,IAAzB;;AACA,eAAK,IAAI92B,EAAE,GAAG,CAAT,EAAY9K,EAAE,GAAG,KAAKwoF,YAA3B,EAAyC19E,EAAE,GAAG9K,EAAE,CAACrB,MAAjD,EAAyDmM,EAAE,EAA3D,EAA+D;AAC3D,gBAAIy+E,WAAW,GAAGvpF,EAAE,CAAC8K,EAAD,CAApB;AACA82B,gBAAI,IAAI2nD,WAAW,CAAC/B,cAAZ,GAA6B+B,WAAW,CAACv7C,aAAZ,EAArC;AACH;;AACD,iBAAOpM,IAAP;AACH,SAPD;;AAQA4pD,qBAAa,CAACtvF,SAAd,CAAwB0vF,UAAxB,GAAqC,YAAY;AAC7C,cAAI9pD,GAAG,GAAG,KAAK2pD,QAAL,CAAc3pD,GAAxB;;AACA,eAAK,IAAIh3B,EAAE,GAAG,CAAT,EAAY9K,EAAE,GAAG,KAAKwoF,YAA3B,EAAyC19E,EAAE,GAAG9K,EAAE,CAACrB,MAAjD,EAAyDmM,EAAE,EAA3D,EAA+D;AAC3D,gBAAIy+E,WAAW,GAAGvpF,EAAE,CAAC8K,EAAD,CAApB;AACAg3B,eAAG,IAAIynD,WAAW,CAAChC,aAAZ,GAA4BgC,WAAW,CAAC17C,YAAZ,EAAnC;AACH;;AACD,iBAAO/L,GAAP;AACH,SAPD;;AAQA0pD,qBAAa,CAACtvF,SAAd,CAAwB2vF,gBAAxB,GAA2C,UAAUnH,KAAV,EAAiBG,KAAjB,EAAwB;AAC/D,cAAInjD,KAAK,GAAG;AAAEE,gBAAI,EAAE8iD,KAAR;AAAe5iD,eAAG,EAAE+iD;AAApB,WAAZ;;AACA,eAAK,IAAI/5E,EAAE,GAAG,CAAT,EAAY9K,EAAE,GAAG,KAAKwoF,YAA3B,EAAyC19E,EAAE,GAAG9K,EAAE,CAACrB,MAAjD,EAAyDmM,EAAE,EAA3D,EAA+D;AAC3D,gBAAIy+E,WAAW,GAAGvpF,EAAE,CAAC8K,EAAD,CAApB;;AACA,gBAAI,CAACghF,iBAAiB,CAACvC,WAAW,CAAC5B,cAAZ,EAAD,CAAlB,IACA,CAAC,6EAAgBjmD,KAAhB,EAAuB6nD,WAAW,CAAC9B,UAAnC,CADL,EACqD;AACjD,qBAAO,KAAP;AACH;AACJ;;AACD,iBAAO,IAAP;AACH,SAVD;;AAWA,eAAO+D,aAAP;AACH,OAxCkC,EAAnC,C,CAyCA;AACA;;;AACA,eAASM,iBAAT,CAA2BpK,IAA3B,EAAiC;AAC7B,YAAIqK,OAAO,GAAGrK,IAAI,CAACqK,OAAnB;AACA,eAAOA,OAAO,KAAK,MAAZ,IAAsBA,OAAO,KAAK,MAAzC;AACH;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,UAAIC,WAAW;AAAG;AAAe,kBAAY;AACzC,iBAASA,WAAT,CAAqBC,QAArB,EAA+BC,cAA/B,EAA+C;AAC3C,cAAIn5E,KAAK,GAAG,IAAZ,CAD2C,CAE3C;;;AACA,eAAKo5E,gBAAL,GAAwB,KAAxB;AACA,eAAKC,cAAL,GAAsB,IAAtB,CAJ2C,CAIf;;AAC5B,eAAKC,UAAL,GAAkB,IAAlB;AACA,eAAKC,SAAL,GAAiB,IAAjB;AACA,eAAKC,QAAL,GAAgB,IAAhB,CAP2C,CAOrB;;AACtB,eAAKC,iBAAL,GAAyB,UAAUzsF,EAAV,EAAc;AACnC,gBAAIksF,QAAQ,GAAGl5E,KAAK,CAACk5E,QAArB;AACAl5E,iBAAK,CAACs5E,UAAN,GAAmB,IAAnB;AACAt5E,iBAAK,CAACu5E,SAAN,GAAkB,IAAlB;AACAv5E,iBAAK,CAACw5E,QAAN,GAAiB,IAAjB;;AACAx5E,iBAAK,CAACq/B,WAAN;;AACAr/B,iBAAK,CAAC05E,iBAAN,CAAwB1sF,EAAxB;;AACA,gBAAIgT,KAAK,CAACs5E,UAAN,IAAoB,CAACt5E,KAAK,CAACq5E,cAA/B,EAA+C;AAC3CH,sBAAQ,CAACV,aAAT,CAAuB,KAAvB,EAD2C,CAE3C;;AACAx4E,mBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqChzB,EAArC;AACH,aAJD,MAKK;AACDksF,sBAAQ,CAACV,aAAT,CAAuB,IAAvB;AACH;AACJ,WAfD;;AAgBA,eAAKmB,eAAL,GAAuB,UAAU3sF,EAAV,EAAc;AACjCgT,iBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmChzB,EAAnC;;AACAgT,iBAAK,CAACwzE,UAAN,CAAiBxmF,EAAjB,EAAqB,IAArB,EAFiC,CAEL;;AAC/B,WAHD;;AAIA,eAAK4sF,cAAL,GAAsB,UAAU5sF,EAAV,EAAc;AAChCgT,iBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,UAAtB,EAAkChzB,EAAlC;;AACAgT,iBAAK,CAACwzE,UAAN,CAAiBxmF,EAAjB;AACH,WAHD;;AAIA,eAAK6sF,eAAL,GAAuB,UAAU7sF,EAAV,EAAc;AACjCgT,iBAAK,CAAC85E,WAAN;;AACA95E,iBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmChzB,EAAnC;AACH,WAHD;;AAIA,eAAK+sF,aAAL,GAAqB,UAAU/sF,EAAV,EAAc;AAC/B,gBAAIgT,KAAK,CAACu5E,SAAV,EAAqB;AACjBv5E,mBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmC,IAAnC,EAAyC,IAAzC,EAA+ChzB,EAA/C;AACH;;AACDgT,iBAAK,CAACw5E,QAAN,GAAiBx5E,KAAK,CAACu5E,SAAvB;AACAv5E,iBAAK,CAACu5E,SAAN,GAAkB,IAAlB;;AACAv5E,iBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,SAAtB,EAAiChzB,EAAjC;AACH,WAPD;;AAQA,eAAKmsF,cAAL,GAAsBA,cAAtB;AACAD,kBAAQ,CAACn5D,OAAT,CAAiBqE,EAAjB,CAAoB,aAApB,EAAmC,KAAKq1D,iBAAxC;AACAP,kBAAQ,CAACn5D,OAAT,CAAiBqE,EAAjB,CAAoB,WAApB,EAAiC,KAAKu1D,eAAtC;AACAT,kBAAQ,CAACn5D,OAAT,CAAiBqE,EAAjB,CAAoB,UAApB,EAAgC,KAAKw1D,cAArC;AACAV,kBAAQ,CAACn5D,OAAT,CAAiBqE,EAAjB,CAAoB,WAApB,EAAiC,KAAKy1D,eAAtC;AACAX,kBAAQ,CAACn5D,OAAT,CAAiBqE,EAAjB,CAAoB,SAApB,EAA+B,KAAK21D,aAApC;AACA,eAAKb,QAAL,GAAgBA,QAAhB;AACA,eAAKn5D,OAAL,GAAe,IAAI,4DAAJ,EAAf;AACH,SArDwC,CAsDzC;AACA;;;AACAk5D,mBAAW,CAAC9vF,SAAZ,CAAsBuwF,iBAAtB,GAA0C,UAAU1sF,EAAV,EAAc;AACpD,cAAIgtF,SAAS,GAAG;AAAEnrD,gBAAI,EAAE7hC,EAAE,CAAC2kF,KAAX;AAAkB5iD,eAAG,EAAE/hC,EAAE,CAAC8kF;AAA1B,WAAhB;AACA,cAAImI,aAAa,GAAGD,SAApB;AACA,cAAI7J,SAAS,GAAGnjF,EAAE,CAACmjF,SAAnB;AACA,cAAI+J,WAAJ;;AACA,cAAI/J,SAAS,YAAY1kF,WAAzB,EAAsC;AAAE;AACpCyuF,uBAAW,GAAG,yEAAY/J,SAAZ,CAAd;AACA8J,yBAAa,GAAG,4EAAeA,aAAf,EAA8BC,WAA9B,CAAhB;AACH;;AACD,cAAIZ,UAAU,GAAG,KAAKA,UAAL,GAAkB,KAAKa,iBAAL,CAAuBF,aAAa,CAACprD,IAArC,EAA2CorD,aAAa,CAAClrD,GAAzD,CAAnC;;AACA,cAAIuqD,UAAJ,EAAgB;AACZ,gBAAI,KAAKF,gBAAL,IAAyBc,WAA7B,EAA0C;AACtC,kBAAIE,iBAAiB,GAAG,4EAAeF,WAAf,EAA4BZ,UAAU,CAAC1qD,IAAvC,CAAxB;;AACA,kBAAIwrD,iBAAJ,EAAuB;AACnBH,6BAAa,GAAG,2EAAcG,iBAAd,CAAhB;AACH;AACJ;;AACD,iBAAKC,WAAL,GAAmB,wEAAWJ,aAAX,EAA0BD,SAA1B,CAAnB;AACH,WARD,MASK;AACD,iBAAKK,WAAL,GAAmB;AAAExrD,kBAAI,EAAE,CAAR;AAAWE,iBAAG,EAAE;AAAhB,aAAnB;AACH;AACJ,SAtBD;;AAuBAkqD,mBAAW,CAAC9vF,SAAZ,CAAsBqqF,UAAtB,GAAmC,UAAUxmF,EAAV,EAAcstF,WAAd,EAA2B;AAC1D,cAAIC,GAAG,GAAG,KAAKJ,iBAAL,CAAuBntF,EAAE,CAAC2kF,KAAH,GAAW,KAAK0I,WAAL,CAAiBxrD,IAAnD,EAAyD7hC,EAAE,CAAC8kF,KAAH,GAAW,KAAKuI,WAAL,CAAiBtrD,GAArF,CAAV;;AACA,cAAIurD,WAAW,IAAI,CAACE,WAAW,CAAC,KAAKjB,SAAN,EAAiBgB,GAAjB,CAA/B,EAAsD;AAClD,iBAAKhB,SAAL,GAAiBgB,GAAjB;AACA,iBAAKx6D,OAAL,CAAaC,OAAb,CAAqB,WAArB,EAAkCu6D,GAAlC,EAAuC,KAAvC,EAA8CvtF,EAA9C;AACH;AACJ,SAND;;AAOAisF,mBAAW,CAAC9vF,SAAZ,CAAsBk2C,WAAtB,GAAoC,YAAY;AAC5C,eAAKo7C,cAAL,GAAsB,qEAAQ,KAAKtB,cAAb,EAA6B,UAAUuB,mBAAV,EAA+B;AAC9EA,+BAAmB,CAACroE,SAApB,CAA8BgtB,WAA9B;AACA,mBAAO,IAAIo5C,aAAJ,CAAkBiC,mBAAmB,CAACrwF,EAAtC,CAAP;AACH,WAHqB,CAAtB;AAIH,SALD;;AAMA4uF,mBAAW,CAAC9vF,SAAZ,CAAsB2wF,WAAtB,GAAoC,YAAY;AAC5C,cAAIW,cAAc,GAAG,KAAKA,cAA1B;;AACA,eAAK,IAAIjkE,EAAT,IAAeikE,cAAf,EAA+B;AAC3BA,0BAAc,CAACjkE,EAAD,CAAd,CAAmByuB,OAAnB;AACH;;AACD,eAAKw1C,cAAL,GAAsB,EAAtB;AACH,SAND;;AAOAxB,mBAAW,CAAC9vF,SAAZ,CAAsBgxF,iBAAtB,GAA0C,UAAUQ,UAAV,EAAsBC,SAAtB,EAAiC;AACvE,cAAI3tF,EAAE,GAAG,IAAT;AAAA,cAAeksF,cAAc,GAAGlsF,EAAE,CAACksF,cAAnC;AAAA,cAAmDsB,cAAc,GAAGxtF,EAAE,CAACwtF,cAAvE;;AACA,cAAII,OAAO,GAAG,IAAd;;AACA,eAAK,IAAIrkE,EAAT,IAAe2iE,cAAf,EAA+B;AAC3B,gBAAI9mE,SAAS,GAAG8mE,cAAc,CAAC3iE,EAAD,CAAd,CAAmBnE,SAAnC;AACA,gBAAIyoE,aAAa,GAAGL,cAAc,CAACjkE,EAAD,CAAlC;;AACA,gBAAIskE,aAAa,IAAI;AACjBA,yBAAa,CAAChC,gBAAd,CAA+B6B,UAA/B,EAA2CC,SAA3C,CADJ,EAC2D;AACvD,kBAAIG,UAAU,GAAGD,aAAa,CAAClC,WAAd,EAAjB;AACA,kBAAIoC,SAAS,GAAGF,aAAa,CAACjC,UAAd,EAAhB;AACA,kBAAIt5C,YAAY,GAAGo7C,UAAU,GAAGI,UAAhC;AACA,kBAAIv7C,WAAW,GAAGo7C,SAAS,GAAGI,SAA9B;AACA,kBAAItC,QAAQ,GAAGoC,aAAa,CAACpC,QAA7B;AACA,kBAAI3mF,KAAK,GAAG2mF,QAAQ,CAAC5pD,KAAT,GAAiB4pD,QAAQ,CAAC7pD,IAAtC;AACA,kBAAI5jB,MAAM,GAAGytE,QAAQ,CAAC1pD,MAAT,GAAkB0pD,QAAQ,CAAC3pD,GAAxC;;AACA,mBACA;AACAwQ,0BAAY,IAAI,CAAhB,IAAqBA,YAAY,GAAGxtC,KAApC,IACIytC,WAAW,IAAI,CADnB,IACwBA,WAAW,GAAGv0B,MAHtC,EAG8C;AAC1C,oBAAIsvE,GAAG,GAAGloE,SAAS,CAACitB,QAAV,CAAmBC,YAAnB,EAAiCC,WAAjC,EAA8CztC,KAA9C,EAAqDkZ,MAArD,CAAV;;AACA,oBAAIsvE,GAAG,IACP;AACA,gGAAmBA,GAAG,CAAC14D,WAAJ,CAAgBC,WAAnC,EAAgDy4D,GAAG,CAAC56D,QAAJ,CAAajpB,KAA7D,CAFI,KAGC,CAACmkF,OAAD,IAAYN,GAAG,CAAChmB,KAAJ,GAAYsmB,OAAO,CAACtmB,KAHjC,CAAJ,EAG6C;AACzCgmB,qBAAG,CAACU,WAAJ,GAAkBzkE,EAAlB;AACA+jE,qBAAG,CAACtxF,OAAJ,GAAcopB,SAAS,CAACppB,OAAxB,CAFyC,CAGzC;;AACAsxF,qBAAG,CAAC3rD,IAAJ,CAASC,IAAT,IAAiBksD,UAAjB;AACAR,qBAAG,CAAC3rD,IAAJ,CAASE,KAAT,IAAkBisD,UAAlB;AACAR,qBAAG,CAAC3rD,IAAJ,CAASG,GAAT,IAAgBisD,SAAhB;AACAT,qBAAG,CAAC3rD,IAAJ,CAASI,MAAT,IAAmBgsD,SAAnB;AACAH,yBAAO,GAAGN,GAAV;AACH;AACJ;AACJ;AACJ;;AACD,iBAAOM,OAAP;AACH,SArCD;;AAsCA,eAAO5B,WAAP;AACH,OA1IgC,EAAjC;;AA2IA,eAASuB,WAAT,CAAqBU,IAArB,EAA2BC,IAA3B,EAAiC;AAC7B,YAAI,CAACD,IAAD,IAAS,CAACC,IAAd,EAAoB;AAChB,iBAAO,IAAP;AACH;;AACD,YAAI7zE,OAAO,CAAC4zE,IAAD,CAAP,KAAkB5zE,OAAO,CAAC6zE,IAAD,CAA7B,EAAqC;AACjC,iBAAO,KAAP;AACH;;AACD,eAAO,8EAAiBD,IAAI,CAACv7D,QAAtB,EAAgCw7D,IAAI,CAACx7D,QAArC,CAAP;AACH;;AAED,eAASy7D,4BAAT,CAAsCz7D,QAAtC,EAAgD12B,OAAhD,EAAyD;AACrD,YAAIuD,KAAK,GAAG,EAAZ;;AACA,aAAK,IAAIuL,EAAE,GAAG,CAAT,EAAY9K,EAAE,GAAGhE,OAAO,CAACoR,WAAR,CAAoB+lC,mBAA1C,EAA+DroC,EAAE,GAAG9K,EAAE,CAACrB,MAAvE,EAA+EmM,EAAE,EAAjF,EAAqF;AACjF,cAAI0oB,SAAS,GAAGxzB,EAAE,CAAC8K,EAAD,CAAlB;AACA,iEAASvL,KAAT,EAAgBi0B,SAAS,CAACd,QAAD,EAAW12B,OAAX,CAAzB;AACH;;AACD,+DAASuD,KAAT,EAAgB6uF,iBAAiB,CAAC17D,QAAD,EAAW12B,OAAO,CAACwQ,OAAnB,CAAjC;AACA,eAAOjN,KAAP;AACH;;AACD,eAAS6uF,iBAAT,CAA2B18D,IAA3B,EAAiCllB,OAAjC,EAA0C;AACtC,eAAO;AACHjE,cAAI,EAAEiE,OAAO,CAAC6lB,MAAR,CAAeX,IAAI,CAACjoB,KAAL,CAAWuE,KAA1B,CADH;AAEHqgF,iBAAO,EAAE7hF,OAAO,CAAC+lB,SAAR,CAAkBb,IAAI,CAACjoB,KAAL,CAAWuE,KAA7B,EAAoC;AAAEokB,oBAAQ,EAAEV,IAAI,CAAC9kB;AAAjB,WAApC,CAFN;AAGHA,gBAAM,EAAE8kB,IAAI,CAAC9kB;AAHV,SAAP;AAKH;AAED;AACA;AACA;AACA;;;AACA,UAAI0hF,YAAY;AAAG;AAAe,gBAAUngD,MAAV,EAAkB;AAChD,gEAAUmgD,YAAV,EAAwBngD,MAAxB;;AACA,iBAASmgD,YAAT,CAAsBl1D,QAAtB,EAAgC;AAC5B,cAAIrmB,KAAK,GAAGo7B,MAAM,CAAC/vC,IAAP,CAAY,IAAZ,EAAkBg7B,QAAlB,KAA+B,IAA3C;;AACArmB,eAAK,CAACy5E,iBAAN,GAA0B,UAAU35D,GAAV,EAAe;AACrC,gBAAIo5D,QAAQ,GAAGl5E,KAAK,CAACk5E,QAArB;AACA,gBAAI1G,MAAM,GAAG1yD,GAAG,CAACK,SAAJ,CAAc/yB,MAA3B,CAFqC,CAGrC;;AACA8rF,oBAAQ,CAACV,aAAT,CAAuB,CAACx4E,KAAK,CAACqS,SAAN,CAAgButB,iBAAhB,CAAkC4yC,MAAlC,CAAxB;AACH,WALD,CAF4B,CAQ5B;;;AACAxyE,eAAK,CAAC+5E,aAAN,GAAsB,UAAU/sF,EAAV,EAAc;AAChC,gBAAIqlB,SAAS,GAAGrS,KAAK,CAACqS,SAAtB;AACA,gBAAIulE,OAAO,GAAG53E,KAAK,CAACk5E,QAAN,CAAetB,OAA7B;;AACA,gBAAI,CAACA,OAAO,CAACpH,cAAb,EAA6B;AACzB,kBAAIvjF,EAAE,GAAG+S,KAAK,CAACw7E,WAAf;AAAA,kBAA4BlC,UAAU,GAAGrsF,EAAE,CAACqsF,UAA5C;AAAA,kBAAwDE,QAAQ,GAAGvsF,EAAE,CAACusF,QAAtE;;AACA,kBAAIF,UAAU,IAAIE,QAAd,IAA0BgB,WAAW,CAAClB,UAAD,EAAaE,QAAb,CAAzC,EAAiE;AAC7D,oBAAIvwF,OAAO,GAAGopB,SAAS,CAACppB,OAAxB;AACA,oBAAI6lD,GAAG,GAAG,uDAAS,uDAAS,EAAT,EAAassC,4BAA4B,CAAC9B,UAAU,CAAC35D,QAAZ,EAAsB12B,OAAtB,CAAzC,CAAT,EAAmF;AAAEqrE,uBAAK,EAAEglB,UAAU,CAAChlB,KAApB;AAA2Bp0C,yBAAO,EAAElzB,EAAE,CAACmzB,SAAvC;AAAkDC,sBAAI,EAAEn3B,OAAO,CAACo3B,OAAR,IAAmBp3B,OAAO,CAACq3B,WAAR,CAAoBF;AAA/F,iBAAnF,CAAV;AACAn3B,uBAAO,CAAC82B,OAAR,CAAgBC,OAAhB,CAAwB,WAAxB,EAAqC8uB,GAArC;AACH;AACJ;AACJ,WAXD,CAT4B,CAqB5B;;;AACA9uC,eAAK,CAACk5E,QAAN,GAAiB,IAAI/B,yBAAJ,CAA8B9wD,QAAQ,CAACh8B,EAAvC,CAAjB;AACA2V,eAAK,CAACk5E,QAAN,CAAehB,YAAf,CAA4BhD,SAA5B,GAAwC,KAAxC;AACA,cAAIsG,WAAW,GAAGx7E,KAAK,CAACw7E,WAAN,GAAoB,IAAIvC,WAAJ,CAAgBj5E,KAAK,CAACk5E,QAAtB,EAAgC,wFAA2B7yD,QAA3B,CAAhC,CAAtC;AACAm1D,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,aAAvB,EAAsCpkB,KAAK,CAACy5E,iBAA5C;AACA+B,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,SAAvB,EAAkCpkB,KAAK,CAAC+5E,aAAxC;AACA,iBAAO/5E,KAAP;AACH;;AACDu7E,oBAAY,CAACpyF,SAAb,CAAuB87C,OAAvB,GAAiC,YAAY;AACzC,eAAKi0C,QAAL,CAAcj0C,OAAd;AACH,SAFD;;AAGA,eAAOs2C,YAAP;AACH,OAnCiC,CAmChC,gEAnCgC,CAAlC;AAqCA;AACA;AACA;AACA;;;AACA,UAAIE,aAAa;AAAG;AAAe,gBAAUrgD,MAAV,EAAkB;AACjD,gEAAUqgD,aAAV,EAAyBrgD,MAAzB;;AACA,iBAASqgD,aAAT,CAAuBp1D,QAAvB,EAAiC;AAC7B,cAAIrmB,KAAK,GAAGo7B,MAAM,CAAC/vC,IAAP,CAAY,IAAZ,EAAkBg7B,QAAlB,KAA+B,IAA3C;;AACArmB,eAAK,CAAC07E,aAAN,GAAsB,IAAtB;;AACA17E,eAAK,CAACy5E,iBAAN,GAA0B,UAAUzsF,EAAV,EAAc;AACpC,gBAAIC,EAAE,GAAG+S,KAAT;AAAA,gBAAgBqS,SAAS,GAAGplB,EAAE,CAAColB,SAA/B;AAAA,gBAA0C6mE,QAAQ,GAAGjsF,EAAE,CAACisF,QAAxD;AACA,gBAAI5+E,OAAO,GAAG+X,SAAS,CAACppB,OAAV,CAAkBqR,OAAhC;AACA,gBAAIqhF,SAAS,GAAGrhF,OAAO,CAACsU,UAAR,IACZyD,SAAS,CAACutB,iBAAV,CAA4B5yC,EAAE,CAACmzB,SAAH,CAAa/yB,MAAzC,CADJ,CAHoC,CAKpC;;AACA8rF,oBAAQ,CAACV,aAAT,CAAuB,CAACmD,SAAxB,EANoC,CAOpC;;AACAzC,oBAAQ,CAAC/lC,KAAT,GAAiBnmD,EAAE,CAACilF,OAAH,GAAa2J,wBAAwB,CAACvpE,SAAD,CAArC,GAAmD,IAApE;AACH,WATD;;AAUArS,eAAK,CAAC25E,eAAN,GAAwB,UAAU3sF,EAAV,EAAc;AAClCgT,iBAAK,CAACqS,SAAN,CAAgBppB,OAAhB,CAAwBq3B,WAAxB,CAAoCnP,QAApC,CAA6CnkB,EAA7C,EADkC,CACgB;;AACrD,WAFD;;AAGAgT,eAAK,CAAC67E,eAAN,GAAwB,UAAUtB,GAAV,EAAeuB,OAAf,EAAwB;AAC5C,gBAAI7yF,OAAO,GAAG+W,KAAK,CAACqS,SAAN,CAAgBppB,OAA9B;AACA,gBAAIyyF,aAAa,GAAG,IAApB;AACA,gBAAIK,SAAS,GAAG,KAAhB;;AACA,gBAAIxB,GAAJ,EAAS;AACL,kBAAIjB,UAAU,GAAGt5E,KAAK,CAACw7E,WAAN,CAAkBlC,UAAnC;AACA,kBAAI0C,UAAU,GAAGzB,GAAG,CAACU,WAAJ,KAAoB3B,UAAU,CAAC2B,WAA/B,IACVj7E,KAAK,CAAC28C,iBADI,IAEV,CAAC38C,KAAK,CAAC28C,iBAAN,CAAwB28B,UAAxB,EAAoCiB,GAApC,CAFR;;AAGA,kBAAI,CAACyB,UAAL,EAAiB;AACbN,6BAAa,GAAGO,qBAAqB,CAAC3C,UAAD,EAAaiB,GAAb,EAAkBtxF,OAAO,CAACoR,WAAR,CAAoB8lC,yBAAtC,CAArC;AACH;;AACD,kBAAI,CAACu7C,aAAD,IAAkB,CAAC,kFAAqBA,aAArB,EAAoCnB,GAAG,CAAC14D,WAAxC,EAAqD54B,OAArD,CAAvB,EAAsF;AAClF8yF,yBAAS,GAAG,IAAZ;AACAL,6BAAa,GAAG,IAAhB;AACH;AACJ;;AACD,gBAAIA,aAAJ,EAAmB;AACfzyF,qBAAO,CAACI,QAAR,CAAiB;AAAEC,oBAAI,EAAE,cAAR;AAAwBu2B,yBAAS,EAAE67D;AAAnC,eAAjB;AACH,aAFD,MAGK,IAAI,CAACI,OAAL,EAAc;AAAE;AACjB7yF,qBAAO,CAACI,QAAR,CAAiB;AAAEC,oBAAI,EAAE;AAAR,eAAjB;AACH;;AACD,gBAAI,CAACyyF,SAAL,EAAgB;AACZ;AACH,aAFD,MAGK;AACD;AACH;;AACD,gBAAI,CAACD,OAAL,EAAc;AACV97E,mBAAK,CAAC07E,aAAN,GAAsBA,aAAtB,CADU,CAC2B;AACxC;AACJ,WAhCD;;AAiCA17E,eAAK,CAAC65E,eAAN,GAAwB,UAAU/5D,GAAV,EAAe;AACnC,gBAAI9f,KAAK,CAAC07E,aAAV,EAAyB;AACrB;AACA,6FAAkB17E,KAAK,CAAC07E,aAAxB,EAAuC57D,GAAvC,EAA4C9f,KAAK,CAACqS,SAAN,CAAgBppB,OAA5D;AACA+W,mBAAK,CAAC07E,aAAN,GAAsB,IAAtB;AACH;AACJ,WAND;;AAOA,cAAIrpE,SAAS,GAAGgU,QAAQ,CAAChU,SAAzB;AACA,cAAI/X,OAAO,GAAG+X,SAAS,CAACppB,OAAV,CAAkBqR,OAAhC;AACA,cAAI4+E,QAAQ,GAAGl5E,KAAK,CAACk5E,QAAN,GAAiB,IAAI/B,yBAAJ,CAA8B9wD,QAAQ,CAACh8B,EAAvC,CAAhC;AACA6uF,kBAAQ,CAAC7B,kBAAT,GAA8B,KAA9B;AACA6B,kBAAQ,CAAC9B,WAAT,GAAuB98E,OAAO,CAACqU,iBAAR,IAA6B,CAApD;AACAuqE,kBAAQ,CAAChB,YAAT,CAAsBhD,SAAtB,GAAkC56E,OAAO,CAACgQ,UAA1C;AACA,cAAIkxE,WAAW,GAAGx7E,KAAK,CAACw7E,WAAN,GAAoB,IAAIvC,WAAJ,CAAgBj5E,KAAK,CAACk5E,QAAtB,EAAgC,wFAA2B7yD,QAA3B,CAAhC,CAAtC;AACAm1D,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,aAAvB,EAAsCpkB,KAAK,CAACy5E,iBAA5C;AACA+B,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,WAAvB,EAAoCpkB,KAAK,CAAC25E,eAA1C;AACA6B,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,WAAvB,EAAoCpkB,KAAK,CAAC67E,eAA1C;AACAL,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,WAAvB,EAAoCpkB,KAAK,CAAC65E,eAA1C;AACA,iBAAO75E,KAAP;AACH;;AACDy7E,qBAAa,CAACtyF,SAAd,CAAwB87C,OAAxB,GAAkC,YAAY;AAC1C,eAAKi0C,QAAL,CAAcj0C,OAAd;AACH,SAFD;;AAGA,eAAOw2C,aAAP;AACH,OA3EkC,CA2EjC,gEA3EiC,CAAnC;;AA4EA,eAASG,wBAAT,CAAkCvpE,SAAlC,EAA6C;AACzC,YAAI/X,OAAO,GAAG+X,SAAS,CAACppB,OAAV,CAAkBqR,OAAhC;AACA,YAAI64C,KAAK,GAAG74C,OAAO,CAACuU,oBAApB;;AACA,YAAIskC,KAAK,IAAI,IAAb,EAAmB;AACfA,eAAK,GAAG74C,OAAO,CAACwQ,cAAhB;AACH;;AACD,eAAOqoC,KAAP;AACH;;AACD,eAAS8oC,qBAAT,CAA+Bf,IAA/B,EAAqCC,IAArC,EAA2Ch7C,yBAA3C,EAAsE;AAClE,YAAI+7C,SAAS,GAAGhB,IAAI,CAACv7D,QAArB;AACA,YAAIw8D,SAAS,GAAGhB,IAAI,CAACx7D,QAArB;AACA,YAAIhjB,EAAE,GAAG,CACLu/E,SAAS,CAACxlF,KAAV,CAAgBuE,KADX,EAELihF,SAAS,CAACxlF,KAAV,CAAgBwE,GAFX,EAGLihF,SAAS,CAACzlF,KAAV,CAAgBuE,KAHX,EAILkhF,SAAS,CAACzlF,KAAV,CAAgBwE,GAJX,CAAT;AAMAyB,UAAE,CAAC0c,IAAH,CAAQ,mEAAR;AACA,YAAI7sB,KAAK,GAAG,EAAZ;;AACA,aAAK,IAAIuL,EAAE,GAAG,CAAT,EAAYqkF,2BAA2B,GAAGj8C,yBAA/C,EAA0EpoC,EAAE,GAAGqkF,2BAA2B,CAACxwF,MAA3G,EAAmHmM,EAAE,EAArH,EAAyH;AACrH,cAAIykB,WAAW,GAAG4/D,2BAA2B,CAACrkF,EAAD,CAA7C;AACA,cAAIsB,GAAG,GAAGmjB,WAAW,CAAC0+D,IAAD,EAAOC,IAAP,CAArB;;AACA,cAAI9hF,GAAG,KAAK,KAAZ,EAAmB;AACf,mBAAO,IAAP;AACH;;AACD,cAAIA,GAAJ,EAAS;AACL,mEAAS7M,KAAT,EAAgB6M,GAAhB;AACH;AACJ;;AACD7M,aAAK,CAACkK,KAAN,GAAc;AAAEuE,eAAK,EAAE0B,EAAE,CAAC,CAAD,CAAX;AAAgBzB,aAAG,EAAEyB,EAAE,CAAC,CAAD;AAAvB,SAAd;AACAnQ,aAAK,CAACqN,MAAN,GAAeqiF,SAAS,CAACriF,MAAzB;AACA,eAAOrN,KAAP;AACH;;AAED,UAAI6vF,aAAa;AAAG;AAAe,gBAAUjhD,MAAV,EAAkB;AACjD,gEAAUihD,aAAV,EAAyBjhD,MAAzB;;AACA,iBAASihD,aAAT,CAAuBh2D,QAAvB,EAAiC;AAC7B,cAAIrmB,KAAK,GAAGo7B,MAAM,CAAC/vC,IAAP,CAAY,IAAZ,EAAkBg7B,QAAlB,KAA+B,IAA3C,CAD6B,CAE7B;;;AACArmB,eAAK,CAACmwE,SAAN,GAAkB,IAAlB;AACAnwE,eAAK,CAACs8E,UAAN,GAAmB,IAAnB,CAJ6B,CAIJ;;AACzBt8E,eAAK,CAACoe,UAAN,GAAmB,KAAnB;AACApe,eAAK,CAACmc,UAAN,GAAmB,IAAnB;AACAnc,eAAK,CAAC2pB,cAAN,GAAuB,IAAvB,CAP6B,CAOA;;AAC7B3pB,eAAK,CAACu8E,gBAAN,GAAyB,IAAzB;AACAv8E,eAAK,CAACw8E,aAAN,GAAsB,IAAtB;AACAx8E,eAAK,CAACy8E,qBAAN,GAA8B,IAA9B;;AACAz8E,eAAK,CAACy5E,iBAAN,GAA0B,UAAUzsF,EAAV,EAAc;AACpC,gBAAI0vF,UAAU,GAAG1vF,EAAE,CAACmzB,SAAH,CAAa/yB,MAA9B;AACA,gBAAIH,EAAE,GAAG+S,KAAT;AAAA,gBAAgBqS,SAAS,GAAGplB,EAAE,CAAColB,SAA/B;AAAA,gBAA0C6mE,QAAQ,GAAGjsF,EAAE,CAACisF,QAAxD;AACA,gBAAIrB,MAAM,GAAGqB,QAAQ,CAACrB,MAAtB;AACA,gBAAIv9E,OAAO,GAAG+X,SAAS,CAACppB,OAAV,CAAkBqR,OAAhC;AACA,gBAAIqiF,cAAc,GAAGtqE,SAAS,CAACppB,OAA/B;AACA+W,iBAAK,CAACmwE,SAAN,GAAkBnjF,EAAE,CAACmjF,SAArB;AACA,gBAAImM,UAAU,GAAGt8E,KAAK,CAACs8E,UAAN,GAAmB,sEAAStvF,EAAE,CAACmjF,SAAZ,CAApC;AACA,gBAAIh0D,UAAU,GAAGnc,KAAK,CAACmc,UAAN,GAAmBmgE,UAAU,CAACngE,UAA/C;AACA,gBAAIoxB,eAAe,GAAGpxB,UAAU,CAAC1hB,QAAX,CAAoB5D,UAA1C;AACAmJ,iBAAK,CAAC2pB,cAAN,GAAuB,+EAAkBgzD,cAAc,CAACh7D,cAAf,GAAgCxnB,UAAlD,EAA8DozC,eAA9D,CAAvB;AACA2rC,oBAAQ,CAAC9B,WAAT,GAAuBpqF,EAAE,CAACilF,OAAH,GAAa,CAAb,GAAiB33E,OAAO,CAACyQ,oBAAhD;AACAmuE,oBAAQ,CAAC/lC,KAAT,GACI;AACCnmD,cAAE,CAACilF,OAAH,IAAc1kC,eAAe,KAAKl7B,SAAS,CAAC7lB,KAAV,CAAgB2lC,cAAnD,GACIyqD,sBAAsB,CAACvqE,SAAD,CAD1B,GAEI,IAJR;;AAKA,gBAAI/X,OAAO,CAACuiF,iBAAZ,EAA+B;AAC3BhF,oBAAM,CAACvtF,UAAP,GAAoBgQ,OAAO,CAACuiF,iBAA5B;AACH,aAFD,MAGK;AACDhF,oBAAM,CAACvtF,UAAP,GAAoB,4EAAeoyF,UAAf,EAA2B,KAA3B,CAApB;AACH;;AACD7E,kBAAM,CAACzE,cAAP,GAAwB94E,OAAO,CAAC+P,kBAAhC;AACA,gBAAIm+B,OAAO,GAAGn2B,SAAS,CAACstB,gBAAV,CAA2B+8C,UAA3B,KACV,CAAC,4EAAeA,UAAf,EAA2B,mBAA3B,CADL,CAxBoC,CAyBkB;;AACtDxD,oBAAQ,CAACV,aAAT,CAAuB,CAAChwC,OAAxB,EA1BoC,CA2BpC;AACA;;AACAxoC,iBAAK,CAACoe,UAAN,GAAmBoqB,OAAO,IACtBx7C,EAAE,CAACmjF,SAAH,CAAajhF,SAAb,CAAuBrE,QAAvB,CAAgC,oBAAhC,CADJ;AAEH,WA/BD;;AAgCAmV,eAAK,CAAC25E,eAAN,GAAwB,UAAU3sF,EAAV,EAAc;AAClC,gBAAI2vF,cAAc,GAAG38E,KAAK,CAACqS,SAAN,CAAgBppB,OAArC;AACA,gBAAIkzB,UAAU,GAAGnc,KAAK,CAACmc,UAAvB;AACA,gBAAIoxB,eAAe,GAAGpxB,UAAU,CAAC1hB,QAAX,CAAoB5D,UAA1C;;AACA,gBAAI7J,EAAE,CAACilF,OAAP,EAAgB;AACZ;AACA,kBAAI1kC,eAAe,KAAKvtC,KAAK,CAACqS,SAAN,CAAgB7lB,KAAhB,CAAsB2lC,cAA9C,EAA8D;AAC1DwqD,8BAAc,CAACtzF,QAAf,CAAwB;AAAEC,sBAAI,EAAE,cAAR;AAAwBikD,iCAAe,EAAEA;AAAzC,iBAAxB;AACH;AACJ,aALD,MAMK;AACD;AACAovC,4BAAc,CAACtzF,QAAf,CAAwB;AAAEC,oBAAI,EAAE;AAAR,eAAxB;AACH;;AACD,gBAAI0W,KAAK,CAACoe,UAAV,EAAsB;AAClBu+D,4BAAc,CAACr8D,WAAf,CAA2BnP,QAA3B,CAAoCnkB,EAApC,EADkB,CACuB;;AACzC2vF,4BAAc,CAAC58D,OAAf,CAAuBC,OAAvB,CAA+B,gBAA/B,EAAiD;AAC7C31B,kBAAE,EAAE2V,KAAK,CAACmwE,SADmC;AAE7C7oD,qBAAK,EAAE,IAAI,6DAAJ,CAAaq1D,cAAb,EAA6BxgE,UAAU,CAACxhB,GAAxC,EAA6CwhB,UAAU,CAAC1hB,QAAxD,CAFsC;AAG7CylB,uBAAO,EAAElzB,EAAE,CAACmzB,SAHiC;AAI7CC,oBAAI,EAAEu8D,cAAc,CAACt8D;AAJwB,eAAjD;AAMH;AACJ,WAvBD;;AAwBArgB,eAAK,CAAC67E,eAAN,GAAwB,UAAUtB,GAAV,EAAeuB,OAAf,EAAwB;AAC5C,gBAAI,CAAC97E,KAAK,CAACoe,UAAX,EAAuB;AACnB;AACH;;AACD,gBAAIuL,cAAc,GAAG3pB,KAAK,CAAC2pB,cAA3B;AACA,gBAAI2vD,UAAU,GAAGt5E,KAAK,CAACw7E,WAAN,CAAkBlC,UAAnC;AACA,gBAAIqD,cAAc,GAAG38E,KAAK,CAACqS,SAAN,CAAgBppB,OAArC,CAN4C,CAO5C;;AACA,gBAAIszF,gBAAgB,GAAG,IAAvB;AACA,gBAAI17D,QAAQ,GAAG,IAAf;AACA,gBAAI47D,qBAAqB,GAAG,IAA5B;AACA,gBAAIV,SAAS,GAAG,KAAhB;AACA,gBAAIppD,WAAW,GAAG;AACdG,4BAAc,EAAEnJ,cADF;AAEdqJ,2BAAa,EAAE,oFAFD;AAGdG,qBAAO,EAAE;AAHK,aAAlB;;AAKA,gBAAIonD,GAAJ,EAAS;AACLgC,8BAAgB,GAAGhC,GAAG,CAACtxF,OAAvB;AACA,kBAAI6zF,gBAAgB,GAAGP,gBAAgB,CAACjiF,OAAxC;;AACA,kBAAIqiF,cAAc,KAAKJ,gBAAnB,IACCO,gBAAgB,CAACzzE,QAAjB,IAA6ByzE,gBAAgB,CAAC5vE,SADnD,EAC+D;AAC3D2T,wBAAQ,GAAGk8D,oBAAoB,CAACzD,UAAD,EAAaiB,GAAb,EAAkBgC,gBAAgB,CAAC56D,cAAjB,GAAkCtnB,WAAlC,CAA8C6lC,0BAAhE,CAA/B;;AACA,oBAAIrf,QAAJ,EAAc;AACV47D,uCAAqB,GAAG,uFAA0B9yD,cAA1B,EAA0C4yD,gBAAgB,CAAC56D,cAAjB,GAAkCxH,YAA5E,EAA0F0G,QAA1F,EAAoG07D,gBAApG,CAAxB;AACA5pD,6BAAW,CAACK,aAAZ,GAA4BypD,qBAA5B;;AACA,sBAAI,CAAC,gFAAmB9pD,WAAnB,EAAgC4nD,GAAG,CAAC14D,WAApC,EAAiD06D,gBAAjD,CAAL,EAAyE;AACrER,6BAAS,GAAG,IAAZ;AACAl7D,4BAAQ,GAAG,IAAX;AACA47D,yCAAqB,GAAG,IAAxB;AACA9pD,+BAAW,CAACK,aAAZ,GAA4B,oFAA5B;AACH;AACJ;AACJ,eAbD,MAcK;AACDupD,gCAAgB,GAAG,IAAnB;AACH;AACJ;;AACDv8E,iBAAK,CAACg9E,WAAN,CAAkBT,gBAAlB,EAAoC5pD,WAApC;;AACA,gBAAI,CAACopD,SAAL,EAAgB;AACZ;AACH,aAFD,MAGK;AACD;AACH;;AACD,gBAAI,CAACD,OAAL,EAAc;AACV,kBAAIa,cAAc,KAAKJ,gBAAnB,IAAuC;AACvC/B,yBAAW,CAAClB,UAAD,EAAaiB,GAAb,CADf,EACkC;AAC9B15D,wBAAQ,GAAG,IAAX;AACH;;AACD7gB,mBAAK,CAACk5E,QAAN,CAAe/7B,oBAAf,CAAoC,CAACt8B,QAArC,EALU,CAMV;AACA;;;AACA7gB,mBAAK,CAACk5E,QAAN,CAAej8B,kBAAf,CAAkC,CAACs9B,GAAD,IAAQ,CAAC,uEAAUv6E,KAAK,CAACmwE,SAAhB,EAA2Bx+E,aAA3B,CAAyC,kBAAzC,CAA3C,EARU,CASV;;;AACAqO,mBAAK,CAACu8E,gBAAN,GAAyBA,gBAAzB;AACAv8E,mBAAK,CAACw8E,aAAN,GAAsB37D,QAAtB;AACA7gB,mBAAK,CAACy8E,qBAAN,GAA8BA,qBAA9B;AACH;AACJ,WA3DD;;AA4DAz8E,eAAK,CAAC65E,eAAN,GAAwB,YAAY;AAChC,gBAAI,CAAC75E,KAAK,CAACoe,UAAX,EAAuB;AACnBpe,mBAAK,CAACkxE,OAAN,GADmB,CACF;;AACpB;AACJ,WAJD;;AAKAlxE,eAAK,CAAC+5E,aAAN,GAAsB,UAAU/sF,EAAV,EAAc;AAChC,gBAAIgT,KAAK,CAACoe,UAAV,EAAsB;AAClB,kBAAI6+D,gBAAgB,GAAGj9E,KAAK,CAACqS,SAAN,CAAgBppB,OAAvC;AACA,kBAAI0f,WAAW,GAAGs0E,gBAAgB,CAAC58D,OAAnC;AACA,kBAAIpzB,EAAE,GAAG+S,KAAT;AAAA,kBAAgBk9E,kBAAkB,GAAGjwF,EAAE,CAACsvF,gBAAxC;AAAA,kBAA0DC,aAAa,GAAGvvF,EAAE,CAACuvF,aAA7E;AACA,kBAAIrhF,QAAQ,GAAG6E,KAAK,CAACmc,UAAN,CAAiBxhB,GAAhC;AACA,kBAAIsiB,aAAa,GAAGjd,KAAK,CAACmc,UAAN,CAAiB1hB,QAArC;AACA,kBAAI4sB,QAAQ,GAAG,IAAI,6DAAJ,CAAa41D,gBAAb,EAA+B9hF,QAA/B,EAAyC8hB,aAAzC,CAAf;AACA,kBAAIkgE,gBAAgB,GAAGn9E,KAAK,CAAC2pB,cAA7B;AACA,kBAAIyzD,uBAAuB,GAAGp9E,KAAK,CAACy8E,qBAApC;AACA,kBAAIjD,QAAQ,GAAGx5E,KAAK,CAACw7E,WAAN,CAAkBhC,QAAjC;;AACAx5E,mBAAK,CAACq9E,SAAN,GAVkB,CAUC;;;AACnBJ,8BAAgB,CAACl9D,OAAjB,CAAyBC,OAAzB,CAAiC,eAAjC,EAAkD;AAC9C31B,kBAAE,EAAE2V,KAAK,CAACmwE,SADoC;AAE9C7oD,qBAAK,EAAED,QAFuC;AAG9CnH,uBAAO,EAAElzB,EAAE,CAACmzB,SAHkC;AAI9CC,oBAAI,EAAEzX;AAJwC,eAAlD;;AAMA,kBAAI6zE,aAAJ,EAAmB;AACf;AACA,oBAAIU,kBAAkB,KAAKD,gBAA3B,EAA6C;AACzC,sBAAIK,eAAe,GAAG,IAAI,6DAAJ,CAAaL,gBAAb,EAA+BG,uBAAuB,CAAC7iF,IAAxB,CAA6BY,QAAQ,CAAC1E,KAAtC,CAA/B,EAA6EwmB,aAAa,GAAGmgE,uBAAuB,CAAC5iF,SAAxB,CAAkCyiB,aAAa,CAACpmB,UAAhD,CAAH,GAAiE,IAA3J,CAAtB;AACAomF,kCAAgB,CAAC5zF,QAAjB,CAA0B;AACtBC,wBAAI,EAAE,cADgB;AAEtB6Q,8BAAU,EAAEijF;AAFU,mBAA1B;AAIA,sBAAIG,cAAc,GAAG;AACjB3zD,4BAAQ,EAAEvC,QADO;AAEjBC,yBAAK,EAAEg2D,eAFU;AAGjB/1D,iCAAa,EAAE,4EAAe61D,uBAAf,EAAwCH,gBAAxC,EAA0DhgE,aAA1D,CAHE;AAIjBuK,0BAAM,EAAE,kBAAY;AAChBy1D,sCAAgB,CAAC5zF,QAAjB,CAA0B;AACtBC,4BAAI,EAAE,cADgB;AAEtB6Q,kCAAU,EAAEgjF,gBAFU,CAEQ;;AAFR,uBAA1B;AAIH;AATgB,mBAArB;AAWA,sBAAIK,WAAW,GAAG,EAAlB;;AACA,uBAAK,IAAIzlF,EAAE,GAAG,CAAT,EAAY7K,EAAE,GAAG+vF,gBAAgB,CAACt7D,cAAjB,GAAkCtnB,WAAlC,CAA8ComC,qBAApE,EAA2F1oC,EAAE,GAAG7K,EAAE,CAACtB,MAAnG,EAA2GmM,EAAE,EAA7G,EAAiH;AAC7G,wBAAIykB,WAAW,GAAGtvB,EAAE,CAAC6K,EAAD,CAApB;AACA,2EAASylF,WAAT,EAAsBhhE,WAAW,CAACggE,aAAD,EAAgBS,gBAAhB,CAAjC;AACH;;AACDA,kCAAgB,CAACl9D,OAAjB,CAAyBC,OAAzB,CAAiC,WAAjC,EAA8C,uDAAS,uDAAS,uDAAS,EAAT,EAAau9D,cAAb,CAAT,EAAuCC,WAAvC,CAAT,EAA8D;AAAEnzF,sBAAE,EAAE2C,EAAE,CAACmjF,SAAT;AAAoBjqD,yBAAK,EAAEs2D,aAAa,CAAC/6D,UAAzC;AAAqDvB,2BAAO,EAAElzB,EAAE,CAACmzB,SAAjE;AAA4EC,wBAAI,EAAEzX;AAAlF,mBAA9D,CAA9C;AACAs0E,kCAAgB,CAACl9D,OAAjB,CAAyBC,OAAzB,CAAiC,aAAjC,EAAgDu9D,cAAhD,EAvByC,CAwBzC;AACH,iBAzBD,MA0BK,IAAIL,kBAAJ,EAAwB;AACzB,sBAAIO,cAAc,GAAG;AACjBn2D,yBAAK,EAAED,QADU;AAEjBE,iCAAa,EAAE,4EAAe41D,gBAAf,EAAiCF,gBAAjC,EAAmDhgE,aAAnD,CAFE;AAGjBuK,0BAAM,EAAE,kBAAY;AAChBy1D,sCAAgB,CAAC5zF,QAAjB,CAA0B;AACtBC,4BAAI,EAAE,cADgB;AAEtB6Q,kCAAU,EAAEgjF;AAFU,uBAA1B;AAIH;AARgB,mBAArB;AAUAF,kCAAgB,CAACl9D,OAAjB,CAAyBC,OAAzB,CAAiC,YAAjC,EAA+C,uDAAS,uDAAS,EAAT,EAAay9D,cAAb,CAAT,EAAuC;AAAEC,6BAAS,EAAE1wF,EAAE,CAACmjF,SAAhB;AAA2B/vD,wBAAI,EAAEzX;AAAjC,mBAAvC,CAA/C;AACAs0E,kCAAgB,CAAC5zF,QAAjB,CAA0B;AACtBC,wBAAI,EAAE,eADgB;AAEtB6Q,8BAAU,EAAEgjF;AAFU,mBAA1B;AAIAF,kCAAgB,CAACl9D,OAAjB,CAAyBC,OAAzB,CAAiC,aAAjC,EAAgDy9D,cAAhD;AACA,sBAAIE,aAAa,GAAGP,uBAAuB,CAAC7iF,IAAxB,CAA6BY,QAAQ,CAAC1E,KAAtC,CAApB;AACA,sBAAImnF,kBAAkB,GAAGR,uBAAuB,CAAC5iF,SAAxB,CAAkCyiB,aAAa,CAACpmB,UAAhD,CAAzB;AACA,sBAAIgnF,aAAa,GAAG,IAAI,6DAAJ,CAAaX,kBAAb,EAAiCS,aAAjC,EAAgDC,kBAAhD,CAApB;AACAV,oCAAkB,CAAC7zF,QAAnB,CAA4B;AACxBC,wBAAI,EAAE,cADkB;AAExB6Q,8BAAU,EAAEijF;AAFY,mBAA5B;AAIA,sBAAIU,WAAW,GAAG;AACdx2D,yBAAK,EAAEu2D,aADO;AAEdt2D,iCAAa,EAAE,4EAAe61D,uBAAf,EAAwCF,kBAAxC,EAA4DU,kBAA5D,CAFD;AAGdp2D,0BAAM,EAAE,kBAAY;AAChB01D,wCAAkB,CAAC7zF,QAAnB,CAA4B;AACxBC,4BAAI,EAAE,eADkB;AAExB6Q,kCAAU,EAAEijF;AAFY,uBAA5B;AAIH;AARa,mBAAlB;AAUAF,oCAAkB,CAACn9D,OAAnB,CAA2BC,OAA3B,CAAmC,UAAnC,EAA+C89D,WAA/C;;AACA,sBAAI9wF,EAAE,CAACilF,OAAP,EAAgB;AACZiL,sCAAkB,CAAC7zF,QAAnB,CAA4B;AACxBC,0BAAI,EAAE,cADkB;AAExBikD,qCAAe,EAAEtwB,aAAa,CAACpmB;AAFP,qBAA5B;AAIH;;AACDqmF,oCAAkB,CAACn9D,OAAnB,CAA2BC,OAA3B,CAAmC,MAAnC,EAA2C,uDAAS,uDAAS,EAAT,EAAao7D,4BAA4B,CAAC5B,QAAQ,CAAC75D,QAAV,EAAoBu9D,kBAApB,CAAzC,CAAT,EAA4F;AAAEQ,6BAAS,EAAE1wF,EAAE,CAACmjF,SAAhB;AAA2BjwD,2BAAO,EAAElzB,EAAE,CAACmzB,SAAvC;AAAkDC,wBAAI,EAAEo5D,QAAQ,CAACvwF,OAAT,CAAiBo3B;AAAzE,mBAA5F,CAA3C;AACA68D,oCAAkB,CAACn9D,OAAnB,CAA2BC,OAA3B,CAAmC,cAAnC,EAAmD,uDAAS,uDAAS,EAAT,EAAa89D,WAAb,CAAT,EAAoC;AAAEJ,6BAAS,EAAE1wF,EAAE,CAACmjF,SAAhB;AAA2B/vD,wBAAI,EAAEo5D,QAAQ,CAACvwF,OAAT,CAAiBo3B;AAAlD,mBAApC,CAAnD;AACH;AACJ,eAxED,MAyEK;AACD48D,gCAAgB,CAACl9D,OAAjB,CAAyBC,OAAzB,CAAiC,cAAjC;AACH;AACJ;;AACDhgB,iBAAK,CAACkxE,OAAN;AACH,WAhGD;;AAiGA,cAAI7+D,SAAS,GAAGrS,KAAK,CAACqS,SAAtB;AACA,cAAI/X,OAAO,GAAG+X,SAAS,CAACppB,OAAV,CAAkBqR,OAAhC;AACA,cAAI4+E,QAAQ,GAAGl5E,KAAK,CAACk5E,QAAN,GAAiB,IAAI/B,yBAAJ,CAA8B9wD,QAAQ,CAACh8B,EAAvC,CAAhC;AACA6uF,kBAAQ,CAACtB,OAAT,CAAiBntF,QAAjB,GAA4B4xF,aAAa,CAAC0B,QAA1C;AACA7E,kBAAQ,CAAC7B,kBAAT,GAA8B,KAA9B;AACA6B,kBAAQ,CAAChB,YAAT,CAAsBhD,SAAtB,GAAkC56E,OAAO,CAACgQ,UAA1C;AACA,cAAIkxE,WAAW,GAAGx7E,KAAK,CAACw7E,WAAN,GAAoB,IAAIvC,WAAJ,CAAgBj5E,KAAK,CAACk5E,QAAtB,EAAgC,6EAAhC,CAAtC;AACAsC,qBAAW,CAACpC,gBAAZ,GAA+B/yD,QAAQ,CAACw2B,cAAxC;AACA2+B,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,aAAvB,EAAsCpkB,KAAK,CAACy5E,iBAA5C;AACA+B,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,WAAvB,EAAoCpkB,KAAK,CAAC25E,eAA1C;AACA6B,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,WAAvB,EAAoCpkB,KAAK,CAAC67E,eAA1C;AACAL,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,WAAvB,EAAoCpkB,KAAK,CAAC65E,eAA1C;AACA2B,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,SAAvB,EAAkCpkB,KAAK,CAAC+5E,aAAxC;AACA,iBAAO/5E,KAAP;AACH;;AACDq8E,qBAAa,CAAClzF,SAAd,CAAwB87C,OAAxB,GAAkC,YAAY;AAC1C,eAAKi0C,QAAL,CAAcj0C,OAAd;AACH,SAFD,CAtPiD,CAyPjD;;;AACAo3C,qBAAa,CAAClzF,SAAd,CAAwB6zF,WAAxB,GAAsC,UAAUgB,WAAV,EAAuBj5D,KAAvB,EAA8B;AAChE,cAAI43D,cAAc,GAAG,KAAKtqE,SAAL,CAAeppB,OAApC;AACA,cAAIg1F,WAAW,GAAG,KAAK1B,gBAAvB,CAFgE,CAGhE;;AACA,cAAI0B,WAAW,IAAIA,WAAW,KAAKD,WAAnC,EAAgD;AAC5C;AACA;AACA,gBAAIC,WAAW,KAAKtB,cAApB,EAAoC;AAChCsB,yBAAW,CAAC50F,QAAZ,CAAqB;AACjBC,oBAAI,EAAE,gBADW;AAEjBy7B,qBAAK,EAAE;AACH+N,gCAAc,EAAE/N,KAAK,CAAC+N,cADnB;AAEHE,+BAAa,EAAE,oFAFZ;AAGHG,yBAAO,EAAE;AAHN;AAFU,eAArB,EADgC,CAShC;AACH,aAVD,MAWK;AACD8qD,yBAAW,CAAC50F,QAAZ,CAAqB;AAAEC,oBAAI,EAAE;AAAR,eAArB;AACH;AACJ;;AACD,cAAI00F,WAAJ,EAAiB;AACbA,uBAAW,CAAC30F,QAAZ,CAAqB;AAAEC,kBAAI,EAAE,gBAAR;AAA0By7B,mBAAK,EAAEA;AAAjC,aAArB;AACH;AACJ,SAzBD;;AA0BAs3D,qBAAa,CAAClzF,SAAd,CAAwBk0F,SAAxB,GAAoC,YAAY;AAC5C,cAAIa,eAAe,GAAG,KAAK7rE,SAAL,CAAeppB,OAArC;AACA,cAAIszF,gBAAgB,GAAG,KAAKA,gBAA5B;;AACA,cAAIA,gBAAJ,EAAsB;AAClBA,4BAAgB,CAAClzF,QAAjB,CAA0B;AAAEC,kBAAI,EAAE;AAAR,aAA1B;AACH,WAL2C,CAM5C;;;AACA,cAAI40F,eAAe,KAAK3B,gBAAxB,EAA0C;AACtC2B,2BAAe,CAAC70F,QAAhB,CAAyB;AAAEC,kBAAI,EAAE;AAAR,aAAzB;AACH;AACJ,SAVD;;AAWA+yF,qBAAa,CAAClzF,SAAd,CAAwB+nF,OAAxB,GAAkC,YAAY;AAC1C,eAAKoL,UAAL,GAAkB,IAAlB;AACA,eAAKl+D,UAAL,GAAkB,KAAlB;AACA,eAAKjC,UAAL,GAAkB,IAAlB;AACA,eAAKwN,cAAL,GAAsB,IAAtB;AACA,eAAK4yD,gBAAL,GAAwB,IAAxB;AACA,eAAKC,aAAL,GAAqB,IAArB;AACA,eAAKC,qBAAL,GAA6B,IAA7B;AACH,SARD,CA/RiD,CAwSjD;AACA;;;AACAJ,qBAAa,CAAC0B,QAAd,GAAyB,0CAAzB;AACA,eAAO1B,aAAP;AACH,OA5SkC,CA4SjC,gEA5SiC,CAAnC;;AA6SA,eAASU,oBAAT,CAA8B7B,IAA9B,EAAoCC,IAApC,EAA0CgD,SAA1C,EAAqD;AACjD,YAAIjC,SAAS,GAAGhB,IAAI,CAACv7D,QAArB;AACA,YAAIw8D,SAAS,GAAGhB,IAAI,CAACx7D,QAArB;AACA,YAAIlH,KAAK,GAAGyjE,SAAS,CAACxlF,KAAV,CAAgBuE,KAA5B;AACA,YAAIyd,KAAK,GAAGyjE,SAAS,CAACzlF,KAAV,CAAgBuE,KAA5B;AACA,YAAI4jB,aAAa,GAAG,EAApB;;AACA,YAAIq9D,SAAS,CAACriF,MAAV,KAAqBsiF,SAAS,CAACtiF,MAAnC,EAA2C;AACvCglB,uBAAa,CAAChlB,MAAd,GAAuBsiF,SAAS,CAACtiF,MAAjC;AACAglB,uBAAa,CAAC1H,MAAd,GAAuBgkE,IAAI,CAAClyF,OAAL,CAAaqR,OAAb,CAAqBiQ,sBAA5C;;AACA,cAAI4xE,SAAS,CAACtiF,MAAd,EAAsB;AAClB;AACA;AACA4e,iBAAK,GAAG,wEAAWA,KAAX,CAAR;AACH;AACJ;;AACD,YAAIyN,KAAK,GAAG,uEAAUzN,KAAV,EAAiBC,KAAjB,EAAwBwiE,IAAI,CAACjyF,OAAL,CAAawQ,OAArC,EAA8CyhF,IAAI,CAACD,WAAL,KAAqBE,IAAI,CAACF,WAA1B,GACtDC,IAAI,CAACviE,SADiD,GAEtD,IAFQ,CAAZ;;AAGA,YAAIuN,KAAK,CAAC1yB,YAAV,EAAwB;AAAE;AACtBqrB,uBAAa,CAAChlB,MAAd,GAAuB,KAAvB;AACH;;AACD,YAAIgnB,QAAQ,GAAG;AACXY,oBAAU,EAAEyE,KADD;AAEXrH,uBAAa,EAAEA;AAFJ,SAAf;;AAIA,aAAK,IAAI9mB,EAAE,GAAG,CAAT,EAAYqmF,WAAW,GAAGD,SAA/B,EAA0CpmF,EAAE,GAAGqmF,WAAW,CAACxyF,MAA3D,EAAmEmM,EAAE,EAArE,EAAyE;AACrE,cAAIsmF,QAAQ,GAAGD,WAAW,CAACrmF,EAAD,CAA1B;AACAsmF,kBAAQ,CAACx9D,QAAD,EAAWq6D,IAAX,EAAiBC,IAAjB,CAAR;AACH;;AACD,eAAOt6D,QAAP;AACH;;AACD,eAAS+7D,sBAAT,CAAgCvqE,SAAhC,EAA2C;AACvC,YAAI/X,OAAO,GAAG+X,SAAS,CAACppB,OAAV,CAAkBqR,OAAhC;AACA,YAAI64C,KAAK,GAAG74C,OAAO,CAACwU,mBAApB;;AACA,YAAIqkC,KAAK,IAAI,IAAb,EAAmB;AACfA,eAAK,GAAG74C,OAAO,CAACwQ,cAAhB;AACH;;AACD,eAAOqoC,KAAP;AACH;;AAED,UAAImrC,aAAa;AAAG;AAAe,gBAAUljD,MAAV,EAAkB;AACjD,gEAAUkjD,aAAV,EAAyBljD,MAAzB;;AACA,iBAASkjD,aAAT,CAAuBj4D,QAAvB,EAAiC;AAC7B,cAAIrmB,KAAK,GAAGo7B,MAAM,CAAC/vC,IAAP,CAAY,IAAZ,EAAkBg7B,QAAlB,KAA+B,IAA3C,CAD6B,CAE7B;;;AACArmB,eAAK,CAACu+E,aAAN,GAAsB,IAAtB;AACAv+E,eAAK,CAACw+E,WAAN,GAAoB,IAApB,CAJ6B,CAIH;;AAC1Bx+E,eAAK,CAACmc,UAAN,GAAmB,IAAnB;AACAnc,eAAK,CAAC2pB,cAAN,GAAuB,IAAvB;AACA3pB,eAAK,CAACw8E,aAAN,GAAsB,IAAtB;AACAx8E,eAAK,CAACy8E,qBAAN,GAA8B,IAA9B;;AACAz8E,eAAK,CAACy5E,iBAAN,GAA0B,UAAUzsF,EAAV,EAAc;AACpC,gBAAIqlB,SAAS,GAAGrS,KAAK,CAACqS,SAAtB;;AACA,gBAAIotC,KAAK,GAAGz/C,KAAK,CAACy+E,UAAN,CAAiBzxF,EAAjB,CAAZ;;AACA,gBAAIuuB,GAAG,GAAG,sEAASkkC,KAAT,CAAV;AACA,gBAAItjC,UAAU,GAAGnc,KAAK,CAACmc,UAAN,GAAmBZ,GAAG,CAACY,UAAxC;AACAnc,iBAAK,CAACk5E,QAAN,CAAe9B,WAAf,GAA6B/kE,SAAS,CAACppB,OAAV,CAAkBqR,OAAlB,CAA0ByQ,oBAAvD,CALoC,CAMpC;;AACA/K,iBAAK,CAACk5E,QAAN,CAAeV,aAAf,CAA6B,CAACx4E,KAAK,CAACqS,SAAN,CAAgBstB,gBAAhB,CAAiC3yC,EAAE,CAACmzB,SAAH,CAAa/yB,MAA9C,CAAD,IACxBJ,EAAE,CAACilF,OAAH,IAAcjyE,KAAK,CAACqS,SAAN,CAAgB7lB,KAAhB,CAAsB2lC,cAAtB,KAAyChW,UAAU,CAAC1hB,QAAX,CAAoB5D,UADhF;AAEH,WATD;;AAUAmJ,eAAK,CAAC25E,eAAN,GAAwB,UAAU3sF,EAAV,EAAc;AAClC,gBAAI/D,OAAO,GAAG+W,KAAK,CAACqS,SAAN,CAAgBppB,OAA9B;AACA,gBAAIkzB,UAAU,GAAGnc,KAAK,CAACmc,UAAvB;AACAnc,iBAAK,CAAC2pB,cAAN,GAAuB,+EAAkB1gC,OAAO,CAAC04B,cAAR,GAAyBxnB,UAA3C,EAAuD6F,KAAK,CAACmc,UAAN,CAAiB1hB,QAAjB,CAA0B5D,UAAjF,CAAvB;;AACA,gBAAI4oD,KAAK,GAAGz/C,KAAK,CAACy+E,UAAN,CAAiBzxF,EAAjB,CAAZ;;AACAgT,iBAAK,CAACu+E,aAAN,GAAsB9+B,KAAtB;AACAz/C,iBAAK,CAACw+E,WAAN,GAAoB,sEAAS/+B,KAAT,CAApB;AACAx2D,mBAAO,CAACq3B,WAAR,CAAoBnP,QAApB;AACAloB,mBAAO,CAAC82B,OAAR,CAAgBC,OAAhB,CAAwB,kBAAxB,EAA4C;AACxC31B,gBAAE,EAAEo1D,KADoC;AAExCn4B,mBAAK,EAAE,IAAI,6DAAJ,CAAar+B,OAAb,EAAsBkzB,UAAU,CAACxhB,GAAjC,EAAsCwhB,UAAU,CAAC1hB,QAAjD,CAFiC;AAGxCylB,qBAAO,EAAElzB,EAAE,CAACmzB,SAH4B;AAIxCC,kBAAI,EAAEn3B,OAAO,CAACo3B;AAJ0B,aAA5C;AAMH,WAdD;;AAeArgB,eAAK,CAAC67E,eAAN,GAAwB,UAAUtB,GAAV,EAAeuB,OAAf,EAAwB9uF,EAAxB,EAA4B;AAChD,gBAAI/D,OAAO,GAAG+W,KAAK,CAACqS,SAAN,CAAgBppB,OAA9B;AACA,gBAAI0gC,cAAc,GAAG3pB,KAAK,CAAC2pB,cAA3B;AACA,gBAAI2vD,UAAU,GAAGt5E,KAAK,CAACw7E,WAAN,CAAkBlC,UAAnC;AACA,gBAAIr8D,aAAa,GAAGjd,KAAK,CAACmc,UAAN,CAAiB1hB,QAArC;AACA,gBAAIomB,QAAQ,GAAG,IAAf;AACA,gBAAI47D,qBAAqB,GAAG,IAA5B;AACA,gBAAIV,SAAS,GAAG,KAAhB;AACA,gBAAIppD,WAAW,GAAG;AACdG,4BAAc,EAAEnJ,cADF;AAEdqJ,2BAAa,EAAE,oFAFD;AAGdG,qBAAO,EAAE;AAHK,aAAlB;;AAKA,gBAAIonD,GAAJ,EAAS;AACL,kBAAIyB,UAAU,GAAGzB,GAAG,CAACU,WAAJ,KAAoB3B,UAAU,CAAC2B,WAA/B,IACVj7E,KAAK,CAAC28C,iBADI,IAEV,CAAC38C,KAAK,CAAC28C,iBAAN,CAAwB28B,UAAxB,EAAoCiB,GAApC,CAFR;;AAGA,kBAAI,CAACyB,UAAL,EAAiB;AACbn7D,wBAAQ,GAAG69D,eAAe,CAACpF,UAAD,EAAaiB,GAAb,EAAkBvtF,EAAE,CAACmjF,SAAH,CAAajhF,SAAb,CAAuBrE,QAAvB,CAAgC,wBAAhC,CAAlB,EAA6EoyB,aAAa,CAACvmB,KAA3F,CAA1B;AACH;AACJ;;AACD,gBAAImqB,QAAJ,EAAc;AACV47D,mCAAqB,GAAG,uFAA0B9yD,cAA1B,EAA0C1gC,OAAO,CAAC04B,cAAR,GAAyBxH,YAAnE,EAAiF0G,QAAjF,EAA2F53B,OAA3F,CAAxB;AACA0pC,yBAAW,CAACK,aAAZ,GAA4BypD,qBAA5B;;AACA,kBAAI,CAAC,gFAAmB9pD,WAAnB,EAAgC4nD,GAAG,CAAC14D,WAApC,EAAiD54B,OAAjD,CAAL,EAAgE;AAC5D8yF,yBAAS,GAAG,IAAZ;AACAl7D,wBAAQ,GAAG,IAAX;AACA47D,qCAAqB,GAAG,IAAxB;AACA9pD,2BAAW,CAACK,aAAZ,GAA4B,IAA5B;AACH;AACJ;;AACD,gBAAIypD,qBAAJ,EAA2B;AACvBxzF,qBAAO,CAACI,QAAR,CAAiB;AACbC,oBAAI,EAAE,kBADO;AAEby7B,qBAAK,EAAE4N;AAFM,eAAjB;AAIH,aALD,MAMK;AACD1pC,qBAAO,CAACI,QAAR,CAAiB;AAAEC,oBAAI,EAAE;AAAR,eAAjB;AACH;;AACD,gBAAI,CAACyyF,SAAL,EAAgB;AACZ;AACH,aAFD,MAGK;AACD;AACH;;AACD,gBAAI,CAACD,OAAL,EAAc;AACV,kBAAIj7D,QAAQ,IAAI25D,WAAW,CAAClB,UAAD,EAAaiB,GAAb,CAA3B,EAA8C;AAC1C15D,wBAAQ,GAAG,IAAX;AACH;;AACD7gB,mBAAK,CAACw8E,aAAN,GAAsB37D,QAAtB;AACA7gB,mBAAK,CAACy8E,qBAAN,GAA8BA,qBAA9B;AACH;AACJ,WArDD;;AAsDAz8E,eAAK,CAAC+5E,aAAN,GAAsB,UAAU/sF,EAAV,EAAc;AAChC,gBAAI/D,OAAO,GAAG+W,KAAK,CAACqS,SAAN,CAAgBppB,OAA9B;AACA,gBAAIkS,QAAQ,GAAG6E,KAAK,CAACmc,UAAN,CAAiBxhB,GAAhC;AACA,gBAAIsiB,aAAa,GAAGjd,KAAK,CAACmc,UAAN,CAAiB1hB,QAArC;AACA,gBAAI4sB,QAAQ,GAAG,IAAI,6DAAJ,CAAap+B,OAAb,EAAsBkS,QAAtB,EAAgC8hB,aAAhC,CAAf;AACA,gBAAI0M,cAAc,GAAG3pB,KAAK,CAAC2pB,cAA3B;AACA,gBAAI8yD,qBAAqB,GAAGz8E,KAAK,CAACy8E,qBAAlC;AACAxzF,mBAAO,CAAC82B,OAAR,CAAgBC,OAAhB,CAAwB,iBAAxB,EAA2C;AACvC31B,gBAAE,EAAE2V,KAAK,CAACu+E,aAD6B;AAEvCj3D,mBAAK,EAAED,QAFgC;AAGvCnH,qBAAO,EAAElzB,EAAE,CAACmzB,SAH2B;AAIvCC,kBAAI,EAAEn3B,OAAO,CAACo3B;AAJyB,aAA3C;;AAMA,gBAAIrgB,KAAK,CAACw8E,aAAV,EAAyB;AACrB,kBAAIc,eAAe,GAAG,IAAI,6DAAJ,CAAar0F,OAAb,EAAsBwzF,qBAAqB,CAACliF,IAAtB,CAA2BY,QAAQ,CAAC1E,KAApC,CAAtB,EAAkEwmB,aAAa,GAAGw/D,qBAAqB,CAACjiF,SAAtB,CAAgCyiB,aAAa,CAACpmB,UAA9C,CAAH,GAA+D,IAA9I,CAAtB;AACA5N,qBAAO,CAACI,QAAR,CAAiB;AACbC,oBAAI,EAAE,cADO;AAEb6Q,0BAAU,EAAEsiF;AAFC,eAAjB;AAIA,kBAAIc,cAAc,GAAG;AACjB3zD,wBAAQ,EAAEvC,QADO;AAEjBC,qBAAK,EAAEg2D,eAFU;AAGjB/1D,6BAAa,EAAE,4EAAek1D,qBAAf,EAAsCxzF,OAAtC,EAA+Cg0B,aAA/C,CAHE;AAIjBuK,sBAAM,EAAE,kBAAY;AAChBv+B,yBAAO,CAACI,QAAR,CAAiB;AACbC,wBAAI,EAAE,cADO;AAEb6Q,8BAAU,EAAEwvB,cAFC,CAEe;;AAFf,mBAAjB;AAIH;AATgB,eAArB;AAWA1gC,qBAAO,CAAC82B,OAAR,CAAgBC,OAAhB,CAAwB,aAAxB,EAAuC,uDAAS,uDAAS,EAAT,EAAau9D,cAAb,CAAT,EAAuC;AAAElzF,kBAAE,EAAE2V,KAAK,CAACu+E,aAAZ;AAA2Br9D,0BAAU,EAAElhB,KAAK,CAACw8E,aAAN,CAAoBt7D,UAApB,IAAkC,4EAAe,CAAf,CAAzE;AAA4FC,wBAAQ,EAAEnhB,KAAK,CAACw8E,aAAN,CAAoBr7D,QAApB,IAAgC,4EAAe,CAAf,CAAtI;AAAyJjB,uBAAO,EAAElzB,EAAE,CAACmzB,SAArK;AAAgLC,oBAAI,EAAEn3B,OAAO,CAACo3B;AAA9L,eAAvC,CAAvC;AACAp3B,qBAAO,CAAC82B,OAAR,CAAgBC,OAAhB,CAAwB,aAAxB,EAAuCu9D,cAAvC;AACH,aAnBD,MAoBK;AACDt0F,qBAAO,CAAC82B,OAAR,CAAgBC,OAAhB,CAAwB,gBAAxB;AACH,aAnC+B,CAoChC;;;AACAhgB,iBAAK,CAACw+E,WAAN,GAAoB,IAApB;AACAx+E,iBAAK,CAAC2pB,cAAN,GAAuB,IAAvB;AACA3pB,iBAAK,CAACw8E,aAAN,GAAsB,IAAtB,CAvCgC,CAwChC;AACH,WAzCD;;AA0CA,cAAInqE,SAAS,GAAGgU,QAAQ,CAAChU,SAAzB;AACA,cAAI6mE,QAAQ,GAAGl5E,KAAK,CAACk5E,QAAN,GAAiB,IAAI/B,yBAAJ,CAA8B9wD,QAAQ,CAACh8B,EAAvC,CAAhC;AACA6uF,kBAAQ,CAACtB,OAAT,CAAiBntF,QAAjB,GAA4B,mBAA5B;AACAyuF,kBAAQ,CAAC7B,kBAAT,GAA8B,KAA9B;AACA6B,kBAAQ,CAAChB,YAAT,CAAsBhD,SAAtB,GAAkC7iE,SAAS,CAACppB,OAAV,CAAkBqR,OAAlB,CAA0BgQ,UAA5D;AACA,cAAIkxE,WAAW,GAAGx7E,KAAK,CAACw7E,WAAN,GAAoB,IAAIvC,WAAJ,CAAgBj5E,KAAK,CAACk5E,QAAtB,EAAgC,wFAA2B7yD,QAA3B,CAAhC,CAAtC;AACAm1D,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,aAAvB,EAAsCpkB,KAAK,CAACy5E,iBAA5C;AACA+B,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,WAAvB,EAAoCpkB,KAAK,CAAC25E,eAA1C;AACA6B,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,WAAvB,EAAoCpkB,KAAK,CAAC67E,eAA1C;AACAL,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,SAAvB,EAAkCpkB,KAAK,CAAC+5E,aAAxC;AACA,iBAAO/5E,KAAP;AACH;;AACDs+E,qBAAa,CAACn1F,SAAd,CAAwB87C,OAAxB,GAAkC,YAAY;AAC1C,eAAKi0C,QAAL,CAAcj0C,OAAd;AACH,SAFD;;AAGAq5C,qBAAa,CAACn1F,SAAd,CAAwBs1F,UAAxB,GAAqC,UAAUzxF,EAAV,EAAc;AAC/C,iBAAO,4EAAeA,EAAE,CAACmjF,SAAlB,EAA6B,WAA7B,CAAP;AACH,SAFD;;AAGA,eAAOmO,aAAP;AACH,OAvJkC,CAuJjC,gEAvJiC,CAAnC;;AAwJA,eAASI,eAAT,CAAyBxD,IAAzB,EAA+BC,IAA/B,EAAqCwD,WAArC,EAAkD71D,aAAlD,EAAiE;AAC7D,YAAIrvB,OAAO,GAAGyhF,IAAI,CAACjyF,OAAL,CAAawQ,OAA3B;AACA,YAAIgf,KAAK,GAAGyiE,IAAI,CAACv7D,QAAL,CAAcjpB,KAAd,CAAoBuE,KAAhC;AACA,YAAIyd,KAAK,GAAGyiE,IAAI,CAACx7D,QAAL,CAAcjpB,KAAd,CAAoBuE,KAAhC;AACA,YAAIirB,KAAK,GAAG,uEAAUzN,KAAV,EAAiBC,KAAjB,EAAwBjf,OAAxB,EAAiCyhF,IAAI,CAACviE,SAAtC,CAAZ;;AACA,YAAIgmE,WAAJ,EAAiB;AACb,cAAIllF,OAAO,CAACtK,GAAR,CAAY25B,aAAa,CAAC7tB,KAA1B,EAAiCirB,KAAjC,IAA0C4C,aAAa,CAAC5tB,GAA5D,EAAiE;AAC7D,mBAAO;AAAEgmB,wBAAU,EAAEgF;AAAd,aAAP;AACH;AACJ,SAJD,MAKK,IAAIzsB,OAAO,CAACtK,GAAR,CAAY25B,aAAa,CAAC5tB,GAA1B,EAA+BgrB,KAA/B,IAAwC4C,aAAa,CAAC7tB,KAA1D,EAAiE;AAClE,iBAAO;AAAEkmB,oBAAQ,EAAE+E;AAAZ,WAAP;AACH;;AACD,eAAO,IAAP;AACH;;AAED,UAAI04D,YAAY;AAAG;AAAe,kBAAY;AAC1C,iBAASA,YAAT,CAAsB31F,OAAtB,EAA+B;AAC3B,cAAI+W,KAAK,GAAG,IAAZ;;AACA,eAAK/W,OAAL,GAAeA,OAAf;AACA,eAAK41F,yBAAL,GAAiC,KAAjC,CAH2B,CAGa;;AACxC,eAAKC,aAAL,GAAqB,KAArB;AACA,eAAKC,YAAL,GAAoB,KAApB;;AACA,eAAKC,QAAL,GAAgB,UAAUC,UAAV,EAAsB;AAClC,gBAAIA,UAAU,CAAC/+D,OAAf,EAAwB;AACpBlgB,mBAAK,CAAC6+E,yBAAN,GAAkC,IAAlC;AACH;AACJ,WAJD;;AAKA,eAAKK,qBAAL,GAA6B,UAAUp/D,GAAV,EAAe;AACxC,gBAAI3S,cAAc,GAAGnN,KAAK,CAAC/W,OAAN,CAAcqR,OAAd,CAAsB6S,cAA3C;AACA,gBAAIqlE,MAAM,GAAG,mFAAsB1yD,GAAG,CAACK,SAA1B,CAAb;AACAngB,iBAAK,CAAC8+E,aAAN,GAAsB,CAAC,CAAC,4EAAetM,MAAf,EAAuBrlE,cAAvB,CAAxB;AACAnN,iBAAK,CAAC++E,YAAN,GAAqB,CAAC,CAAC,4EAAevM,MAAf,EAAuB6J,aAAa,CAAC0B,QAArC,CAAvB,CAJwC,CAI+B;AAC1E,WALD;;AAMA,eAAKoB,mBAAL,GAA2B,UAAUr/D,GAAV,EAAe;AACtC,gBAAI72B,OAAO,GAAG+W,KAAK,CAAC/W,OAApB;AACA,gBAAIm2F,eAAe,GAAGp/E,KAAK,CAACo/E,eAA5B;AACA,gBAAI72B,aAAa,GAAGt/D,OAAO,CAAC04B,cAAR,EAApB,CAHsC,CAItC;;AACA,gBAAI,CAACy9D,eAAe,CAAC5O,cAArB,EAAqC;AACjC,kBAAIjoB,aAAa,CAAC9hC,aAAd,IAA+B;AAC/B,eAACzmB,KAAK,CAAC6+E,yBADX,CACqC;AADrC,gBAEE;AACE,oBAAIr0E,YAAY,GAAGvhB,OAAO,CAACqR,OAAR,CAAgBkQ,YAAnC;;AACA,oBAAIA,YAAY,KAAK,CAACA,YAAD,IAAiB,CAACxK,KAAK,CAAC8+E,aAA7B,CAAhB,EAA6D;AACzD71F,yBAAO,CAACq3B,WAAR,CAAoBnP,QAApB,CAA6B2O,GAA7B;AACH;AACJ;;AACD,kBAAIyoC,aAAa,CAACp2B,cAAd,IAAgC;AAChC,eAACnyB,KAAK,CAAC++E,YADX,CACwB;AADxB,gBAEE;AACE91F,uBAAO,CAACI,QAAR,CAAiB;AAAEC,sBAAI,EAAE;AAAR,iBAAjB;AACH;AACJ;;AACD0W,iBAAK,CAAC6+E,yBAAN,GAAkC,KAAlC;AACH,WArBD;;AAsBA,cAAIO,eAAe,GAAG,KAAKA,eAAL,GAAuB,IAAInP,eAAJ,CAAoBtlF,QAApB,CAA7C;AACAy0F,yBAAe,CAAC/O,gBAAhB,GAAmC,IAAnC;AACA+O,yBAAe,CAAC9O,iBAAhB,GAAoC,KAApC;AACA8O,yBAAe,CAACr/D,OAAhB,CAAwBqE,EAAxB,CAA2B,aAA3B,EAA0C,KAAK86D,qBAA/C;AACAE,yBAAe,CAACr/D,OAAhB,CAAwBqE,EAAxB,CAA2B,WAA3B,EAAwC,KAAK+6D,mBAA7C;AACA;AACR;AACA;;AACQl2F,iBAAO,CAAC82B,OAAR,CAAgBqE,EAAhB,CAAmB,QAAnB,EAA6B,KAAK46D,QAAlC;AACH;;AACDJ,oBAAY,CAACz1F,SAAb,CAAuB87C,OAAvB,GAAiC,YAAY;AACzC,eAAKh8C,OAAL,CAAa82B,OAAb,CAAqB0E,GAArB,CAAyB,QAAzB,EAAmC,KAAKu6D,QAAxC;AACA,eAAKI,eAAL,CAAqBn6C,OAArB;AACH,SAHD;;AAIA,eAAO25C,YAAP;AACH,OAvDiC,EAAlC;;AAyDA,UAAIS,eAAe,GAAG;AAClBxC,yBAAiB,EAAE;AADD,OAAtB;AAGA,UAAIyC,iBAAiB,GAAG;AACpBC,iBAAS,EAAE,6DADS;AAEpBC,sBAAc,EAAE,6DAFI;AAGpBC,qBAAa,EAAE,6DAHK;AAIpBC,iBAAS,EAAE,6DAJS;AAKpBC,wBAAgB,EAAE,6DALE;AAMpBC,uBAAe,EAAE,6DANG;AAOpB9tD,mBAAW,EAAE,6DAPO;AAQpB+tD,YAAI,EAAE,6DARc;AASpBC,oBAAY,EAAE,6DATM;AAUpBC,kBAAU,EAAE;AAVQ,OAAxB;AAaA;AACA;AACA;AACA;AACA;;AACA,UAAIC,uBAAuB;AAAG;AAAe,kBAAY;AACrD,iBAASA,uBAAT,CAAiC9G,QAAjC,EAA2C+G,gBAA3C,EAA6D;AACzD,cAAIjgF,KAAK,GAAG,IAAZ;;AACA,eAAKu8E,gBAAL,GAAwB,IAAxB;AACA,eAAK2D,cAAL,GAAsB,IAAtB,CAHyD,CAG7B;;AAC5B,eAAKD,gBAAL,GAAwB,IAAxB;AACA,eAAKE,QAAL,GAAgB,IAAhB;;AACA,eAAKxG,eAAL,GAAuB,UAAU3sF,EAAV,EAAc;AACjCgT,iBAAK,CAACmgF,QAAN,GAAiBngF,KAAK,CAACogF,aAAN,CAAoBpzF,EAAE,CAACmjF,SAAvB,CAAjB;AACH,WAFD;;AAGA,eAAK0L,eAAL,GAAuB,UAAUtB,GAAV,EAAeuB,OAAf,EAAwB9uF,EAAxB,EAA4B;AAC/C,gBAAIksF,QAAQ,GAAGl5E,KAAK,CAACw7E,WAAN,CAAkBtC,QAAjC;AACA,gBAAIqD,gBAAgB,GAAG,IAAvB;AACA,gBAAI2D,cAAc,GAAG,IAArB;AACA,gBAAInE,SAAS,GAAG,KAAhB;AACA,gBAAIppD,WAAW,GAAG;AACdG,4BAAc,EAAE,oFADF;AAEdE,2BAAa,EAAE,oFAFD;AAGdG,qBAAO,EAAEnzB,KAAK,CAACmgF,QAAN,CAAephD;AAHV,aAAlB;;AAKA,gBAAIw7C,GAAJ,EAAS;AACLgC,8BAAgB,GAAGhC,GAAG,CAACtxF,OAAvB;;AACA,kBAAI+W,KAAK,CAACqgF,mBAAN,CAA0BrzF,EAAE,CAACmjF,SAA7B,EAAwCoM,gBAAxC,CAAJ,EAA+D;AAC3D2D,8BAAc,GAAGI,uBAAuB,CAAC/F,GAAG,CAAC56D,QAAL,EAAe3f,KAAK,CAACmgF,QAArB,EAA+B5D,gBAA/B,CAAxC;AACA5pD,2BAAW,CAACK,aAAZ,GAA4B,+EAAkBktD,cAAlB,CAA5B;AACAnE,yBAAS,GAAG,CAAC,gFAAmBppD,WAAnB,EAAgC4nD,GAAG,CAAC14D,WAApC,EAAiD06D,gBAAjD,CAAb;;AACA,oBAAIR,SAAJ,EAAe;AACXppD,6BAAW,CAACK,aAAZ,GAA4B,oFAA5B;AACAktD,gCAAc,GAAG,IAAjB;AACH;AACJ;AACJ;;AACDlgF,iBAAK,CAACg9E,WAAN,CAAkBT,gBAAlB,EAAoC5pD,WAApC,EAtB+C,CAuB/C;AACA;;;AACAumD,oBAAQ,CAACj8B,kBAAT,CAA4B6+B,OAAO,IAAI,CAACoE,cAAZ,IAA8B,CAACv1F,QAAQ,CAACgH,aAAT,CAAuB,kBAAvB,CAA3D;;AACA,gBAAI,CAACoqF,SAAL,EAAgB;AACZ;AACH,aAFD,MAGK;AACD;AACH;;AACD,gBAAI,CAACD,OAAL,EAAc;AACV5C,sBAAQ,CAAC/7B,oBAAT,CAA8B,CAAC+iC,cAA/B;AACAlgF,mBAAK,CAACu8E,gBAAN,GAAyBA,gBAAzB;AACAv8E,mBAAK,CAACkgF,cAAN,GAAuBA,cAAvB;AACH;AACJ,WArCD;;AAsCA,eAAKnG,aAAL,GAAqB,UAAUj6D,GAAV,EAAe;AAChC,gBAAI7yB,EAAE,GAAG+S,KAAT;AAAA,gBAAgBu8E,gBAAgB,GAAGtvF,EAAE,CAACsvF,gBAAtC;AAAA,gBAAwD2D,cAAc,GAAGjzF,EAAE,CAACizF,cAA5E;;AACAlgF,iBAAK,CAACq9E,SAAN;;AACA,gBAAId,gBAAgB,IAAI2D,cAAxB,EAAwC;AACpC,kBAAI1G,QAAQ,GAAGx5E,KAAK,CAACw7E,WAAN,CAAkBhC,QAAjC;AACA,kBAAI+G,SAAS,GAAG/G,QAAQ,CAACvwF,OAAT,CAAiBo3B,OAAjC;AACA,kBAAI8/D,QAAQ,GAAGngF,KAAK,CAACmgF,QAArB;AACA5D,8BAAgB,CAACx8D,OAAjB,CAAyBC,OAAzB,CAAiC,MAAjC,EAAyC,uDAAS,uDAAS,EAAT,EAAao7D,4BAA4B,CAAC5B,QAAQ,CAAC75D,QAAV,EAAoB48D,gBAApB,CAAzC,CAAT,EAA0F;AAAEmB,yBAAS,EAAE59D,GAAG,CAACqwD,SAAjB;AAA4BjwD,uBAAO,EAAEJ,GAAG,CAACK,SAAzC;AAAoDC,oBAAI,EAAEmgE;AAA1D,eAA1F,CAAzC;;AACA,kBAAIJ,QAAQ,CAACphD,MAAb,EAAqB;AACjB,oBAAIyhD,cAAc,GAAG,+EAAkBN,cAAlB,CAArB;AACA3D,gCAAgB,CAAClzF,QAAjB,CAA0B;AACtBC,sBAAI,EAAE,cADgB;AAEtB6Q,4BAAU,EAAEqmF;AAFU,iBAA1B;;AAIA,oBAAI1gE,GAAG,CAACmyD,OAAR,EAAiB;AACbsK,kCAAgB,CAAClzF,QAAjB,CAA0B;AACtBC,wBAAI,EAAE,cADgB;AAEtBikD,mCAAe,EAAE2yC,cAAc,CAACzlF,QAAf,CAAwB5D;AAFnB,mBAA1B;AAIH,iBAXgB,CAYjB;;;AACA0lF,gCAAgB,CAACx8D,OAAjB,CAAyBC,OAAzB,CAAiC,cAAjC,EAAiD;AAC7CsH,uBAAK,EAAE,IAAI,6DAAJ,CAAai1D,gBAAb,EAA+B2D,cAAc,CAACvlF,GAA9C,EAAmDulF,cAAc,CAACzlF,QAAlE,CADsC;AAE7C8sB,+BAAa,EAAE,EAF8B;AAG7CC,wBAAM,EAAE,kBAAY;AAChB+0D,oCAAgB,CAAClzF,QAAjB,CAA0B;AACtBC,0BAAI,EAAE,eADgB;AAEtB6Q,gCAAU,EAAEqmF;AAFU,qBAA1B;AAIH,mBAR4C;AAS7C9C,2BAAS,EAAE59D,GAAG,CAACqwD,SAT8B;AAU7C/vD,sBAAI,EAAEmgE;AAVuC,iBAAjD;AAYH;AACJ;;AACDvgF,iBAAK,CAACu8E,gBAAN,GAAyB,IAAzB;AACAv8E,iBAAK,CAACkgF,cAAN,GAAuB,IAAvB;AACH,WArCD;;AAsCA,cAAI1E,WAAW,GAAG,KAAKA,WAAL,GAAmB,IAAIvC,WAAJ,CAAgBC,QAAhB,EAA0B,6EAA1B,CAArC;AACAsC,qBAAW,CAACnC,cAAZ,GAA6B,KAA7B,CAtFyD,CAsFrB;;AACpCmC,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,WAAvB,EAAoC,KAAKu1D,eAAzC;AACA6B,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,WAAvB,EAAoC,KAAKy3D,eAAzC;AACAL,qBAAW,CAACz7D,OAAZ,CAAoBqE,EAApB,CAAuB,SAAvB,EAAkC,KAAK21D,aAAvC;AACA,eAAKkG,gBAAL,GAAwBA,gBAAxB;AACH;;AACDD,+BAAuB,CAAC72F,SAAxB,CAAkCi3F,aAAlC,GAAkD,UAAUjQ,SAAV,EAAqB;AACnE,cAAI,OAAO,KAAK8P,gBAAZ,KAAiC,QAArC,EAA+C;AAC3C,mBAAO,2EAAc,KAAKA,gBAAnB,CAAP;AACH;;AACD,cAAI,OAAO,KAAKA,gBAAZ,KAAiC,UAArC,EAAiD;AAC7C,mBAAO,2EAAc,KAAKA,gBAAL,CAAsB9P,SAAtB,CAAd,CAAP;AACH;;AACD,iBAAOsQ,iBAAiB,CAACtQ,SAAD,CAAxB;AACH,SARD;;AASA6P,+BAAuB,CAAC72F,SAAxB,CAAkC6zF,WAAlC,GAAgD,UAAUgB,WAAV,EAAuBj5D,KAAvB,EAA8B;AAC1E,cAAIk5D,WAAW,GAAG,KAAK1B,gBAAvB;;AACA,cAAI0B,WAAW,IAAIA,WAAW,KAAKD,WAAnC,EAAgD;AAC5CC,uBAAW,CAAC50F,QAAZ,CAAqB;AAAEC,kBAAI,EAAE;AAAR,aAArB;AACH;;AACD,cAAI00F,WAAJ,EAAiB;AACbA,uBAAW,CAAC30F,QAAZ,CAAqB;AAAEC,kBAAI,EAAE,gBAAR;AAA0By7B,mBAAK,EAAEA;AAAjC,aAArB;AACH;AACJ,SARD;;AASAi7D,+BAAuB,CAAC72F,SAAxB,CAAkCk0F,SAAlC,GAA8C,YAAY;AACtD,cAAI,KAAKd,gBAAT,EAA2B;AACvB,iBAAKA,gBAAL,CAAsBlzF,QAAtB,CAA+B;AAAEC,kBAAI,EAAE;AAAR,aAA/B;AACH;AACJ,SAJD;;AAKA02F,+BAAuB,CAAC72F,SAAxB,CAAkCk3F,mBAAlC,GAAwD,UAAUh2F,EAAV,EAAckyF,gBAAd,EAAgC;AACpF,cAAI9xE,UAAU,GAAG8xE,gBAAgB,CAACjiF,OAAjB,CAAyBmQ,UAA1C;;AACA,cAAI,OAAOA,UAAP,KAAsB,UAA1B,EAAsC;AAClC,mBAAOA,UAAU,CAACpf,IAAX,CAAgBkxF,gBAAgB,CAACj8D,WAAjC,EAA8Cj2B,EAA9C,CAAP;AACH;;AACD,cAAI,OAAOogB,UAAP,KAAsB,QAAtB,IAAkCA,UAAtC,EAAkD;AAC9C,mBAAOnD,OAAO,CAAC,4EAAejd,EAAf,EAAmBogB,UAAnB,CAAD,CAAd;AACH;;AACD,iBAAO,IAAP;AACH,SATD;;AAUA,eAAOu1E,uBAAP;AACH,OA/H4C,EAA7C,C,CAgIA;AACA;;;AACA,eAASM,uBAAT,CAAiC3gE,QAAjC,EAA2CwgE,QAA3C,EAAqDl3F,OAArD,EAA8D;AAC1D,YAAIy3F,QAAQ,GAAG,uDAAS,EAAT,EAAaP,QAAQ,CAAC3iC,aAAtB,CAAf;;AACA,aAAK,IAAIzlD,EAAE,GAAG,CAAT,EAAY9K,EAAE,GAAGhE,OAAO,CAACoR,WAAR,CAAoBkmC,qBAA1C,EAAiExoC,EAAE,GAAG9K,EAAE,CAACrB,MAAzE,EAAiFmM,EAAE,EAAnF,EAAuF;AACnF,cAAI0oB,SAAS,GAAGxzB,EAAE,CAAC8K,EAAD,CAAlB;AACA,iEAAS2oF,QAAT,EAAmBjgE,SAAS,CAACd,QAAD,EAAWwgE,QAAX,CAA5B;AACH;;AACD,YAAIjzF,EAAE,GAAG,4EAAewzF,QAAf,EAAyBz3F,OAAzB,CAAT;AAAA,YAA4CsQ,OAAO,GAAGrM,EAAE,CAACqM,OAAzD;AAAA,YAAkE0Z,KAAK,GAAG/lB,EAAE,CAAC+lB,KAA7E;;AACA,YAAItY,GAAG,GAAG,2EAAcpB,OAAd,EAAuB0Z,KAAvB,EAA8BktE,QAAQ,CAAC52F,QAAvC,EAAiDo2B,QAAQ,CAAC9lB,MAA1D,EAAkE5Q,OAAO,CAACqR,OAAR,CAAgB0N,kBAAhB,IAAsCV,OAAO,CAAC64E,QAAQ,CAACpmF,QAAV,CAA/G,EAAoI;AAC9I9Q,eADU,CAAV;AAEA,YAAIgS,KAAK,GAAG0kB,QAAQ,CAACjpB,KAAT,CAAeuE,KAA3B,CAT0D,CAU1D;AACA;;AACA,YAAI0kB,QAAQ,CAAC9lB,MAAT,IAAmBsmF,QAAQ,CAACjyD,SAAhC,EAA2C;AACvCjzB,eAAK,GAAGhS,OAAO,CAACwQ,OAAR,CAAgBtK,GAAhB,CAAoB8L,KAApB,EAA2BklF,QAAQ,CAACjyD,SAApC,CAAR;AACH;;AACD,YAAIhzB,GAAG,GAAGilF,QAAQ,CAACpmF,QAAT,GACN9Q,OAAO,CAACwQ,OAAR,CAAgBtK,GAAhB,CAAoB8L,KAApB,EAA2BklF,QAAQ,CAACpmF,QAApC,CADM,GAEN,gFAAmB4lB,QAAQ,CAAC9lB,MAA5B,EAAoCoB,KAApC,EAA2ChS,OAA3C,CAFJ;AAGA,YAAIwR,QAAQ,GAAG,iFAAoBE,GAAG,CAAClE,KAAxB,EAA+B;AAAEwE,eAAK,EAAEA,KAAT;AAAgBC,aAAG,EAAEA;AAArB,SAA/B,CAAf;AACA,eAAO;AAAEP,aAAG,EAAEA,GAAP;AAAYF,kBAAQ,EAAEA;AAAtB,SAAP;AACH,O,CACD;AACA;;;AACA,eAASgmF,iBAAT,CAA2Bp2F,EAA3B,EAA+B;AAC3B,YAAIwgC,GAAG,GAAG81D,iBAAiB,CAACt2F,EAAD,EAAK,OAAL,CAA3B;AACA,YAAIgO,GAAG,GAAGwyB,GAAG,GACTmJ,IAAI,CAACp6B,KAAL,CAAWixB,GAAX,CADS,GAET;AAAEkU,gBAAM,EAAE;AAAV,SAFJ,CAF2B,CAIJ;;AACvB,eAAO,2EAAc1mC,GAAd,CAAP;AACH;;AACD,kEAAOuoF,cAAP,GAAwB,EAAxB;;AACA,eAASD,iBAAT,CAA2Bt2F,EAA3B,EAA+BsC,IAA/B,EAAqC;AACjC,YAAI0vC,MAAM,GAAG,4DAAOukD,cAApB;AACA,YAAIC,YAAY,GAAG,CAACxkD,MAAM,GAAGA,MAAM,GAAG,GAAZ,GAAkB,EAAzB,IAA+B1vC,IAAlD;AACA,eAAOtC,EAAE,CAAC43D,YAAH,CAAgB,UAAU4+B,YAA1B,KAA2C,EAAlD;AACH;AAED;AACA;AACA;AACA;AACA;;;AACA,UAAIC,iBAAiB;AAAG;AAAe,kBAAY;AAC/C,iBAASA,iBAAT,CAA2Bz2F,EAA3B,EAA+Bg8B,QAA/B,EAAyC;AACrC,cAAIrmB,KAAK,GAAG,IAAZ;;AACA,cAAIqmB,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,oBAAQ,GAAG,EAAX;AAAgB;;AAC3C,eAAKozD,iBAAL,GAAyB,UAAUzsF,EAAV,EAAc;AACnC,gBAAIksF,QAAQ,GAAGl5E,KAAK,CAACk5E,QAArB;AACA,gBAAIjsF,EAAE,GAAG+S,KAAK,CAACqmB,QAAf;AAAA,gBAAyB+wD,WAAW,GAAGnqF,EAAE,CAACmqF,WAA1C;AAAA,gBAAuDtsE,cAAc,GAAG7d,EAAE,CAAC6d,cAA3E;AACAouE,oBAAQ,CAAC9B,WAAT,GACIA,WAAW,IAAI,IAAf,GACIA,WADJ,GAEKpqF,EAAE,CAACilF,OAAH,GAAa,CAAb,GAAiB,0EAAqBlnE,oBAH/C;AAIAmuE,oBAAQ,CAAC/lC,KAAT,GACInmD,EAAE,CAACilF,OAAH,GAAa;AACRnnE,0BAAc,IAAI,IAAlB,GAAyBA,cAAzB,GAA0C,0EAAqBA,cADpE,GAEI,CAHR;AAIH,WAXD;;AAYA,eAAK6uE,eAAL,GAAuB,UAAU3sF,EAAV,EAAc;AACjC,gBAAIA,EAAE,CAACilF,OAAH,IACAjyE,KAAK,CAACk5E,QAAN,CAAe/lC,KADf,IAEAnmD,EAAE,CAACmjF,SAAH,CAAajhF,SAAb,CAAuBrE,QAAvB,CAAgC,UAAhC,CAFJ,EAEiD;AAC7CmV,mBAAK,CAACk5E,QAAN,CAAerB,MAAf,CAAsB7D,WAAtB,GAAoC9kF,SAApC,CAA8CC,GAA9C,CAAkD,mBAAlD;AACH;AACJ,WAND;;AAOA,eAAKk3B,QAAL,GAAgBA,QAAhB;AACA,cAAI6yD,QAAQ,GAAG,KAAKA,QAAL,GAAgB,IAAI/B,yBAAJ,CAA8B9sF,EAA9B,CAA/B;AACA6uF,kBAAQ,CAAC7B,kBAAT,GAA8B,KAA9B;;AACA,cAAIhxD,QAAQ,CAAC06D,YAAT,IAAyB,IAA7B,EAAmC;AAC/B7H,oBAAQ,CAACtB,OAAT,CAAiBntF,QAAjB,GAA4B47B,QAAQ,CAAC06D,YAArC;AACH;;AACD,cAAI16D,QAAQ,CAAC26D,QAAT,IAAqB,IAAzB,EAA+B;AAC3B9H,oBAAQ,CAACrB,MAAT,CAAgBvtF,UAAhB,GAA6B+7B,QAAQ,CAAC26D,QAAtC,CAD2B,CACqB;AACnD;;AACD9H,kBAAQ,CAACn5D,OAAT,CAAiBqE,EAAjB,CAAoB,aAApB,EAAmC,KAAKq1D,iBAAxC;AACAP,kBAAQ,CAACn5D,OAAT,CAAiBqE,EAAjB,CAAoB,WAApB,EAAiC,KAAKu1D,eAAtC;AACA,cAAIqG,uBAAJ,CAA4B9G,QAA5B,EAAsC7yD,QAAQ,CAAC46D,SAA/C,EAjCqC,CAiCsB;AAC9D;;AACDH,yBAAiB,CAAC33F,SAAlB,CAA4B87C,OAA5B,GAAsC,YAAY;AAC9C,eAAKi0C,QAAL,CAAcj0C,OAAd;AACH,SAFD;;AAGA,eAAO67C,iBAAP;AACH,OAxCsC,EAAvC;AA0CA;AACA;AACA;AACA;AACA;AACA;;;AACA,UAAII,uBAAuB;AAAG;AAAe,gBAAU9lD,MAAV,EAAkB;AAC3D,gEAAU8lD,uBAAV,EAAmC9lD,MAAnC;;AACA,iBAAS8lD,uBAAT,CAAiChR,WAAjC,EAA8C;AAC1C,cAAIlwE,KAAK,GAAGo7B,MAAM,CAAC/vC,IAAP,CAAY,IAAZ,EAAkB6kF,WAAlB,KAAkC,IAA9C;;AACAlwE,eAAK,CAACqwE,gBAAN,GAAyB,KAAzB;AACArwE,eAAK,CAACmhF,cAAN,GAAuB,EAAvB;AACAnhF,eAAK,CAACohF,eAAN,GAAwB,IAAxB;;AACAphF,eAAK,CAACy5E,iBAAN,GAA0B,UAAUzsF,EAAV,EAAc;AACpCgT,iBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,aAAtB,EAAqChzB,EAArC;;AACA,gBAAI,CAACgT,KAAK,CAACqwE,gBAAX,EAA6B;AACzB;AACArwE,mBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmChzB,EAAnC;AACH;AACJ,WAND;;AAOAgT,eAAK,CAACqhF,iBAAN,GAA0B,UAAUr0F,EAAV,EAAc;AACpC,gBAAI,CAACgT,KAAK,CAACqwE,gBAAX,EAA6B;AACzBrwE,mBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,UAAtB,EAAkChzB,EAAlC;AACH;AACJ,WAJD;;AAKAgT,eAAK,CAAC65E,eAAN,GAAwB,UAAU7sF,EAAV,EAAc;AAClCgT,iBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,WAAtB,EAAmChzB,EAAnC;;AACA,gBAAI,CAACgT,KAAK,CAACqwE,gBAAX,EAA6B;AACzB;AACArwE,mBAAK,CAAC+f,OAAN,CAAcC,OAAd,CAAsB,SAAtB,EAAiChzB,EAAjC;AACH;AACJ,WAND;;AAOA,cAAI4qF,OAAO,GAAG53E,KAAK,CAAC43E,OAAN,GAAgB,IAAI3H,eAAJ,CAAoBC,WAApB,CAA9B;AACA0H,iBAAO,CAAC73D,OAAR,CAAgBqE,EAAhB,CAAmB,aAAnB,EAAkCpkB,KAAK,CAACy5E,iBAAxC;AACA7B,iBAAO,CAAC73D,OAAR,CAAgBqE,EAAhB,CAAmB,aAAnB,EAAkCpkB,KAAK,CAACqhF,iBAAxC;AACAzJ,iBAAO,CAAC73D,OAAR,CAAgBqE,EAAhB,CAAmB,WAAnB,EAAgCpkB,KAAK,CAAC65E,eAAtC;AACA,iBAAO75E,KAAP;AACH;;AACDkhF,+BAAuB,CAAC/3F,SAAxB,CAAkC87C,OAAlC,GAA4C,YAAY;AACpD,eAAK2yC,OAAL,CAAa3yC,OAAb;AACH,SAFD;;AAGAi8C,+BAAuB,CAAC/3F,SAAxB,CAAkCqvF,aAAlC,GAAkD,UAAUt7B,IAAV,EAAgB;AAC9D,eAAKmzB,gBAAL,GAAwBnzB,IAAxB;AACH,SAFD;;AAGAgkC,+BAAuB,CAAC/3F,SAAxB,CAAkC8zD,kBAAlC,GAAuD,UAAUC,IAAV,EAAgB;AACnE,cAAIA,IAAJ,EAAU;AACN;AACA;AACA,gBAAI,KAAKkkC,eAAT,EAA0B;AACtB,mBAAKA,eAAL,CAAqBv0F,KAArB,CAA2B04E,UAA3B,GAAwC,EAAxC;AACA,mBAAK6b,eAAL,GAAuB,IAAvB;AACH;AACJ,WAPD,MAQK;AACD,gBAAInO,QAAQ,GAAG,KAAKkO,cAAL,CACX;AADW,cAETx2F,QAAQ,CAACgH,aAAT,CAAuB,KAAKwvF,cAA5B,CAFS,GAGT,IAHN;;AAIA,gBAAIlO,QAAJ,EAAc;AACV,mBAAKmO,eAAL,GAAuBnO,QAAvB;AACAA,sBAAQ,CAACpmF,KAAT,CAAe04E,UAAf,GAA4B,QAA5B;AACH;AACJ;AACJ,SAnBD;;AAoBA,eAAO2b,uBAAP;AACH,OA3D4C,CA2D3C,oEA3D2C,CAA7C;AA6DA;AACA;AACA;AACA;;;AACA,UAAII,mBAAmB;AAAG;AAAe,kBAAY;AACjD,iBAASA,mBAAT,CAA6BC,mBAA7B,EAAkDl7D,QAAlD,EAA4D;AACxD,cAAI6pD,WAAW,GAAGvlF,QAAlB;;AACA,eACA;AACA42F,6BAAmB,KAAK52F,QAAxB,IACI42F,mBAAmB,YAAYC,OAHnC,EAG4C;AACxCtR,uBAAW,GAAGqR,mBAAd;AACAl7D,oBAAQ,GAAGA,QAAQ,IAAI,EAAvB;AACH,WAND,MAOK;AACDA,oBAAQ,GAAIk7D,mBAAmB,IAAI,EAAnC;AACH;;AACD,cAAIrI,QAAQ,GAAG,KAAKA,QAAL,GAAgB,IAAIgI,uBAAJ,CAA4BhR,WAA5B,CAA/B;;AACA,cAAI,OAAO7pD,QAAQ,CAAC06D,YAAhB,KAAiC,QAArC,EAA+C;AAC3C7H,oBAAQ,CAACtB,OAAT,CAAiBntF,QAAjB,GAA4B47B,QAAQ,CAAC06D,YAArC;AACH,WAFD,MAGK,IAAI7Q,WAAW,KAAKvlF,QAApB,EAA8B;AAC/BuuF,oBAAQ,CAACtB,OAAT,CAAiBntF,QAAjB,GAA4B,cAA5B;AACH;;AACD,cAAI,OAAO47B,QAAQ,CAAC86D,cAAhB,KAAmC,QAAvC,EAAiD;AAC7CjI,oBAAQ,CAACiI,cAAT,GAA0B96D,QAAQ,CAAC86D,cAAnC;AACH;;AACD,cAAInB,uBAAJ,CAA4B9G,QAA5B,EAAsC7yD,QAAQ,CAAC46D,SAA/C,EAtBwD,CAsBG;AAC9D;;AACDK,2BAAmB,CAACn4F,SAApB,CAA8B87C,OAA9B,GAAwC,YAAY;AAChD,eAAKi0C,QAAL,CAAcj0C,OAAd;AACH,SAFD;;AAGA,eAAOq8C,mBAAP;AACH,OA7BwC,EAAzC;;AA+BA,UAAI5T,IAAI,GAAG,0EAAa;AACpBhtC,6BAAqB,EAAE,CAAC66C,YAAD,EAAeE,aAAf,EAA8BY,aAA9B,EAA6CiC,aAA7C,CADH;AAEpB39C,4BAAoB,EAAE,CAACi+C,YAAD,CAFF;AAGpB99C,2BAAmB,EAAEq2C,yBAHD;AAIpBh2C,sBAAc,EAAEk+C,eAJI;AAKpBn+C,wBAAgB,EAAEo+C;AALE,OAAb,CAAX;AAQe;;AAAA,uCAAA5R,IAAA,C,CAEf;;;;;;;;;;;;;;;;;AC9mEA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCUF+T,sBAAsB;AACjC,wCACUrmB,YADV,EAEUC,MAFV,EAGUC,qBAHV,EAGsD;AAAA;;AAF5C,eAAAF,YAAA,GAAAA,YAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,qBAAA,GAAAA,qBAAA;AAET;;AANgC;AAAA;AAAA,iBAOjC,qBAAYC,KAAZ,EAA2Cx2C,KAA3C,EAAuE;AACrE,gBAAMy2C,WAAW,GAAG,KAAKF,qBAAL,CAA2BG,gBAA/C;;AACA,gBAAID,WAAJ,EAAiB;AACf,kBAAIE,gBAAgB,GAAG,EAAvB;;AACA,kBAAI;AACFA,gCAAgB,GAAGF,WAAW,CAACG,IAA/B;AACD,eAFD,CAEE,OAAOC,EAAP,EAAW,CAAG;;AAEhB,kBAAI,CAACJ,WAAW,CAACkmB,2BAAjB,EAA8C;AAC5C,qBAAKrmB,MAAL,CAAYW,QAAZ,CAAqB,CAACN,gBAAgB,GAAG,OAApB,CAArB;AACA,qBAAKN,YAAL,CAAkBvvB,KAAlB,CAAwB,iFAAxB,EAA2G,IAA3G;AACA,uBAAO,KAAP;AACD,eAVc,CAWf;;;AACA,qBAAO,IAAP;AACD,aAfoE,CAgBrE;;;AACA,gBAAI81C,QAAQ,GAAG,KAAKtmB,MAAL,CAAYumB,oBAAZ,GAAmCC,MAAnC,CAA0C98D,KAAzD;;AACA,gBAAI48D,QAAJ,EAAc;AACZA,sBAAQ,CAACvlB,SAAT,GAAqBr3C,KAAK,CAAC76B,GAA3B;AACD;;AACD,iBAAKmxE,MAAL,CAAYW,QAAZ,CAAqB,CAAC,QAAD,CAArB,EAAiC;AAAEj3C,mBAAK,EAAE48D;AAAT,aAAjC;AAEA,mBAAO,KAAP;AACD;AA/BgC;;AAAA;AAAA,S;;;;gBAL1B;;gBAJmE;;gBAGnE;;;;AAMIF,4BAAsB,6DAHlC,iEAAW;AACVplB,kBAAU,EAAE;AADF,OAAX,CAGkC,E,+EAET,6D,EACN,sD,EACe,6F,EAJA,GAAtBolB,sBAAsB,CAAtB","file":"default~borrower-borrower-module~lender-lender-module-es5.js","sourcesContent":["/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Shadow DOM consuderations\n// ----------------------------------------------------------------------------------------------------------------\nfunction getElRoot(el) {\n    return el.getRootNode ? el.getRootNode() : document;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekText);\n    }\n    else if (display === 'short') {\n        parts.push(weekText, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE, // necessary?\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nfunction buildNavLinkData(date, type) {\n    if (type === void 0) { type = 'day'; }\n    return JSON.stringify({\n        date: formatDayString(date),\n        type: type,\n    });\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return (this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]);\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var customContentInfo = this.customContentInfo; // only populated if using non-[p]react node(s)\n        var innerContent = this.getInnerContent();\n        var meta = this.getContentMeta(innerContent);\n        // initial run, or content-type changing? (from vue -> react for example)\n        if (!customContentInfo || customContentInfo.contentKey !== meta.contentKey) {\n            // clearing old value\n            if (customContentInfo) {\n                if (customContentInfo.destroy) {\n                    customContentInfo.destroy();\n                }\n                customContentInfo = this.customContentInfo = null;\n            }\n            // assigning new value\n            if (meta.contentKey) {\n                customContentInfo = this.customContentInfo = __assign({ contentKey: meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n            }\n            // updating\n        }\n        else if (customContentInfo) {\n            customContentInfo.contentVal = innerContent[meta.contentKey];\n        }\n        return customContentInfo\n            ? [] // signal that something was specified\n            : innerContent; // assume a [p]react vdom node. use it\n    };\n    ContentHookInner.prototype.getInnerContent = function () {\n        var props = this.props;\n        var innerContent = normalizeContent(props.content, props.hookProps);\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        return innerContent == null ? null : innerContent; // convert undefined to null (better for React)\n    };\n    ContentHookInner.prototype.getContentMeta = function (innerContent) {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var contentKey = '';\n        var buildLifecycleFuncs = null;\n        if (innerContent) { // allowed to be null, for convenience to caller\n            for (var searchKey in contentTypeHandlers) {\n                if (innerContent[searchKey] !== undefined) {\n                    contentKey = searchKey;\n                    buildLifecycleFuncs = contentTypeHandlers[searchKey];\n                    break;\n                }\n            }\n        }\n        return { contentKey: contentKey, buildLifecycleFuncs: buildLifecycleFuncs };\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) { // for non-[p]react\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type, // fall back to given view name\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var viewsWithButtons = [];\n    var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    return { headerToolbar: headerToolbar, footerToolbar: footerToolbar, viewsWithButtons: viewsWithButtons };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons); });\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    return sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]);\n            //            ^ everything else is considered default\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n    })); });\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: function () { return ({ render: injectHtml }); },\n            domNodes: function () { return ({ render: injectDomNodes }); },\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction injectHtml(el, html) {\n    el.innerHTML = html;\n}\nfunction injectDomNodes(el, domNodes) {\n    var oldNodes = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n    var newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n    if (!isArraysEqual(oldNodes, newNodes)) {\n        for (var _i = 0, newNodes_1 = newNodes; _i < newNodes_1.length; _i++) {\n            var newNode = newNodes_1[_i];\n            el.appendChild(newNode);\n        }\n        oldNodes.forEach(removeElement);\n    }\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (inputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    // returns number of new entries inserted\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        var entrySpan = entry.span;\n        var barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, strictOrder = _a.strictOrder, stackCnts = _a.stackCnts;\n        var levelCnt = levelCoords.length;\n        var candidateCoord = 0;\n        var touchingLevel = -1;\n        var touchingLateral = -1;\n        var touchingEntry = null;\n        var stackCnt = 0;\n        for (var trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            var trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            var trackingEntries = entriesByLevel[trackingLevel];\n            var trackingEntry = void 0;\n            var searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            var lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                var trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        var destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        var destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel: touchingLevel,\n            touchingLateral: touchingLateral,\n            touchingEntry: touchingEntry,\n            stackCnt: stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    var start = Math.max(span0.start, span1.start);\n    var end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start: start, end: end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\" }, props.title));\n            }\n            else {\n                var ariaAttrs = buttonIcon ? { 'aria-label': buttonName } : {};\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (buttonName === props.activeButton) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                children.push(createElement(\"button\", __assign({ disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick, type: \"button\" }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var centerContent = model.center;\n        if (model.left) {\n            forceLtr = true;\n            startContent = model.left;\n        }\n        else {\n            startContent = model.start;\n        }\n        if (model.right) {\n            forceLtr = true;\n            endContent = model.right;\n        }\n        else {\n            endContent = model.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { ref: this.handleEl, onClick: props.onClick, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.handleNavLinkClick = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.headerToolbar && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.headerToolbar }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick: this.handleNavLinkClick },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footerToolbar && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footerToolbar }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl) {\n        var _a = this.props, dateEnv = _a.dateEnv, options = _a.options, calendarApi = _a.calendarApi;\n        var navLinkOptions = anchorEl.getAttribute('data-navlink');\n        navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n        var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n        var viewType = navLinkOptions.type;\n        var customAction = viewType === 'day' ? options.navLinkDayClick :\n            viewType === 'week' ? options.navLinkWeekClick : null;\n        if (typeof customAction === 'function') {\n            customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n        }\n        else {\n            if (typeof customAction === 'string') {\n                viewType = customAction;\n            }\n            calendarApi.zoomTo(dateMarker, viewType);\n        }\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n            ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", null,\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement('tbody', {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        return createElement('table', {\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', {}], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', {}], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        });\n        return (createElement(\"td\", { ref: chunkConfig.elRef },\n            createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content))));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMousedown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var theme = this.context.theme;\n        var props = this.props;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\" }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMousedown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMousedown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: typeof moreLinkText === 'function'\n                    ? moreLinkText.call(calendarApi, moreCnt)\n                    : \"+\" + moreCnt + \" \" + moreLinkText,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick); })),\n                _this.state.isPopoverOpen && (createElement(MorePopover, { startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.9.0'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkData, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElRoot, getElSeg, getEntrySpanEnd, getEventClassNames, getEventTargetViaRoot, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","var n,l,u,i,t,r,o,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return y(l,f,t,r,null)}function y(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,r,o;n.__d&&(r=(t=(l=n).__v).__e,(o=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(o,t,i,l.__n,void 0!==o.ownerSVGElement,null!=t.__h?[r]:null,u,null==r?k(t):r,t.__h),z(u,t),t.__e!=r&&b(t)))})}function w(n,l,u,i,t,r,o,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,r,o,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?x(i,l,u):P(u,i,i,t,i.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function C(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||H(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||H(n,r,l[r],u[r],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?T:I,r):n.removeEventListener(l,r?T:I,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,r,o,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,r,o,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,r,o,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&(s===l||(d?s.localName==d:3==s.nodeType))){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,r,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&k(i,0),c),null!=o)for(_=o.length;_--;)null!=o[_]&&h(o[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&N(t[r],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!r&&t||i).__k=v(d,null,[u]),o||e,e,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,r,o,f=a({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,r||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Role } from 'src/app/models/role';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { AlertService } from 'src/app/services';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class RolesGuard implements CanActivate {\n    constructor(\n        private alertService: AlertService,\n        private router: Router,\n        private authenticationService: AuthenticationService\n    ) {\n    }\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        const currentUser = this.authenticationService.currentUserValue;\n        if (currentUser) {\n            let _currentUserRole = '';\n            try {\n                _currentUserRole = currentUser.role;\n            } catch (ex) { }\n            switch (_currentUserRole) {\n                case Role.Lender:\n                    if (!currentUser.isVerified) {\n                        if (!currentUser.isRegisteredAllowed2EditProfile) {\n                            this.router.navigate(['/logout']);\n                            this.alertService.error(\"Approval is still pending. We will notify you when approved.\", true);\n                            return false;\n                        } else {\n                            //this.router.navigate(['/profile']);\n                            this.alertService.error(\"Approval is still pending. Please update required data.\", true);\n                            return true;\n                        }\n                    }\n                    break;\n                case Role.Borrower:\n                    if (!currentUser.isVerified) {\n                        switch (state.url) {\n                            case '/borrower/profile':\n                                //NO Action here\n                                break;\n                            default:\n                                this.alertService.error(\"Your account approval is pending. Please upload educational/work documents and complete your profile to expedite the approval process. Ignore if already uploaded.\", true);\n                                this.router.navigate(['/borrower/profile']);\n                                return false;\n                                break;\n                        }\n                    }\n                    break;\n            }\n            // check if route is restricted by role\n            if (route.data.roles && route.data.roles.indexOf(_currentUserRole) === -1) {\n                // role not authorised so redirect to home page\n                //alert('1')\n                this.router.navigate(['/']);\n                return false;\n            }\n            // authorised so return true\t\n            return true;\n        }\n        // not logged in so redirect to login page with the return url\n        this.router.navigate(['/login'], { queryParams: { returnUrl: state.url } });\n        return false;\n    }\n\n}\n","export default \"\\n/* classes attached to <body> */\\n/* TODO: make fc-event selector work when calender in shadow DOM */\\n.fc-not-allowed,\\n.fc-not-allowed .fc-event { /* override events' custom cursors */\\n  cursor: not-allowed;\\n}\\n/* TODO: not attached to body. attached to specific els. move */\\n.fc-unselectable {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n  -webkit-touch-callout: none;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.fc {\\n  /* layout of immediate children */\\n  display: flex;\\n  flex-direction: column;\\n\\n  font-size: 1em\\n}\\n.fc,\\n  .fc *,\\n  .fc *:before,\\n  .fc *:after {\\n    box-sizing: border-box;\\n  }\\n.fc table {\\n    border-collapse: collapse;\\n    border-spacing: 0;\\n    font-size: 1em; /* normalize cross-browser */\\n  }\\n.fc th {\\n    text-align: center;\\n  }\\n.fc th,\\n  .fc td {\\n    vertical-align: top;\\n    padding: 0;\\n  }\\n.fc a[data-navlink] {\\n    cursor: pointer;\\n  }\\n.fc a[data-navlink]:hover {\\n    text-decoration: underline;\\n  }\\n.fc-direction-ltr {\\n  direction: ltr;\\n  text-align: left;\\n}\\n.fc-direction-rtl {\\n  direction: rtl;\\n  text-align: right;\\n}\\n.fc-theme-standard td,\\n  .fc-theme-standard th {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n  }\\n/* for FF, which doesn't expand a 100% div within a table cell. use absolute positioning */\\n/* inner-wrappers are responsible for being absolute */\\n/* TODO: best place for this? */\\n.fc-liquid-hack td,\\n  .fc-liquid-hack th {\\n    position: relative;\\n  }\\n@font-face {\\n  font-family: 'fcicons';\\n  src: url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n.fc-icon {\\n  /* added for fc */\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  text-align: center;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n\\n  /* use !important to prevent issues with browser extensions that change fonts */\\n  font-family: 'fcicons' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n\\n  /* Better Font Rendering =========== */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.fc-icon-chevron-left:before {\\n  content: \\\"\\\\e900\\\";\\n}\\n.fc-icon-chevron-right:before {\\n  content: \\\"\\\\e901\\\";\\n}\\n.fc-icon-chevrons-left:before {\\n  content: \\\"\\\\e902\\\";\\n}\\n.fc-icon-chevrons-right:before {\\n  content: \\\"\\\\e903\\\";\\n}\\n.fc-icon-minus-square:before {\\n  content: \\\"\\\\e904\\\";\\n}\\n.fc-icon-plus-square:before {\\n  content: \\\"\\\\e905\\\";\\n}\\n.fc-icon-x:before {\\n  content: \\\"\\\\e906\\\";\\n}\\n/*\\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\\n\\nThese styles only apply when the standard-theme is activated.\\nWhen it's NOT activated, the fc-button classes won't even be in the DOM.\\n*/\\n.fc {\\n\\n  /* reset */\\n\\n}\\n.fc .fc-button {\\n    border-radius: 0;\\n    overflow: visible;\\n    text-transform: none;\\n    margin: 0;\\n    font-family: inherit;\\n    font-size: inherit;\\n    line-height: inherit;\\n  }\\n.fc .fc-button:focus {\\n    outline: 1px dotted;\\n    outline: 5px auto -webkit-focus-ring-color;\\n  }\\n.fc .fc-button {\\n    -webkit-appearance: button;\\n  }\\n.fc .fc-button:not(:disabled) {\\n    cursor: pointer;\\n  }\\n.fc .fc-button::-moz-focus-inner {\\n    padding: 0;\\n    border-style: none;\\n  }\\n.fc {\\n\\n  /* theme */\\n\\n}\\n.fc .fc-button {\\n    display: inline-block;\\n    font-weight: 400;\\n    text-align: center;\\n    vertical-align: middle;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n            user-select: none;\\n    background-color: transparent;\\n    border: 1px solid transparent;\\n    padding: 0.4em 0.65em;\\n    font-size: 1em;\\n    line-height: 1.5;\\n    border-radius: 0.25em;\\n  }\\n.fc .fc-button:hover {\\n    text-decoration: none;\\n  }\\n.fc .fc-button:focus {\\n    outline: 0;\\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\\n  }\\n.fc .fc-button:disabled {\\n    opacity: 0.65;\\n  }\\n.fc {\\n\\n  /* \\\"primary\\\" coloring */\\n\\n}\\n.fc .fc-button-primary {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #2C3E50;\\n    background-color: var(--fc-button-bg-color, #2C3E50);\\n    border-color: #2C3E50;\\n    border-color: var(--fc-button-border-color, #2C3E50);\\n  }\\n.fc .fc-button-primary:hover {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #1e2b37;\\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\\n    border-color: #1a252f;\\n    border-color: var(--fc-button-hover-border-color, #1a252f);\\n  }\\n.fc .fc-button-primary:disabled { /* not DRY */\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #2C3E50;\\n    background-color: var(--fc-button-bg-color, #2C3E50);\\n    border-color: #2C3E50;\\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\\n  }\\n.fc .fc-button-primary:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n.fc .fc-button-primary:not(:disabled):active,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #1a252f;\\n    background-color: var(--fc-button-active-bg-color, #1a252f);\\n    border-color: #151e27;\\n    border-color: var(--fc-button-active-border-color, #151e27);\\n  }\\n.fc .fc-button-primary:not(:disabled):active:focus,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n.fc {\\n\\n  /* icons within buttons */\\n\\n}\\n.fc .fc-button .fc-icon {\\n    vertical-align: middle;\\n    font-size: 1.5em; /* bump up the size (but don't make it bigger than line-height of button, which is 1.5em also) */\\n  }\\n.fc .fc-button-group {\\n    position: relative;\\n    display: inline-flex;\\n    vertical-align: middle;\\n  }\\n.fc .fc-button-group > .fc-button {\\n    position: relative;\\n    flex: 1 1 auto;\\n  }\\n.fc .fc-button-group > .fc-button:hover {\\n    z-index: 1;\\n  }\\n.fc .fc-button-group > .fc-button:focus,\\n  .fc .fc-button-group > .fc-button:active,\\n  .fc .fc-button-group > .fc-button.fc-button-active {\\n    z-index: 1;\\n  }\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\\n    margin-left: -1px;\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\\n    margin-right: -1px;\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n.fc .fc-toolbar {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n  }\\n.fc .fc-toolbar.fc-header-toolbar {\\n    margin-bottom: 1.5em;\\n  }\\n.fc .fc-toolbar.fc-footer-toolbar {\\n    margin-top: 1.5em;\\n  }\\n.fc .fc-toolbar-title {\\n    font-size: 1.75em;\\n    margin: 0;\\n  }\\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\\n    margin-left: .75em; /* space between */\\n  }\\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\\n    margin-right: .75em; /* space between */\\n  }\\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\\n    flex-direction: row-reverse;\\n  }\\n.fc .fc-scroller {\\n    -webkit-overflow-scrolling: touch;\\n    position: relative; /* for abs-positioned elements within */\\n  }\\n.fc .fc-scroller-liquid {\\n    height: 100%;\\n  }\\n.fc .fc-scroller-liquid-absolute {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    left: 0;\\n    bottom: 0;\\n  }\\n.fc .fc-scroller-harness {\\n    position: relative;\\n    overflow: hidden;\\n    direction: ltr;\\n      /* hack for chrome computing the scroller's right/left wrong for rtl. undone below... */\\n      /* TODO: demonstrate in codepen */\\n  }\\n.fc .fc-scroller-harness-liquid {\\n    height: 100%;\\n  }\\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\\n    direction: rtl;\\n  }\\n.fc-theme-standard .fc-scrollgrid {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\\n  }\\n.fc .fc-scrollgrid,\\n    .fc .fc-scrollgrid table { /* all tables (self included) */\\n      width: 100%; /* because tables don't normally do this */\\n      table-layout: fixed;\\n    }\\n.fc .fc-scrollgrid table { /* inner tables */\\n      border-top-style: hidden;\\n      border-left-style: hidden;\\n      border-right-style: hidden;\\n    }\\n.fc .fc-scrollgrid {\\n\\n    border-collapse: separate;\\n    border-right-width: 0;\\n    border-bottom-width: 0;\\n\\n  }\\n.fc .fc-scrollgrid-liquid {\\n    height: 100%;\\n  }\\n.fc .fc-scrollgrid-section { /* a <tr> */\\n    height: 1px /* better than 0, for firefox */\\n\\n  }\\n.fc .fc-scrollgrid-section > td {\\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\\n    }\\n.fc .fc-scrollgrid-section table {\\n      height: 1px;\\n        /* for most browsers, if a height isn't set on the table, can't do liquid-height within cells */\\n        /* serves as a min-height. harmless */\\n    }\\n.fc .fc-scrollgrid-section-liquid > td {\\n      height: 100%; /* better than `auto`, for firefox */\\n    }\\n.fc .fc-scrollgrid-section > * {\\n    border-top-width: 0;\\n    border-left-width: 0;\\n  }\\n.fc .fc-scrollgrid-section-header > *,\\n  .fc .fc-scrollgrid-section-footer > * {\\n    border-bottom-width: 0;\\n  }\\n.fc .fc-scrollgrid-section-body table,\\n  .fc .fc-scrollgrid-section-footer table {\\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\\n  }\\n.fc {\\n\\n  /* stickiness */\\n\\n}\\n.fc .fc-scrollgrid-section-sticky > * {\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n    position: -webkit-sticky;\\n    position: sticky;\\n    z-index: 3; /* TODO: var */\\n    /* TODO: box-shadow when sticking */\\n  }\\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\\n    top: 0; /* because border-sharing causes a gap at the top */\\n      /* TODO: give safari -1. has bug */\\n  }\\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\\n    bottom: 0; /* known bug: bottom-stickiness doesn't work in safari */\\n  }\\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\\n    height: 1px; /* needs height to create scrollbars */\\n    margin-bottom: -1px;\\n  }\\n.fc-sticky { /* no .fc wrap because used as child of body */\\n  position: -webkit-sticky;\\n  position: sticky;\\n}\\n.fc .fc-view-harness {\\n    flex-grow: 1; /* because this harness is WITHIN the .fc's flexbox */\\n    position: relative;\\n  }\\n.fc {\\n\\n  /* when the harness controls the height, make the view liquid */\\n\\n}\\n.fc .fc-view-harness-active > .fc-view {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n  }\\n.fc .fc-col-header-cell-cushion {\\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\\n    padding: 2px 4px;\\n  }\\n.fc .fc-bg-event,\\n  .fc .fc-non-business,\\n  .fc .fc-highlight {\\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n.fc .fc-non-business {\\n    background: rgba(215, 215, 215, 0.3);\\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\\n  }\\n.fc .fc-bg-event {\\n    background: rgb(143, 223, 130);\\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\\n    opacity: 0.3;\\n    opacity: var(--fc-bg-event-opacity, 0.3)\\n  }\\n.fc .fc-bg-event .fc-event-title {\\n      margin: .5em;\\n      font-size: .85em;\\n      font-size: var(--fc-small-font-size, .85em);\\n      font-style: italic;\\n    }\\n.fc .fc-highlight {\\n    background: rgba(188, 232, 241, 0.3);\\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\\n  }\\n.fc .fc-cell-shaded,\\n  .fc .fc-day-disabled {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n/* link resets */\\n/* ---------------------------------------------------------------------------------------------------- */\\na.fc-event,\\na.fc-event:hover {\\n  text-decoration: none;\\n}\\n/* cursor */\\n.fc-event[href],\\n.fc-event.fc-event-draggable {\\n  cursor: pointer;\\n}\\n/* event text content */\\n/* ---------------------------------------------------------------------------------------------------- */\\n.fc-event .fc-event-main {\\n    position: relative;\\n    z-index: 2;\\n  }\\n/* dragging */\\n/* ---------------------------------------------------------------------------------------------------- */\\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\\n    opacity: 0.75;\\n  }\\n.fc-event-dragging.fc-event-selected { /* TOUCH */\\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\\n  }\\n/* resizing */\\n/* ---------------------------------------------------------------------------------------------------- */\\n/* (subclasses should hone positioning for touch and non-touch) */\\n.fc-event .fc-event-resizer {\\n    display: none;\\n    position: absolute;\\n    z-index: 4;\\n  }\\n.fc-event:hover, /* MOUSE */\\n.fc-event-selected { /* TOUCH */\\n\\n}\\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\\n    display: block;\\n  }\\n.fc-event-selected .fc-event-resizer {\\n    border-radius: 4px;\\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\\n    border-width: 1px;\\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\\n    width: 8px;\\n    width: var(--fc-event-resizer-dot-total-width, 8px);\\n    height: 8px;\\n    height: var(--fc-event-resizer-dot-total-width, 8px);\\n    border-style: solid;\\n    border-color: inherit;\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff)\\n\\n    /* expand hit area */\\n\\n  }\\n.fc-event-selected .fc-event-resizer:before {\\n      content: '';\\n      position: absolute;\\n      top: -20px;\\n      left: -20px;\\n      right: -20px;\\n      bottom: -20px;\\n    }\\n/* selecting (always TOUCH) */\\n/* ---------------------------------------------------------------------------------------------------- */\\n.fc-event-selected {\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\\n\\n  /* expand hit area (subclasses should expand) */\\n\\n}\\n.fc-event-selected:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    z-index: 3;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n.fc-event-selected {\\n\\n  /* dimmer effect */\\n\\n}\\n.fc-event-selected:after {\\n    content: \\\"\\\";\\n    background: rgba(0, 0, 0, 0.25);\\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\\n    position: absolute;\\n    z-index: 1;\\n\\n    /* assume there's a border on all sides. overcome it. */\\n    /* sometimes there's NOT a border, in which case the dimmer will go over */\\n    /* an adjacent border, which looks fine. */\\n    top: -1px;\\n    left: -1px;\\n    right: -1px;\\n    bottom: -1px;\\n  }\\n/*\\nA HORIZONTAL event\\n*/\\n.fc-h-event { /* allowed to be top-level */\\n  display: block;\\n  border: 1px solid #3788d8;\\n  border: 1px solid var(--fc-event-border-color, #3788d8);\\n  background-color: #3788d8;\\n  background-color: var(--fc-event-bg-color, #3788d8)\\n\\n}\\n.fc-h-event .fc-event-main {\\n    color: #fff;\\n    color: var(--fc-event-text-color, #fff);\\n  }\\n.fc-h-event .fc-event-main-frame {\\n    display: flex; /* for make fc-event-title-container expand */\\n  }\\n.fc-h-event .fc-event-time {\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n  }\\n.fc-h-event .fc-event-title {\\n    display: inline-block; /* need this to be sticky cross-browser */\\n    vertical-align: top; /* for not messing up line-height */\\n    left: 0;  /* for sticky */\\n    right: 0; /* for sticky */\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n.fc-h-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n/* adjust border and border-radius (if there is any) for non-start/end */\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n  border-left-width: 0;\\n}\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n  border-right-width: 0;\\n}\\n/* resizers */\\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\\n  top: 0;\\n  bottom: 0;\\n  width: 8px;\\n  width: var(--fc-event-resizer-thickness, 8px);\\n}\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\\n  cursor: w-resize;\\n  left: -4px;\\n  left: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n}\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\\n  cursor: e-resize;\\n  right: -4px;\\n  right: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n}\\n/* resizers for TOUCH */\\n.fc-h-event.fc-event-selected .fc-event-resizer {\\n  top: 50%;\\n  margin-top: -4px;\\n  margin-top: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\\n  left: -4px;\\n  left: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\\n  right: -4px;\\n  right: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n.fc .fc-popover {\\n    position: absolute;\\n    z-index: 9999;\\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\\n  }\\n.fc .fc-popover-header {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 3px 4px;\\n  }\\n.fc .fc-popover-title {\\n    margin: 0 2px;\\n  }\\n.fc .fc-popover-close {\\n    cursor: pointer;\\n    opacity: 0.65;\\n    font-size: 1.1em;\\n  }\\n.fc-theme-standard .fc-popover {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n  }\\n.fc-theme-standard .fc-popover-header {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n\\n/*# sourceMappingURL=data:application/json;base64,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YWNoZWQgdG8gPGJvZHk+ICovXG4vKiBUT0RPOiBtYWtlIGZjLWV2ZW50IHNlbGVjdG9yIHdvcmsgd2hlbiBjYWxlbmRlciBpbiBzaGFkb3cgRE9NICovXG4uZmMtbm90LWFsbG93ZWQsXG4uZmMtbm90LWFsbG93ZWQgLmZjLWV2ZW50IHsgLyogb3ZlcnJpZGUgZXZlbnRzJyBjdXN0b20gY3Vyc29ycyAqL1xuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xufVxuXG4vKiBUT0RPOiBub3QgYXR0YWNoZWQgdG8gYm9keS4gYXR0YWNoZWQgdG8gc3BlY2lmaWMgZWxzLiBtb3ZlICovXG4uZmMtdW5zZWxlY3RhYmxlIHtcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XG59XG4uZmMge1xuICAvKiBsYXlvdXQgb2YgaW1tZWRpYXRlIGNoaWxkcmVuICovXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cbiAgZm9udC1zaXplOiAxZW1cbn1cbi5mYyxcbiAgLmZjICosXG4gIC5mYyAqOmJlZm9yZSxcbiAgLmZjICo6YWZ0ZXIge1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIH1cbi5mYyB0YWJsZSB7XG4gICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgICBib3JkZXItc3BhY2luZzogMDtcbiAgICBmb250LXNpemU6IDFlbTsgLyogbm9ybWFsaXplIGNyb3NzLWJyb3dzZXIgKi9cbiAgfVxuLmZjIHRoIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbi5mYyB0aCxcbiAgLmZjIHRkIHtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuICAgIHBhZGRpbmc6IDA7XG4gIH1cbi5mYyBhW2RhdGEtbmF2bGlua10ge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuLmZjIGFbZGF0YS1uYXZsaW5rXTpob3ZlciB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIH1cbi5mYy1kaXJlY3Rpb24tbHRyIHtcbiAgZGlyZWN0aW9uOiBsdHI7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG4uZmMtZGlyZWN0aW9uLXJ0bCB7XG4gIGRpcmVjdGlvbjogcnRsO1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cbi5mYy10aGVtZS1zdGFuZGFyZCB0ZCxcbiAgLmZjLXRoZW1lLXN0YW5kYXJkIHRoIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWZjLWJvcmRlci1jb2xvciwgI2RkZCk7XG4gIH1cbi8qIGZvciBGRiwgd2hpY2ggZG9lc24ndCBleHBhbmQgYSAxMDAlIGRpdiB3aXRoaW4gYSB0YWJsZSBjZWxsLiB1c2UgYWJzb2x1dGUgcG9zaXRpb25pbmcgKi9cbi8qIGlubmVyLXdyYXBwZXJzIGFyZSByZXNwb25zaWJsZSBmb3IgYmVpbmcgYWJzb2x1dGUgKi9cbi8qIFRPRE86IGJlc3QgcGxhY2UgZm9yIHRoaXM/ICovXG4uZmMtbGlxdWlkLWhhY2sgdGQsXG4gIC5mYy1saXF1aWQtaGFjayB0aCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG5cbkBmb250LWZhY2Uge1xuICBmb250LWZhbWlseTogJ2ZjaWNvbnMnO1xuICBzcmM6IHVybChcImRhdGE6YXBwbGljYXRpb24veC1mb250LXR0ZjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxBQUVBQUFBTEFJQUFBd0F3VDFNdk1nOFNCZkFBQUFDOEFBQUFZR050WVhBWFZ0S05BQUFCSEFBQUFGUm5ZWE53QUFBQUVBQUFBWEFBQUFBSVoyeDVaZ1l5ZHhJQUFBRjRBQUFGTkdobFlXUVVKN2NJQUFBR3JBQUFBRFpvYUdWaEIyMER6QUFBQnVRQUFBQWthRzEwZUNJQUJoUUFBQWNJQUFBQUxHeHZZMkVENEFVNkFBQUhOQUFBQUJodFlYaHdBQThBakFBQUIwd0FBQUFnYm1GdFpYc3I2OTBBQUFkc0FBQUJobkJ2YzNRQUF3QUFBQUFJOUFBQUFDQUFBd1BBQVpBQUJRQUFBcGtDekFBQUFJOENtUUxNQUFBQjZ3QXpBUWtBQUFBQUFBQUFBQUFBQUFBQUFBQUJFQUFBQUFBQUFBQUFBQUFBQUFBQUFBQkFBQURwQmdQQS84QUFRQVBBQUVBQUFBQUJBQUFBQUFBQUFBQUFBQUFnQUFBQUFBQURBQUFBQXdBQUFCd0FBUUFEQUFBQUhBQURBQUVBQUFBY0FBUUFPQUFBQUFvQUNBQUNBQUlBQVFBZzZRYi8vZi8vQUFBQUFBQWc2UUQvL2YvL0FBSC80eGNFQUFNQUFRQUFBQUFBQUFBQUFBQUFBUUFCLy84QUR3QUJBQUFBQUFBQUFBQUFBZ0FBTnprQkFBQUFBQUVBQUFBQUFBQUFBQUFDQUFBM09RRUFBQUFBQVFBQUFBQUFBQUFBQUFJQUFEYzVBUUFBQUFBQkFXSUFqUUtlQXNrQUV3QUFKU2MzTmpRbkppSUhBUVlVRndFV01qYzJOQ2NDbnVMaURRME1KQXovQUEwTkFRQU1KQXdORGNuaTRnd2pEUXdNL3dBTkl3ei9BQTBORENNTkFBQUFBUUZpQUkwQ25nTEpBQk1BQUNVQk5qUW5BU1lpQndZVUh3RUhCaFFYRmpJM0FaNEJBQTBOL3dBTUpBd05EZUxpRFEwTUpBeU5BUUFNSXcwQkFBd01EU01NNHVJTkl3d05EUUFBQUFJQTRnQzNBeDRDbmdBVEFDY0FBQ1VuTnpZMEp5WWlEd0VHRkI4QkZqSTNOalFuSVNjM05qUW5KaUlQQVFZVUh3RVdNamMyTkNjQjg3ZTNEUTBNSXczVkRRM1ZEU01NRFEwQks3ZTNEUTBNSkF6VkRRM1ZEQ1FNRFEzenVMY01KQXdORGRVTkl3eldEQXdOSXd5NHR3d2tEQTBOMVEwakROWU1EQTBqREFBQUFnRGlBTGNESGdLZUFCTUFKd0FBSlRjMk5DOEJKaUlIQmhRZkFRY0dGQmNXTWpjaE56WTBMd0VtSWdjR0ZCOEJCd1lVRnhZeU53SkoxUTBOMVEwakRBME50N2NORFF3akRmN1YxUTBOMVF3a0RBME50N2NORFF3a0RMZldEQ01OMVEwTkRDUU10N2dNSXcwTUROWU1JdzNWRFEwTUpBeTN1QXdqRFF3TUFBQURBRlVBQUFPckExVUFNd0JvQUhjQUFCTWlCZ2NPQVFjT0FRY09BUlVSRkJZWEhnRVhIZ0VYSGdFeklUSTJOejRCTno0Qk56NEJOUkUwSmljdUFTY3VBU2N1QVNNRklUSVdGeDRCRng0QkZ4NEJGUkVVQmdjT0FRY09BUWNPQVNNaElpWW5MZ0VuTGdFbkxnRTFFVFEyTno0Qk56NEJOejRCTXhNaE1qWTFOQ1lqSVNJR0ZSUVdNOVVOR0F3TEZRa0pEZ1VGQlFVRkJRNEpDUlVMREJnTkFsWU5HQXdMRlFrSkRnVUZCUVVGQlE0SkNSVUxEQmdOL2FvQ1ZnUUlCQVFIQXdNRkFRSUJBUUlCQlFNREJ3UUVDQVQ5cWdRSUJBUUhBd01GQVFJQkFRSUJCUU1EQndRRUNBU0FBVllSR1JrUi9xb1JHUmtSQTFVRkJBVU9DUWtWREFzWkRmMnJEUmtMREJVSkNBNEZCUVVGQlFVT0NRZ1ZEQXNaRFFKVkRSa0xEQlVKQ1E0RkJBVlZBZ0VDQlFNQ0J3UUVDQVg5cXdRSkF3UUhBd01GQVFJQ0FnSUJCUU1EQndRRENRUUNWUVVJQkFRSEFnTUZBZ0VDL29BWkVoRVpHUkVTR1FBQUFBQURBRlVBQUFPckExVUFNd0JvQUlrQUFCTWlCZ2NPQVFjT0FRY09BUlVSRkJZWEhnRVhIZ0VYSGdFeklUSTJOejRCTno0Qk56NEJOUkUwSmljdUFTY3VBU2N1QVNNRklUSVdGeDRCRng0QkZ4NEJGUkVVQmdjT0FRY09BUWNPQVNNaElpWW5MZ0VuTGdFbkxnRTFFVFEyTno0Qk56NEJOejRCTXhNekZSUVdNekkyUFFFek1qWTFOQ1lyQVRVMEppTWlCaDBCSXlJR0ZSUVdNOVVOR0F3TEZRa0pEZ1VGQlFVRkJRNEpDUlVMREJnTkFsWU5HQXdMRlFrSkRnVUZCUVVGQlE0SkNSVUxEQmdOL2FvQ1ZnUUlCQVFIQXdNRkFRSUJBUUlCQlFNREJ3UUVDQVQ5cWdRSUJBUUhBd01GQVFJQkFRSUJCUU1EQndRRUNBU0FnQmtTRWhtQUVSa1pFWUFaRWhJWmdCRVpHUkVEVlFVRUJRNEpDUlVNQ3hrTi9hc05HUXNNRlFrSURnVUZCUVVGQlE0SkNCVU1DeGtOQWxVTkdRc01GUWtKRGdVRUJWVUNBUUlGQXdJSEJBUUlCZjJyQkFrREJBY0RBd1VCQWdJQ0FnRUZBd01IQkFNSkJBSlZCUWdFQkFjQ0F3VUNBUUwrZ0lBU0dSa1NnQmtTRVJtQUVoa1pFb0FaRVJJWkFBQUJBT0lBalFNZUFza0FJQUFBRXhjSEJoUVhGakkvQVJjV01qYzJOQzhCTnpZMEp5WWlEd0VuSmlJSEJoUVg0dUxpRFEwTUpBemk0Z3drREEwTjR1SU5EUXdrRE9MaURDUU1EUTBDamVMaURTTU1EUTNoNFEwTkRDTU40dUlNSXcwTURPTGlEQXdOSXd3QUFBQUJBQUFBQVFBQWE1bjB5MThQUFBVQUN3UUFBQUFBQU5pdk9Wc0FBQUFBMks4NVd3QUFBQUFEcXdOVkFBQUFDQUFDQUFBQUFBQUFBQUVBQUFQQS84QUFBQVFBQUFBQUFBT3JBQUVBQUFBQUFBQUFBQUFBQUFBQUFBQUxCQUFBQUFBQUFBQUFBQUFBQWdBQUFBUUFBV0lFQUFGaUJBQUE0Z1FBQU9JRUFBQlZCQUFBVlFRQUFPSUFBQUFBQUFvQUZBQWVBRVFBYWdDcUFPb0JuZ0prQXBvQUFRQUFBQXNBaWdBREFBQUFBQUFDQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE0QXJnQUJBQUFBQUFBQkFBY0FBQUFCQUFBQUFBQUNBQWNBWUFBQkFBQUFBQUFEQUFjQU5nQUJBQUFBQUFBRUFBY0FkUUFCQUFBQUFBQUZBQXNBRlFBQkFBQUFBQUFHQUFjQVN3QUJBQUFBQUFBS0FCb0FpZ0FEQUFFRUNRQUJBQTRBQndBREFBRUVDUUFDQUE0QVp3QURBQUVFQ1FBREFBNEFQUUFEQUFFRUNRQUVBQTRBZkFBREFBRUVDUUFGQUJZQUlBQURBQUVFQ1FBR0FBNEFVZ0FEQUFFRUNRQUtBRFFBcEdaamFXTnZibk1BWmdCakFHa0FZd0J2QUc0QWMxWmxjbk5wYjI0Z01TNHdBRllBWlFCeUFITUFhUUJ2QUc0QUlBQXhBQzRBTUdaamFXTnZibk1BWmdCakFHa0FZd0J2QUc0QWMyWmphV052Ym5NQVpnQmpBR2tBWXdCdkFHNEFjMUpsWjNWc1lYSUFVZ0JsQUdjQWRRQnNBR0VBY21aamFXTnZibk1BWmdCakFHa0FZd0J2QUc0QWMwWnZiblFnWjJWdVpYSmhkR1ZrSUdKNUlFbGpiMDF2YjI0dUFFWUFid0J1QUhRQUlBQm5BR1VBYmdCbEFISUFZUUIwQUdVQVpBQWdBR0lBZVFBZ0FFa0FZd0J2QUUwQWJ3QnZBRzRBTGdBQUFBTUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE9XCIpIGZvcm1hdCgndHJ1ZXR5cGUnKTtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xufVxuXG4uZmMtaWNvbiB7XG4gIC8qIGFkZGVkIGZvciBmYyAqL1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdpZHRoOiAxZW07XG4gIGhlaWdodDogMWVtO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG5cbiAgLyogdXNlICFpbXBvcnRhbnQgdG8gcHJldmVudCBpc3N1ZXMgd2l0aCBicm93c2VyIGV4dGVuc2lvbnMgdGhhdCBjaGFuZ2UgZm9udHMgKi9cbiAgZm9udC1mYW1pbHk6ICdmY2ljb25zJyAhaW1wb3J0YW50O1xuICBzcGVhazogbm9uZTtcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xuICBmb250LXdlaWdodDogbm9ybWFsO1xuICBmb250LXZhcmlhbnQ6IG5vcm1hbDtcbiAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG4gIGxpbmUtaGVpZ2h0OiAxO1xuXG4gIC8qIEJldHRlciBGb250IFJlbmRlcmluZyA9PT09PT09PT09PSAqL1xuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbn1cblxuLmZjLWljb24tY2hldnJvbi1sZWZ0OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXFxlOTAwXCI7XG59XG5cbi5mYy1pY29uLWNoZXZyb24tcmlnaHQ6YmVmb3JlIHtcbiAgY29udGVudDogXCJcXGU5MDFcIjtcbn1cblxuLmZjLWljb24tY2hldnJvbnMtbGVmdDpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwMlwiO1xufVxuXG4uZmMtaWNvbi1jaGV2cm9ucy1yaWdodDpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwM1wiO1xufVxuXG4uZmMtaWNvbi1taW51cy1zcXVhcmU6YmVmb3JlIHtcbiAgY29udGVudDogXCJcXGU5MDRcIjtcbn1cblxuLmZjLWljb24tcGx1cy1zcXVhcmU6YmVmb3JlIHtcbiAgY29udGVudDogXCJcXGU5MDVcIjtcbn1cblxuLmZjLWljb24teDpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwNlwiO1xufVxuLypcbkxvdHMgdGFrZW4gZnJvbSBGbGF0bHkgKE1JVCk6IGh0dHBzOi8vYm9vdHN3YXRjaC5jb20vNC9mbGF0bHkvYm9vdHN0cmFwLmNzc1xuXG5UaGVzZSBzdHlsZXMgb25seSBhcHBseSB3aGVuIHRoZSBzdGFuZGFyZC10aGVtZSBpcyBhY3RpdmF0ZWQuXG5XaGVuIGl0J3MgTk9UIGFjdGl2YXRlZCwgdGhlIGZjLWJ1dHRvbiBjbGFzc2VzIHdvbid0IGV2ZW4gYmUgaW4gdGhlIERPTS5cbiovXG4uZmMge1xuXG4gIC8qIHJlc2V0ICovXG5cbn1cbi5mYyAuZmMtYnV0dG9uIHtcbiAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICAgIG1hcmdpbjogMDtcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgICBmb250LXNpemU6IGluaGVyaXQ7XG4gICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XG4gIH1cbi5mYyAuZmMtYnV0dG9uOmZvY3VzIHtcbiAgICBvdXRsaW5lOiAxcHggZG90dGVkO1xuICAgIG91dGxpbmU6IDVweCBhdXRvIC13ZWJraXQtZm9jdXMtcmluZy1jb2xvcjtcbiAgfVxuLmZjIC5mYy1idXR0b24ge1xuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogYnV0dG9uO1xuICB9XG4uZmMgLmZjLWJ1dHRvbjpub3QoOmRpc2FibGVkKSB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG4uZmMgLmZjLWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lciB7XG4gICAgcGFkZGluZzogMDtcbiAgICBib3JkZXItc3R5bGU6IG5vbmU7XG4gIH1cbi5mYyB7XG5cbiAgLyogdGhlbWUgKi9cblxufVxuLmZjIC5mYy1idXR0b24ge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgcGFkZGluZzogMC40ZW0gMC42NWVtO1xuICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgYm9yZGVyLXJhZGl1czogMC4yNWVtO1xuICB9XG4uZmMgLmZjLWJ1dHRvbjpob3ZlciB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICB9XG4uZmMgLmZjLWJ1dHRvbjpmb2N1cyB7XG4gICAgb3V0bGluZTogMDtcbiAgICBib3gtc2hhZG93OiAwIDAgMCAwLjJyZW0gcmdiYSg0NCwgNjIsIDgwLCAwLjI1KTtcbiAgfVxuLmZjIC5mYy1idXR0b246ZGlzYWJsZWQge1xuICAgIG9wYWNpdHk6IDAuNjU7XG4gIH1cbi5mYyB7XG5cbiAgLyogXCJwcmltYXJ5XCIgY29sb3JpbmcgKi9cblxufVxuLmZjIC5mYy1idXR0b24tcHJpbWFyeSB7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgY29sb3I6IHZhcigtLWZjLWJ1dHRvbi10ZXh0LWNvbG9yLCAjZmZmKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMkMzRTUwO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1iZy1jb2xvciwgIzJDM0U1MCk7XG4gICAgYm9yZGVyLWNvbG9yOiAjMkMzRTUwO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWJvcmRlci1jb2xvciwgIzJDM0U1MCk7XG4gIH1cbi5mYyAuZmMtYnV0dG9uLXByaW1hcnk6aG92ZXIge1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1idXR0b24tdGV4dC1jb2xvciwgI2ZmZik7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFlMmIzNztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1idXR0b24taG92ZXItYmctY29sb3IsICMxZTJiMzcpO1xuICAgIGJvcmRlci1jb2xvcjogIzFhMjUyZjtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1ob3Zlci1ib3JkZXItY29sb3IsICMxYTI1MmYpO1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1wcmltYXJ5OmRpc2FibGVkIHsgLyogbm90IERSWSAqL1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1idXR0b24tdGV4dC1jb2xvciwgI2ZmZik7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzJDM0U1MDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1idXR0b24tYmctY29sb3IsICMyQzNFNTApO1xuICAgIGJvcmRlci1jb2xvcjogIzJDM0U1MDtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1ib3JkZXItY29sb3IsICMyQzNFNTApOyAvKiBvdmVycmlkZXMgOmhvdmVyICovXG4gIH1cbi5mYyAuZmMtYnV0dG9uLXByaW1hcnk6Zm9jdXMge1xuICAgIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDc2LCA5MSwgMTA2LCAwLjUpO1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1wcmltYXJ5Om5vdCg6ZGlzYWJsZWQpOmFjdGl2ZSxcbiAgLmZjIC5mYy1idXR0b24tcHJpbWFyeTpub3QoOmRpc2FibGVkKS5mYy1idXR0b24tYWN0aXZlIHtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBjb2xvcjogdmFyKC0tZmMtYnV0dG9uLXRleHQtY29sb3IsICNmZmYpO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMxYTI1MmY7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWFjdGl2ZS1iZy1jb2xvciwgIzFhMjUyZik7XG4gICAgYm9yZGVyLWNvbG9yOiAjMTUxZTI3O1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWFjdGl2ZS1ib3JkZXItY29sb3IsICMxNTFlMjcpO1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1wcmltYXJ5Om5vdCg6ZGlzYWJsZWQpOmFjdGl2ZTpmb2N1cyxcbiAgLmZjIC5mYy1idXR0b24tcHJpbWFyeTpub3QoOmRpc2FibGVkKS5mYy1idXR0b24tYWN0aXZlOmZvY3VzIHtcbiAgICBib3gtc2hhZG93OiAwIDAgMCAwLjJyZW0gcmdiYSg3NiwgOTEsIDEwNiwgMC41KTtcbiAgfVxuLmZjIHtcblxuICAvKiBpY29ucyB3aXRoaW4gYnV0dG9ucyAqL1xuXG59XG4uZmMgLmZjLWJ1dHRvbiAuZmMtaWNvbiB7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICBmb250LXNpemU6IDEuNWVtOyAvKiBidW1wIHVwIHRoZSBzaXplIChidXQgZG9uJ3QgbWFrZSBpdCBiaWdnZXIgdGhhbiBsaW5lLWhlaWdodCBvZiBidXR0b24sIHdoaWNoIGlzIDEuNWVtIGFsc28pICovXG4gIH1cbi5mYyAuZmMtYnV0dG9uLWdyb3VwIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgfVxuLmZjIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZmxleDogMSAxIGF1dG87XG4gIH1cbi5mYyAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbjpob3ZlciB7XG4gICAgei1pbmRleDogMTtcbiAgfVxuLmZjIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uOmZvY3VzLFxuICAuZmMgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246YWN0aXZlLFxuICAuZmMgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b24uZmMtYnV0dG9uLWFjdGl2ZSB7XG4gICAgei1pbmRleDogMTtcbiAgfVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246bm90KDpmaXJzdC1jaGlsZCkge1xuICAgIG1hcmdpbi1sZWZ0OiAtMXB4O1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246bm90KDpsYXN0LWNoaWxkKSB7XG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7XG4gIH1cbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uOm5vdCg6Zmlyc3QtY2hpbGQpIHtcbiAgICBtYXJnaW4tcmlnaHQ6IC0xcHg7XG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7XG4gIH1cbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uOm5vdCg6bGFzdC1jaGlsZCkge1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcbiAgfVxuLmZjIC5mYy10b29sYmFyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB9XG4uZmMgLmZjLXRvb2xiYXIuZmMtaGVhZGVyLXRvb2xiYXIge1xuICAgIG1hcmdpbi1ib3R0b206IDEuNWVtO1xuICB9XG4uZmMgLmZjLXRvb2xiYXIuZmMtZm9vdGVyLXRvb2xiYXIge1xuICAgIG1hcmdpbi10b3A6IDEuNWVtO1xuICB9XG4uZmMgLmZjLXRvb2xiYXItdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMS43NWVtO1xuICAgIG1hcmdpbjogMDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLXRvb2xiYXIgPiAqID4gOm5vdCg6Zmlyc3QtY2hpbGQpIHtcbiAgICBtYXJnaW4tbGVmdDogLjc1ZW07IC8qIHNwYWNlIGJldHdlZW4gKi9cbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXRvb2xiYXIgPiAqID4gOm5vdCg6Zmlyc3QtY2hpbGQpIHtcbiAgICBtYXJnaW4tcmlnaHQ6IC43NWVtOyAvKiBzcGFjZSBiZXR3ZWVuICovXG4gIH1cbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy10b29sYmFyLWx0ciB7IC8qIHdoZW4gdGhlIHRvb2xiYXItY2h1bmsgcG9zaXRpb25pbmcgc3lzdGVtIGlzIGV4cGxpY2l0bHkgbGVmdC10by1yaWdodCAqL1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcbiAgfVxuLmZjIC5mYy1zY3JvbGxlciB7XG4gICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgLyogZm9yIGFicy1wb3NpdGlvbmVkIGVsZW1lbnRzIHdpdGhpbiAqL1xuICB9XG4uZmMgLmZjLXNjcm9sbGVyLWxpcXVpZCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG4uZmMgLmZjLXNjcm9sbGVyLWxpcXVpZC1hYnNvbHV0ZSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgfVxuLmZjIC5mYy1zY3JvbGxlci1oYXJuZXNzIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBkaXJlY3Rpb246IGx0cjtcbiAgICAgIC8qIGhhY2sgZm9yIGNocm9tZSBjb21wdXRpbmcgdGhlIHNjcm9sbGVyJ3MgcmlnaHQvbGVmdCB3cm9uZyBmb3IgcnRsLiB1bmRvbmUgYmVsb3cuLi4gKi9cbiAgICAgIC8qIFRPRE86IGRlbW9uc3RyYXRlIGluIGNvZGVwZW4gKi9cbiAgfVxuLmZjIC5mYy1zY3JvbGxlci1oYXJuZXNzLWxpcXVpZCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtc2Nyb2xsZXItaGFybmVzcyA+IC5mYy1zY3JvbGxlciB7IC8qIHVuZG8gYWJvdmUgaGFjayAqL1xuICAgIGRpcmVjdGlvbjogcnRsO1xuICB9XG4uZmMtdGhlbWUtc3RhbmRhcmQgLmZjLXNjcm9sbGdyaWQge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZmMtYm9yZGVyLWNvbG9yLCAjZGRkKTsgLyogYm9vdHN0cmFwIGRvZXMgdGhpcy4gbWF0Y2ggKi9cbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLFxuICAgIC5mYyAuZmMtc2Nyb2xsZ3JpZCB0YWJsZSB7IC8qIGFsbCB0YWJsZXMgKHNlbGYgaW5jbHVkZWQpICovXG4gICAgICB3aWR0aDogMTAwJTsgLyogYmVjYXVzZSB0YWJsZXMgZG9uJ3Qgbm9ybWFsbHkgZG8gdGhpcyAqL1xuICAgICAgdGFibGUtbGF5b3V0OiBmaXhlZDtcbiAgICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQgdGFibGUgeyAvKiBpbm5lciB0YWJsZXMgKi9cbiAgICAgIGJvcmRlci10b3Atc3R5bGU6IGhpZGRlbjtcbiAgICAgIGJvcmRlci1sZWZ0LXN0eWxlOiBoaWRkZW47XG4gICAgICBib3JkZXItcmlnaHQtc3R5bGU6IGhpZGRlbjtcbiAgICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQge1xuXG4gICAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTtcbiAgICBib3JkZXItcmlnaHQtd2lkdGg6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMDtcblxuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtbGlxdWlkIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uIHsgLyogYSA8dHI+ICovXG4gICAgaGVpZ2h0OiAxcHggLyogYmV0dGVyIHRoYW4gMCwgZm9yIGZpcmVmb3ggKi9cblxuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbiA+IHRkIHtcbiAgICAgIGhlaWdodDogMXB4OyAvKiBuZWVkcyBhIGhlaWdodCBzbyBpbm5lciBkaXYgd2l0aGluIGdyb3cuIGJldHRlciB0aGFuIDAsIGZvciBmaXJlZm94ICovXG4gICAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24gdGFibGUge1xuICAgICAgaGVpZ2h0OiAxcHg7XG4gICAgICAgIC8qIGZvciBtb3N0IGJyb3dzZXJzLCBpZiBhIGhlaWdodCBpc24ndCBzZXQgb24gdGhlIHRhYmxlLCBjYW4ndCBkbyBsaXF1aWQtaGVpZ2h0IHdpdGhpbiBjZWxscyAqL1xuICAgICAgICAvKiBzZXJ2ZXMgYXMgYSBtaW4taGVpZ2h0LiBoYXJtbGVzcyAqL1xuICAgIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWxpcXVpZCA+IHRkIHtcbiAgICAgIGhlaWdodDogMTAwJTsgLyogYmV0dGVyIHRoYW4gYGF1dG9gLCBmb3IgZmlyZWZveCAqL1xuICAgIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uID4gKiB7XG4gICAgYm9yZGVyLXRvcC13aWR0aDogMDtcbiAgICBib3JkZXItbGVmdC13aWR0aDogMDtcbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24taGVhZGVyID4gKixcbiAgLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24tZm9vdGVyID4gKiB7XG4gICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMDtcbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24tYm9keSB0YWJsZSxcbiAgLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24tZm9vdGVyIHRhYmxlIHtcbiAgICBib3JkZXItYm90dG9tLXN0eWxlOiBoaWRkZW47IC8qIGhlYWQga2VlcHMgaXRzIGJvdHRvbSBib3JkZXIgdGhvICovXG4gIH1cbi5mYyB7XG5cbiAgLyogc3RpY2tpbmVzcyAqL1xuXG59XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1zdGlja3kgPiAqIHtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLXBhZ2UtYmctY29sb3IsICNmZmYpO1xuICAgIHBvc2l0aW9uOiBzdGlja3k7XG4gICAgei1pbmRleDogMzsgLyogVE9ETzogdmFyICovXG4gICAgLyogVE9ETzogYm94LXNoYWRvdyB3aGVuIHN0aWNraW5nICovXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWhlYWRlci5mYy1zY3JvbGxncmlkLXNlY3Rpb24tc3RpY2t5ID4gKiB7XG4gICAgdG9wOiAwOyAvKiBiZWNhdXNlIGJvcmRlci1zaGFyaW5nIGNhdXNlcyBhIGdhcCBhdCB0aGUgdG9wICovXG4gICAgICAvKiBUT0RPOiBnaXZlIHNhZmFyaSAtMS4gaGFzIGJ1ZyAqL1xuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1mb290ZXIuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLXN0aWNreSA+ICoge1xuICAgIGJvdHRvbTogMDsgLyoga25vd24gYnVnOiBib3R0b20tc3RpY2tpbmVzcyBkb2Vzbid0IHdvcmsgaW4gc2FmYXJpICovXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zdGlja3ktc2hpbSB7IC8qIGZvciBob3Jpem9udGFsIHNjcm9sbGJhciAqL1xuICAgIGhlaWdodDogMXB4OyAvKiBuZWVkcyBoZWlnaHQgdG8gY3JlYXRlIHNjcm9sbGJhcnMgKi9cbiAgICBtYXJnaW4tYm90dG9tOiAtMXB4O1xuICB9XG4uZmMtc3RpY2t5IHsgLyogbm8gLmZjIHdyYXAgYmVjYXVzZSB1c2VkIGFzIGNoaWxkIG9mIGJvZHkgKi9cbiAgcG9zaXRpb246IHN0aWNreTtcbn1cbi5mYyAuZmMtdmlldy1oYXJuZXNzIHtcbiAgICBmbGV4LWdyb3c6IDE7IC8qIGJlY2F1c2UgdGhpcyBoYXJuZXNzIGlzIFdJVEhJTiB0aGUgLmZjJ3MgZmxleGJveCAqL1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuLmZjIHtcblxuICAvKiB3aGVuIHRoZSBoYXJuZXNzIGNvbnRyb2xzIHRoZSBoZWlnaHQsIG1ha2UgdGhlIHZpZXcgbGlxdWlkICovXG5cbn1cbi5mYyAuZmMtdmlldy1oYXJuZXNzLWFjdGl2ZSA+IC5mYy12aWV3IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICBsZWZ0OiAwO1xuICB9XG4uZmMgLmZjLWNvbC1oZWFkZXItY2VsbC1jdXNoaW9uIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IC8qIHgtYnJvd3NlciBmb3Igd2hlbiBzdGlja3kgKHdoZW4gbXVsdGktdGllciBoZWFkZXIpICovXG4gICAgcGFkZGluZzogMnB4IDRweDtcbiAgfVxuLmZjIC5mYy1iZy1ldmVudCxcbiAgLmZjIC5mYy1ub24tYnVzaW5lc3MsXG4gIC5mYyAuZmMtaGlnaGxpZ2h0IHtcbiAgICAvKiB3aWxsIGFsd2F5cyBoYXZlIGEgaGFybmVzcyB3aXRoIHBvc2l0aW9uOnJlbGF0aXZlL2Fic29sdXRlLCBzbyBhYnNvbHV0ZWx5IGV4cGFuZCAqL1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gIH1cbi5mYyAuZmMtbm9uLWJ1c2luZXNzIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIxNSwgMjE1LCAyMTUsIDAuMyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtbm9uLWJ1c2luZXNzLWNvbG9yLCByZ2JhKDIxNSwgMjE1LCAyMTUsIDAuMykpO1xuICB9XG4uZmMgLmZjLWJnLWV2ZW50IHtcbiAgICBiYWNrZ3JvdW5kOiByZ2IoMTQzLCAyMjMsIDEzMCk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtYmctZXZlbnQtY29sb3IsIHJnYigxNDMsIDIyMywgMTMwKSk7XG4gICAgb3BhY2l0eTogMC4zO1xuICAgIG9wYWNpdHk6IHZhcigtLWZjLWJnLWV2ZW50LW9wYWNpdHksIDAuMylcbiAgfVxuLmZjIC5mYy1iZy1ldmVudCAuZmMtZXZlbnQtdGl0bGUge1xuICAgICAgbWFyZ2luOiAuNWVtO1xuICAgICAgZm9udC1zaXplOiAuODVlbTtcbiAgICAgIGZvbnQtc2l6ZTogdmFyKC0tZmMtc21hbGwtZm9udC1zaXplLCAuODVlbSk7XG4gICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgfVxuLmZjIC5mYy1oaWdobGlnaHQge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMTg4LCAyMzIsIDI0MSwgMC4zKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mYy1oaWdobGlnaHQtY29sb3IsIHJnYmEoMTg4LCAyMzIsIDI0MSwgMC4zKSk7XG4gIH1cbi5mYyAuZmMtY2VsbC1zaGFkZWQsXG4gIC5mYyAuZmMtZGF5LWRpc2FibGVkIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIwOCwgMjA4LCAyMDgsIDAuMyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtbmV1dHJhbC1iZy1jb2xvciwgcmdiYSgyMDgsIDIwOCwgMjA4LCAwLjMpKTtcbiAgfVxuLyogbGluayByZXNldHMgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbmEuZmMtZXZlbnQsXG5hLmZjLWV2ZW50OmhvdmVyIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuLyogY3Vyc29yICovXG4uZmMtZXZlbnRbaHJlZl0sXG4uZmMtZXZlbnQuZmMtZXZlbnQtZHJhZ2dhYmxlIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuLyogZXZlbnQgdGV4dCBjb250ZW50ICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4uZmMtZXZlbnQgLmZjLWV2ZW50LW1haW4ge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB6LWluZGV4OiAyO1xuICB9XG4vKiBkcmFnZ2luZyAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLmZjLWV2ZW50LWRyYWdnaW5nOm5vdCguZmMtZXZlbnQtc2VsZWN0ZWQpIHsgLyogTU9VU0UgKi9cbiAgICBvcGFjaXR5OiAwLjc1O1xuICB9XG4uZmMtZXZlbnQtZHJhZ2dpbmcuZmMtZXZlbnQtc2VsZWN0ZWQgeyAvKiBUT1VDSCAqL1xuICAgIGJveC1zaGFkb3c6IDAgMnB4IDdweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gIH1cbi8qIHJlc2l6aW5nICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAoc3ViY2xhc3NlcyBzaG91bGQgaG9uZSBwb3NpdGlvbmluZyBmb3IgdG91Y2ggYW5kIG5vbi10b3VjaCkgKi9cbi5mYy1ldmVudCAuZmMtZXZlbnQtcmVzaXplciB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogNDtcbiAgfVxuLmZjLWV2ZW50OmhvdmVyLCAvKiBNT1VTRSAqL1xuLmZjLWV2ZW50LXNlbGVjdGVkIHsgLyogVE9VQ0ggKi9cblxufVxuLmZjLWV2ZW50OmhvdmVyIC5mYy1ldmVudC1yZXNpemVyLCAuZmMtZXZlbnQtc2VsZWN0ZWQgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICB9XG4uZmMtZXZlbnQtc2VsZWN0ZWQgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBib3JkZXItcmFkaXVzOiBjYWxjKHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItZG90LXRvdGFsLXdpZHRoLCA4cHgpIC8gMik7XG4gICAgYm9yZGVyLXdpZHRoOiAxcHg7XG4gICAgYm9yZGVyLXdpZHRoOiB2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC1ib3JkZXItd2lkdGgsIDFweCk7XG4gICAgd2lkdGg6IDhweDtcbiAgICB3aWR0aDogdmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCk7XG4gICAgaGVpZ2h0OiA4cHg7XG4gICAgaGVpZ2h0OiB2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KTtcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgIGJvcmRlci1jb2xvcjogaW5oZXJpdDtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLXBhZ2UtYmctY29sb3IsICNmZmYpXG5cbiAgICAvKiBleHBhbmQgaGl0IGFyZWEgKi9cblxuICB9XG4uZmMtZXZlbnQtc2VsZWN0ZWQgLmZjLWV2ZW50LXJlc2l6ZXI6YmVmb3JlIHtcbiAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAtMjBweDtcbiAgICAgIGxlZnQ6IC0yMHB4O1xuICAgICAgcmlnaHQ6IC0yMHB4O1xuICAgICAgYm90dG9tOiAtMjBweDtcbiAgICB9XG4vKiBzZWxlY3RpbmcgKGFsd2F5cyBUT1VDSCkgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi5mYy1ldmVudC1zZWxlY3RlZCB7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMilcblxuICAvKiBleHBhbmQgaGl0IGFyZWEgKHN1YmNsYXNzZXMgc2hvdWxkIGV4cGFuZCkgKi9cblxufVxuLmZjLWV2ZW50LXNlbGVjdGVkOmJlZm9yZSB7XG4gICAgY29udGVudDogXCJcIjtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogMztcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gIH1cbi5mYy1ldmVudC1zZWxlY3RlZCB7XG5cbiAgLyogZGltbWVyIGVmZmVjdCAqL1xuXG59XG4uZmMtZXZlbnQtc2VsZWN0ZWQ6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjI1KTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mYy1ldmVudC1zZWxlY3RlZC1vdmVybGF5LWNvbG9yLCByZ2JhKDAsIDAsIDAsIDAuMjUpKTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogMTtcblxuICAgIC8qIGFzc3VtZSB0aGVyZSdzIGEgYm9yZGVyIG9uIGFsbCBzaWRlcy4gb3ZlcmNvbWUgaXQuICovXG4gICAgLyogc29tZXRpbWVzIHRoZXJlJ3MgTk9UIGEgYm9yZGVyLCBpbiB3aGljaCBjYXNlIHRoZSBkaW1tZXIgd2lsbCBnbyBvdmVyICovXG4gICAgLyogYW4gYWRqYWNlbnQgYm9yZGVyLCB3aGljaCBsb29rcyBmaW5lLiAqL1xuICAgIHRvcDogLTFweDtcbiAgICBsZWZ0OiAtMXB4O1xuICAgIHJpZ2h0OiAtMXB4O1xuICAgIGJvdHRvbTogLTFweDtcbiAgfVxuLypcbkEgSE9SSVpPTlRBTCBldmVudFxuKi9cbi5mYy1oLWV2ZW50IHsgLyogYWxsb3dlZCB0byBiZSB0b3AtbGV2ZWwgKi9cbiAgZGlzcGxheTogYmxvY2s7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMzNzg4ZDg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWZjLWV2ZW50LWJvcmRlci1jb2xvciwgIzM3ODhkOCk7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzNzg4ZDg7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZjLWV2ZW50LWJnLWNvbG9yLCAjMzc4OGQ4KVxuXG59XG4uZmMtaC1ldmVudCAuZmMtZXZlbnQtbWFpbiB7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgY29sb3I6IHZhcigtLWZjLWV2ZW50LXRleHQtY29sb3IsICNmZmYpO1xuICB9XG4uZmMtaC1ldmVudCAuZmMtZXZlbnQtbWFpbi1mcmFtZSB7XG4gICAgZGlzcGxheTogZmxleDsgLyogZm9yIG1ha2UgZmMtZXZlbnQtdGl0bGUtY29udGFpbmVyIGV4cGFuZCAqL1xuICB9XG4uZmMtaC1ldmVudCAuZmMtZXZlbnQtdGltZSB7XG4gICAgbWF4LXdpZHRoOiAxMDAlOyAvKiBjbGlwIG92ZXJmbG93IG9uIHRoaXMgZWxlbWVudCAqL1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIH1cbi5mYy1oLWV2ZW50IC5mYy1ldmVudC10aXRsZS1jb250YWluZXIgeyAvKiBzZXJ2ZXMgYXMgYSBjb250YWluZXIgZm9yIHRoZSBzdGlja3kgY3VzaGlvbiAqL1xuICAgIGZsZXgtZ3JvdzogMTtcbiAgICBmbGV4LXNocmluazogMTtcbiAgICBtaW4td2lkdGg6IDA7IC8qIGltcG9ydGFudCBmb3IgYWxsb3dpbmcgdG8gc2hyaW5rIGFsbCB0aGUgd2F5ICovXG4gIH1cbi5mYy1oLWV2ZW50IC5mYy1ldmVudC10aXRsZSB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyAvKiBuZWVkIHRoaXMgdG8gYmUgc3RpY2t5IGNyb3NzLWJyb3dzZXIgKi9cbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wOyAvKiBmb3Igbm90IG1lc3NpbmcgdXAgbGluZS1oZWlnaHQgKi9cbiAgICBsZWZ0OiAwOyAgLyogZm9yIHN0aWNreSAqL1xuICAgIHJpZ2h0OiAwOyAvKiBmb3Igc3RpY2t5ICovXG4gICAgbWF4LXdpZHRoOiAxMDAlOyAvKiBjbGlwIG92ZXJmbG93IG9uIHRoaXMgZWxlbWVudCAqL1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIH1cbi5mYy1oLWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkOmJlZm9yZSB7XG4gICAgLyogZXhwYW5kIGhpdCBhcmVhICovXG4gICAgdG9wOiAtMTBweDtcbiAgICBib3R0b206IC0xMHB4O1xuICB9XG4vKiBhZGp1c3QgYm9yZGVyIGFuZCBib3JkZXItcmFkaXVzIChpZiB0aGVyZSBpcyBhbnkpIGZvciBub24tc3RhcnQvZW5kICovXG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtZGF5Z3JpZC1ibG9jay1ldmVudDpub3QoLmZjLWV2ZW50LXN0YXJ0KSxcbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1kYXlncmlkLWJsb2NrLWV2ZW50Om5vdCguZmMtZXZlbnQtZW5kKSB7XG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDA7XG4gIGJvcmRlci1sZWZ0LXdpZHRoOiAwO1xufVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWRheWdyaWQtYmxvY2stZXZlbnQ6bm90KC5mYy1ldmVudC1lbmQpLFxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWRheWdyaWQtYmxvY2stZXZlbnQ6bm90KC5mYy1ldmVudC1zdGFydCkge1xuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDtcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7XG4gIGJvcmRlci1yaWdodC13aWR0aDogMDtcbn1cbi8qIHJlc2l6ZXJzICovXG4uZmMtaC1ldmVudDpub3QoLmZjLWV2ZW50LXNlbGVjdGVkKSAuZmMtZXZlbnQtcmVzaXplciB7XG4gIHRvcDogMDtcbiAgYm90dG9tOiAwO1xuICB3aWR0aDogOHB4O1xuICB3aWR0aDogdmFyKC0tZmMtZXZlbnQtcmVzaXplci10aGlja25lc3MsIDhweCk7XG59XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtaC1ldmVudDpub3QoLmZjLWV2ZW50LXNlbGVjdGVkKSAuZmMtZXZlbnQtcmVzaXplci1zdGFydCxcbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1oLWV2ZW50Om5vdCguZmMtZXZlbnQtc2VsZWN0ZWQpIC5mYy1ldmVudC1yZXNpemVyLWVuZCB7XG4gIGN1cnNvcjogdy1yZXNpemU7XG4gIGxlZnQ6IC00cHg7XG4gIGxlZnQ6IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci10aGlja25lc3MsIDhweCkgLyAtMik7XG59XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtaC1ldmVudDpub3QoLmZjLWV2ZW50LXNlbGVjdGVkKSAuZmMtZXZlbnQtcmVzaXplci1lbmQsXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtaC1ldmVudDpub3QoLmZjLWV2ZW50LXNlbGVjdGVkKSAuZmMtZXZlbnQtcmVzaXplci1zdGFydCB7XG4gIGN1cnNvcjogZS1yZXNpemU7XG4gIHJpZ2h0OiAtNHB4O1xuICByaWdodDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLXRoaWNrbmVzcywgOHB4KSAvIC0yKTtcbn1cbi8qIHJlc2l6ZXJzIGZvciBUT1VDSCAqL1xuLmZjLWgtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICB0b3A6IDUwJTtcbiAgbWFyZ2luLXRvcDogLTRweDtcbiAgbWFyZ2luLXRvcDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIC0yKTtcbn1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1oLWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyLXN0YXJ0LFxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWgtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQgLmZjLWV2ZW50LXJlc2l6ZXItZW5kIHtcbiAgbGVmdDogLTRweDtcbiAgbGVmdDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIC0yKTtcbn1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1oLWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyLWVuZCxcbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1oLWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyLXN0YXJ0IHtcbiAgcmlnaHQ6IC00cHg7XG4gIHJpZ2h0OiBjYWxjKHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItZG90LXRvdGFsLXdpZHRoLCA4cHgpIC8gLTIpO1xufVxuLmZjIC5mYy1wb3BvdmVyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogOTk5OTtcbiAgICBib3gtc2hhZG93OiAwIDJweCA2cHggcmdiYSgwLDAsMCwuMTUpO1xuICB9XG4uZmMgLmZjLXBvcG92ZXItaGVhZGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcGFkZGluZzogM3B4IDRweDtcbiAgfVxuLmZjIC5mYy1wb3BvdmVyLXRpdGxlIHtcbiAgICBtYXJnaW46IDAgMnB4O1xuICB9XG4uZmMgLmZjLXBvcG92ZXItY2xvc2Uge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBvcGFjaXR5OiAwLjY1O1xuICAgIGZvbnQtc2l6ZTogMS4xZW07XG4gIH1cbi5mYy10aGVtZS1zdGFuZGFyZCAuZmMtcG9wb3ZlciB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1mYy1ib3JkZXItY29sb3IsICNkZGQpO1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtcGFnZS1iZy1jb2xvciwgI2ZmZik7XG4gIH1cbi5mYy10aGVtZS1zdGFuZGFyZCAuZmMtcG9wb3Zlci1oZWFkZXIge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjA4LCAyMDgsIDIwOCwgMC4zKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mYy1uZXV0cmFsLWJnLWNvbG9yLCByZ2JhKDIwOCwgMjA4LCAyMDgsIDAuMykpO1xuICB9XG4iXX0= */\";","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as c,useDebugValue as f}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as d,Fragment as v,render as p,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function S(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:C(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t,e){var r=S({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:d(d(n).map(t))},k={map:N,forEach:N,count:function(n){return n?d(n).length:0},only:function(n){var t=d(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:d},A=h.__e;h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function F(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function M(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=S({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(v,null,n.fallback);return u&&(u.__h=null),[s(v,null,t.__e?null:n.children),u]};var T=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function D(n){return this.getChildContext=function(){return n.context},n.children}function I(n){var t=this,e=n.i;t.componentWillUnmount=function(){p(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),p(s(D,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function W(n,t){return s(I,{__v:n,i:t})}(M.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),T(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=d(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){T(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=\"undefined\"!=typeof document,z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function B(n,t,e){return null==t.__k&&(t.textContent=\"\"),p(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function H(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var Z=h.event;function Y(){}function $(){return this.cancelBubble}function q(){return this.defaultPrevented}h.event=function(n){return Z&&(n=Z(n)),n.persist=Y,n.isPropagationStopped=$,n.isDefaultPrevented=q,n.nativeEvent=n};var G,J={configurable:!0,get:function(){return this.class}},K=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){var u=-1===t.indexOf(\"-\");for(var o in r={},e){var i=e[o];V&&\"children\"===o&&\"noscript\"===t||\"value\"===o&&\"defaultValue\"in e&&null==i||(\"defaultValue\"===o&&\"value\"in e&&null==e.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":/ondoubleclick/i.test(o)?o=\"ondblclick\":/^onchange(textarea|input)/i.test(o+t)&&!z(e.type)?o=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():u&&P.test(o)?o=o.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===i&&(i=void 0),r[o]=i)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=d(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=d(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r}t&&e.class!=e.className&&(J.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",J)),n.$$typeof=j,K&&K(n)};var Q=h.__r;h.__r=function(n){Q&&Q(n),G=n.__c};var X={ReactCurrentDispatcher:{current:{readContext:function(n){return G.__n[n.__c].props.value}}}},nn=\"17.0.2\";function tn(n){return s.bind(null,n)}function en(n){return!!n&&n.$$typeof===j}function rn(n){return en(n)?y.apply(null,arguments):n}function un(n){return!!n.__k&&(p(null,n),!0)}function on(n){return n&&(n.base||1===n.nodeType&&n)||null}var ln=function(n,t){return n(t)},cn=function(n,t){return n(t)},fn=v;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:c,useDebugValue:f,version:\"17.0.2\",Children:k,render:B,hydrate:H,unmountComponentAtNode:un,createPortal:W,createElement:s,createContext:_,createFactory:tn,cloneElement:rn,createRef:b,Fragment:v,isValidElement:en,findDOMNode:on,Component:a,PureComponent:E,memo:g,forwardRef:x,flushSync:cn,unstable_batchedUpdates:ln,StrictMode:v,Suspense:L,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:X};export{nn as version,k as Children,B as render,H as hydrate,un as unmountComponentAtNode,W as createPortal,tn as createFactory,rn as cloneElement,en as isValidElement,on as findDOMNode,E as PureComponent,g as memo,x as forwardRef,cn as flushSync,ln as unstable_batchedUpdates,fn as StrictMode,L as Suspense,M as SuspenseList,F as lazy,X as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","import deepEqual from 'fast-deep-equal';\nimport { Component, ViewEncapsulation, ElementRef, Input, NgModule } from '@angular/core';\nimport { Calendar, globalPlugins } from '@fullcalendar/core';\nimport * as ɵngcc0 from '@angular/core';\nexport * from '@fullcalendar/core';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = Object.assign({}, val);\n        }\n    }\n    return val;\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n\nclass FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.optionSnapshot = {}; // for diffing only\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = this.options || {};\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        this.calendar = new Calendar(this.element.nativeElement, options);\n        this.calendar.render();\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = this.options || {};\n            const newProcessedOptions = {};\n            let anyChanges = false;\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            anyChanges = true;\n                            // trick FC into knowing about a nested change.\n                            // TODO: future versions won't need this.\n                            // can't use the previously-made deep copy because it blows away prototype-association.\n                            optionVal = shallowCopy(optionVal);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            anyChanges = true;\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions(newProcessedOptions);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    getApi() {\n        return this.calendar;\n    }\n}\nFullCalendarComponent.ɵfac = function FullCalendarComponent_Factory(t) { return new (t || FullCalendarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFullCalendarComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: FullCalendarComponent, selectors: [[\"full-calendar\"]], inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\" }, decls: 0, vars: 0, template: function FullCalendarComponent_Template(rf, ctx) { }, styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:\\\"\\\";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{content:\\\"\\\";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after{content:\\\"\\\";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:\\\"\\\";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:\\\"\\\";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"], encapsulation: 2 });\nFullCalendarComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\nFullCalendarComponent.propDecorators = {\n    options: [{ type: Input }],\n    deepChangeDetection: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarComponent, [{\n        type: Component,\n        args: [{\n                selector: 'full-calendar',\n                template: '',\n                encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                ,\n                styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:\\\"\\\";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{content:\\\"\\\";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after{content:\\\"\\\";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:\\\"\\\";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:\\\"\\\";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { options: [{\n            type: Input\n        }], deepChangeDetection: [{\n            type: Input\n        }] }); })();\n\nclass FullCalendarModule {\n    static registerPlugins(plugins) {\n        globalPlugins.push(...plugins);\n    }\n}\nFullCalendarModule.ɵfac = function FullCalendarModule_Factory(t) { return new (t || FullCalendarModule)(); };\nFullCalendarModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: FullCalendarModule });\nFullCalendarModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ imports: [[]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FullCalendarModule, { declarations: [FullCalendarComponent], exports: [FullCalendarComponent] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [FullCalendarComponent],\n                imports: [],\n                exports: [FullCalendarComponent]\n            }]\n    }], null, null); })();\n\n/*\n * Public API Surface of fullcalendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n\n//# sourceMappingURL=fullcalendar-angular.js.map","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,A(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function A(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function F(n,t){return o=8,A(function(){return n},t)}function T(n){var r=u.context[n.__c],o=m(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function d(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}),i=[]}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=null},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(g)}catch(t){n.__e(t,u.__v)}};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u;\"function\"==typeof n.__c&&n.__c(),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,A as useMemo,F as useCallback,T as useContext,d as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkData, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, memoize, MoreLinkRoot, getSegMeta, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, intersectSpans, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = this.context.options.navLinks\n            ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), onClick: handleClick }, innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context, rootElRef = _a.rootElRef;\n        var options = context.options;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = options.navLinks\n            ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.index];\n        var hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.index];\n            var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            var isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var touchingEntry = insertion.touchingEntry, touchingLevel = insertion.touchingLevel, touchingLateral = insertion.touchingLateral;\n        if (this.hiddenConsumes && touchingEntry) {\n            var touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                eventInstanceHeights: this.queryEventInstanceHeights(),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", null, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, getElRoot, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function (scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function (scrollStartEl) {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !getElRoot(_this.subjectEl).querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = getEventTargetViaRoot(pev.origEvent);\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","export default \"\\n:root {\\n  --fc-daygrid-event-dot-width: 8px;\\n}\\n/* help things clear margins of inner content */\\n.fc-daygrid-day-frame,\\n.fc-daygrid-day-events,\\n.fc-daygrid-event-harness { /* for event top/bottom margins */\\n}\\n.fc-daygrid-day-frame:before, .fc-daygrid-day-events:before, .fc-daygrid-event-harness:before {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc-daygrid-day-frame:after, .fc-daygrid-day-events:after, .fc-daygrid-event-harness:after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc .fc-daygrid-body { /* a <div> that wraps the table */\\n    position: relative;\\n    z-index: 1; /* container inner z-index's because <tr>s can't do it */\\n  }\\n.fc .fc-daygrid-day.fc-day-today {\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: var(--fc-today-bg-color, rgba(255, 220, 40, 0.15));\\n    }\\n.fc .fc-daygrid-day-frame {\\n    position: relative;\\n    min-height: 100%; /* seems to work better than `height` because sets height after rows/cells naturally do it */\\n  }\\n.fc {\\n\\n  /* cell top */\\n\\n}\\n.fc .fc-daygrid-day-top {\\n    display: flex;\\n    flex-direction: row-reverse;\\n  }\\n.fc .fc-day-other .fc-daygrid-day-top {\\n    opacity: 0.3;\\n  }\\n.fc {\\n\\n  /* day number (within cell top) */\\n\\n}\\n.fc .fc-daygrid-day-number {\\n    position: relative;\\n    z-index: 4;\\n    padding: 4px;\\n  }\\n.fc {\\n\\n  /* event container */\\n\\n}\\n.fc .fc-daygrid-day-events {\\n    margin-top: 1px; /* needs to be margin, not padding, so that available cell height can be computed */\\n  }\\n.fc {\\n\\n  /* positioning for balanced vs natural */\\n\\n}\\n.fc .fc-daygrid-body-balanced .fc-daygrid-day-events {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n    }\\n.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events {\\n      position: relative; /* for containing abs positioned event harnesses */\\n      min-height: 2em; /* in addition to being a min-height during natural height, equalizes the heights a little bit */\\n    }\\n.fc .fc-daygrid-body-natural { /* can coexist with -unbalanced */\\n  }\\n.fc .fc-daygrid-body-natural .fc-daygrid-day-events {\\n      margin-bottom: 1em;\\n    }\\n.fc {\\n\\n  /* event harness */\\n\\n}\\n.fc .fc-daygrid-event-harness {\\n    position: relative;\\n  }\\n.fc .fc-daygrid-event-harness-abs {\\n    position: absolute;\\n    top: 0; /* fallback coords for when cannot yet be computed */\\n    left: 0; /* */\\n    right: 0; /* */\\n  }\\n.fc .fc-daygrid-bg-harness {\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n  }\\n.fc {\\n\\n  /* bg content */\\n\\n}\\n.fc .fc-daygrid-day-bg .fc-non-business { z-index: 1 }\\n.fc .fc-daygrid-day-bg .fc-bg-event { z-index: 2 }\\n.fc .fc-daygrid-day-bg .fc-highlight { z-index: 3 }\\n.fc {\\n\\n  /* events */\\n\\n}\\n.fc .fc-daygrid-event {\\n    z-index: 6;\\n    margin-top: 1px;\\n  }\\n.fc .fc-daygrid-event.fc-event-mirror {\\n    z-index: 7;\\n  }\\n.fc {\\n\\n  /* cell bottom (within day-events) */\\n\\n}\\n.fc .fc-daygrid-day-bottom {\\n    font-size: .85em;\\n    padding: 2px 3px 0\\n  }\\n.fc .fc-daygrid-day-bottom:before {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc .fc-daygrid-more-link {\\n    position: relative;\\n    z-index: 4;\\n    cursor: pointer;\\n  }\\n.fc {\\n\\n  /* week number (within frame) */\\n\\n}\\n.fc .fc-daygrid-week-number {\\n    position: absolute;\\n    z-index: 5;\\n    top: 0;\\n    padding: 2px;\\n    min-width: 1.5em;\\n    text-align: center;\\n    background-color: rgba(208, 208, 208, 0.3);\\n    background-color: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n    color: #808080;\\n    color: var(--fc-neutral-text-color, #808080);\\n  }\\n.fc {\\n\\n  /* popover */\\n\\n}\\n.fc .fc-more-popover .fc-popover-body {\\n    min-width: 220px;\\n    padding: 10px;\\n  }\\n.fc-direction-ltr .fc-daygrid-event.fc-event-start,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-end {\\n  margin-left: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-event.fc-event-end,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-start {\\n  margin-right: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-week-number {\\n    left: 0;\\n    border-radius: 0 0 3px 0;\\n  }\\n.fc-direction-rtl .fc-daygrid-week-number {\\n    right: 0;\\n    border-radius: 0 0 0 3px;\\n  }\\n.fc-liquid-hack .fc-daygrid-day-frame {\\n    position: static; /* will cause inner absolute stuff to expand to <td> */\\n  }\\n.fc-daygrid-event { /* make root-level, because will be dragged-and-dropped outside of a component root */\\n  position: relative; /* for z-indexes assigned later */\\n  white-space: nowrap;\\n  border-radius: 3px; /* dot event needs this to when selected */\\n  font-size: .85em;\\n  font-size: var(--fc-small-font-size, .85em);\\n}\\n/* --- the rectangle (\\\"block\\\") style of event --- */\\n.fc-daygrid-block-event .fc-event-time {\\n    font-weight: bold;\\n  }\\n.fc-daygrid-block-event .fc-event-time,\\n  .fc-daygrid-block-event .fc-event-title {\\n    padding: 1px;\\n  }\\n/* --- the dot style of event --- */\\n.fc-daygrid-dot-event {\\n  display: flex;\\n  align-items: center;\\n  padding: 2px 0\\n\\n}\\n.fc-daygrid-dot-event .fc-event-title {\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n    overflow: hidden;\\n    font-weight: bold;\\n  }\\n.fc-daygrid-dot-event:hover,\\n  .fc-daygrid-dot-event.fc-event-mirror {\\n    background: rgba(0, 0, 0, 0.1);\\n  }\\n.fc-daygrid-dot-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n.fc-daygrid-event-dot { /* the actual dot */\\n  margin: 0 4px;\\n  box-sizing: content-box;\\n  width: 0;\\n  height: 0;\\n  border: 4px solid #3788d8;\\n  border: calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color, #3788d8);\\n  border-radius: 4px;\\n  border-radius: calc(var(--fc-daygrid-event-dot-width, 8px) / 2);\\n}\\n/* --- spacing between time and title --- */\\n.fc-direction-ltr .fc-daygrid-event .fc-event-time {\\n    margin-right: 3px;\\n  }\\n.fc-direction-rtl .fc-daygrid-event .fc-event-time {\\n    margin-left: 3px;\\n  }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtFQUNFLGlDQUFpQztBQUNuQztBQUNBLCtDQUErQztBQUMvQzs7NEJBRTRCLGlDQUFpQztBQUM3RDtBQUNBO0VBQ0UsV0FBVztFQUNYLFdBQVc7RUFDWCxjQUFjLEVBQUU7QUFDbEI7RUFDRSxXQUFXO0VBQ1gsV0FBVztFQUNYLGNBQWMsRUFBRTtBQUNsQix1QkFBdUIsaUNBQWlDO0lBQ3BELGtCQUFrQjtJQUNsQixVQUFVLEVBQUUsd0RBQXdEO0VBQ3RFO0FBQ0Y7TUFDTSwwQ0FBMEM7TUFDMUMsb0VBQW9FO0lBQ3RFO0FBQ0o7SUFDSSxrQkFBa0I7SUFDbEIsZ0JBQWdCLEVBQUUsNEZBQTRGO0VBQ2hIO0FBQ0Y7O0VBRUUsYUFBYTs7QUFFZjtBQUNBO0lBQ0ksYUFBYTtJQUNiLDJCQUEyQjtFQUM3QjtBQUNGO0lBQ0ksWUFBWTtFQUNkO0FBQ0Y7O0VBRUUsaUNBQWlDOztBQUVuQztBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixZQUFZO0VBQ2Q7QUFDRjs7RUFFRSxvQkFBb0I7O0FBRXRCO0FBQ0E7SUFDSSxlQUFlLEVBQUUsbUZBQW1GO0VBQ3RHO0FBQ0Y7O0VBRUUsd0NBQXdDOztBQUUxQztBQUNBO01BQ00sa0JBQWtCO01BQ2xCLE9BQU87TUFDUCxRQUFRO0lBQ1Y7QUFDSjtNQUNNLGtCQUFrQixFQUFFLGtEQUFrRDtNQUN0RSxlQUFlLEVBQUUsZ0dBQWdHO0lBQ25IO0FBQ0osK0JBQStCLGlDQUFpQztFQUM5RDtBQUNGO01BQ00sa0JBQWtCO0lBQ3BCO0FBQ0o7O0VBRUUsa0JBQWtCOztBQUVwQjtBQUNBO0lBQ0ksa0JBQWtCO0VBQ3BCO0FBQ0Y7SUFDSSxrQkFBa0I7SUFDbEIsTUFBTSxFQUFFLG9EQUFvRDtJQUM1RCxPQUFPLEVBQUUsSUFBSTtJQUNiLFFBQVEsRUFBRSxJQUFJO0VBQ2hCO0FBQ0Y7SUFDSSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLFNBQVM7RUFDWDtBQUNGOztFQUVFLGVBQWU7O0FBRWpCO0FBQ0EsMENBQTBDLFdBQVc7QUFDckQsc0NBQXNDLFdBQVc7QUFDakQsdUNBQXVDLFdBQVc7QUFDbEQ7O0VBRUUsV0FBVzs7QUFFYjtBQUNBO0lBQ0ksVUFBVTtJQUNWLGVBQWU7RUFDakI7QUFDRjtJQUNJLFVBQVU7RUFDWjtBQUNGOztFQUVFLG9DQUFvQzs7QUFFdEM7QUFDQTtJQUNJLGdCQUFnQjtJQUNoQjtFQUNGO0FBQ0Y7RUFDRSxXQUFXO0VBQ1gsV0FBVztFQUNYLGNBQWMsRUFBRTtBQUNsQjtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsZUFBZTtFQUNqQjtBQUNGOztFQUVFLCtCQUErQjs7QUFFakM7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsTUFBTTtJQUNOLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLDBDQUEwQztJQUMxQyxzRUFBc0U7SUFDdEUsY0FBYztJQUNkLDRDQUE0QztFQUM5QztBQUNGOztFQUVFLFlBQVk7O0FBRWQ7QUFDQTtJQUNJLGdCQUFnQjtJQUNoQixhQUFhO0VBQ2Y7QUFDRjs7RUFFRSxnQkFBZ0I7QUFDbEI7QUFDQTs7RUFFRSxpQkFBaUI7QUFDbkI7QUFDQTtJQUNJLE9BQU87SUFDUCx3QkFBd0I7RUFDMUI7QUFDRjtJQUNJLFFBQVE7SUFDUix3QkFBd0I7RUFDMUI7QUFDRjtJQUNJLGdCQUFnQixFQUFFLHNEQUFzRDtFQUMxRTtBQUNGLG9CQUFvQixxRkFBcUY7RUFDdkcsa0JBQWtCLEVBQUUsaUNBQWlDO0VBQ3JELG1CQUFtQjtFQUNuQixrQkFBa0IsRUFBRSwwQ0FBMEM7RUFDOUQsZ0JBQWdCO0VBQ2hCLDJDQUEyQztBQUM3QztBQUNBLG1EQUFtRDtBQUNuRDtJQUNJLGlCQUFpQjtFQUNuQjtBQUNGOztJQUVJLFlBQVk7RUFDZDtBQUNGLG1DQUFtQztBQUNuQztFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkI7O0FBRUY7QUFDQTtJQUNJLFlBQVk7SUFDWixjQUFjO0lBQ2QsWUFBWSxFQUFFLGlEQUFpRDtJQUMvRCxnQkFBZ0I7SUFDaEIsaUJBQWlCO0VBQ25CO0FBQ0Y7O0lBRUksOEJBQThCO0VBQ2hDO0FBQ0Y7SUFDSSxvQkFBb0I7SUFDcEIsVUFBVTtJQUNWLGFBQWE7RUFDZjtBQUNGLHdCQUF3QixtQkFBbUI7RUFDekMsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixRQUFRO0VBQ1IsU0FBUztFQUNULHlCQUF5QjtFQUN6QixvR0FBb0c7RUFDcEcsa0JBQWtCO0VBQ2xCLCtEQUErRDtBQUNqRTtBQUNBLDJDQUEyQztBQUMzQztJQUNJLGlCQUFpQjtFQUNuQjtBQUNGO0lBQ0ksZ0JBQWdCO0VBQ2xCIiwiZmlsZSI6Im1haW4uY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG46cm9vdCB7XG4gIC0tZmMtZGF5Z3JpZC1ldmVudC1kb3Qtd2lkdGg6IDhweDtcbn1cbi8qIGhlbHAgdGhpbmdzIGNsZWFyIG1hcmdpbnMgb2YgaW5uZXIgY29udGVudCAqL1xuLmZjLWRheWdyaWQtZGF5LWZyYW1lLFxuLmZjLWRheWdyaWQtZGF5LWV2ZW50cyxcbi5mYy1kYXlncmlkLWV2ZW50LWhhcm5lc3MgeyAvKiBmb3IgZXZlbnQgdG9wL2JvdHRvbSBtYXJnaW5zICovXG59XG4uZmMtZGF5Z3JpZC1kYXktZnJhbWU6YmVmb3JlLCAuZmMtZGF5Z3JpZC1kYXktZXZlbnRzOmJlZm9yZSwgLmZjLWRheWdyaWQtZXZlbnQtaGFybmVzczpiZWZvcmUge1xuICBjb250ZW50OiBcIlwiO1xuICBjbGVhcjogYm90aDtcbiAgZGlzcGxheTogdGFibGU7IH1cbi5mYy1kYXlncmlkLWRheS1mcmFtZTphZnRlciwgLmZjLWRheWdyaWQtZGF5LWV2ZW50czphZnRlciwgLmZjLWRheWdyaWQtZXZlbnQtaGFybmVzczphZnRlciB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIGNsZWFyOiBib3RoO1xuICBkaXNwbGF5OiB0YWJsZTsgfVxuLmZjIC5mYy1kYXlncmlkLWJvZHkgeyAvKiBhIDxkaXY+IHRoYXQgd3JhcHMgdGhlIHRhYmxlICovXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDE7IC8qIGNvbnRhaW5lciBpbm5lciB6LWluZGV4J3MgYmVjYXVzZSA8dHI+cyBjYW4ndCBkbyBpdCAqL1xuICB9XG4uZmMgLmZjLWRheWdyaWQtZGF5LmZjLWRheS10b2RheSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjIwLCA0MCwgMC4xNSk7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy10b2RheS1iZy1jb2xvciwgcmdiYSgyNTUsIDIyMCwgNDAsIDAuMTUpKTtcbiAgICB9XG4uZmMgLmZjLWRheWdyaWQtZGF5LWZyYW1lIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgbWluLWhlaWdodDogMTAwJTsgLyogc2VlbXMgdG8gd29yayBiZXR0ZXIgdGhhbiBgaGVpZ2h0YCBiZWNhdXNlIHNldHMgaGVpZ2h0IGFmdGVyIHJvd3MvY2VsbHMgbmF0dXJhbGx5IGRvIGl0ICovXG4gIH1cbi5mYyB7XG5cbiAgLyogY2VsbCB0b3AgKi9cblxufVxuLmZjIC5mYy1kYXlncmlkLWRheS10b3Age1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xuICB9XG4uZmMgLmZjLWRheS1vdGhlciAuZmMtZGF5Z3JpZC1kYXktdG9wIHtcbiAgICBvcGFjaXR5OiAwLjM7XG4gIH1cbi5mYyB7XG5cbiAgLyogZGF5IG51bWJlciAod2l0aGluIGNlbGwgdG9wKSAqL1xuXG59XG4uZmMgLmZjLWRheWdyaWQtZGF5LW51bWJlciB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDQ7XG4gICAgcGFkZGluZzogNHB4O1xuICB9XG4uZmMge1xuXG4gIC8qIGV2ZW50IGNvbnRhaW5lciAqL1xuXG59XG4uZmMgLmZjLWRheWdyaWQtZGF5LWV2ZW50cyB7XG4gICAgbWFyZ2luLXRvcDogMXB4OyAvKiBuZWVkcyB0byBiZSBtYXJnaW4sIG5vdCBwYWRkaW5nLCBzbyB0aGF0IGF2YWlsYWJsZSBjZWxsIGhlaWdodCBjYW4gYmUgY29tcHV0ZWQgKi9cbiAgfVxuLmZjIHtcblxuICAvKiBwb3NpdGlvbmluZyBmb3IgYmFsYW5jZWQgdnMgbmF0dXJhbCAqL1xuXG59XG4uZmMgLmZjLWRheWdyaWQtYm9keS1iYWxhbmNlZCAuZmMtZGF5Z3JpZC1kYXktZXZlbnRzIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGxlZnQ6IDA7XG4gICAgICByaWdodDogMDtcbiAgICB9XG4uZmMgLmZjLWRheWdyaWQtYm9keS11bmJhbGFuY2VkIC5mYy1kYXlncmlkLWRheS1ldmVudHMge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiBmb3IgY29udGFpbmluZyBhYnMgcG9zaXRpb25lZCBldmVudCBoYXJuZXNzZXMgKi9cbiAgICAgIG1pbi1oZWlnaHQ6IDJlbTsgLyogaW4gYWRkaXRpb24gdG8gYmVpbmcgYSBtaW4taGVpZ2h0IGR1cmluZyBuYXR1cmFsIGhlaWdodCwgZXF1YWxpemVzIHRoZSBoZWlnaHRzIGEgbGl0dGxlIGJpdCAqL1xuICAgIH1cbi5mYyAuZmMtZGF5Z3JpZC1ib2R5LW5hdHVyYWwgeyAvKiBjYW4gY29leGlzdCB3aXRoIC11bmJhbGFuY2VkICovXG4gIH1cbi5mYyAuZmMtZGF5Z3JpZC1ib2R5LW5hdHVyYWwgLmZjLWRheWdyaWQtZGF5LWV2ZW50cyB7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxZW07XG4gICAgfVxuLmZjIHtcblxuICAvKiBldmVudCBoYXJuZXNzICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1ldmVudC1oYXJuZXNzIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cbi5mYyAuZmMtZGF5Z3JpZC1ldmVudC1oYXJuZXNzLWFicyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDsgLyogZmFsbGJhY2sgY29vcmRzIGZvciB3aGVuIGNhbm5vdCB5ZXQgYmUgY29tcHV0ZWQgKi9cbiAgICBsZWZ0OiAwOyAvKiAqL1xuICAgIHJpZ2h0OiAwOyAvKiAqL1xuICB9XG4uZmMgLmZjLWRheWdyaWQtYmctaGFybmVzcyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBib3R0b206IDA7XG4gIH1cbi5mYyB7XG5cbiAgLyogYmcgY29udGVudCAqL1xuXG59XG4uZmMgLmZjLWRheWdyaWQtZGF5LWJnIC5mYy1ub24tYnVzaW5lc3MgeyB6LWluZGV4OiAxIH1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktYmcgLmZjLWJnLWV2ZW50IHsgei1pbmRleDogMiB9XG4uZmMgLmZjLWRheWdyaWQtZGF5LWJnIC5mYy1oaWdobGlnaHQgeyB6LWluZGV4OiAzIH1cbi5mYyB7XG5cbiAgLyogZXZlbnRzICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1ldmVudCB7XG4gICAgei1pbmRleDogNjtcbiAgICBtYXJnaW4tdG9wOiAxcHg7XG4gIH1cbi5mYyAuZmMtZGF5Z3JpZC1ldmVudC5mYy1ldmVudC1taXJyb3Ige1xuICAgIHotaW5kZXg6IDc7XG4gIH1cbi5mYyB7XG5cbiAgLyogY2VsbCBib3R0b20gKHdpdGhpbiBkYXktZXZlbnRzKSAqL1xuXG59XG4uZmMgLmZjLWRheWdyaWQtZGF5LWJvdHRvbSB7XG4gICAgZm9udC1zaXplOiAuODVlbTtcbiAgICBwYWRkaW5nOiAycHggM3B4IDBcbiAgfVxuLmZjIC5mYy1kYXlncmlkLWRheS1ib3R0b206YmVmb3JlIHtcbiAgY29udGVudDogXCJcIjtcbiAgY2xlYXI6IGJvdGg7XG4gIGRpc3BsYXk6IHRhYmxlOyB9XG4uZmMgLmZjLWRheWdyaWQtbW9yZS1saW5rIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogNDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbi5mYyB7XG5cbiAgLyogd2VlayBudW1iZXIgKHdpdGhpbiBmcmFtZSkgKi9cblxufVxuLmZjIC5mYy1kYXlncmlkLXdlZWstbnVtYmVyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogNTtcbiAgICB0b3A6IDA7XG4gICAgcGFkZGluZzogMnB4O1xuICAgIG1pbi13aWR0aDogMS41ZW07XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjA4LCAyMDgsIDIwOCwgMC4zKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1uZXV0cmFsLWJnLWNvbG9yLCByZ2JhKDIwOCwgMjA4LCAyMDgsIDAuMykpO1xuICAgIGNvbG9yOiAjODA4MDgwO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1uZXV0cmFsLXRleHQtY29sb3IsICM4MDgwODApO1xuICB9XG4uZmMge1xuXG4gIC8qIHBvcG92ZXIgKi9cblxufVxuLmZjIC5mYy1tb3JlLXBvcG92ZXIgLmZjLXBvcG92ZXItYm9keSB7XG4gICAgbWluLXdpZHRoOiAyMjBweDtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICB9XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtZGF5Z3JpZC1ldmVudC5mYy1ldmVudC1zdGFydCxcbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1kYXlncmlkLWV2ZW50LmZjLWV2ZW50LWVuZCB7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG59XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtZGF5Z3JpZC1ldmVudC5mYy1ldmVudC1lbmQsXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtZGF5Z3JpZC1ldmVudC5mYy1ldmVudC1zdGFydCB7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xufVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWRheWdyaWQtd2Vlay1udW1iZXIge1xuICAgIGxlZnQ6IDA7XG4gICAgYm9yZGVyLXJhZGl1czogMCAwIDNweCAwO1xuICB9XG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtZGF5Z3JpZC13ZWVrLW51bWJlciB7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm9yZGVyLXJhZGl1czogMCAwIDAgM3B4O1xuICB9XG4uZmMtbGlxdWlkLWhhY2sgLmZjLWRheWdyaWQtZGF5LWZyYW1lIHtcbiAgICBwb3NpdGlvbjogc3RhdGljOyAvKiB3aWxsIGNhdXNlIGlubmVyIGFic29sdXRlIHN0dWZmIHRvIGV4cGFuZCB0byA8dGQ+ICovXG4gIH1cbi5mYy1kYXlncmlkLWV2ZW50IHsgLyogbWFrZSByb290LWxldmVsLCBiZWNhdXNlIHdpbGwgYmUgZHJhZ2dlZC1hbmQtZHJvcHBlZCBvdXRzaWRlIG9mIGEgY29tcG9uZW50IHJvb3QgKi9cbiAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiBmb3Igei1pbmRleGVzIGFzc2lnbmVkIGxhdGVyICovXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGJvcmRlci1yYWRpdXM6IDNweDsgLyogZG90IGV2ZW50IG5lZWRzIHRoaXMgdG8gd2hlbiBzZWxlY3RlZCAqL1xuICBmb250LXNpemU6IC44NWVtO1xuICBmb250LXNpemU6IHZhcigtLWZjLXNtYWxsLWZvbnQtc2l6ZSwgLjg1ZW0pO1xufVxuLyogLS0tIHRoZSByZWN0YW5nbGUgKFwiYmxvY2tcIikgc3R5bGUgb2YgZXZlbnQgLS0tICovXG4uZmMtZGF5Z3JpZC1ibG9jay1ldmVudCAuZmMtZXZlbnQtdGltZSB7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIH1cbi5mYy1kYXlncmlkLWJsb2NrLWV2ZW50IC5mYy1ldmVudC10aW1lLFxuICAuZmMtZGF5Z3JpZC1ibG9jay1ldmVudCAuZmMtZXZlbnQtdGl0bGUge1xuICAgIHBhZGRpbmc6IDFweDtcbiAgfVxuLyogLS0tIHRoZSBkb3Qgc3R5bGUgb2YgZXZlbnQgLS0tICovXG4uZmMtZGF5Z3JpZC1kb3QtZXZlbnQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwYWRkaW5nOiAycHggMFxuXG59XG4uZmMtZGF5Z3JpZC1kb3QtZXZlbnQgLmZjLWV2ZW50LXRpdGxlIHtcbiAgICBmbGV4LWdyb3c6IDE7XG4gICAgZmxleC1zaHJpbms6IDE7XG4gICAgbWluLXdpZHRoOiAwOyAvKiBpbXBvcnRhbnQgZm9yIGFsbG93aW5nIHRvIHNocmluayBhbGwgdGhlIHdheSAqL1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIH1cbi5mYy1kYXlncmlkLWRvdC1ldmVudDpob3ZlcixcbiAgLmZjLWRheWdyaWQtZG90LWV2ZW50LmZjLWV2ZW50LW1pcnJvciB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjEpO1xuICB9XG4uZmMtZGF5Z3JpZC1kb3QtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQ6YmVmb3JlIHtcbiAgICAvKiBleHBhbmQgaGl0IGFyZWEgKi9cbiAgICB0b3A6IC0xMHB4O1xuICAgIGJvdHRvbTogLTEwcHg7XG4gIH1cbi5mYy1kYXlncmlkLWV2ZW50LWRvdCB7IC8qIHRoZSBhY3R1YWwgZG90ICovXG4gIG1hcmdpbjogMCA0cHg7XG4gIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xuICB3aWR0aDogMDtcbiAgaGVpZ2h0OiAwO1xuICBib3JkZXI6IDRweCBzb2xpZCAjMzc4OGQ4O1xuICBib3JkZXI6IGNhbGModmFyKC0tZmMtZGF5Z3JpZC1ldmVudC1kb3Qtd2lkdGgsIDhweCkgLyAyKSBzb2xpZCB2YXIoLS1mYy1ldmVudC1ib3JkZXItY29sb3IsICMzNzg4ZDgpO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGJvcmRlci1yYWRpdXM6IGNhbGModmFyKC0tZmMtZGF5Z3JpZC1ldmVudC1kb3Qtd2lkdGgsIDhweCkgLyAyKTtcbn1cbi8qIC0tLSBzcGFjaW5nIGJldHdlZW4gdGltZSBhbmQgdGl0bGUgLS0tICovXG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtZGF5Z3JpZC1ldmVudCAuZmMtZXZlbnQtdGltZSB7XG4gICAgbWFyZ2luLXJpZ2h0OiAzcHg7XG4gIH1cbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1kYXlncmlkLWV2ZW50IC5mYy1ldmVudC10aW1lIHtcbiAgICBtYXJnaW4tbGVmdDogM3B4O1xuICB9XG4iXX0= */\";","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Role } from 'src/app/models/role';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { AlertService } from 'src/app/services';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BankDetailsVerifyGuard implements CanActivate {\n  constructor(\n    private alertService: AlertService,\n    private router: Router,\n    private authenticationService: AuthenticationService\n  ) {\n  }\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    const currentUser = this.authenticationService.currentUserValue;\n    if (currentUser) {\n      let _currentUserRole = '';\n      try {\n        _currentUserRole = currentUser.role;\n      } catch (ex) { }\n\n      if (!currentUser.isUsersBankDetailsSubmitted) {\n        this.router.navigate([_currentUserRole + '/home']);\n        this.alertService.error(\"Bank details submission is still pending. Please update to access this feature.\", true);\n        return false;\n      }\n      // authorised so return true\t\n      return true;\n    }\n    // not logged in so redirect to login page with the return url\n    let paramobj = this.router.getCurrentNavigation().extras.state;\n    if (paramobj) {\n      paramobj.returnUrl = state.url;\n    }\n    this.router.navigate(['/login'], { state: paramobj });\n\n    return false;\n  }\n\n}\n"]}