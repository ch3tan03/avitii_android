{"version":3,"sources":["webpack:///node_modules/@fullcalendar/common/main.js","webpack:///node_modules/preact/dist/preact.module.js","webpack:///node_modules/@fullcalendar/common/vdom.js","webpack:///src/app/components/_guards/roles.guard.ts","webpack:///node_modules/@fullcalendar/common/main.css","webpack:///node_modules/@fullcalendar/angular/__ivy_ngcc__/fesm2015/fullcalendar-angular.js","webpack:///node_modules/@fullcalendar/daygrid/main.js","webpack:///node_modules/@fullcalendar/core/vdom.js","webpack:///node_modules/@fullcalendar/core/main.js","webpack:///node_modules/@fullcalendar/daygrid/node_modules/tslib/tslib.es6.js","webpack:///node_modules/fast-deep-equal/index.js","webpack:///node_modules/@fullcalendar/interaction/main.js","webpack:///node_modules/@fullcalendar/daygrid/main.css","webpack:///src/app/bank-details-verify.guard.ts"],"names":["EventSourceApi","context","internalEventSource","prototype","remove","dispatch","type","sourceId","refetch","sourceIds","Object","defineProperty","get","publicId","enumerable","configurable","meta","url","format","removeElement","el","parentNode","removeChild","elementClosest","selector","closest","document","documentElement","contains","elementMatches","parentElement","nodeType","method","matches","matchesSelector","msMatchesSelector","call","findElements","container","containers","HTMLElement","allMatches","i","length","querySelectorAll","j","push","findDirectChildren","parent","parents","childNodes","children","childNode","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","val","style","test","preventDefault","ev","buildDelegationHandler","handler","matchedChild","target","listenBySelector","eventType","attachedHandler","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","callback","realCallback","forEach","eventName","guidNumber","guid","String","disableCursor","body","classList","add","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","input","specs","tokens","token","split","Array","isArray","charAt","field","substring","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","compareNumbers","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","Error","getBoundingClientRect","width","DAY_IDS","addWeeks","m","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","Math","round","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","min","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","Date","getUTCMilliseconds","concat","UTC","apply","isValidDate","isNaN","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","hasOwnProperty","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","undefined","name_2","filterHash","hash","filtered","key","mapHash","newHash","arrayToHash","_i","a_1","item","buildHashFromArray","tuple","hashValuesToArray","obj","isPropsEqual","getUnequalProps","keys","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","parsed","parse","allDay","allDayGuess","duration","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","options","defs","instances","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","map","INTERNAL_UNITS","PARSE_RE","createDuration","unit","_a","parseString","parseObject","exec","sign","parseInt","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","value","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","replace","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","abs","mins","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","arguments","memoizeObjArg","_this","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","locale","buildNativeFormattingFunc","sanitizeSettings","timeZone","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","injectTzoStr","trim","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","direction","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","Boolean","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMinHeight","slotEventOverlap","plugins","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","noEventsText","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","views","initialEvents","events","eventSources","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","className","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","reduce","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","id","title","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","startMarker","endMeta","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","c","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","segStart","segEnd","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","emitter","trigger","buildDateSpanApiWithContext","jsEvent","origEvent","view","viewApi","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","on","handlerName","currentCalendarOptionsRefiners","console","warn","off","args","changeView","viewType","dateOrRange","zoomTo","state","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","formatDate","formatter","settings","dateOrObj","endDate","selectionInput","dateSelection","addEvent","eventInput","sourceInput","EventApi","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","event","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","_context","setProp","_b","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","str","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","RAW_EN_LOCALE","code","list","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","slice","merged","NumberFormat","dateInput","buildDateEnv","dateMeta","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","filter","rawDef","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","createElement","position","innerHTML","appendChild","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","_c","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","getSlotClassNames","buildNavLinkData","JSON","stringify","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","firstChild","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","x","clientHeight","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","getClippingParents","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","then","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","hasHandlers","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","_super","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","contextType","BaseComponent","create","setRef","ref","current","reduceEventStore","receiveRawEvents","fetchId","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","isPropsValid","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","currentState","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","selectionConfig","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","externalDefTransforms","eventResizeJoinTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","hooks","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","StandardTheme","root","tableCellShaded","buttonGroup","button","buttonActive","close","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","RenderHook","rootElRef","handleRootEl","elRef","render","hookProps","MountHook","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","Consumer","renderId","ContentHookInner","renderInnerContent","componentDidMount","updateCustomContent","componentDidUpdate","componentWillUnmount","customContentInfo","destroy","rawVal","normalizeContent","innerContentVDom","contentVal","contentKey","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","optionDefaults","buttonTextOverride","buttonTextDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","source","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","error","message","rawSources","rawSources_1","rawSource","ignoreRange","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionStr","parseSection","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","text","eventSourceDef","arg","arrayEventSourcePlugin","eventSourceDef$1","bind","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef$2","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","html","injectHtml","domNodes","injectDomNodes","oldNodes","newNodes","newNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","clearTimeout","tryDrain","setTimeout","pause","scope","resume","force","depth","drained","clear","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","data","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","setState","prevProps","newOptionOverrides","sliceEvents","NamedTimeZoneImpl","Interaction","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","ariaAttrs","buttonClasses","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","disabled","onClick","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","EventClicking","handleSegClick","segEl","hasUrlContainer","href","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","handleNavLinkClick","_handleNavLinkClick","headerRef","footerRef","interactionsStore","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","toolbarProps","viewVGrow","viewAspectRatio","isHeightAuto","forPrint","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","anchorEl","navLinkOptions","getAttribute","customAction","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner","TableDateCell","dayMeta","navLinkAttrs","colCnt","tabIndex","extraHookProps","colSpan","extraDataAttrs","isSticky","TableDowCell","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","index","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","createRef","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","getSegAnchorAttrs","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","renderInnerContent$1","WeekNumberRoot","defaultFormat","renderInner$1","version","l","u","t","o","r","f","e","defaultProps","v","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","h","p","_","base","k","__r","debounceRendering","some","__P","I","__n","ownerSVGElement","T","A","P","g","L","z","nextSibling","insertBefore","C","setProperty","cssText","toLowerCase","H","$","setAttribute","removeAttribute","__E","M","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","diffed","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","attributes","__html","checked","unmount","N","O","S","q","getDerivedStateFromError","componentDidCatch","forceUpdate","Promise","resolve","FullCalendarVDom","Component","Fragment","createContext","flushToDom","unmountComponentAtNode","RolesGuard","alertService","router","authenticationService","route","currentUser","currentUserValue","_currentUserRole","role","ex","Lender","isVerified","isRegisteredAllowed2EditProfile","navigate","Borrower","roles","queryParams","returnUrl","providedIn","deepCopy","shallowCopy","assign","output","OPTION_IS_DEEP","resources","FullCalendarComponent","element","optionSnapshot","deepChangeDetection","optionVal","calendar","nativeElement","newOptions","newProcessedOptions","oldOptionNames","pauseRendering","resumeRendering","ɵfac","FullCalendarComponent_Factory","ɵcmp","selectors","decls","vars","template","FullCalendarComponent_Template","rf","ctx","styles","encapsulation","ctorParameters","propDecorators","ngDevMode","None","FullCalendarModule","FullCalendarModule_Factory","ɵmod","ɵinj","imports","ngJitMode","declarations","exports","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","DEFAULT_WEEK_NUM_FORMAT","TableCell","handleMoreLinkClick","onMoreClick","allSegs","segsByEachCol","hiddenSegs","segIsHidden","moreCnt","dayEl","buildMoreLinkText","dayElRef","dayClassNames","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgPaddingBottom","fgContent","moreMarginTop","moreLinkClassNames","moreLinkContent","renderMoreLinkInner","moreLinkDidMount","moreLinkWillUnmount","bgContent","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableListItemEvent","TableBlockEvent","computeFgSegPlacement","cellModels","eventHeights","maxContentHeight","colPlacements","moreCnts","segTops","segMarginTops","moreTops","paddingBottoms","eventHeight","placeSeg","limitByMaxHeight","limitByMaxEvents","limitByMaxRows","placements","currentNonAbsBottom","currentAbsHeight","placements_1","placement","segHeight","tryPlaceSegAt","canPlaceSegAt","insertionIndex","instanceIdAndFirstCol","segsByFirstCol","extractFirstColSegs","segsForCols","extractAllColSegs","resliceDaySegs","oneColPlacements","oneColPlacements_1","oneColPlacements_2","hiddenCnts","limitEvents","levelIndex","_moreLinkConsumesLevel","isPlacementInBounds","segIsVisible","visibleColPlacements","level","placements_2","recordVisible","recordHidden","destPlacements","newPosition","currentLevel","moreLinkConsumesLevel","hiddenCnt","doomedLevel","pop","dayDate","colIndex","dayEnd","dayRange","newSegs","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","segHeights","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","selectedInstanceHash","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","showDayNumbers","showWeekNumbers","fromCol","renderFillSegs","updateSizing","prevState","currentProps","nodes","isInvisible","top_1","visibility","leftRightCss","isExternalSizingChange","frameEls","limitByContentHeight","computeSegHeights","computeMaxContentHeight","eventHarnessEl","firstKey","fcContainerEl","getCellEls","elMap","PADDING_FROM_VIEWPORT","SCROLL_DEBOUNCE","Popover","repositioner","handleDocumentMousedown","onClose","handleDocumentScroll","handleCloseClick","extraAttrs","alignmentEl","topAlignmentEl","dims","alignment","innerHeight","innerWidth","MorePopover","hiddenInstances","selectedInstanceId","onCloseClick","positionToHit","originRect","elRect","newOriginLeft","newOriginTop","localLeft","localTop","relativeRect","layer","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","buildBuildMoreLinkText","morePopoverRef","rowRefs","morePopoverState","clickOption","moreLinkClick","segForPublic","currentFgEventSegs","fromRow","handleMorePopoverClose","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","headerAlignElRef","rowPositions","rowObj","colPositions","morePopover","morePopoverHit","getCellRange","getCellEl","moreLinkTextInput","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","rawHit","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","OPTION_REFINERS","main","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","globalObj","globalThis","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","defaultValue","ContextType","origProvider","isNew","subs_1","_props","old","node","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","classNames_1","extendStatics","setPrototypeOf","__proto__","__extends","TypeError","__assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","adopt","reject","fulfilled","rejected","result","done","__generator","label","sent","trys","ops","verb","Symbol","iterator","op","__createBinding","k2","__exportStar","__values","__read","ar","__spread","__spreadArrays","il","jl","__spreadArray","to","from","__await","__asyncGenerator","asyncIterator","settle","fulfill","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","__setModuleDefault","__importStar","mod","__esModule","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","module","equal","RegExp","flags","toString","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","isVisible","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","dateStr","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay","handleHitUpdate","isFinal","isInvalid","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay$1","fixedMirrorParent","receivingComponent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","transforms","transforms_1","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","BankDetailsVerifyGuard","isUsersBankDetailsSubmitted"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAOA;AACA;;;AACA,UAAIA,cAAc;AAAG;AAAe,kBAAY;AAC5C,iBAASA,cAAT,CAAwBC,OAAxB,EAAiCC,mBAAjC,EAAsD;AAClD,eAAKD,OAAL,GAAeA,OAAf;AACA,eAAKC,mBAAL,GAA2BA,mBAA3B;AACH;;AACDF,sBAAc,CAACG,SAAf,CAAyBC,MAAzB,GAAkC,YAAY;AAC1C,eAAKH,OAAL,CAAaI,QAAb,CAAsB;AAClBC,gBAAI,EAAE,qBADY;AAElBC,oBAAQ,EAAE,KAAKL,mBAAL,CAAyBK;AAFjB,WAAtB;AAIH,SALD;;AAMAP,sBAAc,CAACG,SAAf,CAAyBK,OAAzB,GAAmC,YAAY;AAC3C,eAAKP,OAAL,CAAaI,QAAb,CAAsB;AAClBC,gBAAI,EAAE,qBADY;AAElBG,qBAAS,EAAE,CAAC,KAAKP,mBAAL,CAAyBK,QAA1B;AAFO,WAAtB;AAIH,SALD;;AAMAG,cAAM,CAACC,cAAP,CAAsBX,cAAc,CAACG,SAArC,EAAgD,IAAhD,EAAsD;AAClDS,aAAG,EAAE,eAAY;AACb,mBAAO,KAAKV,mBAAL,CAAyBW,QAAhC;AACH,WAHiD;AAIlDC,oBAAU,EAAE,KAJsC;AAKlDC,sBAAY,EAAE;AALoC,SAAtD;AAOAL,cAAM,CAACC,cAAP,CAAsBX,cAAc,CAACG,SAArC,EAAgD,KAAhD,EAAuD;AACnDS,aAAG,EAAE,eAAY;AACb,mBAAO,KAAKV,mBAAL,CAAyBc,IAAzB,CAA8BC,GAArC;AACH,WAHkD;AAInDH,oBAAU,EAAE,KAJuC;AAKnDC,sBAAY,EAAE;AALqC,SAAvD;AAOAL,cAAM,CAACC,cAAP,CAAsBX,cAAc,CAACG,SAArC,EAAgD,QAAhD,EAA0D;AACtDS,aAAG,EAAE,eAAY;AACb,mBAAO,KAAKV,mBAAL,CAAyBc,IAAzB,CAA8BE,MAArC,CADa,CACgC;AAChD,WAHqD;AAItDJ,oBAAU,EAAE,KAJ0C;AAKtDC,sBAAY,EAAE;AALwC,SAA1D;AAOA,eAAOf,cAAP;AACH,OAvCmC,EAApC;;AAyCA,eAASmB,aAAT,CAAuBC,EAAvB,EAA2B;AACvB,YAAIA,EAAE,CAACC,UAAP,EAAmB;AACfD,YAAE,CAACC,UAAH,CAAcC,WAAd,CAA0BF,EAA1B;AACH;AACJ,O,CACD;AACA;;;AACA,eAASG,cAAT,CAAwBH,EAAxB,EAA4BI,QAA5B,EAAsC;AAClC,YAAIJ,EAAE,CAACK,OAAP,EAAgB;AACZ,iBAAOL,EAAE,CAACK,OAAH,CAAWD,QAAX,CAAP,CADY,CAEZ;AACA;AACH;;AACD,YAAI,CAACE,QAAQ,CAACC,eAAT,CAAyBC,QAAzB,CAAkCR,EAAlC,CAAL,EAA4C;AACxC,iBAAO,IAAP;AACH;;AACD,WAAG;AACC,cAAIS,cAAc,CAACT,EAAD,EAAKI,QAAL,CAAlB,EAAkC;AAC9B,mBAAOJ,EAAP;AACH;;AACDA,YAAE,GAAIA,EAAE,CAACU,aAAH,IAAoBV,EAAE,CAACC,UAA7B;AACH,SALD,QAKSD,EAAE,KAAK,IAAP,IAAeA,EAAE,CAACW,QAAH,KAAgB,CALxC;;AAMA,eAAO,IAAP;AACH;;AACD,eAASF,cAAT,CAAwBT,EAAxB,EAA4BI,QAA5B,EAAsC;AAClC,YAAIQ,MAAM,GAAGZ,EAAE,CAACa,OAAH,IAAcb,EAAE,CAACc,eAAjB,IAAoCd,EAAE,CAACe,iBAApD;AACA,eAAOH,MAAM,CAACI,IAAP,CAAYhB,EAAZ,EAAgBI,QAAhB,CAAP;AACH,O,CACD;AACA;AACA;;;AACA,eAASa,YAAT,CAAsBC,SAAtB,EAAiCd,QAAjC,EAA2C;AACvC,YAAIe,UAAU,GAAGD,SAAS,YAAYE,WAArB,GAAmC,CAACF,SAAD,CAAnC,GAAiDA,SAAlE;AACA,YAAIG,UAAU,GAAG,EAAjB;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,UAAU,CAACI,MAA/B,EAAuCD,CAAC,IAAI,CAA5C,EAA+C;AAC3C,cAAIT,OAAO,GAAGM,UAAU,CAACG,CAAD,CAAV,CAAcE,gBAAd,CAA+BpB,QAA/B,CAAd;;AACA,eAAK,IAAIqB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,OAAO,CAACU,MAA5B,EAAoCE,CAAC,IAAI,CAAzC,EAA4C;AACxCJ,sBAAU,CAACK,IAAX,CAAgBb,OAAO,CAACY,CAAD,CAAvB;AACH;AACJ;;AACD,eAAOJ,UAAP;AACH,O,CACD;AACA;;;AACA,eAASM,kBAAT,CAA4BC,MAA5B,EAAoCxB,QAApC,EAA8C;AAC1C,YAAIyB,OAAO,GAAGD,MAAM,YAAYR,WAAlB,GAAgC,CAACQ,MAAD,CAAhC,GAA2CA,MAAzD;AACA,YAAIP,UAAU,GAAG,EAAjB;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGO,OAAO,CAACN,MAA5B,EAAoCD,CAAC,IAAI,CAAzC,EAA4C;AACxC,cAAIQ,UAAU,GAAGD,OAAO,CAACP,CAAD,CAAP,CAAWS,QAA5B,CADwC,CACF;;AACtC,eAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGK,UAAU,CAACP,MAA/B,EAAuCE,CAAC,IAAI,CAA5C,EAA+C;AAC3C,gBAAIO,SAAS,GAAGF,UAAU,CAACL,CAAD,CAA1B;;AACA,gBAAI,CAACrB,QAAD,IAAaK,cAAc,CAACuB,SAAD,EAAY5B,QAAZ,CAA/B,EAAsD;AAClDiB,wBAAU,CAACK,IAAX,CAAgBM,SAAhB;AACH;AACJ;AACJ;;AACD,eAAOX,UAAP;AACH,O,CACD;AACA;;;AACA,UAAIY,aAAa,GAAG,wCAApB;;AACA,eAASC,UAAT,CAAoBlC,EAApB,EAAwBmC,KAAxB,EAA+B;AAC3B,aAAK,IAAIC,QAAT,IAAqBD,KAArB,EAA4B;AACxBE,wBAAc,CAACrC,EAAD,EAAKoC,QAAL,EAAeD,KAAK,CAACC,QAAD,CAApB,CAAd;AACH;AACJ;;AACD,eAASC,cAAT,CAAwBrC,EAAxB,EAA4BsC,IAA5B,EAAkCC,GAAlC,EAAuC;AACnC,YAAIA,GAAG,IAAI,IAAX,EAAiB;AACbvC,YAAE,CAACwC,KAAH,CAASF,IAAT,IAAiB,EAAjB;AACH,SAFD,MAGK,IAAI,OAAOC,GAAP,KAAe,QAAf,IAA2BN,aAAa,CAACQ,IAAd,CAAmBH,IAAnB,CAA/B,EAAyD;AAC1DtC,YAAE,CAACwC,KAAH,CAASF,IAAT,IAAiBC,GAAG,GAAG,IAAvB;AACH,SAFI,MAGA;AACDvC,YAAE,CAACwC,KAAH,CAASF,IAAT,IAAiBC,GAAjB;AACH;AACJ,O,CAED;;;AACA,eAASG,cAAT,CAAwBC,EAAxB,EAA4B;AACxBA,UAAE,CAACD,cAAH;AACH,O,CACD;AACA;;;AACA,eAASE,sBAAT,CAAgCxC,QAAhC,EAA0CyC,OAA1C,EAAmD;AAC/C,eAAO,UAAUF,EAAV,EAAc;AACjB,cAAIG,YAAY,GAAG3C,cAAc,CAACwC,EAAE,CAACI,MAAJ,EAAY3C,QAAZ,CAAjC;;AACA,cAAI0C,YAAJ,EAAkB;AACdD,mBAAO,CAAC7B,IAAR,CAAa8B,YAAb,EAA2BH,EAA3B,EAA+BG,YAA/B;AACH;AACJ,SALD;AAMH;;AACD,eAASE,gBAAT,CAA0B9B,SAA1B,EAAqC+B,SAArC,EAAgD7C,QAAhD,EAA0DyC,OAA1D,EAAmE;AAC/D,YAAIK,eAAe,GAAGN,sBAAsB,CAACxC,QAAD,EAAWyC,OAAX,CAA5C;AACA3B,iBAAS,CAACiC,gBAAV,CAA2BF,SAA3B,EAAsCC,eAAtC;AACA,eAAO,YAAY;AACfhC,mBAAS,CAACkC,mBAAV,CAA8BH,SAA9B,EAAyCC,eAAzC;AACH,SAFD;AAGH;;AACD,eAASG,uBAAT,CAAiCnC,SAAjC,EAA4Cd,QAA5C,EAAsDkD,YAAtD,EAAoEC,YAApE,EAAkF;AAC9E,YAAIC,mBAAJ;AACA,eAAOR,gBAAgB,CAAC9B,SAAD,EAAY,WAAZ,EAAyBd,QAAzB,EAAmC,UAAUqD,WAAV,EAAuBX,YAAvB,EAAqC;AAC3F,cAAIA,YAAY,KAAKU,mBAArB,EAA0C;AACtCA,+BAAmB,GAAGV,YAAtB;AACAQ,wBAAY,CAACG,WAAD,EAAcX,YAAd,CAAZ;;AACA,gBAAIY,kBAAkB,GAAG,SAArBA,kBAAqB,CAAUC,YAAV,EAAwB;AAC7CH,iCAAmB,GAAG,IAAtB;AACAD,0BAAY,CAACI,YAAD,EAAeb,YAAf,CAAZ;AACAA,0BAAY,CAACM,mBAAb,CAAiC,YAAjC,EAA+CM,kBAA/C;AACH,aAJD,CAHsC,CAQtC;;;AACAZ,wBAAY,CAACK,gBAAb,CAA8B,YAA9B,EAA4CO,kBAA5C;AACH;AACJ,SAZsB,CAAvB;AAaH,O,CACD;AACA;;;AACA,UAAIE,oBAAoB,GAAG,CACvB,qBADuB,EAEvB,gBAFuB,EAGvB,gBAHuB,EAIvB,iBAJuB,EAKvB,eALuB,CAA3B,C,CAOA;;AACA,eAASC,kBAAT,CAA4B7D,EAA5B,EAAgC8D,QAAhC,EAA0C;AACtC,YAAIC,YAAY,GAAG,SAAfA,YAAe,CAAUpB,EAAV,EAAc;AAC7BmB,kBAAQ,CAACnB,EAAD,CAAR;AACAiB,8BAAoB,CAACI,OAArB,CAA6B,UAAUC,SAAV,EAAqB;AAC9CjE,cAAE,CAACoD,mBAAH,CAAuBa,SAAvB,EAAkCF,YAAlC;AACH,WAFD;AAGH,SALD;;AAMAH,4BAAoB,CAACI,OAArB,CAA6B,UAAUC,SAAV,EAAqB;AAC9CjE,YAAE,CAACmD,gBAAH,CAAoBc,SAApB,EAA+BF,YAA/B,EAD8C,CACA;AACjD,SAFD;AAGH;;AAED,UAAIG,UAAU,GAAG,CAAjB;;AACA,eAASC,IAAT,GAAgB;AACZD,kBAAU,IAAI,CAAd;AACA,eAAOE,MAAM,CAACF,UAAD,CAAb;AACH;AACD;AACA;AACA;;;AACA,eAASG,aAAT,GAAyB;AACrB/D,gBAAQ,CAACgE,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,gBAA5B;AACH,O,CACD;;;AACA,eAASC,YAAT,GAAwB;AACpBnE,gBAAQ,CAACgE,IAAT,CAAcC,SAAd,CAAwBvF,MAAxB,CAA+B,gBAA/B;AACH;AACD;AACA;;;AACA,eAAS0F,gBAAT,CAA0B1E,EAA1B,EAA8B;AAC1BA,UAAE,CAACuE,SAAH,CAAaC,GAAb,CAAiB,iBAAjB;AACAxE,UAAE,CAACmD,gBAAH,CAAoB,aAApB,EAAmCT,cAAnC;AACH;;AACD,eAASiC,cAAT,CAAwB3E,EAAxB,EAA4B;AACxBA,UAAE,CAACuE,SAAH,CAAavF,MAAb,CAAoB,iBAApB;AACAgB,UAAE,CAACoD,mBAAH,CAAuB,aAAvB,EAAsCV,cAAtC;AACH;AACD;AACA;;;AACA,eAASkC,kBAAT,CAA4B5E,EAA5B,EAAgC;AAC5BA,UAAE,CAACmD,gBAAH,CAAoB,aAApB,EAAmCT,cAAnC;AACH;;AACD,eAASmC,gBAAT,CAA0B7E,EAA1B,EAA8B;AAC1BA,UAAE,CAACoD,mBAAH,CAAuB,aAAvB,EAAsCV,cAAtC;AACH;;AACD,eAASoC,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,YAAIC,KAAK,GAAG,EAAZ;AACA,YAAIC,MAAM,GAAG,EAAb;AACA,YAAI3D,CAAJ;AACA,YAAI4D,KAAJ;;AACA,YAAI,OAAOH,KAAP,KAAiB,QAArB,EAA+B;AAC3BE,gBAAM,GAAGF,KAAK,CAACI,KAAN,CAAY,SAAZ,CAAT;AACH,SAFD,MAGK,IAAI,OAAOJ,KAAP,KAAiB,UAArB,EAAiC;AAClCE,gBAAM,GAAG,CAACF,KAAD,CAAT;AACH,SAFI,MAGA,IAAIK,KAAK,CAACC,OAAN,CAAcN,KAAd,CAAJ,EAA0B;AAC3BE,gBAAM,GAAGF,KAAT;AACH;;AACD,aAAKzD,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG2D,MAAM,CAAC1D,MAAvB,EAA+BD,CAAC,IAAI,CAApC,EAAuC;AACnC4D,eAAK,GAAGD,MAAM,CAAC3D,CAAD,CAAd;;AACA,cAAI,OAAO4D,KAAP,KAAiB,QAArB,EAA+B;AAC3BF,iBAAK,CAACtD,IAAN,CAAWwD,KAAK,CAACI,MAAN,CAAa,CAAb,MAAoB,GAApB,GACP;AAAEC,mBAAK,EAAEL,KAAK,CAACM,SAAN,CAAgB,CAAhB,CAAT;AAA6BC,mBAAK,EAAE,CAAC;AAArC,aADO,GAEP;AAAEF,mBAAK,EAAEL,KAAT;AAAgBO,mBAAK,EAAE;AAAvB,aAFJ;AAGH,WAJD,MAKK,IAAI,OAAOP,KAAP,KAAiB,UAArB,EAAiC;AAClCF,iBAAK,CAACtD,IAAN,CAAW;AAAEgE,kBAAI,EAAER;AAAR,aAAX;AACH;AACJ;;AACD,eAAOF,KAAP;AACH;;AACD,eAASW,mBAAT,CAA6BC,IAA7B,EAAmCC,IAAnC,EAAyCC,UAAzC,EAAqD;AACjD,YAAIxE,CAAJ;AACA,YAAIyE,GAAJ;;AACA,aAAKzE,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGwE,UAAU,CAACvE,MAA3B,EAAmCD,CAAC,IAAI,CAAxC,EAA2C;AACvCyE,aAAG,GAAGC,kBAAkB,CAACJ,IAAD,EAAOC,IAAP,EAAaC,UAAU,CAACxE,CAAD,CAAvB,CAAxB;;AACA,cAAIyE,GAAJ,EAAS;AACL,mBAAOA,GAAP;AACH;AACJ;;AACD,eAAO,CAAP;AACH;;AACD,eAASC,kBAAT,CAA4BJ,IAA5B,EAAkCC,IAAlC,EAAwCI,SAAxC,EAAmD;AAC/C,YAAIA,SAAS,CAACP,IAAd,EAAoB;AAChB,iBAAOO,SAAS,CAACP,IAAV,CAAeE,IAAf,EAAqBC,IAArB,CAAP;AACH;;AACD,eAAOK,eAAe,CAACN,IAAI,CAACK,SAAS,CAACV,KAAX,CAAL,EAAwBM,IAAI,CAACI,SAAS,CAACV,KAAX,CAA5B,CAAf,IACAU,SAAS,CAACR,KAAV,IAAmB,CADnB,CAAP;AAEH;;AACD,eAASS,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;AAC3B,YAAI,CAACD,CAAD,IAAM,CAACC,CAAX,EAAc;AACV,iBAAO,CAAP;AACH;;AACD,YAAIA,CAAC,IAAI,IAAT,EAAe;AACX,iBAAO,CAAC,CAAR;AACH;;AACD,YAAID,CAAC,IAAI,IAAT,EAAe;AACX,iBAAO,CAAP;AACH;;AACD,YAAI,OAAOA,CAAP,KAAa,QAAb,IAAyB,OAAOC,CAAP,KAAa,QAA1C,EAAoD;AAChD,iBAAOhC,MAAM,CAAC+B,CAAD,CAAN,CAAUE,aAAV,CAAwBjC,MAAM,CAACgC,CAAD,CAA9B,CAAP;AACH;;AACD,eAAOD,CAAC,GAAGC,CAAX;AACH;AACD;AACA;;;AACA,eAASE,QAAT,CAAkB/D,GAAlB,EAAuBgE,GAAvB,EAA4B;AACxB,YAAIC,CAAC,GAAGpC,MAAM,CAAC7B,GAAD,CAAd;AACA,eAAO,MAAMkE,MAAN,CAAa,CAAb,EAAgBF,GAAG,GAAGC,CAAC,CAACjF,MAAxB,IAAkCiF,CAAzC;AACH;AACD;AACA;;;AACA,eAASE,cAAT,CAAwBP,CAAxB,EAA2BC,CAA3B,EAA8B;AAC1B,eAAOD,CAAC,GAAGC,CAAX;AACH;;AACD,eAASO,KAAT,CAAeC,CAAf,EAAkB;AACd,eAAOA,CAAC,GAAG,CAAJ,KAAU,CAAjB;AACH;AACD;AACA;;;AACA,eAASC,wBAAT,CAAkCC,MAAlC,EAA0C;AACtC,YAAIC,UAAU,GAAGD,MAAM,CAACE,aAAP,CAAqB,6BAArB,CAAjB;AACA,YAAIC,cAAc,GAAGH,MAAM,CAACE,aAAP,CAAqB,+BAArB,CAArB;;AACA,YAAI,CAACD,UAAL,EAAiB;AACb,gBAAM,IAAIG,KAAJ,CAAU,4CAAV,CAAN,CADa,CACkD;AAClE;;AACD,YAAI,CAACD,cAAL,EAAqB;AACjB,gBAAM,IAAIC,KAAJ,CAAU,8CAAV,CAAN;AACH;;AACD,eAAOJ,MAAM,CAACK,qBAAP,GAA+BC,KAA/B,GAAuCL,UAAU,CAACI,qBAAX,GAAmCC,KAA1E,GAAkF;AACrFH,sBAAc,CAACE,qBAAf,GAAuCC,KAD3C;AAEH;;AAED,UAAIC,OAAO,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CAAd,C,CACA;;AACA,eAASC,QAAT,CAAkBC,CAAlB,EAAqBX,CAArB,EAAwB;AACpB,YAAIT,CAAC,GAAGqB,cAAc,CAACD,CAAD,CAAtB;AACApB,SAAC,CAAC,CAAD,CAAD,IAAQS,CAAC,GAAG,CAAZ;AACA,eAAOa,cAAc,CAACtB,CAAD,CAArB;AACH;;AACD,eAASuB,OAAT,CAAiBH,CAAjB,EAAoBX,CAApB,EAAuB;AACnB,YAAIT,CAAC,GAAGqB,cAAc,CAACD,CAAD,CAAtB;AACApB,SAAC,CAAC,CAAD,CAAD,IAAQS,CAAR;AACA,eAAOa,cAAc,CAACtB,CAAD,CAArB;AACH;;AACD,eAASwB,KAAT,CAAeJ,CAAf,EAAkBX,CAAlB,EAAqB;AACjB,YAAIT,CAAC,GAAGqB,cAAc,CAACD,CAAD,CAAtB;AACApB,SAAC,CAAC,CAAD,CAAD,IAAQS,CAAR;AACA,eAAOa,cAAc,CAACtB,CAAD,CAArB;AACH,O,CACD;AACA;;;AACA,eAASyB,SAAT,CAAmBC,EAAnB,EAAuBC,EAAvB,EAA2B;AACvB,eAAOC,QAAQ,CAACF,EAAD,EAAKC,EAAL,CAAR,GAAmB,CAA1B;AACH;;AACD,eAASC,QAAT,CAAkBF,EAAlB,EAAsBC,EAAtB,EAA0B;AACtB,eAAO,CAACA,EAAE,CAACE,OAAH,KAAeH,EAAE,CAACG,OAAH,EAAhB,KAAiC,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAAlD,CAAP;AACH;;AACD,eAASC,SAAT,CAAmBJ,EAAnB,EAAuBC,EAAvB,EAA2B;AACvB,eAAO,CAACA,EAAE,CAACE,OAAH,KAAeH,EAAE,CAACG,OAAH,EAAhB,KAAiC,OAAO,EAAP,GAAY,EAA7C,CAAP;AACH;;AACD,eAASE,WAAT,CAAqBL,EAArB,EAAyBC,EAAzB,EAA6B;AACzB,eAAO,CAACA,EAAE,CAACE,OAAH,KAAeH,EAAE,CAACG,OAAH,EAAhB,KAAiC,OAAO,EAAxC,CAAP;AACH;;AACD,eAASG,WAAT,CAAqBN,EAArB,EAAyBC,EAAzB,EAA6B;AACzB,eAAO,CAACA,EAAE,CAACE,OAAH,KAAeH,EAAE,CAACG,OAAH,EAAhB,IAAgC,IAAvC;AACH;;AACD,eAASI,cAAT,CAAwBP,EAAxB,EAA4BC,EAA5B,EAAgC;AAC5B,YAAIO,KAAK,GAAGC,UAAU,CAACT,EAAD,CAAtB;AACA,YAAIU,KAAK,GAAGD,UAAU,CAACR,EAAD,CAAtB;AACA,eAAO;AACHU,eAAK,EAAE,CADJ;AAEHC,gBAAM,EAAE,CAFL;AAGHC,cAAI,EAAEC,IAAI,CAACC,KAAL,CAAWb,QAAQ,CAACM,KAAD,EAAQE,KAAR,CAAnB,CAHH;AAIHM,sBAAY,EAAGf,EAAE,CAACE,OAAH,KAAeO,KAAK,CAACP,OAAN,EAAhB,IAAoCH,EAAE,CAACG,OAAH,KAAeK,KAAK,CAACL,OAAN,EAAnD;AAJX,SAAP;AAMH,O,CACD;;;AACA,eAASc,cAAT,CAAwBjB,EAAxB,EAA4BC,EAA5B,EAAgC;AAC5B,YAAIiB,CAAC,GAAGC,aAAa,CAACnB,EAAD,EAAKC,EAAL,CAArB;;AACA,YAAIiB,CAAC,KAAK,IAAN,IAAcA,CAAC,GAAG,CAAJ,KAAU,CAA5B,EAA+B;AAC3B,iBAAOA,CAAC,GAAG,CAAX;AACH;;AACD,eAAO,IAAP;AACH;;AACD,eAASC,aAAT,CAAuBnB,EAAvB,EAA2BC,EAA3B,EAA+B;AAC3B,YAAImB,QAAQ,CAACpB,EAAD,CAAR,KAAiBoB,QAAQ,CAACnB,EAAD,CAA7B,EAAmC;AAC/B,iBAAOa,IAAI,CAACC,KAAL,CAAWb,QAAQ,CAACF,EAAD,EAAKC,EAAL,CAAnB,CAAP;AACH;;AACD,eAAO,IAAP;AACH,O,CACD;;;AACA,eAASQ,UAAT,CAAoBf,CAApB,EAAuB;AACnB,eAAOE,cAAc,CAAC,CAClBF,CAAC,CAAC2B,cAAF,EADkB,EAElB3B,CAAC,CAAC4B,WAAF,EAFkB,EAGlB5B,CAAC,CAAC6B,UAAF,EAHkB,CAAD,CAArB;AAKH;;AACD,eAASC,WAAT,CAAqB9B,CAArB,EAAwB;AACpB,eAAOE,cAAc,CAAC,CAClBF,CAAC,CAAC2B,cAAF,EADkB,EAElB3B,CAAC,CAAC4B,WAAF,EAFkB,EAGlB5B,CAAC,CAAC6B,UAAF,EAHkB,EAIlB7B,CAAC,CAAC+B,WAAF,EAJkB,CAAD,CAArB;AAMH;;AACD,eAASC,aAAT,CAAuBhC,CAAvB,EAA0B;AACtB,eAAOE,cAAc,CAAC,CAClBF,CAAC,CAAC2B,cAAF,EADkB,EAElB3B,CAAC,CAAC4B,WAAF,EAFkB,EAGlB5B,CAAC,CAAC6B,UAAF,EAHkB,EAIlB7B,CAAC,CAAC+B,WAAF,EAJkB,EAKlB/B,CAAC,CAACiC,aAAF,EALkB,CAAD,CAArB;AAOH;;AACD,eAASC,aAAT,CAAuBlC,CAAvB,EAA0B;AACtB,eAAOE,cAAc,CAAC,CAClBF,CAAC,CAAC2B,cAAF,EADkB,EAElB3B,CAAC,CAAC4B,WAAF,EAFkB,EAGlB5B,CAAC,CAAC6B,UAAF,EAHkB,EAIlB7B,CAAC,CAAC+B,WAAF,EAJkB,EAKlB/B,CAAC,CAACiC,aAAF,EALkB,EAMlBjC,CAAC,CAACmC,aAAF,EANkB,CAAD,CAArB;AAQH,O,CACD;;;AACA,eAASC,UAAT,CAAoBC,MAApB,EAA4BC,GAA5B,EAAiCC,GAAjC,EAAsC;AAClC,YAAIC,CAAC,GAAGH,MAAM,CAACV,cAAP,EAAR;AACA,YAAIc,CAAC,GAAGC,eAAe,CAACL,MAAD,EAASG,CAAT,EAAYF,GAAZ,EAAiBC,GAAjB,CAAvB;;AACA,YAAIE,CAAC,GAAG,CAAR,EAAW;AACP,iBAAOC,eAAe,CAACL,MAAD,EAASG,CAAC,GAAG,CAAb,EAAgBF,GAAhB,EAAqBC,GAArB,CAAtB;AACH;;AACD,YAAII,KAAK,GAAGD,eAAe,CAACL,MAAD,EAASG,CAAC,GAAG,CAAb,EAAgBF,GAAhB,EAAqBC,GAArB,CAA3B;;AACA,YAAII,KAAK,IAAI,CAAb,EAAgB;AACZ,iBAAOvB,IAAI,CAACwB,GAAL,CAASH,CAAT,EAAYE,KAAZ,CAAP;AACH;;AACD,eAAOF,CAAP;AACH;;AACD,eAASC,eAAT,CAAyBL,MAAzB,EAAiCQ,IAAjC,EAAuCP,GAAvC,EAA4CC,GAA5C,EAAiD;AAC7C,YAAIO,cAAc,GAAG5C,cAAc,CAAC,CAAC2C,IAAD,EAAO,CAAP,EAAU,IAAIE,eAAe,CAACF,IAAD,EAAOP,GAAP,EAAYC,GAAZ,CAA7B,CAAD,CAAnC;AACA,YAAIS,QAAQ,GAAGjC,UAAU,CAACsB,MAAD,CAAzB;AACA,YAAIlB,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWb,QAAQ,CAACsC,cAAD,EAAiBE,QAAjB,CAAnB,CAAX;AACA,eAAO5B,IAAI,CAAC6B,KAAL,CAAW9B,IAAI,GAAG,CAAlB,IAAuB,CAA9B,CAJ6C,CAIZ;AACpC,O,CACD;;;AACA,eAAS4B,eAAT,CAAyBF,IAAzB,EAA+BP,GAA/B,EAAoCC,GAApC,EAAyC;AACrC;AACA,YAAIW,GAAG,GAAG,IAAIZ,GAAJ,GAAUC,GAApB,CAFqC,CAGrC;;AACA,YAAIY,KAAK,GAAG,CAAC,IAAIjD,cAAc,CAAC,CAAC2C,IAAD,EAAO,CAAP,EAAUK,GAAV,CAAD,CAAd,CAA+BE,SAA/B,EAAJ,GAAiDd,GAAlD,IAAyD,CAArE;AACA,eAAO,CAACa,KAAD,GAASD,GAAT,GAAe,CAAtB;AACH,O,CACD;;;AACA,eAASG,gBAAT,CAA0BC,IAA1B,EAAgC;AAC5B,eAAO,CACHA,IAAI,CAACC,WAAL,EADG,EAEHD,IAAI,CAACE,QAAL,EAFG,EAGHF,IAAI,CAACG,OAAL,EAHG,EAIHH,IAAI,CAACI,QAAL,EAJG,EAKHJ,IAAI,CAACK,UAAL,EALG,EAMHL,IAAI,CAACM,UAAL,EANG,EAOHN,IAAI,CAACO,eAAL,EAPG,CAAP;AASH;;AACD,eAASC,gBAAT,CAA0BlF,CAA1B,EAA6B;AACzB,eAAO,IAAImF,IAAJ,CAASnF,CAAC,CAAC,CAAD,CAAV,EAAeA,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAvB,EAA0BA,CAAC,CAAC,CAAD,CAAD,IAAQ,IAAR,GAAe,CAAf,GAAmBA,CAAC,CAAC,CAAD,CAA9C,EAAmD;AAC1DA,SAAC,CAAC,CAAD,CAAD,IAAQ,CADD,EACIA,CAAC,CAAC,CAAD,CAAD,IAAQ,CADZ,EACeA,CAAC,CAAC,CAAD,CAAD,IAAQ,CADvB,CAAP;AAEH;;AACD,eAASqB,cAAT,CAAwBqD,IAAxB,EAA8B;AAC1B,eAAO,CACHA,IAAI,CAAC3B,cAAL,EADG,EAEH2B,IAAI,CAAC1B,WAAL,EAFG,EAGH0B,IAAI,CAACzB,UAAL,EAHG,EAIHyB,IAAI,CAACvB,WAAL,EAJG,EAKHuB,IAAI,CAACrB,aAAL,EALG,EAMHqB,IAAI,CAACnB,aAAL,EANG,EAOHmB,IAAI,CAACU,kBAAL,EAPG,CAAP;AASH;;AACD,eAAS9D,cAAT,CAAwBtB,CAAxB,EAA2B;AACvB;AACA;AACA,YAAIA,CAAC,CAAC5E,MAAF,KAAa,CAAjB,EAAoB;AAChB4E,WAAC,GAAGA,CAAC,CAACqF,MAAF,CAAS,CAAC,CAAD,CAAT,CAAJ;AACH;;AACD,eAAO,IAAIF,IAAJ,CAASA,IAAI,CAACG,GAAL,CAASC,KAAT,CAAeJ,IAAf,EAAqBnF,CAArB,CAAT,CAAP;AACH,O,CACD;;;AACA,eAASwF,WAAT,CAAqBpE,CAArB,EAAwB;AACpB,eAAO,CAACqE,KAAK,CAACrE,CAAC,CAACS,OAAF,EAAD,CAAb;AACH;;AACD,eAASiB,QAAT,CAAkB1B,CAAlB,EAAqB;AACjB,eAAOA,CAAC,CAAC+B,WAAF,KAAkB,IAAlB,GAAyB,EAAzB,GAA8B,EAA9B,GACH/B,CAAC,CAACiC,aAAF,KAAoB,IAApB,GAA2B,EADxB,GAEHjC,CAAC,CAACmC,aAAF,KAAoB,IAFjB,GAGHnC,CAAC,CAACgE,kBAAF,EAHJ;AAIH;;AAED,eAASM,mBAAT,CAA6BC,KAA7B,EAAoCC,KAApC,EAA2CC,cAA3C,EAA2DC,YAA3D,EAAyE;AACrE,eAAO;AACHC,oBAAU,EAAE/H,IAAI,EADb;AAEH2H,eAAK,EAAEA,KAFJ;AAGHC,eAAK,EAAEA,KAHJ;AAIHC,wBAAc,EAAEA,cAAc,IAAI,IAAlB,GAAyB,IAAzB,GAAgCA,cAJ7C;AAKHC,sBAAY,EAAEA,YAAY,IAAI,IAAhB,GAAuB,IAAvB,GAA8BA;AALzC,SAAP;AAOH;;AAED,UAAIE,cAAc,GAAG7M,MAAM,CAACP,SAAP,CAAiBoN,cAAtC,C,CACA;AACA;;AACA,eAASC,UAAT,CAAoBC,QAApB,EAA8BC,eAA9B,EAA+C;AAC3C,YAAIC,IAAI,GAAG,EAAX;;AACA,YAAID,eAAJ,EAAqB;AACjB,eAAK,IAAIE,MAAT,IAAmBF,eAAnB,EAAoC;AAChC,gBAAIG,WAAW,GAAG,EAAlB,CADgC,CAEhC;;AACA,iBAAK,IAAInL,CAAC,GAAG+K,QAAQ,CAAC9K,MAAT,GAAkB,CAA/B,EAAkCD,CAAC,IAAI,CAAvC,EAA0CA,CAAC,IAAI,CAA/C,EAAkD;AAC9C,kBAAIiB,GAAG,GAAG8J,QAAQ,CAAC/K,CAAD,CAAR,CAAYkL,MAAZ,CAAV;;AACA,kBAAI,OAAOjK,GAAP,KAAe,QAAf,IAA2BA,GAA/B,EAAoC;AAAE;AAClCkK,2BAAW,CAACC,OAAZ,CAAoBnK,GAApB;AACH,eAFD,MAGK,IAAIA,GAAG,KAAKoK,SAAZ,EAAuB;AACxBJ,oBAAI,CAACC,MAAD,CAAJ,GAAejK,GAAf,CADwB,CACJ;;AACpB;AACH;AACJ,aAZ+B,CAahC;;;AACA,gBAAIkK,WAAW,CAAClL,MAAhB,EAAwB;AACpBgL,kBAAI,CAACC,MAAD,CAAJ,GAAeJ,UAAU,CAACK,WAAD,CAAzB;AACH;AACJ;AACJ,SArB0C,CAsB3C;;;AACA,aAAK,IAAInL,CAAC,GAAG+K,QAAQ,CAAC9K,MAAT,GAAkB,CAA/B,EAAkCD,CAAC,IAAI,CAAvC,EAA0CA,CAAC,IAAI,CAA/C,EAAkD;AAC9C,cAAIa,KAAK,GAAGkK,QAAQ,CAAC/K,CAAD,CAApB;;AACA,eAAK,IAAIsL,MAAT,IAAmBzK,KAAnB,EAA0B;AACtB,gBAAI,EAAEyK,MAAM,IAAIL,IAAZ,CAAJ,EAAuB;AAAE;AACrBA,kBAAI,CAACK,MAAD,CAAJ,GAAezK,KAAK,CAACyK,MAAD,CAApB;AACH;AACJ;AACJ;;AACD,eAAOL,IAAP;AACH;;AACD,eAASM,UAAT,CAAoBC,IAApB,EAA0BpH,IAA1B,EAAgC;AAC5B,YAAIqH,QAAQ,GAAG,EAAf;;AACA,aAAK,IAAIC,GAAT,IAAgBF,IAAhB,EAAsB;AAClB,cAAIpH,IAAI,CAACoH,IAAI,CAACE,GAAD,CAAL,EAAYA,GAAZ,CAAR,EAA0B;AACtBD,oBAAQ,CAACC,GAAD,CAAR,GAAgBF,IAAI,CAACE,GAAD,CAApB;AACH;AACJ;;AACD,eAAOD,QAAP;AACH;;AACD,eAASE,OAAT,CAAiBH,IAAjB,EAAuBpH,IAAvB,EAA6B;AACzB,YAAIwH,OAAO,GAAG,EAAd;;AACA,aAAK,IAAIF,GAAT,IAAgBF,IAAhB,EAAsB;AAClBI,iBAAO,CAACF,GAAD,CAAP,GAAetH,IAAI,CAACoH,IAAI,CAACE,GAAD,CAAL,EAAYA,GAAZ,CAAnB;AACH;;AACD,eAAOE,OAAP;AACH;;AACD,eAASC,WAAT,CAAqBhH,CAArB,EAAwB;AACpB,YAAI2G,IAAI,GAAG,EAAX;;AACA,aAAK,IAAIM,EAAE,GAAG,CAAT,EAAYC,GAAG,GAAGlH,CAAvB,EAA0BiH,EAAE,GAAGC,GAAG,CAAC9L,MAAnC,EAA2C6L,EAAE,EAA7C,EAAiD;AAC7C,cAAIE,IAAI,GAAGD,GAAG,CAACD,EAAD,CAAd;AACAN,cAAI,CAACQ,IAAD,CAAJ,GAAa,IAAb;AACH;;AACD,eAAOR,IAAP;AACH;;AACD,eAASS,kBAAT,CAA4BpH,CAA5B,EAA+BT,IAA/B,EAAqC;AACjC,YAAIoH,IAAI,GAAG,EAAX;;AACA,aAAK,IAAIxL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6E,CAAC,CAAC5E,MAAtB,EAA8BD,CAAC,IAAI,CAAnC,EAAsC;AAClC,cAAIkM,KAAK,GAAG9H,IAAI,CAACS,CAAC,CAAC7E,CAAD,CAAF,EAAOA,CAAP,CAAhB;AACAwL,cAAI,CAACU,KAAK,CAAC,CAAD,CAAN,CAAJ,GAAiBA,KAAK,CAAC,CAAD,CAAtB;AACH;;AACD,eAAOV,IAAP;AACH;;AACD,eAASW,iBAAT,CAA2BC,GAA3B,EAAgC;AAC5B,YAAIvH,CAAC,GAAG,EAAR;;AACA,aAAK,IAAI6G,GAAT,IAAgBU,GAAhB,EAAqB;AACjBvH,WAAC,CAACzE,IAAF,CAAOgM,GAAG,CAACV,GAAD,CAAV;AACH;;AACD,eAAO7G,CAAP;AACH;;AACD,eAASwH,YAAT,CAAsB/H,IAAtB,EAA4BC,IAA5B,EAAkC;AAC9B,YAAID,IAAI,KAAKC,IAAb,EAAmB;AACf,iBAAO,IAAP;AACH;;AACD,aAAK,IAAImH,GAAT,IAAgBpH,IAAhB,EAAsB;AAClB,cAAIuG,cAAc,CAACnL,IAAf,CAAoB4E,IAApB,EAA0BoH,GAA1B,CAAJ,EAAoC;AAChC,gBAAI,EAAEA,GAAG,IAAInH,IAAT,CAAJ,EAAoB;AAChB,qBAAO,KAAP;AACH;AACJ;AACJ;;AACD,aAAK,IAAImH,GAAT,IAAgBnH,IAAhB,EAAsB;AAClB,cAAIsG,cAAc,CAACnL,IAAf,CAAoB6E,IAApB,EAA0BmH,GAA1B,CAAJ,EAAoC;AAChC,gBAAIpH,IAAI,CAACoH,GAAD,CAAJ,KAAcnH,IAAI,CAACmH,GAAD,CAAtB,EAA6B;AACzB,qBAAO,KAAP;AACH;AACJ;AACJ;;AACD,eAAO,IAAP;AACH;;AACD,eAASY,eAAT,CAAyBhI,IAAzB,EAA+BC,IAA/B,EAAqC;AACjC,YAAIgI,IAAI,GAAG,EAAX;;AACA,aAAK,IAAIb,GAAT,IAAgBpH,IAAhB,EAAsB;AAClB,cAAIuG,cAAc,CAACnL,IAAf,CAAoB4E,IAApB,EAA0BoH,GAA1B,CAAJ,EAAoC;AAChC,gBAAI,EAAEA,GAAG,IAAInH,IAAT,CAAJ,EAAoB;AAChBgI,kBAAI,CAACnM,IAAL,CAAUsL,GAAV;AACH;AACJ;AACJ;;AACD,aAAK,IAAIA,GAAT,IAAgBnH,IAAhB,EAAsB;AAClB,cAAIsG,cAAc,CAACnL,IAAf,CAAoB6E,IAApB,EAA0BmH,GAA1B,CAAJ,EAAoC;AAChC,gBAAIpH,IAAI,CAACoH,GAAD,CAAJ,KAAcnH,IAAI,CAACmH,GAAD,CAAtB,EAA6B;AACzBa,kBAAI,CAACnM,IAAL,CAAUsL,GAAV;AACH;AACJ;AACJ;;AACD,eAAOa,IAAP;AACH;;AACD,eAASC,WAAT,CAAqBC,QAArB,EAA+BC,QAA/B,EAAyCC,aAAzC,EAAwD;AACpD,YAAIA,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,uBAAa,GAAG,EAAhB;AAAqB;;AACrD,YAAIF,QAAQ,KAAKC,QAAjB,EAA2B;AACvB,iBAAO,IAAP;AACH;;AACD,aAAK,IAAIhB,GAAT,IAAgBgB,QAAhB,EAA0B;AACtB,cAAIhB,GAAG,IAAIe,QAAP,IAAmBG,cAAc,CAACH,QAAQ,CAACf,GAAD,CAAT,EAAgBgB,QAAQ,CAAChB,GAAD,CAAxB,EAA+BiB,aAAa,CAACjB,GAAD,CAA5C,CAArC,EAAyF,CAAzF,KACK;AACD,mBAAO,KAAP;AACH;AACJ,SAVmD,CAWpD;;;AACA,aAAK,IAAIA,GAAT,IAAgBe,QAAhB,EAA0B;AACtB,cAAI,EAAEf,GAAG,IAAIgB,QAAT,CAAJ,EAAwB;AACpB,mBAAO,KAAP;AACH;AACJ;;AACD,eAAO,IAAP;AACH;AACD;AACA;AACA;;;AACA,eAASE,cAAT,CAAwBC,IAAxB,EAA8BC,IAA9B,EAAoCC,UAApC,EAAgD;AAC5C,YAAIF,IAAI,KAAKC,IAAT,IAAiBC,UAAU,KAAK,IAApC,EAA0C;AACtC,iBAAO,IAAP;AACH;;AACD,YAAIA,UAAJ,EAAgB;AACZ,iBAAOA,UAAU,CAACF,IAAD,EAAOC,IAAP,CAAjB;AACH;;AACD,eAAO,KAAP;AACH;;AACD,eAASE,eAAT,CAAyBxB,IAAzB,EAA+ByB,UAA/B,EAA2CC,QAA3C,EAAqDC,IAArD,EAA2D;AACvD,YAAIF,UAAU,KAAK,KAAK,CAAxB,EAA2B;AAAEA,oBAAU,GAAG,CAAb;AAAiB;;AAC9C,YAAIE,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,cAAI,GAAG,CAAP;AAAW;;AAClC,YAAIC,GAAG,GAAG,EAAV;;AACA,YAAIF,QAAQ,IAAI,IAAhB,EAAsB;AAClBA,kBAAQ,GAAGlP,MAAM,CAACuO,IAAP,CAAYf,IAAZ,EAAkBvL,MAA7B;AACH;;AACD,aAAK,IAAID,CAAC,GAAGiN,UAAb,EAAyBjN,CAAC,GAAGkN,QAA7B,EAAuClN,CAAC,IAAImN,IAA5C,EAAkD;AAC9C,cAAIlM,GAAG,GAAGuK,IAAI,CAACxL,CAAD,CAAd;;AACA,cAAIiB,GAAG,KAAKoK,SAAZ,EAAuB;AAAE;AACrB+B,eAAG,CAAChN,IAAJ,CAASa,GAAT;AACH;AACJ;;AACD,eAAOmM,GAAP;AACH;;AAED,eAASC,cAAT,CAAwBC,OAAxB,EAAiCC,aAAjC,EAAgDC,OAAhD,EAAyDC,cAAzD,EAAyE;AACrE,aAAK,IAAIzN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyN,cAAc,CAACxN,MAAnC,EAA2CD,CAAC,IAAI,CAAhD,EAAmD;AAC/C,cAAI0N,MAAM,GAAGD,cAAc,CAACzN,CAAD,CAAd,CAAkB2N,KAAlB,CAAwBL,OAAxB,EAAiCE,OAAjC,CAAb;;AACA,cAAIE,MAAJ,EAAY;AACR,gBAAIE,MAAM,GAAGN,OAAO,CAACM,MAArB;;AACA,gBAAIA,MAAM,IAAI,IAAd,EAAoB;AAChBA,oBAAM,GAAGL,aAAT;;AACA,kBAAIK,MAAM,IAAI,IAAd,EAAoB;AAChBA,sBAAM,GAAGF,MAAM,CAACG,WAAhB;;AACA,oBAAID,MAAM,IAAI,IAAd,EAAoB;AAChBA,wBAAM,GAAG,KAAT;AACH;AACJ;AACJ;;AACD,mBAAO;AACHA,oBAAM,EAAEA,MADL;AAEHE,sBAAQ,EAAEJ,MAAM,CAACI,QAFd;AAGHC,sBAAQ,EAAEL,MAAM,CAACK,QAHd;AAIHC,oBAAM,EAAEhO;AAJL,aAAP;AAMH;AACJ;;AACD,eAAO,IAAP;AACH;;AACD,eAASiO,eAAT,CAAyBC,UAAzB,EAAqCC,YAArC,EAAmD5Q,OAAnD,EAA4D;AACxD,YAAIiQ,OAAO,GAAGjQ,OAAO,CAACiQ,OAAtB;AAAA,YAA+BY,WAAW,GAAG7Q,OAAO,CAAC6Q,WAArD;AAAA,YAAkEC,OAAO,GAAG9Q,OAAO,CAAC8Q,OAApF;AACA,YAAIC,IAAI,GAAGJ,UAAU,CAACI,IAAtB;AAAA,YAA4BC,SAAS,GAAGL,UAAU,CAACK,SAAnD,CAFwD,CAGxD;AACA;;AACAA,iBAAS,GAAGhD,UAAU,CAACgD,SAAD,EAAY,UAAUC,QAAV,EAAoB;AAAE,iBAAO,CAACF,IAAI,CAACE,QAAQ,CAAChE,KAAV,CAAJ,CAAqBiE,YAA7B;AAA4C,SAA9E,CAAtB;;AACA,aAAK,IAAIjE,KAAT,IAAkB8D,IAAlB,EAAwB;AACpB,cAAII,GAAG,GAAGJ,IAAI,CAAC9D,KAAD,CAAd;;AACA,cAAIkE,GAAG,CAACD,YAAR,EAAsB;AAClB,gBAAIX,QAAQ,GAAGY,GAAG,CAACD,YAAJ,CAAiBX,QAAhC;;AACA,gBAAI,CAACA,QAAL,EAAe;AACXA,sBAAQ,GAAGY,GAAG,CAACd,MAAJ,GACPS,OAAO,CAACM,0BADD,GAEPN,OAAO,CAACO,yBAFZ;AAGH;;AACD,gBAAIC,MAAM,GAAGC,qBAAqB,CAACJ,GAAD,EAAMZ,QAAN,EAAgBK,YAAhB,EAA8BX,OAA9B,EAAuCY,WAAW,CAACX,cAAnD,CAAlC;;AACA,iBAAK,IAAI3B,EAAE,GAAG,CAAT,EAAYiD,QAAQ,GAAGF,MAA5B,EAAoC/C,EAAE,GAAGiD,QAAQ,CAAC9O,MAAlD,EAA0D6L,EAAE,EAA5D,EAAgE;AAC5D,kBAAIkD,KAAK,GAAGD,QAAQ,CAACjD,EAAD,CAApB;AACA,kBAAI0C,QAAQ,GAAGjE,mBAAmB,CAACC,KAAD,EAAQ;AACtCwE,qBAAK,EAAEA,KAD+B;AAEtCC,mBAAG,EAAEzB,OAAO,CAACtK,GAAR,CAAY8L,KAAZ,EAAmBlB,QAAnB;AAFiC,eAAR,CAAlC;AAIAS,uBAAS,CAACC,QAAQ,CAAC5D,UAAV,CAAT,GAAiC4D,QAAjC;AACH;AACJ;AACJ;;AACD,eAAO;AAAEF,cAAI,EAAEA,IAAR;AAAcC,mBAAS,EAAEA;AAAzB,SAAP;AACH;AACD;AACA;AACA;;;AACA,eAASO,qBAAT,CAA+BI,QAA/B,EAAyCpB,QAAzC,EAAmDK,YAAnD,EAAiEX,OAAjE,EAA0EC,cAA1E,EAA0F;AACtF,YAAI0B,OAAO,GAAG1B,cAAc,CAACyB,QAAQ,CAACT,YAAT,CAAsBT,MAAvB,CAA5B;AACA,YAAIoB,OAAO,GAAGD,OAAO,CAACE,MAAR,CAAeH,QAAQ,CAACT,YAAT,CAAsBV,QAArC,EAA+C;AACzDiB,eAAK,EAAExB,OAAO,CAAC8B,QAAR,CAAiBnB,YAAY,CAACa,KAA9B,EAAqClB,QAArC,CADkD;AAEzDmB,aAAG,EAAEd,YAAY,CAACc;AAFuC,SAA/C,EAGXzB,OAHW,CAAd,CAFsF,CAMtF;;AACA,YAAI0B,QAAQ,CAACtB,MAAb,EAAqB;AACjBwB,iBAAO,GAAGA,OAAO,CAACG,GAAR,CAAYvI,UAAZ,CAAV;AACH;;AACD,eAAOoI,OAAP;AACH;;AAED,UAAII,cAAc,GAAG,CAAC,OAAD,EAAU,QAAV,EAAoB,MAApB,EAA4B,cAA5B,CAArB;AACA,UAAIC,QAAQ,GAAG,0DAAf,C,CACA;;AACA,eAASC,cAAT,CAAwBjM,KAAxB,EAA+BkM,IAA/B,EAAqC;AACjC,YAAIC,EAAJ;;AACA,YAAI,OAAOnM,KAAP,KAAiB,QAArB,EAA+B;AAC3B,iBAAOoM,WAAW,CAACpM,KAAD,CAAlB;AACH;;AACD,YAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAjC,EAAwC;AAAE;AACtC,iBAAOqM,WAAW,CAACrM,KAAD,CAAlB;AACH;;AACD,YAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,iBAAOqM,WAAW,EAAEF,EAAE,GAAG,EAAL,EAASA,EAAE,CAACD,IAAI,IAAI,cAAT,CAAF,GAA6BlM,KAAtC,EAA6CmM,EAA/C,EAAlB;AACH;;AACD,eAAO,IAAP;AACH;;AACD,eAASC,WAAT,CAAqB3K,CAArB,EAAwB;AACpB,YAAIe,CAAC,GAAGwJ,QAAQ,CAACM,IAAT,CAAc7K,CAAd,CAAR;;AACA,YAAIe,CAAJ,EAAO;AACH,cAAI+J,IAAI,GAAG/J,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAR,GAAY,CAAvB;AACA,iBAAO;AACHiB,iBAAK,EAAE,CADJ;AAEHC,kBAAM,EAAE,CAFL;AAGHC,gBAAI,EAAE4I,IAAI,IAAI/J,CAAC,CAAC,CAAD,CAAD,GAAOgK,QAAQ,CAAChK,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAf,GAA4B,CAAhC,CAHP;AAIHsB,wBAAY,EAAEyI,IAAI,IAAI,CAAC/J,CAAC,CAAC,CAAD,CAAD,GAAOgK,QAAQ,CAAChK,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAf,GAA4B,CAA7B,IAAkC,EAAlC,GAAuC,EAAvC,GAA4C,IAA5C,GAAmD;AACrE,aAACA,CAAC,CAAC,CAAD,CAAD,GAAOgK,QAAQ,CAAChK,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAf,GAA4B,CAA7B,IAAkC,EAAlC,GAAuC,IADrB,GAC4B;AAC9C,aAACA,CAAC,CAAC,CAAD,CAAD,GAAOgK,QAAQ,CAAChK,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAf,GAA4B,CAA7B,IAAkC,IAFhB,KAEuB;AACxCA,aAAC,CAAC,CAAD,CAAD,GAAOgK,QAAQ,CAAChK,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAf,GAA4B,CAHX,CAAJ,CAGkB;AAHlB;AAJf,WAAP;AAUH;;AACD,eAAO,IAAP;AACH;;AACD,eAAS6J,WAAT,CAAqB1D,GAArB,EAA0B;AACtB,YAAI0B,QAAQ,GAAG;AACX5G,eAAK,EAAEkF,GAAG,CAAClF,KAAJ,IAAakF,GAAG,CAACtD,IAAjB,IAAyB,CADrB;AAEX3B,gBAAM,EAAEiF,GAAG,CAACjF,MAAJ,IAAciF,GAAG,CAAC8D,KAAlB,IAA2B,CAFxB;AAGX9I,cAAI,EAAEgF,GAAG,CAAChF,IAAJ,IAAYgF,GAAG,CAAC+D,GAAhB,IAAuB,CAHlB;AAIX5I,sBAAY,EAAE,CAAC6E,GAAG,CAACgE,KAAJ,IAAahE,GAAG,CAACiE,IAAjB,IAAyB,CAA1B,IAA+B,EAA/B,GAAoC,EAApC,GAAyC,IAAzC,GAAgD;AAC1D,WAACjE,GAAG,CAACkE,OAAJ,IAAelE,GAAG,CAACmE,MAAnB,IAA6B,CAA9B,IAAmC,EAAnC,GAAwC,IAD9B,GACqC;AAC/C,WAACnE,GAAG,CAACoE,OAAJ,IAAepE,GAAG,CAACqE,MAAnB,IAA6B,CAA9B,IAAmC,IAFzB,KAEgC;AACzCrE,aAAG,CAAC7E,YAAJ,IAAoB6E,GAAG,CAACsE,WAAxB,IAAuCtE,GAAG,CAACuE,EAA3C,IAAiD,CAHxC;AAJH,SAAf;AASA,YAAIC,KAAK,GAAGxE,GAAG,CAACwE,KAAJ,IAAaxE,GAAG,CAACyE,IAA7B;;AACA,YAAID,KAAJ,EAAW;AACP9C,kBAAQ,CAAC1G,IAAT,IAAiBwJ,KAAK,GAAG,CAAzB;AACA9C,kBAAQ,CAACgD,cAAT,GAA0B,IAA1B;AACH;;AACD,eAAOhD,QAAP;AACH,O,CACD;;;AACA,eAASiD,cAAT,CAAwBC,EAAxB,EAA4BC,EAA5B,EAAgC;AAC5B,eAAOD,EAAE,CAAC9J,KAAH,KAAa+J,EAAE,CAAC/J,KAAhB,IACH8J,EAAE,CAAC7J,MAAH,KAAc8J,EAAE,CAAC9J,MADd,IAEH6J,EAAE,CAAC5J,IAAH,KAAY6J,EAAE,CAAC7J,IAFZ,IAGH4J,EAAE,CAACzJ,YAAH,KAAoB0J,EAAE,CAAC1J,YAH3B;AAIH;;AACD,eAAS2J,WAAT,CAAqBC,GAArB,EAA0B;AACtB,YAAI,CAACA,GAAG,CAACjK,KAAL,IAAc,CAACiK,GAAG,CAAChK,MAAnB,IAA6B,CAACgK,GAAG,CAAC5J,YAAtC,EAAoD;AAChD,iBAAO4J,GAAG,CAAC/J,IAAX;AACH;;AACD,eAAO,CAAP;AACH,O,CACD;;;AACA,eAASgK,YAAT,CAAsBJ,EAAtB,EAA0BC,EAA1B,EAA8B;AAC1B,eAAO;AACH/J,eAAK,EAAE8J,EAAE,CAAC9J,KAAH,GAAW+J,EAAE,CAAC/J,KADlB;AAEHC,gBAAM,EAAE6J,EAAE,CAAC7J,MAAH,GAAY8J,EAAE,CAAC9J,MAFpB;AAGHC,cAAI,EAAE4J,EAAE,CAAC5J,IAAH,GAAU6J,EAAE,CAAC7J,IAHhB;AAIHG,sBAAY,EAAEyJ,EAAE,CAACzJ,YAAH,GAAkB0J,EAAE,CAAC1J;AAJhC,SAAP;AAMH;;AACD,eAAS8J,iBAAT,CAA2BJ,EAA3B,EAA+BD,EAA/B,EAAmC;AAC/B,eAAO;AACH9J,eAAK,EAAE+J,EAAE,CAAC/J,KAAH,GAAW8J,EAAE,CAAC9J,KADlB;AAEHC,gBAAM,EAAE8J,EAAE,CAAC9J,MAAH,GAAY6J,EAAE,CAAC7J,MAFpB;AAGHC,cAAI,EAAE6J,EAAE,CAAC7J,IAAH,GAAU4J,EAAE,CAAC5J,IAHhB;AAIHG,sBAAY,EAAE0J,EAAE,CAAC1J,YAAH,GAAkByJ,EAAE,CAACzJ;AAJhC,SAAP;AAMH;;AACD,eAAS+J,gBAAT,CAA0B7J,CAA1B,EAA6BnC,CAA7B,EAAgC;AAC5B,eAAO;AACH4B,eAAK,EAAEO,CAAC,CAACP,KAAF,GAAU5B,CADd;AAEH6B,gBAAM,EAAEM,CAAC,CAACN,MAAF,GAAW7B,CAFhB;AAGH8B,cAAI,EAAEK,CAAC,CAACL,IAAF,GAAS9B,CAHZ;AAIHiC,sBAAY,EAAEE,CAAC,CAACF,YAAF,GAAiBjC;AAJ5B,SAAP;AAMH,O,CACD;AACA;;;AACA,eAASiM,YAAT,CAAsBJ,GAAtB,EAA2B;AACvB,eAAOK,WAAW,CAACL,GAAD,CAAX,GAAmB,GAA1B;AACH;;AACD,eAASM,aAAT,CAAuBN,GAAvB,EAA4B;AACxB,eAAOK,WAAW,CAACL,GAAD,CAAX,GAAmB,EAA1B;AACH;;AACD,eAASK,WAAT,CAAqBL,GAArB,EAA0B;AACtB,eAAOO,SAAS,CAACP,GAAD,CAAT,GAAiB,KAAxB;AACH;;AACD,eAASQ,cAAT,CAAwBR,GAAxB,EAA6B;AACzB,eAAOO,SAAS,CAACP,GAAD,CAAT,IAAkB,OAAO,EAAzB,CAAP;AACH;;AACD,eAASS,cAAT,CAAwBT,GAAxB,EAA6B;AACzB,eAAOO,SAAS,CAACP,GAAD,CAAT,GAAiB,IAAxB;AACH;;AACD,eAASO,SAAT,CAAmBP,GAAnB,EAAwB;AACpB,eAAOA,GAAG,CAACjK,KAAJ,IAAa,MAAM,KAAnB,IACHiK,GAAG,CAAChK,MAAJ,IAAc,KAAK,KAAnB,CADG,GAEHgK,GAAG,CAAC/J,IAAJ,GAAW,KAFR,GAGH+J,GAAG,CAAC5J,YAHR;AAIH,O,CACD;;;AACA,eAASsK,oBAAT,CAA8BC,SAA9B,EAAyCC,WAAzC,EAAsD;AAClD,YAAI3E,GAAG,GAAG,IAAV;;AACA,aAAK,IAAIpN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwP,cAAc,CAACvP,MAAnC,EAA2CD,CAAC,IAAI,CAAhD,EAAmD;AAC/C,cAAI2P,IAAI,GAAGH,cAAc,CAACxP,CAAD,CAAzB;;AACA,cAAI+R,WAAW,CAACpC,IAAD,CAAf,EAAuB;AACnB,gBAAIqC,QAAQ,GAAGF,SAAS,CAACnC,IAAD,CAAT,GAAkBoC,WAAW,CAACpC,IAAD,CAA5C;;AACA,gBAAI,CAACtK,KAAK,CAAC2M,QAAD,CAAN,IAAqB5E,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK4E,QAAjD,EAA4D;AACxD,qBAAO,IAAP;AACH;;AACD5E,eAAG,GAAG4E,QAAN;AACH,WAND,MAOK,IAAIF,SAAS,CAACnC,IAAD,CAAb,EAAqB;AACtB;AACA,mBAAO,IAAP;AACH;AACJ;;AACD,eAAOvC,GAAP;AACH;;AACD,eAAS6E,2BAAT,CAAqCd,GAArC,EAA0C;AACtC,YAAIR,EAAE,GAAGQ,GAAG,CAAC5J,YAAb;;AACA,YAAIoJ,EAAJ,EAAQ;AACJ,cAAIA,EAAE,GAAG,IAAL,KAAc,CAAlB,EAAqB;AACjB,mBAAO;AAAEhB,kBAAI,EAAE,aAAR;AAAuBuC,mBAAK,EAAEvB;AAA9B,aAAP;AACH;;AACD,cAAIA,EAAE,IAAI,OAAO,EAAX,CAAF,KAAqB,CAAzB,EAA4B;AACxB,mBAAO;AAAEhB,kBAAI,EAAE,QAAR;AAAkBuC,mBAAK,EAAEvB,EAAE,GAAG;AAA9B,aAAP;AACH;;AACD,cAAIA,EAAE,IAAI,OAAO,EAAP,GAAY,EAAhB,CAAF,KAA0B,CAA9B,EAAiC;AAC7B,mBAAO;AAAEhB,kBAAI,EAAE,QAAR;AAAkBuC,mBAAK,EAAEvB,EAAE,IAAI,OAAO,EAAX;AAA3B,aAAP;AACH;;AACD,cAAIA,EAAJ,EAAQ;AACJ,mBAAO;AAAEhB,kBAAI,EAAE,MAAR;AAAgBuC,mBAAK,EAAEvB,EAAE,IAAI,OAAO,EAAP,GAAY,EAAhB;AAAzB,aAAP;AACH;AACJ;;AACD,YAAIQ,GAAG,CAAC/J,IAAR,EAAc;AACV,cAAI+J,GAAG,CAACL,cAAJ,IAAsBK,GAAG,CAAC/J,IAAJ,GAAW,CAAX,KAAiB,CAA3C,EAA8C;AAC1C,mBAAO;AAAEuI,kBAAI,EAAE,MAAR;AAAgBuC,mBAAK,EAAEf,GAAG,CAAC/J,IAAJ,GAAW;AAAlC,aAAP;AACH;;AACD,iBAAO;AAAEuI,gBAAI,EAAE,KAAR;AAAeuC,iBAAK,EAAEf,GAAG,CAAC/J;AAA1B,WAAP;AACH;;AACD,YAAI+J,GAAG,CAAChK,MAAR,EAAgB;AACZ,iBAAO;AAAEwI,gBAAI,EAAE,OAAR;AAAiBuC,iBAAK,EAAEf,GAAG,CAAChK;AAA5B,WAAP;AACH;;AACD,YAAIgK,GAAG,CAACjK,KAAR,EAAe;AACX,iBAAO;AAAEyI,gBAAI,EAAE,MAAR;AAAgBuC,iBAAK,EAAEf,GAAG,CAACjK;AAA3B,WAAP;AACH;;AACD,eAAO;AAAEyI,cAAI,EAAE,aAAR;AAAuBuC,eAAK,EAAE;AAA9B,SAAP;AACH,O,CAED;;;AACA,eAASC,cAAT,CAAwB7J,MAAxB,EAAgC8J,cAAhC,EAAgDC,aAAhD,EAA+D;AAC3D,YAAIA,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,uBAAa,GAAG,KAAhB;AAAwB;;AACxD,YAAInN,CAAC,GAAGoD,MAAM,CAACgK,WAAP,EAAR;AACApN,SAAC,GAAGA,CAAC,CAACqN,OAAF,CAAU,MAAV,EAAkB,EAAlB,CAAJ;;AACA,YAAIF,aAAJ,EAAmB;AACfnN,WAAC,GAAGA,CAAC,CAACqN,OAAF,CAAU,YAAV,EAAwB,EAAxB,CAAJ;AACH;;AACD,YAAIrN,CAAC,CAACjF,MAAF,GAAW,EAAf,EAAmB;AAAE;AACjB,cAAImS,cAAc,IAAI,IAAtB,EAA4B;AACxBlN,aAAC,GAAGA,CAAC,CAACqN,OAAF,CAAU,GAAV,EAAe,EAAf,CAAJ;AACH,WAFD,MAGK,IAAIH,cAAc,KAAK,CAAvB,EAA0B;AAC3BlN,aAAC,GAAGA,CAAC,CAACqN,OAAF,CAAU,GAAV,EAAeC,oBAAoB,CAACJ,cAAD,EAAiB,IAAjB,CAAnC,CAAJ;AACH,WANc,CAOf;;AACH;;AACD,eAAOlN,CAAP;AACH,O,CACD;AACA;AACA;;;AACA,eAASuN,eAAT,CAAyBnK,MAAzB,EAAiC;AAC7B,eAAOA,MAAM,CAACgK,WAAP,GAAqBC,OAArB,CAA6B,MAA7B,EAAqC,EAArC,CAAP;AACH,O,CACD;;;AACA,eAASG,mBAAT,CAA6BpK,MAA7B,EAAqC;AACjC,eAAOtD,QAAQ,CAACsD,MAAM,CAACN,WAAP,EAAD,EAAuB,CAAvB,CAAR,GAAoC,GAApC,GACHhD,QAAQ,CAACsD,MAAM,CAACJ,aAAP,EAAD,EAAyB,CAAzB,CADL,GACmC,GADnC,GAEHlD,QAAQ,CAACsD,MAAM,CAACF,aAAP,EAAD,EAAyB,CAAzB,CAFZ;AAGH;;AACD,eAASoK,oBAAT,CAA8BlC,OAA9B,EAAuCqC,KAAvC,EAA8C;AAC1C,YAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;AAAEA,eAAK,GAAG,KAAR;AAAgB;;AACxC,YAAI3C,IAAI,GAAGM,OAAO,GAAG,CAAV,GAAc,GAAd,GAAoB,GAA/B;AACA,YAAIsC,GAAG,GAAGvL,IAAI,CAACuL,GAAL,CAAStC,OAAT,CAAV;AACA,YAAIF,KAAK,GAAG/I,IAAI,CAAC6B,KAAL,CAAW0J,GAAG,GAAG,EAAjB,CAAZ;AACA,YAAIC,IAAI,GAAGxL,IAAI,CAACC,KAAL,CAAWsL,GAAG,GAAG,EAAjB,CAAX;;AACA,YAAID,KAAJ,EAAW;AACP,iBAAO3C,IAAI,GAAGhL,QAAQ,CAACoL,KAAD,EAAQ,CAAR,CAAf,GAA4B,GAA5B,GAAkCpL,QAAQ,CAAC6N,IAAD,EAAO,CAAP,CAAjD;AACH;;AACD,eAAO,QAAQ7C,IAAR,GAAeI,KAAf,IAAwByC,IAAI,GAAG,MAAM7N,QAAQ,CAAC6N,IAAD,EAAO,CAAP,CAAjB,GAA6B,EAAzD,CAAP;AACH,O,CAED;;;AACA,eAASC,WAAT,CAAqBC,KAArB,EAA4BC,QAA5B,EAAsC;AAClC,YAAIC,SAAS,GAAG,CAAhB;AACA,YAAIjT,CAAC,GAAG,CAAR;;AACA,eAAOA,CAAC,GAAG+S,KAAK,CAAC9S,MAAjB,EAAyB;AACrB,cAAI8S,KAAK,CAAC/S,CAAD,CAAL,KAAagT,QAAjB,EAA2B;AACvBD,iBAAK,CAACG,MAAN,CAAalT,CAAb,EAAgB,CAAhB;AACAiT,qBAAS,IAAI,CAAb;AACH,WAHD,MAIK;AACDjT,aAAC,IAAI,CAAL;AACH;AACJ;;AACD,eAAOiT,SAAP;AACH;;AACD,eAASE,aAAT,CAAuBC,EAAvB,EAA2BC,EAA3B,EAA+BC,YAA/B,EAA6C;AACzC,YAAIF,EAAE,KAAKC,EAAX,EAAe;AACX,iBAAO,IAAP;AACH;;AACD,YAAIpO,GAAG,GAAGmO,EAAE,CAACnT,MAAb;AACA,YAAID,CAAJ;;AACA,YAAIiF,GAAG,KAAKoO,EAAE,CAACpT,MAAf,EAAuB;AAAE;AACrB,iBAAO,KAAP;AACH;;AACD,aAAKD,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGiF,GAAhB,EAAqBjF,CAAC,IAAI,CAA1B,EAA6B;AACzB,cAAI,EAAEsT,YAAY,GAAGA,YAAY,CAACF,EAAE,CAACpT,CAAD,CAAH,EAAQqT,EAAE,CAACrT,CAAD,CAAV,CAAf,GAAgCoT,EAAE,CAACpT,CAAD,CAAF,KAAUqT,EAAE,CAACrT,CAAD,CAA1D,CAAJ,EAAoE;AAChE,mBAAO,KAAP;AACH;AACJ;;AACD,eAAO,IAAP;AACH;;AAED,eAASuT,OAAT,CAAiBC,UAAjB,EAA6BC,WAA7B,EAA0CC,YAA1C,EAAwD;AACpD,YAAIC,WAAJ;AACA,YAAIC,UAAJ;AACA,eAAO,YAAY;AACf,cAAIC,OAAO,GAAG,EAAd;;AACA,eAAK,IAAI/H,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGgI,SAAS,CAAC7T,MAAhC,EAAwC6L,EAAE,EAA1C,EAA8C;AAC1C+H,mBAAO,CAAC/H,EAAD,CAAP,GAAcgI,SAAS,CAAChI,EAAD,CAAvB;AACH;;AACD,cAAI,CAAC6H,WAAL,EAAkB;AACdC,sBAAU,GAAGJ,UAAU,CAACpJ,KAAX,CAAiB,IAAjB,EAAuByJ,OAAvB,CAAb;AACH,WAFD,MAGK,IAAI,CAACV,aAAa,CAACQ,WAAD,EAAcE,OAAd,CAAlB,EAA0C;AAC3C,gBAAIH,YAAJ,EAAkB;AACdA,0BAAY,CAACE,UAAD,CAAZ;AACH;;AACD,gBAAIxG,GAAG,GAAGoG,UAAU,CAACpJ,KAAX,CAAiB,IAAjB,EAAuByJ,OAAvB,CAAV;;AACA,gBAAI,CAACJ,WAAD,IAAgB,CAACA,WAAW,CAACrG,GAAD,EAAMwG,UAAN,CAAhC,EAAmD;AAC/CA,wBAAU,GAAGxG,GAAb;AACH;AACJ;;AACDuG,qBAAW,GAAGE,OAAd;AACA,iBAAOD,UAAP;AACH,SAnBD;AAoBH;;AACD,eAASG,aAAT,CAAuBP,UAAvB,EAAmCC,WAAnC,EAAgDC,YAAhD,EAA8D;AAC1D,YAAIM,KAAK,GAAG,IAAZ;;AACA,YAAIC,UAAJ;AACA,YAAIL,UAAJ;AACA,eAAO,UAAUM,MAAV,EAAkB;AACrB,cAAI,CAACD,UAAL,EAAiB;AACbL,sBAAU,GAAGJ,UAAU,CAAC9T,IAAX,CAAgBsU,KAAhB,EAAuBE,MAAvB,CAAb;AACH,WAFD,MAGK,IAAI,CAAC7H,YAAY,CAAC4H,UAAD,EAAaC,MAAb,CAAjB,EAAuC;AACxC,gBAAIR,YAAJ,EAAkB;AACdA,0BAAY,CAACE,UAAD,CAAZ;AACH;;AACD,gBAAIxG,GAAG,GAAGoG,UAAU,CAAC9T,IAAX,CAAgBsU,KAAhB,EAAuBE,MAAvB,CAAV;;AACA,gBAAI,CAACT,WAAD,IAAgB,CAACA,WAAW,CAACrG,GAAD,EAAMwG,UAAN,CAAhC,EAAmD;AAC/CA,wBAAU,GAAGxG,GAAb;AACH;AACJ;;AACD6G,oBAAU,GAAGC,MAAb;AACA,iBAAON,UAAP;AACH,SAfD;AAgBH;;AACD,eAASO,gBAAT,EAA0B;AAC1BX,gBADA,EACYC,WADZ,EACyBC,YADzB,EACuC;AACnC,YAAIM,KAAK,GAAG,IAAZ;;AACA,YAAII,cAAc,GAAG,EAArB;AACA,YAAIC,cAAc,GAAG,EAArB;AACA,eAAO,UAAUC,UAAV,EAAsB;AACzB,cAAIC,UAAU,GAAGH,cAAc,CAACnU,MAAhC;AACA,cAAIuU,MAAM,GAAGF,UAAU,CAACrU,MAAxB;AACA,cAAID,CAAC,GAAG,CAAR;;AACA,iBAAOA,CAAC,GAAGuU,UAAX,EAAuBvU,CAAC,IAAI,CAA5B,EAA+B;AAC3B,gBAAI,CAACsU,UAAU,CAACtU,CAAD,CAAf,EAAoB;AAAE;AAClB,kBAAI0T,YAAJ,EAAkB;AACdA,4BAAY,CAACW,cAAc,CAACrU,CAAD,CAAf,CAAZ;AACH;AACJ,aAJD,MAKK,IAAI,CAACmT,aAAa,CAACiB,cAAc,CAACpU,CAAD,CAAf,EAAoBsU,UAAU,CAACtU,CAAD,CAA9B,CAAlB,EAAsD;AACvD,kBAAI0T,YAAJ,EAAkB;AACdA,4BAAY,CAACW,cAAc,CAACrU,CAAD,CAAf,CAAZ;AACH;;AACD,kBAAIoN,GAAG,GAAGoG,UAAU,CAACpJ,KAAX,CAAiB4J,KAAjB,EAAwBM,UAAU,CAACtU,CAAD,CAAlC,CAAV;;AACA,kBAAI,CAACyT,WAAD,IAAgB,CAACA,WAAW,CAACrG,GAAD,EAAMiH,cAAc,CAACrU,CAAD,CAApB,CAAhC,EAA0D;AACtDqU,8BAAc,CAACrU,CAAD,CAAd,GAAoBoN,GAApB;AACH;AACJ;AACJ;;AACD,iBAAOpN,CAAC,GAAGwU,MAAX,EAAmBxU,CAAC,IAAI,CAAxB,EAA2B;AACvBqU,0BAAc,CAACrU,CAAD,CAAd,GAAoBwT,UAAU,CAACpJ,KAAX,CAAiB4J,KAAjB,EAAwBM,UAAU,CAACtU,CAAD,CAAlC,CAApB;AACH;;AACDoU,wBAAc,GAAGE,UAAjB;AACAD,wBAAc,CAACnB,MAAf,CAAsBsB,MAAtB,EAxByB,CAwBM;;AAC/B,iBAAOH,cAAP;AACH,SA1BD;AA2BH;;AACD,eAASI,eAAT,EAAyB;AACzBjB,gBADA,EACYC,WADZ,EACyBC,YADzB,EACuC;AACnC,YAAIM,KAAK,GAAG,IAAZ;;AACA,YAAIU,cAAc,GAAG,EAArB;AACA,YAAIC,cAAc,GAAG,EAArB;AACA,eAAO,UAAUC,UAAV,EAAsB;AACzB,cAAIC,UAAU,GAAG,EAAjB;;AACA,eAAK,IAAInJ,GAAT,IAAgBkJ,UAAhB,EAA4B;AACxB,gBAAI,CAACD,cAAc,CAACjJ,GAAD,CAAnB,EAA0B;AACtBmJ,wBAAU,CAACnJ,GAAD,CAAV,GAAkB8H,UAAU,CAACpJ,KAAX,CAAiB4J,KAAjB,EAAwBY,UAAU,CAAClJ,GAAD,CAAlC,CAAlB;AACH,aAFD,MAGK,IAAI,CAACyH,aAAa,CAACuB,cAAc,CAAChJ,GAAD,CAAf,EAAsBkJ,UAAU,CAAClJ,GAAD,CAAhC,CAAlB,EAA0D;AAC3D,kBAAIgI,YAAJ,EAAkB;AACdA,4BAAY,CAACiB,cAAc,CAACjJ,GAAD,CAAf,CAAZ;AACH;;AACD,kBAAI0B,GAAG,GAAGoG,UAAU,CAACpJ,KAAX,CAAiB4J,KAAjB,EAAwBY,UAAU,CAAClJ,GAAD,CAAlC,CAAV;AACAmJ,wBAAU,CAACnJ,GAAD,CAAV,GAAmB+H,WAAW,IAAIA,WAAW,CAACrG,GAAD,EAAMuH,cAAc,CAACjJ,GAAD,CAApB,CAA3B,GACZiJ,cAAc,CAACjJ,GAAD,CADF,GAEZ0B,GAFN;AAGH,aARI,MASA;AACDyH,wBAAU,CAACnJ,GAAD,CAAV,GAAkBiJ,cAAc,CAACjJ,GAAD,CAAhC;AACH;AACJ;;AACDgJ,wBAAc,GAAGE,UAAjB;AACAD,wBAAc,GAAGE,UAAjB;AACA,iBAAOA,UAAP;AACH,SAtBD;AAuBH;;AAED,UAAIC,gCAAgC,GAAG;AACnCjE,YAAI,EAAE,CAD6B;AAEnCkE,iBAAS,EAAE,CAFwB;AAGnCC,sBAAc,EAAE,CAHmB;AAInCC,gBAAQ,EAAE,CAJyB;AAKnCC,kBAAU,EAAE;AALuB,OAAvC;AAOA,UAAIC,6BAA6B,GAAG;AAChCC,oBAAY,EAAE,CADkB;AAEhCC,WAAG,EAAE,CAF2B;AAGhCvM,YAAI,EAAE,CAH0B;AAIhCoH,aAAK,EAAE,CAJyB;AAKhCC,WAAG,EAAE,CAL2B;AAMhCmF,eAAO,EAAE,CANuB;AAOhCjF,YAAI,EAAE,CAP0B;AAQhCE,cAAM,EAAE,CARwB;AAShCE,cAAM,EAAE;AATwB,OAApC;AAWA,UAAI8E,WAAW,GAAG,mBAAlB,C,CAAuC;;AACvC,UAAIC,QAAQ,GAAG,IAAf,C,CAAqB;;AACrB,UAAIC,cAAc,GAAG,MAArB;AACA,UAAIC,MAAM,GAAG,SAAb,C,CAAwB;;AACxB,UAAIC,MAAM,GAAG,SAAb;;AACA,UAAIC,eAAe;AAAG;AAAe,kBAAY;AAC7C,iBAASA,eAAT,CAAyBC,cAAzB,EAAyC;AACrC,cAAIC,iBAAiB,GAAG,EAAxB;AACA,cAAIC,gBAAgB,GAAG,EAAvB;AACA,cAAIC,QAAQ,GAAG,CAAf;;AACA,eAAK,IAAI9K,MAAT,IAAmB2K,cAAnB,EAAmC;AAC/B,gBAAI3K,MAAM,IAAI4J,gCAAd,EAAgD;AAC5CiB,8BAAgB,CAAC7K,MAAD,CAAhB,GAA2B2K,cAAc,CAAC3K,MAAD,CAAzC;AACA8K,sBAAQ,GAAG3O,IAAI,CAAC4O,GAAL,CAASnB,gCAAgC,CAAC5J,MAAD,CAAzC,EAAmD8K,QAAnD,CAAX;AACH,aAHD,MAIK;AACDF,+BAAiB,CAAC5K,MAAD,CAAjB,GAA4B2K,cAAc,CAAC3K,MAAD,CAA1C;;AACA,kBAAIA,MAAM,IAAIiK,6BAAd,EAA6C;AAAE;AAC3Ca,wBAAQ,GAAG3O,IAAI,CAAC4O,GAAL,CAASd,6BAA6B,CAACjK,MAAD,CAAtC,EAAgD8K,QAAhD,CAAX;AACH;AACJ;AACJ;;AACD,eAAKF,iBAAL,GAAyBA,iBAAzB;AACA,eAAKC,gBAAL,GAAwBA,gBAAxB;AACA,eAAKC,QAAL,GAAgBA,QAAhB;AACA,eAAKE,mBAAL,GAA2B3C,OAAO,CAAC2C,mBAAD,CAAlC;AACH;;AACDN,uBAAe,CAACnY,SAAhB,CAA0Be,MAA1B,GAAmC,UAAU+K,IAAV,EAAgBhM,OAAhB,EAAyB;AACxD,iBAAO,KAAK2Y,mBAAL,CAAyB,KAAKJ,iBAA9B,EAAiD,KAAKC,gBAAtD,EAAwExY,OAAxE,EAAiFgM,IAAjF,CAAP;AACH,SAFD;;AAGAqM,uBAAe,CAACnY,SAAhB,CAA0B0Y,WAA1B,GAAwC,UAAUnH,KAAV,EAAiBC,GAAjB,EAAsB1R,OAAtB,EAA+B6Y,sBAA/B,EAAuD;AAC3F,cAAIxG,EAAE,GAAG,IAAT;AAAA,cAAekG,iBAAiB,GAAGlG,EAAE,CAACkG,iBAAtC;AAAA,cAAyDC,gBAAgB,GAAGnG,EAAE,CAACmG,gBAA/E;;AACA,cAAIM,YAAY,GAAGC,yBAAyB,CAACtH,KAAK,CAAC1G,MAAP,EAAe2G,GAAG,CAAC3G,MAAnB,EAA2B/K,OAAO,CAACgZ,cAAnC,CAA5C;;AACA,cAAI,CAACF,YAAL,EAAmB;AACf,mBAAO,KAAK7X,MAAL,CAAYwQ,KAAZ,EAAmBzR,OAAnB,CAAP;AACH;;AACD,cAAIiZ,qBAAqB,GAAGH,YAA5B;;AACA,cAAIG,qBAAqB,GAAG,CAAxB,MAA6B;AAC5BV,2BAAiB,CAAChN,IAAlB,KAA2B,SAA3B,IAAwCgN,iBAAiB,CAAChN,IAAlB,KAA2B,SADpE,MAECgN,iBAAiB,CAAC5F,KAAlB,KAA4B,SAA5B,IAAyC4F,iBAAiB,CAAC5F,KAAlB,KAA4B,SAFtE,MAGC4F,iBAAiB,CAAC3F,GAAlB,KAA0B,SAA1B,IAAuC2F,iBAAiB,CAAC3F,GAAlB,KAA0B,SAHlE,CAAJ,EAGkF;AAC9EqG,iCAAqB,GAAG,CAAxB,CAD8E,CACnD;AAC9B;;AACD,cAAIC,KAAK,GAAG,KAAKjY,MAAL,CAAYwQ,KAAZ,EAAmBzR,OAAnB,CAAZ;AACA,cAAImZ,KAAK,GAAG,KAAKlY,MAAL,CAAYyQ,GAAZ,EAAiB1R,OAAjB,CAAZ;;AACA,cAAIkZ,KAAK,KAAKC,KAAd,EAAqB;AACjB,mBAAOD,KAAP;AACH;;AACD,cAAIE,gBAAgB,GAAGC,+BAA+B,CAACd,iBAAD,EAAoBU,qBAApB,CAAtD;AACA,cAAIK,qBAAqB,GAAGX,mBAAmB,CAACS,gBAAD,EAAmBZ,gBAAnB,EAAqCxY,OAArC,CAA/C;AACA,cAAIuZ,QAAQ,GAAGD,qBAAqB,CAAC7H,KAAD,CAApC;AACA,cAAI+H,QAAQ,GAAGF,qBAAqB,CAAC5H,GAAD,CAApC;AACA,cAAI+H,SAAS,GAAGC,mBAAmB,CAACR,KAAD,EAAQK,QAAR,EAAkBJ,KAAlB,EAAyBK,QAAzB,CAAnC;AACA,cAAIhC,SAAS,GAAGgB,gBAAgB,CAAChB,SAAjB,IAA8BqB,sBAA9B,IAAwD7Y,OAAO,CAAC2Z,gBAAhE,IAAoF,EAApG;;AACA,cAAIF,SAAJ,EAAe;AACX,mBAAOA,SAAS,CAACG,MAAV,GAAmBL,QAAnB,GAA8B/B,SAA9B,GAA0CgC,QAA1C,GAAqDC,SAAS,CAACI,KAAtE;AACH;;AACD,iBAAOX,KAAK,GAAG1B,SAAR,GAAoB2B,KAA3B;AACH,SA5BD;;AA6BAd,uBAAe,CAACnY,SAAhB,CAA0B4Z,cAA1B,GAA2C,YAAY;AACnD,kBAAQ,KAAKrB,QAAb;AACI,iBAAK,CAAL;AACA,iBAAK,CAAL;AACA,iBAAK,CAAL;AACI,qBAAO,MAAP;;AACJ,iBAAK,CAAL;AACI,qBAAO,OAAP;;AACJ,iBAAK,CAAL;AACI,qBAAO,MAAP;;AACJ,iBAAK,CAAL;AACI,qBAAO,KAAP;;AACJ;AACI,qBAAO,MAAP;AAAe;AAZvB;AAcH,SAfD;;AAgBA,eAAOJ,eAAP;AACH,OAvEoC,EAArC;;AAwEA,eAASM,mBAAT,CAA6BJ,iBAA7B,EAAgDC,gBAAhD,EAAkExY,OAAlE,EAA2E;AACvE,YAAI+Z,mBAAmB,GAAGtZ,MAAM,CAACuO,IAAP,CAAYuJ,iBAAZ,EAA+B7V,MAAzD;;AACA,YAAIqX,mBAAmB,KAAK,CAAxB,IAA6BxB,iBAAiB,CAACV,YAAlB,KAAmC,OAApE,EAA6E;AACzE,iBAAO,UAAU7L,IAAV,EAAgB;AAAE,mBAAQiJ,oBAAoB,CAACjJ,IAAI,CAAC6I,cAAN,CAA5B;AAAqD,WAA9E;AACH;;AACD,YAAIkF,mBAAmB,KAAK,CAAxB,IAA6BvB,gBAAgB,CAAClF,IAAlD,EAAwD;AACpD,iBAAO,UAAUtH,IAAV,EAAgB;AAAE,mBAAQgO,gBAAgB,CAACha,OAAO,CAACia,iBAAR,CAA0BjO,IAAI,CAACjB,MAA/B,CAAD,EAAyC/K,OAAO,CAACka,QAAjD,EAA2Dla,OAAO,CAACma,MAAnE,EAA2E3B,gBAAgB,CAAClF,IAA5F,CAAxB;AAA6H,WAAtJ;AACH;;AACD,eAAO8G,yBAAyB,CAAC7B,iBAAD,EAAoBC,gBAApB,EAAsCxY,OAAtC,CAAhC;AACH;;AACD,eAASoa,yBAAT,CAAmC7B,iBAAnC,EAAsDC,gBAAtD,EAAwExY,OAAxE,EAAiF;AAC7EuY,yBAAiB,GAAG,uDAAS,EAAT,EAAaA,iBAAb,CAApB,CAD6E,CACxB;;AACrDC,wBAAgB,GAAG,uDAAS,EAAT,EAAaA,gBAAb,CAAnB,CAF6E,CAE1B;;AACnD6B,wBAAgB,CAAC9B,iBAAD,EAAoBC,gBAApB,CAAhB;AACAD,yBAAiB,CAAC+B,QAAlB,GAA6B,KAA7B,CAJ6E,CAIzC;;AACpC,YAAIC,YAAY,GAAG,IAAIC,IAAI,CAACC,cAAT,CAAwBza,OAAO,CAACma,MAAR,CAAeO,KAAvC,EAA8CnC,iBAA9C,CAAnB;AACA,YAAIoC,UAAJ,CAN6E,CAM7D;;AAChB,YAAInC,gBAAgB,CAACf,cAArB,EAAqC;AACjC,cAAImD,SAAS,GAAG,uDAAS,EAAT,EAAarC,iBAAb,CAAhB;AACA,iBAAOqC,SAAS,CAAC5H,MAAjB,CAFiC,CAER;;AACzB2H,oBAAU,GAAG,IAAIH,IAAI,CAACC,cAAT,CAAwBza,OAAO,CAACma,MAAR,CAAeO,KAAvC,EAA8CE,SAA9C,CAAb;AACH;;AACD,eAAO,UAAU5O,IAAV,EAAgB;AACnB,cAAIjB,MAAM,GAAGiB,IAAI,CAACjB,MAAlB;AACA,cAAI9J,MAAJ;;AACA,cAAI0Z,UAAU,IAAI,CAAC5P,MAAM,CAACJ,aAAP,EAAnB,EAA2C;AACvC1J,kBAAM,GAAG0Z,UAAT;AACH,WAFD,MAGK;AACD1Z,kBAAM,GAAGsZ,YAAT;AACH;;AACD,cAAI5S,CAAC,GAAG1G,MAAM,CAACA,MAAP,CAAc8J,MAAd,CAAR;AACA,iBAAO8P,WAAW,CAAClT,CAAD,EAAIqE,IAAJ,EAAUuM,iBAAV,EAA6BC,gBAA7B,EAA+CxY,OAA/C,CAAlB;AACH,SAXD;AAYH;;AACD,eAASqa,gBAAT,CAA0B9B,iBAA1B,EAA6CC,gBAA7C,EAA+D;AAC3D;AACA;AACA,YAAID,iBAAiB,CAACV,YAAtB,EAAoC;AAChC,cAAI,CAACU,iBAAiB,CAACzF,IAAvB,EAA6B;AACzByF,6BAAiB,CAACzF,IAAlB,GAAyB,SAAzB;AACH;;AACD,cAAI,CAACyF,iBAAiB,CAACvF,MAAvB,EAA+B;AAC3BuF,6BAAiB,CAACvF,MAAlB,GAA2B,SAA3B;AACH;AACJ,SAV0D,CAW3D;;;AACA,YAAIuF,iBAAiB,CAACV,YAAlB,KAAmC,MAAvC,EAA+C;AAC3CU,2BAAiB,CAACV,YAAlB,GAAiC,OAAjC;AACH,SAd0D,CAe3D;;;AACA,YAAIW,gBAAgB,CAACf,cAAjB,KAAoCc,iBAAiB,CAACrF,MAAlB,IAA4BqF,iBAAiB,CAACpF,WAAlF,CAAJ,EAAoG;AAChG,iBAAOqF,gBAAgB,CAACf,cAAxB;AACH;AACJ;;AACD,eAASoD,WAAT,CAAqBlT,CAArB,EAAwBqE,IAAxB,EAA8BuM,iBAA9B,EAAiDC,gBAAjD,EAAmExY,OAAnE,EAA4E;AACxE2H,SAAC,GAAGA,CAAC,CAACqN,OAAF,CAAUmD,MAAV,EAAkB,EAAlB,CAAJ,CADwE,CAC7C;;AAC3B,YAAII,iBAAiB,CAACV,YAAlB,KAAmC,OAAvC,EAAgD;AAC5ClQ,WAAC,GAAGmT,YAAY,CAACnT,CAAD,EAAK3H,OAAO,CAACsa,QAAR,KAAqB,KAArB,IAA8BtO,IAAI,CAAC6I,cAAL,IAAuB,IAAtD,GAChB,KADgB,GACR;AACRI,8BAAoB,CAACjJ,IAAI,CAAC6I,cAAN,CAFR,CAAhB;AAGH;;AACD,YAAI2D,gBAAgB,CAACb,UAArB,EAAiC;AAC7BhQ,WAAC,GAAGA,CAAC,CAACqN,OAAF,CAAUiD,QAAV,EAAoB,EAApB,EAAwB8C,IAAxB,EAAJ;AACH;;AACD,YAAIvC,gBAAgB,CAACf,cAArB,EAAqC;AACjC9P,WAAC,GAAGA,CAAC,CAACqN,OAAF,CAAU,KAAV,EAAiB,EAAjB,CAAJ,CADiC,CACP;AAC7B,SAZuE,CAaxE;AACA;;;AACA,YAAIwD,gBAAgB,CAACd,QAAjB,KAA8B,KAAlC,EAAyC;AACrC/P,WAAC,GAAGA,CAAC,CAACqN,OAAF,CAAUgD,WAAV,EAAuB,EAAvB,EAA2B+C,IAA3B,EAAJ;AACH,SAFD,MAGK,IAAIvC,gBAAgB,CAACd,QAAjB,KAA8B,QAAlC,EAA4C;AAAE;AAC/C/P,WAAC,GAAGA,CAAC,CAACqN,OAAF,CAAUgD,WAAV,EAAuB,UAAUhP,EAAV,EAAcC,EAAd,EAAkB;AAAE,mBAAOA,EAAE,CAAC+R,iBAAH,EAAP;AAAgC,WAA3E,CAAJ;AACH,SAFI,MAGA,IAAIxC,gBAAgB,CAACd,QAAjB,KAA8B,OAAlC,EAA2C;AAAE;AAC9C/P,WAAC,GAAGA,CAAC,CAACqN,OAAF,CAAUgD,WAAV,EAAuB,UAAUhP,EAAV,EAAcC,EAAd,EAAkB;AAAE,mBAAOA,EAAE,CAAC+R,iBAAH,KAAyB,GAAhC;AAAsC,WAAjF,CAAJ;AACH,SAFI,MAGA,IAAIxC,gBAAgB,CAACd,QAAjB,KAA8B,WAAlC,EAA+C;AAAE;AAClD/P,WAAC,GAAGA,CAAC,CAACqN,OAAF,CAAUgD,WAAV,EAAuB,UAAUhP,EAAV,EAAc;AAAE,mBAAOA,EAAE,CAACgS,iBAAH,EAAP;AAAgC,WAAvE,CAAJ;AACH;;AACDrT,SAAC,GAAGA,CAAC,CAACqN,OAAF,CAAUkD,cAAV,EAA0B,GAA1B,CAAJ;AACAvQ,SAAC,GAAGA,CAAC,CAACoT,IAAF,EAAJ;AACA,eAAOpT,CAAP;AACH;;AACD,eAASmT,YAAT,CAAsBnT,CAAtB,EAAyBsT,MAAzB,EAAiC;AAC7B,YAAIC,QAAQ,GAAG,KAAf;AACAvT,SAAC,GAAGA,CAAC,CAACqN,OAAF,CAAUoD,MAAV,EAAkB,YAAY;AAC9B8C,kBAAQ,GAAG,IAAX;AACA,iBAAOD,MAAP;AACH,SAHG,CAAJ,CAF6B,CAM7B;;AACA,YAAI,CAACC,QAAL,EAAe;AACXvT,WAAC,IAAI,MAAMsT,MAAX;AACH;;AACD,eAAOtT,CAAP;AACH;;AACD,eAASqS,gBAAT,CAA0BmB,GAA1B,EAA+BjB,QAA/B,EAAyCC,MAAzC,EAAiDiB,OAAjD,EAA0D;AACtD,YAAIC,KAAK,GAAG,EAAZ;;AACA,YAAID,OAAO,KAAK,QAAhB,EAA0B;AACtBC,eAAK,CAACxY,IAAN,CAAWqX,QAAX;AACH,SAFD,MAGK,IAAIkB,OAAO,KAAK,OAAhB,EAAyB;AAC1BC,eAAK,CAACxY,IAAN,CAAWqX,QAAX,EAAqB,GAArB;AACH,SAPqD,CAQtD;;;AACAmB,aAAK,CAACxY,IAAN,CAAWsX,MAAM,CAACmB,kBAAP,CAA0Bra,MAA1B,CAAiCka,GAAjC,CAAX;;AACA,YAAIhB,MAAM,CAACrJ,OAAP,CAAeyK,SAAf,KAA6B,KAAjC,EAAwC;AAAE;AACtCF,eAAK,CAACG,OAAN;AACH;;AACD,eAAOH,KAAK,CAACI,IAAN,CAAW,EAAX,CAAP;AACH,O,CACD;AACA;AACA;AACA;;;AACA,eAAS1C,yBAAT,CAAmCtF,EAAnC,EAAuCC,EAAvC,EAA2CgI,EAA3C,EAA+C;AAC3C,YAAIA,EAAE,CAACC,aAAH,CAAiBlI,EAAjB,MAAyBiI,EAAE,CAACC,aAAH,CAAiBjI,EAAjB,CAA7B,EAAmD;AAC/C,iBAAO,CAAP;AACH;;AACD,YAAIgI,EAAE,CAACE,cAAH,CAAkBnI,EAAlB,MAA0BiI,EAAE,CAACE,cAAH,CAAkBlI,EAAlB,CAA9B,EAAqD;AACjD,iBAAO,CAAP;AACH;;AACD,YAAIgI,EAAE,CAACG,YAAH,CAAgBpI,EAAhB,MAAwBiI,EAAE,CAACG,YAAH,CAAgBnI,EAAhB,CAA5B,EAAiD;AAC7C,iBAAO,CAAP;AACH;;AACD,YAAItJ,QAAQ,CAACqJ,EAAD,CAAR,KAAiBrJ,QAAQ,CAACsJ,EAAD,CAA7B,EAAmC;AAC/B,iBAAO,CAAP;AACH;;AACD,eAAO,CAAP;AACH;;AACD,eAAS2F,+BAAT,CAAyCvI,OAAzC,EAAkDgL,WAAlD,EAA+D;AAC3D,YAAIC,cAAc,GAAG,EAArB;;AACA,aAAK,IAAIhO,MAAT,IAAmB+C,OAAnB,EAA4B;AACxB,cAAI,EAAE/C,MAAM,IAAI6J,6BAAZ,KAA8C;AAC9CA,uCAA6B,CAAC7J,MAAD,CAA7B,IAAyC+N,WAD7C,EAC0D;AACtDC,0BAAc,CAAChO,MAAD,CAAd,GAAyB+C,OAAO,CAAC/C,MAAD,CAAhC;AACH;AACJ;;AACD,eAAOgO,cAAP;AACH;;AACD,eAASrC,mBAAT,CAA6BR,KAA7B,EAAoCK,QAApC,EAA8CJ,KAA9C,EAAqDK,QAArD,EAA+D;AAC3D,YAAIwC,EAAE,GAAG,CAAT;;AACA,eAAOA,EAAE,GAAG9C,KAAK,CAACxW,MAAlB,EAA0B;AACtB,cAAIuZ,MAAM,GAAG/C,KAAK,CAACgD,OAAN,CAAc3C,QAAd,EAAwByC,EAAxB,CAAb;;AACA,cAAIC,MAAM,KAAK,CAAC,CAAhB,EAAmB;AACf;AACH;;AACD,cAAIE,OAAO,GAAGjD,KAAK,CAACtR,MAAN,CAAa,CAAb,EAAgBqU,MAAhB,CAAd;AACAD,YAAE,GAAGC,MAAM,GAAG1C,QAAQ,CAAC7W,MAAvB;AACA,cAAI0Z,MAAM,GAAGlD,KAAK,CAACtR,MAAN,CAAaoU,EAAb,CAAb;AACA,cAAIK,EAAE,GAAG,CAAT;;AACA,iBAAOA,EAAE,GAAGlD,KAAK,CAACzW,MAAlB,EAA0B;AACtB,gBAAI4Z,MAAM,GAAGnD,KAAK,CAAC+C,OAAN,CAAc1C,QAAd,EAAwB6C,EAAxB,CAAb;;AACA,gBAAIC,MAAM,KAAK,CAAC,CAAhB,EAAmB;AACf;AACH;;AACD,gBAAIC,OAAO,GAAGpD,KAAK,CAACvR,MAAN,CAAa,CAAb,EAAgB0U,MAAhB,CAAd;AACAD,cAAE,GAAGC,MAAM,GAAG9C,QAAQ,CAAC9W,MAAvB;AACA,gBAAI8Z,MAAM,GAAGrD,KAAK,CAACvR,MAAN,CAAayU,EAAb,CAAb;;AACA,gBAAIF,OAAO,KAAKI,OAAZ,IAAuBH,MAAM,KAAKI,MAAtC,EAA8C;AAC1C,qBAAO;AACH5C,sBAAM,EAAEuC,OADL;AAEHtC,qBAAK,EAAEuC;AAFJ,eAAP;AAIH;AACJ;AACJ;;AACD,eAAO,IAAP;AACH;;AAED,eAASK,iBAAT,CAA2BC,QAA3B,EAAqC1D,cAArC,EAAqD;AACjD,YAAI1R,CAAC,GAAG0R,cAAc,CAAC2D,aAAf,CAA6BD,QAAQ,CAAC3R,MAAtC,CAAR;AACA,eAAO;AACHA,gBAAM,EAAE2R,QAAQ,CAAC3R,MADd;AAEH8J,wBAAc,EAAE6H,QAAQ,CAAC7H,cAFtB;AAGHW,eAAK,EAAElO,CAHJ;AAIHiE,cAAI,EAAEjE,CAAC,CAAC,CAAD,CAJJ;AAKHqL,eAAK,EAAErL,CAAC,CAAC,CAAD,CALL;AAMHsL,aAAG,EAAEtL,CAAC,CAAC,CAAD,CANH;AAOHwL,cAAI,EAAExL,CAAC,CAAC,CAAD,CAPJ;AAQH0L,gBAAM,EAAE1L,CAAC,CAAC,CAAD,CARN;AASH4L,gBAAM,EAAE5L,CAAC,CAAC,CAAD,CATN;AAUH6L,qBAAW,EAAE7L,CAAC,CAAC,CAAD;AAVX,SAAP;AAYH;;AAED,eAASsV,0BAAT,CAAoCnL,KAApC,EAA2CC,GAA3C,EAAgD1R,OAAhD,EAAyD6Y,sBAAzD,EAAiF;AAC7E,YAAIgE,SAAS,GAAGJ,iBAAiB,CAAChL,KAAD,EAAQzR,OAAO,CAACgZ,cAAhB,CAAjC;AACA,YAAI8D,OAAO,GAAGpL,GAAG,GAAG+K,iBAAiB,CAAC/K,GAAD,EAAM1R,OAAO,CAACgZ,cAAd,CAApB,GAAoD,IAArE;AACA,eAAO;AACHhN,cAAI,EAAE6Q,SADH;AAEHpL,eAAK,EAAEoL,SAFJ;AAGHnL,aAAG,EAAEoL,OAHF;AAIHxC,kBAAQ,EAAEta,OAAO,CAACsa,QAJf;AAKHyC,qBAAW,EAAE/c,OAAO,CAACma,MAAR,CAAeO,KALzB;AAMHf,0BAAgB,EAAEd,sBAAsB,IAAI7Y,OAAO,CAAC2Z;AANjD,SAAP;AAQH;AAED;AACA;AACA;;AACA;AACA;AACA;AACA;;;AACA,UAAIqD,YAAY;AAAG;AAAe,kBAAY;AAC1C,iBAASA,YAAT,CAAsBC,MAAtB,EAA8B;AAC1B,eAAKA,MAAL,GAAcA,MAAd;AACH;;AACDD,oBAAY,CAAC9c,SAAb,CAAuBe,MAAvB,GAAgC,UAAU+K,IAAV,EAAgBhM,OAAhB,EAAyB6Y,sBAAzB,EAAiD;AAC7E,iBAAO7Y,OAAO,CAACkd,YAAR,CAAqB,KAAKD,MAA1B,EAAkCL,0BAA0B,CAAC5Q,IAAD,EAAO,IAAP,EAAahM,OAAb,EAAsB6Y,sBAAtB,CAA5D,CAAP;AACH,SAFD;;AAGAmE,oBAAY,CAAC9c,SAAb,CAAuB0Y,WAAvB,GAAqC,UAAUnH,KAAV,EAAiBC,GAAjB,EAAsB1R,OAAtB,EAA+B6Y,sBAA/B,EAAuD;AACxF,iBAAO7Y,OAAO,CAACkd,YAAR,CAAqB,KAAKD,MAA1B,EAAkCL,0BAA0B,CAACnL,KAAD,EAAQC,GAAR,EAAa1R,OAAb,EAAsB6Y,sBAAtB,CAA5D,CAAP;AACH,SAFD;;AAGA,eAAOmE,YAAP;AACH,OAXiC,EAAlC;;AAaA,UAAIG,aAAa;AAAG;AAAe,kBAAY;AAC3C,iBAASA,aAAT,CAAuBtW,IAAvB,EAA6B;AACzB,eAAKA,IAAL,GAAYA,IAAZ;AACH;;AACDsW,qBAAa,CAACjd,SAAd,CAAwBe,MAAxB,GAAiC,UAAU+K,IAAV,EAAgBhM,OAAhB,EAAyB6Y,sBAAzB,EAAiD;AAC9E,iBAAO,KAAKhS,IAAL,CAAU+V,0BAA0B,CAAC5Q,IAAD,EAAO,IAAP,EAAahM,OAAb,EAAsB6Y,sBAAtB,CAApC,CAAP;AACH,SAFD;;AAGAsE,qBAAa,CAACjd,SAAd,CAAwB0Y,WAAxB,GAAsC,UAAUnH,KAAV,EAAiBC,GAAjB,EAAsB1R,OAAtB,EAA+B6Y,sBAA/B,EAAuD;AACzF,iBAAO,KAAKhS,IAAL,CAAU+V,0BAA0B,CAACnL,KAAD,EAAQC,GAAR,EAAa1R,OAAb,EAAsB6Y,sBAAtB,CAApC,CAAP;AACH,SAFD;;AAGA,eAAOsE,aAAP;AACH,OAXkC,EAAnC;;AAaA,eAASC,eAAT,CAAyBlX,KAAzB,EAAgC;AAC5B,YAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAjC,EAAwC;AAAE;AACtC,iBAAO,IAAImS,eAAJ,CAAoBnS,KAApB,CAAP;AACH;;AACD,YAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,iBAAO,IAAI8W,YAAJ,CAAiB9W,KAAjB,CAAP;AACH;;AACD,YAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiC;AAC7B,iBAAO,IAAIiX,aAAJ,CAAkBjX,KAAlB,CAAP;AACH;;AACD,eAAO,IAAP;AACH,O,CAED;AACA;;;AACA,UAAImX,oBAAoB,GAAG;AACvBC,uBAAe,EAAEC,QADM;AAEvBC,wBAAgB,EAAED,QAFK;AAGvBhN,gBAAQ,EAAE4B,cAHa;AAIvBsL,4BAAoB,EAAEF,QAJC;AAKvBG,mBAAW,EAAEH,QALU;AAMvBI,qBAAa,EAAEJ,QANQ;AAOvBnM,kCAA0B,EAAEe,cAPL;AAQvBd,iCAAyB,EAAEc,cARJ;AASvByL,wBAAgB,EAAEzL,cATK;AAUvB0L,kBAAU,EAAE1L,cAVW;AAWvB2L,mBAAW,EAAE3L,cAXU;AAYvB4L,mBAAW,EAAE5L,cAZU;AAavB6L,wBAAgB,EAAEZ,eAbK;AAcvBa,oBAAY,EAAE9L,cAdS;AAevB+L,oBAAY,EAAE/L,cAfS;AAgBvBgM,qBAAa,EAAEZ,QAhBQ;AAiBvBa,qBAAa,EAAEb,QAjBQ;AAkBvBc,6BAAqB,EAAE9Y,MAlBA;AAmBvB+Y,2BAAmB,EAAE/Y,MAnBE;AAoBvBgZ,0BAAkB,EAAEC,OApBG;AAqBvBC,kBAAU,EAAED,OArBW;AAsBvBE,uBAAe,EAAEtB,eAtBM;AAuBvBuB,2BAAmB,EAAEpB,QAvBE;AAwBvBqB,wBAAgB,EAAErB,QAxBK;AAyBvBsB,yBAAiB,EAAEtB,QAzBI;AA0BvBuB,4BAAoB,EAAEvB,QA1BC;AA2BvBwB,yBAAiB,EAAExB,QA3BI;AA4BvByB,sBAAc,EAAEzB,QA5BO;AA6BvB0B,uBAAe,EAAE1B,QA7BM;AA8BvB2B,0BAAkB,EAAE3B,QA9BG;AA+BvB4B,mBAAW,EAAE5Z,MA/BU;AAgCvB6Z,mBAAW,EAAEC,MAhCU;AAiCvBC,gBAAQ,EAAEd,OAjCa;AAkCvBe,6BAAqB,EAAEhC,QAlCA;AAmCvBiC,mBAAW,EAAEhB,OAnCU;AAoCvBiB,4BAAoB,EAAElC,QApCC;AAqCvBmC,yBAAiB,EAAEnC,QArCI;AAsCvBoC,0BAAkB,EAAEpC,QAtCG;AAuCvBqC,6BAAqB,EAAErC,QAvCA;AAwCvBsC,gBAAQ,EAAErB,OAxCa;AAyCvBsB,sBAAc,EAAEvC,QAzCO;AA0CvBwC,oBAAY,EAAExC,QA1CS;AA2CvByC,uBAAe,EAAEzC,QA3CM;AA4CvB0C,oBAAY,EAAEzB,OA5CS;AA6CvB0B,8BAAsB,EAAE3C,QA7CD;AA8CvB4C,2BAAmB,EAAE5C,QA9CE;AA+CvB6C,4BAAoB,EAAE7C,QA/CC;AAgDvB8C,+BAAuB,EAAE9C,QAhDF;AAiDvB+C,2BAAmB,EAAE9B,OAjDE;AAkDvB+B,oBAAY,EAAE/B,OAlDS;AAmDvBgC,kBAAU,EAAEjb,MAnDW;AAoDvBkb,gBAAQ,EAAElb,MApDa;AAqDvBmb,qBAAa,EAAEnb,MArDQ;AAsDvB+U,gBAAQ,EAAE/U,MAtDa;AAuDvBob,eAAO,EAAEpD,QAvDc;AAwDvBpD,cAAM,EAAEoD,QAxDe;AAyDvBqD,mBAAW,EAAErb,MAzDU;AA0DvBsb,0BAAkB,EAAExB,MA1DG;AA2DvByB,kBAAU,EAAEtC,OA3DW;AA4DvBuC,8BAAsB,EAAEvC,OA5DD;AA6DvBwC,oBAAY,EAAExC,OA7DS;AA8DvByC,kBAAU,EAAE1D,QA9DW;AA+DvB2D,kBAAU,EAAEjb,eA/DW;AAgEvBkb,0BAAkB,EAAE3C,OAhEG;AAiEvB4C,yBAAiB,EAAE/B,MAjEI;AAkEvBgC,sBAAc,EAAEhC,MAlEO;AAmEvBiC,4BAAoB,EAAEjC,MAnEC;AAoEvBkC,kBAAU,EAAE/C,OApEW;AAqEvBgD,cAAM,EAAEjE,QArEe;AAsEvBkE,qBAAa,EAAElE,QAtEQ;AAuEvBhC,iBAAS,EAAEhW,MAvEY;AAwEvBmc,wBAAgB,EAAEtE,eAxEK;AAyEvBuE,+BAAuB,EAAEnD,OAzEF;AA0EvBoD,wBAAgB,EAAEpD,OA1EK;AA2EvBqD,uBAAe,EAAErD,OA3EM;AA4EvBtE,gBAAQ,EAAE3U,MA5Ea;AA6EvBuc,iCAAyB,EAAEtD,OA7EJ;AA8EvBuD,qBAAa,EAAExE,QA9EQ;AA+EvByE,mBAAW,EAAEzE,QA/EU;AAgFvB0E,WAAG,EAAE1E,QAhFkB;AAiFvB2E,0BAAkB,EAAE3E,QAjFG;AAkFvB4E,yBAAiB,EAAE5E,QAlFI;AAmFvB6E,6BAAqB,EAAE7E,QAnFA;AAoFvB8E,kBAAU,EAAE9E,QApFW;AAqFvBvN,qBAAa,EAAEwO,OArFQ;AAsFvB8D,0BAAkB,EAAE/E,QAtFG;AAuFvBgF,0BAAkB,EAAEhF,QAvFG;AAwFvBiF,oBAAY,EAAEjd,MAxFS;AAyFvBkd,0BAAkB,EAAEjE,OAzFG;AA0FvBkE,6BAAqB,EAAElE,OA1FA;AA2FvBmE,oBAAY,EAAEpF,QA3FS;AA4FvBqF,uBAAe,EAAErF,QA5FM;AA6FvBsF,kBAAU,EAAEtF,QA7FW;AA8FvBuF,4BAAoB,EAAEvd,MA9FC;AA+FvBwd,wBAAgB,EAAExd,MA/FK;AAgGvByd,sBAAc,EAAEzd,MAhGO;AAiGvB0d,kBAAU,EAAE1d,MAjGW;AAkGvB2d,uBAAe,EAAE3F,QAlGM;AAmGvB4F,oBAAY,EAAE5F,QAnGS;AAoGvB6F,qBAAa,EAAE7F,QApGQ;AAqGvB8F,wBAAgB,EAAE9F,QArGK;AAsGvB+F,wBAAgB,EAAE/F,QAtGK;AAuGvBgG,qBAAa,EAAEhG,QAvGQ;AAwGvBiG,mBAAW,EAAEjG,QAxGU;AAyGvBkG,iBAAS,EAAEjF,OAzGY;AA0GvBkF,sBAAc,EAAEne,MA1GO;AA2GvBoe,uBAAe,EAAEpG,QA3GM;AA4GvBqG,0BAAkB,EAAErG,QA5GG;AA6GvBsG,uBAAe,EAAEtG,QA7GM;AA8GvBuG,wBAAgB,EAAEvG,QA9GK;AA+GvBwG,2BAAmB,EAAExG,QA/GE;AAgHvByG,2BAAmB,EAAEzG,QAhHE;AAiHvB0G,wBAAgB,EAAE1G,QAjHK;AAkHvB2G,yBAAiB,EAAE3G,QAlHI;AAmHvB4G,4BAAoB,EAAE5G,QAnHC;AAoHvB6G,oBAAY,EAAE7G,QApHS;AAqHvB8G,uBAAe,EAAE9G,QArHM;AAsHvB+G,mBAAW,EAAEjF,MAtHU;AAuHvBkF,yBAAiB,EAAEpS,cAvHI;AAwHvBqS,kBAAU,EAAEjf,MAxHW;AAyHvBkf,wBAAgB,EAAElH,QAzHK;AA0HvBmH,qBAAa,EAAEnH,QA1HQ;AA2HvBoH,sBAAc,EAAEpH,QA3HO;AA4HvBqH,yBAAiB,EAAErH,QA5HI;AA6HvBsH,oBAAY,EAAExF,MA7HS;AA8HvByF,gBAAQ,EAAEtG,OA9Ha;AA+HvBuG,uBAAe,EAAE3H,eA/HM;AAgIvB4H,qBAAa,EAAE3F,MAhIQ;AAiIvB4F,oBAAY,EAAE1H,QAjIS;AAkIvB2H,yBAAiB,EAAE7F,MAlII;AAmIvB8F,kBAAU,EAAE3G,OAnIW;AAoIvB4G,4BAAoB,EAAE/F,MApIC;AAqIvBgG,2BAAmB,EAAEhG,MArIE;AAsIvBiG,oBAAY,EAAE9G,OAtIS;AAuIvB+G,sBAAc,EAAElG,MAvIO;AAwIvBmG,wBAAgB,EAAEhH,OAxIK;AAyIvBiH,eAAO,EAAElI,QAzIc;AA0IvBmI,gBAAQ,EAAErG,MA1Ia;AA2IvBsG,gBAAQ,EAAEtG,MA3Ia;AA4IvBuG,qBAAa,EAAErgB,MA5IQ;AA6IvBsgB,qBAAa,EAAE1T,cA7IQ;AA8IvB2T,kBAAU,EAAEvI,QA9IW;AA+IvBwI,iBAAS,EAAEvH,OA/IY;AAgJvBwH,sBAAc,EAAExH,OAhJO;AAiJvByH,kBAAU,EAAE1I,QAjJW;AAkJvB2I,oBAAY,EAAE3I,QAlJS;AAmJvB4I,mBAAW,EAAE5I,QAnJU;AAoJvB;AACA6I,oBAAY,EAAE7gB;AArJS,OAA3B,C,CAuJA;AACA;;AACA,UAAI8gB,oBAAoB,GAAG;AACvB7D,oBAAY,EAAE,MADS;AAEvBnE,6BAAqB,EAAE,KAFA;AAGvBC,2BAAmB,EAAE,UAHE;AAIvBjN,iCAAyB,EAAE,UAJJ;AAKvBD,kCAA0B,EAAE;AAAEwB,aAAG,EAAE;AAAP,SALL;AAMvB2L,0BAAkB,EAAE,KANG;AAOvBX,wBAAgB,EAAE,UAPK;AAQvBa,kBAAU,EAAE,IARW;AASvBU,mBAAW,EAAE,EATU;AAUvBC,mBAAW,EAAE,IAVU;AAWvBjB,qBAAa,EAAE;AACX1M,eAAK,EAAE,OADI;AAEX6U,gBAAM,EAAE,EAFG;AAGX5U,aAAG,EAAE;AAHM,SAXQ;AAgBvB4N,gBAAQ,EAAE,IAhBa;AAiBvBE,mBAAW,EAAE,KAjBU;AAkBvBD,6BAAqB,EAAE,OAlBA;AAmBvBM,gBAAQ,EAAE,KAnBa;AAoBvBI,oBAAY,EAAE,KApBS;AAqBvBpC,kBAAU,EAAE,UArBW;AAsBvBC,mBAAW,EAAE,UAtBU;AAuBvBC,mBAAW,EAAE,UAvBU;AAwBvBuC,2BAAmB,EAAE,IAxBE;AAyBvBC,oBAAY,EAAE,IAzBS;AA0BvBC,kBAAU,EAAE,OA1BW;AA2BvBC,gBAAQ,EAAE,KA3Ba;AA4BvBC,qBAAa,EAAE,UA5BQ;AA6BvBpG,gBAAQ,EAAE,OA7Ba;AA8BvBqG,eAAO,EAAE,EA9Bc;AA+BvBxG,cAAM,EAAE,EA/Be;AAgCvByG,mBAAW,EAAE,UAhCU;AAiCvBC,0BAAkB,EAAE,GAjCG;AAkCvBC,kBAAU,EAAE,IAlCW;AAmCvBC,8BAAsB,EAAE,KAnCD;AAoCvBC,oBAAY,EAAE,IApCS;AAqCvBC,kBAAU,EAAE,GArCW;AAsCvBC,kBAAU,EAAE,8BAtCW;AAuCvBlD,wBAAgB,EAAE;AAAErL,eAAK,EAAE,MAAT;AAAiBC,aAAG,EAAE,SAAtB;AAAiCrH,cAAI,EAAE;AAAvC,SAvCK;AAwCvB4V,0BAAkB,EAAE,IAxCG;AAyCvBC,yBAAiB,EAAE,GAzCI;AA0CvBC,sBAAc,EAAE,IA1CO;AA2CvBC,4BAAoB,EAAE,CA3CC;AA4CvBC,kBAAU,EAAE,KA5CW;AA6CvBuD,gBAAQ,EAAE,KA7Ca;AA8CvBK,kBAAU,EAAE;AA9CW,OAA3B,C,CAgDA;AACA;;AACA,UAAIoB,0BAA0B,GAAG;AAC7BC,gBAAQ,EAAEjJ,QADmB;AAE7BkJ,iBAAS,EAAElJ,QAFkB;AAG7BmJ,gBAAQ,EAAEnJ,QAHmB;AAI7BoJ,mBAAW,EAAEpJ,QAJgB;AAK7BqJ,mBAAW,EAAErJ,QALgB;AAM7BsJ,oBAAY,EAAEtJ,QANe;AAO7BuJ,kBAAU,EAAEvJ,QAPiB;AAQ7BwJ,uBAAe,EAAExJ,QARY;AAS7ByJ,uBAAe,EAAEzJ,QATY;AAU7B0J,cAAM,EAAE1J,QAVqB;AAW7B2J,gBAAQ,EAAE3J,QAXmB;AAY7B4J,eAAO,EAAE5J,QAZoB;AAa7B;AACA6J,gBAAQ,EAAE7J,QAdmB;AAe7B8J,oBAAY,EAAE9J,QAfe;AAgB7B+J,mBAAW,EAAE/J,QAhBgB;AAiB7BgK,oBAAY,EAAEhK,QAjBe;AAkB7BiK,sBAAc,EAAEjK,QAlBa;AAmB7BkK,eAAO,EAAElK,QAnBoB;AAoB7BmK,sBAAc,EAAEnK;AApBa,OAAjC,C,CAsBA;AACA;;AACA,UAAIoK,wBAAwB,GAAG;AAC3BC,kBAAU,EAAErK,QADe;AAE3BsK,aAAK,EAAEtK,QAFoB;AAG3BkI,eAAO,EAAElI,QAHkB;AAI3BuK,qBAAa,EAAEvK,QAJY;AAK3BwK,cAAM,EAAExK,QALmB;AAM3ByK,oBAAY,EAAEzK;AANa,OAA/B;AAQA,UAAI0K,0BAA0B,GAAG;AAC7B9J,qBAAa,EAAE+J,kBADc;AAE7B9J,qBAAa,EAAE8J,kBAFc;AAG7BN,kBAAU,EAAEM,kBAHiB;AAI7BxK,mBAAW,EAAEwK;AAJgB,OAAjC;;AAMA,eAASA,kBAAT,CAA4B5gB,CAA5B,EAA+BC,CAA/B,EAAkC;AAC9B,YAAI,OAAOD,CAAP,KAAa,QAAb,IAAyB,OAAOC,CAAP,KAAa,QAAtC,IAAkDD,CAAlD,IAAuDC,CAA3D,EAA8D;AAAE;AAC5D,iBAAOuH,YAAY,CAACxH,CAAD,EAAIC,CAAJ,CAAnB;AACH;;AACD,eAAOD,CAAC,KAAKC,CAAb;AACH,O,CACD;AACA;;;AACA,UAAI4gB,oBAAoB,GAAG;AACvB9nB,YAAI,EAAEkF,MADiB;AAEvB6iB,iBAAS,EAAE7K,QAFY;AAGvBqK,kBAAU,EAAEriB,MAHW;AAIvB8iB,qBAAa,EAAE9iB,MAJQ;AAKvB+iB,iCAAyB,EAAE/K,QALJ;AAMvBgL,sBAAc,EAAE/J,OANO;AAOvBgK,kBAAU,EAAEjL,QAPW;AAQvBkL,eAAO,EAAElL,QARc;AASvBmL,gBAAQ,EAAEnL,QATa;AAUvBoL,mBAAW,EAAEpL;AAVU,OAA3B,C,CAYA;AACA;;AACA,eAASqL,eAAT,CAAyBC,UAAzB,EAAqC;AACjC,eAAOtb,UAAU,CAACsb,UAAD,EAAaZ,0BAAb,CAAjB;AACH;;AACD,eAASa,WAAT,CAAqB5iB,KAArB,EAA4B6iB,QAA5B,EAAsC;AAClC,YAAIhZ,OAAO,GAAG,EAAd;AACA,YAAIiZ,KAAK,GAAG,EAAZ;;AACA,aAAK,IAAIzlB,QAAT,IAAqBwlB,QAArB,EAA+B;AAC3B,cAAIxlB,QAAQ,IAAI2C,KAAhB,EAAuB;AACnB6J,mBAAO,CAACxM,QAAD,CAAP,GAAoBwlB,QAAQ,CAACxlB,QAAD,CAAR,CAAmB2C,KAAK,CAAC3C,QAAD,CAAxB,CAApB;AACH;AACJ;;AACD,aAAK,IAAIA,QAAT,IAAqB2C,KAArB,EAA4B;AACxB,cAAI,EAAE3C,QAAQ,IAAIwlB,QAAd,CAAJ,EAA6B;AACzBC,iBAAK,CAACzlB,QAAD,CAAL,GAAkB2C,KAAK,CAAC3C,QAAD,CAAvB;AACH;AACJ;;AACD,eAAO;AAAEwM,iBAAO,EAAEA,OAAX;AAAoBiZ,eAAK,EAAEA;AAA3B,SAAP;AACH;;AACD,eAASzL,QAAT,CAAkB0L,GAAlB,EAAuB;AACnB,eAAOA,GAAP;AACH;;AAED,eAASC,WAAT,CAAqBC,SAArB,EAAgCC,WAAhC,EAA6CppB,OAA7C,EAAsDqpB,cAAtD,EAAsE;AAClE,YAAI1Y,UAAU,GAAG2Y,qBAAqB,EAAtC;AACA,YAAIC,aAAa,GAAGC,kBAAkB,CAACxpB,OAAD,CAAtC;;AACA,aAAK,IAAIuO,EAAE,GAAG,CAAT,EAAYkb,WAAW,GAAGN,SAA/B,EAA0C5a,EAAE,GAAGkb,WAAW,CAAC/mB,MAA3D,EAAmE6L,EAAE,EAArE,EAAyE;AACrE,cAAImb,QAAQ,GAAGD,WAAW,CAAClb,EAAD,CAA1B;AACA,cAAII,KAAK,GAAGgb,UAAU,CAACD,QAAD,EAAWN,WAAX,EAAwBppB,OAAxB,EAAiCqpB,cAAjC,EAAiDE,aAAjD,CAAtB;;AACA,cAAI5a,KAAJ,EAAW;AACPib,6BAAiB,CAACjb,KAAD,EAAQgC,UAAR,CAAjB;AACH;AACJ;;AACD,eAAOA,UAAP;AACH;;AACD,eAASiZ,iBAAT,CAA2Bjb,KAA3B,EAAkCgC,UAAlC,EAA8C;AAC1C,YAAIA,UAAU,KAAK,KAAK,CAAxB,EAA2B;AAAEA,oBAAU,GAAG2Y,qBAAqB,EAAlC;AAAuC;;AACpE3Y,kBAAU,CAACI,IAAX,CAAgBpC,KAAK,CAACwC,GAAN,CAAUlE,KAA1B,IAAmC0B,KAAK,CAACwC,GAAzC;;AACA,YAAIxC,KAAK,CAACsC,QAAV,EAAoB;AAChBN,oBAAU,CAACK,SAAX,CAAqBrC,KAAK,CAACsC,QAAN,CAAe5D,UAApC,IAAkDsB,KAAK,CAACsC,QAAxD;AACH;;AACD,eAAON,UAAP;AACH,O,CACD;AACA;AACA;;;AACA,eAASkZ,iBAAT,CAA2BlZ,UAA3B,EAAuCtD,UAAvC,EAAmD;AAC/C,YAAI4D,QAAQ,GAAGN,UAAU,CAACK,SAAX,CAAqB3D,UAArB,CAAf;;AACA,YAAI4D,QAAJ,EAAc;AACV,cAAI6Y,KAAK,GAAGnZ,UAAU,CAACI,IAAX,CAAgBE,QAAQ,CAAChE,KAAzB,CAAZ,CADU,CAEV;;AACA,cAAI8c,QAAQ,GAAGC,oBAAoB,CAACrZ,UAAD,EAAa,UAAUsZ,OAAV,EAAmB;AAAE,mBAAOC,kBAAkB,CAACJ,KAAD,EAAQG,OAAR,CAAzB;AAA4C,WAA9E,CAAnC,CAHU,CAIV;AACA;;AACAF,kBAAQ,CAAChZ,IAAT,CAAc+Y,KAAK,CAAC7c,KAApB,IAA6B6c,KAA7B;AACAC,kBAAQ,CAAC/Y,SAAT,CAAmBC,QAAQ,CAAC5D,UAA5B,IAA0C4D,QAA1C;AACA,iBAAO8Y,QAAP;AACH;;AACD,eAAOT,qBAAqB,EAA5B;AACH;;AACD,eAASY,kBAAT,CAA4BC,IAA5B,EAAkCC,IAAlC,EAAwC;AACpC,eAAO5L,OAAO,CAAC2L,IAAI,CAACE,OAAL,IAAgBF,IAAI,CAACE,OAAL,KAAiBD,IAAI,CAACC,OAAvC,CAAd;AACH;;AACD,eAASf,qBAAT,GAAiC;AAC7B,eAAO;AAAEvY,cAAI,EAAE,EAAR;AAAYC,mBAAS,EAAE;AAAvB,SAAP;AACH;;AACD,eAASsZ,gBAAT,CAA0BC,MAA1B,EAAkCC,MAAlC,EAA0C;AACtC,eAAO;AACHzZ,cAAI,EAAE,uDAAS,uDAAS,EAAT,EAAawZ,MAAM,CAACxZ,IAApB,CAAT,EAAoCyZ,MAAM,CAACzZ,IAA3C,CADH;AAEHC,mBAAS,EAAE,uDAAS,uDAAS,EAAT,EAAauZ,MAAM,CAACvZ,SAApB,CAAT,EAAyCwZ,MAAM,CAACxZ,SAAhD;AAFR,SAAP;AAIH;;AACD,eAASgZ,oBAAT,CAA8BrZ,UAA9B,EAA0C8Z,UAA1C,EAAsD;AAClD,YAAI1Z,IAAI,GAAG/C,UAAU,CAAC2C,UAAU,CAACI,IAAZ,EAAkB0Z,UAAlB,CAArB;AACA,YAAIzZ,SAAS,GAAGhD,UAAU,CAAC2C,UAAU,CAACK,SAAZ,EAAuB,UAAUC,QAAV,EAAoB;AAAE,iBAAQF,IAAI,CAACE,QAAQ,CAAChE,KAAV,CAAZ,CAA6B;AAA7B;AACnE,SADsB,CAA1B;AAEA,eAAO;AAAE8D,cAAI,EAAEA,IAAR;AAAcC,mBAAS,EAAEA;AAAzB,SAAP;AACH;;AACD,eAAS0Z,oBAAT,CAA8BC,MAA9B,EAAsCC,GAAtC,EAA2C;AACvC,YAAI7Z,IAAI,GAAG4Z,MAAM,CAAC5Z,IAAlB;AAAA,YAAwBC,SAAS,GAAG2Z,MAAM,CAAC3Z,SAA3C;AACA,YAAI6Z,YAAY,GAAG,EAAnB;AACA,YAAIC,iBAAiB,GAAG,EAAxB;;AACA,aAAK,IAAI7d,KAAT,IAAkB8D,IAAlB,EAAwB;AACpB,cAAI,CAAC6Z,GAAG,CAAC7Z,IAAJ,CAAS9D,KAAT,CAAL,EAAsB;AAAE;AACpB4d,wBAAY,CAAC5d,KAAD,CAAZ,GAAsB8D,IAAI,CAAC9D,KAAD,CAA1B;AACH;AACJ;;AACD,aAAK,IAAII,UAAT,IAAuB2D,SAAvB,EAAkC;AAC9B,cAAI,CAAC4Z,GAAG,CAAC5Z,SAAJ,CAAc3D,UAAd,CAAD,IAA8B;AAC9Bwd,sBAAY,CAAC7Z,SAAS,CAAC3D,UAAD,CAAT,CAAsBJ,KAAvB,CADhB,CAC8C;AAD9C,YAEE;AACE6d,+BAAiB,CAACzd,UAAD,CAAjB,GAAgC2D,SAAS,CAAC3D,UAAD,CAAzC;AACH;AACJ;;AACD,eAAO;AACH0D,cAAI,EAAE8Z,YADH;AAEH7Z,mBAAS,EAAE8Z;AAFR,SAAP;AAIH;;AAED,eAASC,mBAAT,CAA6B7kB,KAA7B,EAAoClG,OAApC,EAA6C;AACzC,YAAIuG,KAAK,CAACC,OAAN,CAAcN,KAAd,CAAJ,EAA0B;AACtB,iBAAOgjB,WAAW,CAAChjB,KAAD,EAAQ,IAAR,EAAclG,OAAd,EAAuB,IAAvB,CAAlB,CADsB,CAC0B;AACnD;;AACD,YAAI,OAAOkG,KAAP,KAAiB,QAAjB,IAA6BA,KAAjC,EAAwC;AAAE;AACtC,iBAAOgjB,WAAW,CAAC,CAAChjB,KAAD,CAAD,EAAU,IAAV,EAAgBlG,OAAhB,EAAyB,IAAzB,CAAlB,CADoC,CACc;AACrD;;AACD,YAAIkG,KAAK,IAAI,IAAb,EAAmB;AACf,iBAAOX,MAAM,CAACW,KAAD,CAAb;AACH;;AACD,eAAO,IAAP;AACH;;AAED,eAAS8kB,eAAT,CAAyB/B,GAAzB,EAA8B;AAC1B,YAAI1iB,KAAK,CAACC,OAAN,CAAcyiB,GAAd,CAAJ,EAAwB;AACpB,iBAAOA,GAAP;AACH;;AACD,YAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AACzB,iBAAOA,GAAG,CAAC3iB,KAAJ,CAAU,KAAV,CAAP;AACH;;AACD,eAAO,EAAP;AACH,O,CAED;AACA;AACA;;;AACA,UAAI2kB,iBAAiB,GAAG;AACpB7P,eAAO,EAAE7V,MADW;AAEpBsa,gBAAQ,EAAErB,OAFU;AAGpB0M,qBAAa,EAAE1M,OAHK;AAIpB2M,wBAAgB,EAAE3M,OAJE;AAKpB4M,kBAAU,EAAE7N,QALQ;AAMpB8N,eAAO,EAAE9N,QANW;AAOpB+N,aAAK,EAAE/N,QAPa;AAQpBgO,iBAAS,EAAEP,eARS;AASpBxC,kBAAU,EAAEwC,eATQ;AAUpBQ,aAAK,EAAEjmB,MAVa;AAWpBkmB,uBAAe,EAAElmB,MAXG;AAYpBmmB,mBAAW,EAAEnmB,MAZO;AAapBomB,iBAAS,EAAEpmB;AAbS,OAAxB;AAeA,UAAIqmB,cAAc,GAAG;AACjBxQ,eAAO,EAAE,IADQ;AAEjB8P,qBAAa,EAAE,IAFE;AAGjBC,wBAAgB,EAAE,IAHD;AAIjBU,mBAAW,EAAE,EAJI;AAKjBR,eAAO,EAAE,IALQ;AAMjBS,cAAM,EAAE,EANS;AAOjBL,uBAAe,EAAE,EAPA;AAQjBC,mBAAW,EAAE,EARI;AASjBC,iBAAS,EAAE,EATM;AAUjBnD,kBAAU,EAAE;AAVK,OAArB;;AAYA,eAASuD,aAAT,CAAuBhc,OAAvB,EAAgC/P,OAAhC,EAAyC;AACrC,YAAIorB,UAAU,GAAGL,mBAAmB,CAAChb,OAAO,CAACqb,UAAT,EAAqBprB,OAArB,CAApC;AACA,eAAO;AACHob,iBAAO,EAAErL,OAAO,CAACqL,OAAR,IAAmB,IADzB;AAEH8P,uBAAa,EAAEnb,OAAO,CAACmb,aAAR,IAAyB,IAAzB,GAAgCnb,OAAO,CAACmb,aAAxC,GAAwDnb,OAAO,CAAC8P,QAF5E;AAGHsL,0BAAgB,EAAEpb,OAAO,CAACob,gBAAR,IAA4B,IAA5B,GAAmCpb,OAAO,CAACob,gBAA3C,GAA8Dpb,OAAO,CAAC8P,QAHrF;AAIHgM,qBAAW,EAAET,UAAU,IAAI,IAAd,GAAqB,CAACA,UAAD,CAArB,GAAoC,EAJ9C;AAKHC,iBAAO,EAAEtb,OAAO,CAACsb,OAAR,IAAmB,IAAnB,GAA0Btb,OAAO,CAACsb,OAAlC,GAA4C,IALlD;AAMHS,gBAAM,EAAE/b,OAAO,CAACub,KAAR,IAAiB,IAAjB,GAAwB,CAACvb,OAAO,CAACub,KAAT,CAAxB,GAA0C,EAN/C;AAOHG,yBAAe,EAAE1b,OAAO,CAAC0b,eAAR,IAA2B1b,OAAO,CAACyb,KAAnC,IAA4C,EAP1D;AAQHE,qBAAW,EAAE3b,OAAO,CAAC2b,WAAR,IAAuB3b,OAAO,CAACyb,KAA/B,IAAwC,EARlD;AASHG,mBAAS,EAAE5b,OAAO,CAAC4b,SAAR,IAAqB,EAT7B;AAUHnD,oBAAU,EAAE,CAACzY,OAAO,CAACwb,SAAR,IAAqB,EAAtB,EAA0B5e,MAA1B,CAAiCoD,OAAO,CAACyY,UAAR,IAAsB,EAAvD;AAVT,SAAP;AAYH,O,CACD;;;AACA,eAASwD,eAAT,CAAyBC,GAAzB,EAA8B;AAC1B,eAAOA,GAAG,CAACC,MAAJ,CAAWC,kBAAX,EAA+BP,cAA/B,CAAP;AACH;;AACD,eAASO,kBAAT,CAA4BC,KAA5B,EAAmCC,KAAnC,EAA0C;AACtC,eAAO;AACHjR,iBAAO,EAAEiR,KAAK,CAACjR,OAAN,IAAiB,IAAjB,GAAwBiR,KAAK,CAACjR,OAA9B,GAAwCgR,KAAK,CAAChR,OADpD;AAEH8P,uBAAa,EAAEmB,KAAK,CAACnB,aAAN,IAAuB,IAAvB,GAA8BmB,KAAK,CAACnB,aAApC,GAAoDkB,KAAK,CAAClB,aAFtE;AAGHC,0BAAgB,EAAEkB,KAAK,CAAClB,gBAAN,IAA0B,IAA1B,GAAiCkB,KAAK,CAAClB,gBAAvC,GAA0DiB,KAAK,CAACjB,gBAH/E;AAIHU,qBAAW,EAAEO,KAAK,CAACP,WAAN,CAAkBlf,MAAlB,CAAyB0f,KAAK,CAACR,WAA/B,CAJV;AAKHR,iBAAO,EAAE,OAAOgB,KAAK,CAAChB,OAAb,KAAyB,SAAzB,GAAqCgB,KAAK,CAAChB,OAA3C,GAAqDe,KAAK,CAACf,OALjE;AAMHS,gBAAM,EAAEM,KAAK,CAACN,MAAN,CAAanf,MAAb,CAAoB0f,KAAK,CAACP,MAA1B,CANL;AAOHL,yBAAe,EAAEY,KAAK,CAACZ,eAAN,IAAyBW,KAAK,CAACX,eAP7C;AAQHC,qBAAW,EAAEW,KAAK,CAACX,WAAN,IAAqBU,KAAK,CAACV,WARrC;AASHC,mBAAS,EAAEU,KAAK,CAACV,SAAN,IAAmBS,KAAK,CAACT,SATjC;AAUHnD,oBAAU,EAAE4D,KAAK,CAAC5D,UAAN,CAAiB7b,MAAjB,CAAwB0f,KAAK,CAAC7D,UAA9B;AAVT,SAAP;AAYH;;AAED,UAAI8D,uBAAuB,GAAG;AAC1BC,UAAE,EAAEhnB,MADsB;AAE1B8kB,eAAO,EAAE9kB,MAFiB;AAG1BinB,aAAK,EAAEjnB,MAHmB;AAI1BvE,WAAG,EAAEuE;AAJqB,OAA9B;AAMA,UAAIknB,mBAAmB,GAAG;AACtBhb,aAAK,EAAE8L,QADe;AAEtB7L,WAAG,EAAE6L,QAFiB;AAGtBvR,YAAI,EAAEuR,QAHgB;AAItBlN,cAAM,EAAEmO;AAJc,OAA1B;AAMA,UAAIkO,cAAc,GAAG,uDAAS,uDAAS,uDAAS,EAAT,EAAaJ,uBAAb,CAAT,EAAgDG,mBAAhD,CAAT,EAA+E;AAAEE,qBAAa,EAAEpP;AAAjB,OAA/E,CAArB;;AACA,eAASoM,UAAT,CAAoBV,GAApB,EAAyBG,WAAzB,EAAsCppB,OAAtC,EAA+CqpB,cAA/C,EAA+DN,QAA/D,EAAyE;AACrE,YAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,kBAAQ,GAAGS,kBAAkB,CAACxpB,OAAD,CAA7B;AAAyC;;AACpE,YAAIqS,EAAE,GAAGua,cAAc,CAAC3D,GAAD,EAAMjpB,OAAN,EAAe+oB,QAAf,CAAvB;AAAA,YAAiDhZ,OAAO,GAAGsC,EAAE,CAACtC,OAA9D;AAAA,YAAuEiZ,KAAK,GAAG3W,EAAE,CAAC2W,KAAlF;;AACA,YAAIhZ,aAAa,GAAG6c,sBAAsB,CAACzD,WAAD,EAAcppB,OAAd,CAA1C;AACA,YAAI8sB,YAAY,GAAGhd,cAAc,CAACC,OAAD,EAAUC,aAAV,EAAyBhQ,OAAO,CAACiQ,OAAjC,EAA0CjQ,OAAO,CAAC6Q,WAAR,CAAoBX,cAA9D,CAAjC;;AACA,YAAI4c,YAAJ,EAAkB;AACd,cAAI3b,GAAG,GAAG4b,aAAa,CAAChd,OAAD,EAAUiZ,KAAV,EAAiBI,WAAW,GAAGA,WAAW,CAAC9oB,QAAf,GAA0B,EAAtD,EAA0DwsB,YAAY,CAACzc,MAAvE,EAA+EmO,OAAO,CAACsO,YAAY,CAACvc,QAAd,CAAtF,EAA+GvQ,OAA/G,CAAvB;AACAmR,aAAG,CAACD,YAAJ,GAAmB;AACfT,kBAAM,EAAEqc,YAAY,CAACrc,MADN;AAEfD,oBAAQ,EAAEsc,YAAY,CAACtc,QAFR;AAGfD,oBAAQ,EAAEuc,YAAY,CAACvc;AAHR,WAAnB;AAKA,iBAAO;AAAEY,eAAG,EAAEA,GAAP;AAAYF,oBAAQ,EAAE;AAAtB,WAAP;AACH;;AACD,YAAI+b,SAAS,GAAGC,WAAW,CAACld,OAAD,EAAUC,aAAV,EAAyBhQ,OAAzB,EAAkCqpB,cAAlC,CAA3B;;AACA,YAAI2D,SAAJ,EAAe;AACX,cAAI7b,GAAG,GAAG4b,aAAa,CAAChd,OAAD,EAAUiZ,KAAV,EAAiBI,WAAW,GAAGA,WAAW,CAAC9oB,QAAf,GAA0B,EAAtD,EAA0D0sB,SAAS,CAAC3c,MAApE,EAA4E2c,SAAS,CAACE,MAAtF,EAA8FltB,OAA9F,CAAvB;AACA,cAAIiR,QAAQ,GAAGjE,mBAAmB,CAACmE,GAAG,CAAClE,KAAL,EAAY+f,SAAS,CAAC9f,KAAtB,EAA6B8f,SAAS,CAAC7f,cAAvC,EAAuD6f,SAAS,CAAC5f,YAAjE,CAAlC;AACA,iBAAO;AAAE+D,eAAG,EAAEA,GAAP;AAAYF,oBAAQ,EAAEA;AAAtB,WAAP;AACH;;AACD,eAAO,IAAP;AACH;;AACD,eAAS2b,cAAT,CAAwB3D,GAAxB,EAA6BjpB,OAA7B,EAAsC+oB,QAAtC,EAAgD;AAC5C,YAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,kBAAQ,GAAGS,kBAAkB,CAACxpB,OAAD,CAA7B;AAAyC;;AACpE,eAAO8oB,WAAW,CAACG,GAAD,EAAMF,QAAN,CAAlB;AACH;;AACD,eAASS,kBAAT,CAA4BxpB,OAA5B,EAAqC;AACjC,eAAO,uDAAS,uDAAS,uDAAS,EAAT,EAAairB,iBAAb,CAAT,EAA0CyB,cAA1C,CAAT,EAAoE1sB,OAAO,CAAC6Q,WAAR,CAAoB0Y,aAAxF,CAAP;AACH;AACD;AACA;AACA;AACA;;;AACA,eAASwD,aAAT,CAAuBhd,OAAvB,EAAgCiZ,KAAhC,EAAuC1oB,QAAvC,EAAiD+P,MAAjD,EAAyD6c,MAAzD,EAAiEltB,OAAjE,EAA0E;AACtE,YAAImR,GAAG,GAAG;AACNqb,eAAK,EAAEzc,OAAO,CAACyc,KAAR,IAAiB,EADlB;AAENnC,iBAAO,EAAEta,OAAO,CAACsa,OAAR,IAAmB,EAFtB;AAGNzpB,kBAAQ,EAAEmP,OAAO,CAACwc,EAAR,IAAc,EAHlB;AAINvrB,aAAG,EAAE+O,OAAO,CAAC/O,GAAR,IAAe,EAJd;AAKNkQ,sBAAY,EAAE,IALR;AAMNjE,eAAK,EAAE3H,IAAI,EANL;AAONhF,kBAAQ,EAAEA,QAPJ;AAQN+P,gBAAM,EAAEA,MARF;AASN6c,gBAAM,EAAEA,MATF;AAUNC,YAAE,EAAEpB,aAAa,CAAChc,OAAD,EAAU/P,OAAV,CAVX;AAWN2sB,uBAAa,EAAE,uDAAS,uDAAS,EAAT,EAAc5c,OAAO,CAAC4c,aAAR,IAAyB,EAAvC,CAAT,EAAsD3D,KAAtD;AAXT,SAAV;;AAaA,aAAK,IAAIza,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAGrS,OAAO,CAAC6Q,WAAR,CAAoBuc,oBAA1C,EAAgE7e,EAAE,GAAG8D,EAAE,CAAC3P,MAAxE,EAAgF6L,EAAE,EAAlF,EAAsF;AAClF,cAAI8e,WAAW,GAAGhb,EAAE,CAAC9D,EAAD,CAApB;AACA,iEAAS4C,GAAT,EAAckc,WAAW,CAACtd,OAAD,CAAzB;AACH,SAjBqE,CAkBtE;;;AACAtP,cAAM,CAAC6sB,MAAP,CAAcnc,GAAG,CAACgc,EAAJ,CAAO3E,UAArB;AACA/nB,cAAM,CAAC6sB,MAAP,CAAcnc,GAAG,CAACwb,aAAlB;AACA,eAAOxb,GAAP;AACH;;AACD,eAAS8b,WAAT,CAAqBld,OAArB,EAA8BC,aAA9B,EAA6ChQ,OAA7C,EAAsDqpB,cAAtD,EAAsE;AAClE,YAAIhZ,MAAM,GAAGN,OAAO,CAACM,MAArB;AACA,YAAIkd,SAAJ;AACA,YAAIC,WAAW,GAAG,IAAlB;AACA,YAAIN,MAAM,GAAG,KAAb;AACA,YAAIO,OAAJ;AACA,YAAIC,SAAS,GAAG,IAAhB;AACA,YAAIC,UAAU,GAAG5d,OAAO,CAAC0B,KAAR,IAAiB,IAAjB,GAAwB1B,OAAO,CAAC0B,KAAhC,GAAwC1B,OAAO,CAAC/D,IAAjE;AACAuhB,iBAAS,GAAGvtB,OAAO,CAACiQ,OAAR,CAAgB2d,gBAAhB,CAAiCD,UAAjC,CAAZ;;AACA,YAAIJ,SAAJ,EAAe;AACXC,qBAAW,GAAGD,SAAS,CAACxiB,MAAxB;AACH,SAFD,MAGK,IAAI,CAACse,cAAL,EAAqB;AACtB,iBAAO,IAAP;AACH;;AACD,YAAItZ,OAAO,CAAC2B,GAAR,IAAe,IAAnB,EAAyB;AACrB+b,iBAAO,GAAGztB,OAAO,CAACiQ,OAAR,CAAgB2d,gBAAhB,CAAiC7d,OAAO,CAAC2B,GAAzC,CAAV;AACH;;AACD,YAAIrB,MAAM,IAAI,IAAd,EAAoB;AAChB,cAAIL,aAAa,IAAI,IAArB,EAA2B;AACvBK,kBAAM,GAAGL,aAAT;AACH,WAFD,MAGK;AACD;AACAK,kBAAM,GAAG,CAAC,CAACkd,SAAD,IAAcA,SAAS,CAACM,iBAAzB,MACJ,CAACJ,OAAD,IAAYA,OAAO,CAACI,iBADhB,CAAT;AAEH;AACJ;;AACD,YAAIxd,MAAM,IAAImd,WAAd,EAA2B;AACvBA,qBAAW,GAAG/jB,UAAU,CAAC+jB,WAAD,CAAxB;AACH;;AACD,YAAIC,OAAJ,EAAa;AACTC,mBAAS,GAAGD,OAAO,CAAC1iB,MAApB;;AACA,cAAIsF,MAAJ,EAAY;AACRqd,qBAAS,GAAGjkB,UAAU,CAACikB,SAAD,CAAtB;AACH;;AACD,cAAIF,WAAW,IAAIE,SAAS,IAAIF,WAAhC,EAA6C;AACzCE,qBAAS,GAAG,IAAZ;AACH;AACJ;;AACD,YAAIA,SAAJ,EAAe;AACXR,gBAAM,GAAG,IAAT;AACH,SAFD,MAGK,IAAI,CAAC7D,cAAL,EAAqB;AACtB6D,gBAAM,GAAGltB,OAAO,CAAC8Q,OAAR,CAAgByN,kBAAhB,IAAsC,KAA/C;AACAmP,mBAAS,GAAG1tB,OAAO,CAACiQ,OAAR,CAAgBtK,GAAhB,CAAoB6nB,WAApB,EAAiCnd,MAAM,GAC/CrQ,OAAO,CAAC8Q,OAAR,CAAgBM,0BAD+B,GAE/CpR,OAAO,CAAC8Q,OAAR,CAAgBO,yBAFR,CAAZ;AAGH;;AACD,eAAO;AACHhB,gBAAM,EAAEA,MADL;AAEH6c,gBAAM,EAAEA,MAFL;AAGHhgB,eAAK,EAAE;AAAEuE,iBAAK,EAAE+b,WAAT;AAAsB9b,eAAG,EAAEgc;AAA3B,WAHJ;AAIHvgB,wBAAc,EAAEogB,SAAS,GAAGA,SAAS,CAACO,SAAb,GAAyB,IAJ/C;AAKH1gB,sBAAY,EAAEqgB,OAAO,GAAGA,OAAO,CAACK,SAAX,GAAuB;AALzC,SAAP;AAOH;;AACD,eAASjB,sBAAT,CAAgCzD,WAAhC,EAA6CppB,OAA7C,EAAsD;AAClD,YAAI6P,GAAG,GAAG,IAAV;;AACA,YAAIuZ,WAAJ,EAAiB;AACbvZ,aAAG,GAAGuZ,WAAW,CAACpZ,aAAlB;AACH;;AACD,YAAIH,GAAG,IAAI,IAAX,EAAiB;AACbA,aAAG,GAAG7P,OAAO,CAAC8Q,OAAR,CAAgBd,aAAtB;AACH;;AACD,eAAOH,GAAP;AACH;AAED;AACA;AACA;AACA;;;AACA,eAASke,sBAAT,CAAgCC,UAAhC,EAA4C;AACxC,YAAIC,MAAM,GAAGnkB,IAAI,CAAC6B,KAAL,CAAWzC,QAAQ,CAAC8kB,UAAU,CAACvc,KAAZ,EAAmBuc,UAAU,CAACtc,GAA9B,CAAnB,KAA0D,CAAvE;AACA,YAAID,KAAK,GAAGhI,UAAU,CAACukB,UAAU,CAACvc,KAAZ,CAAtB;AACA,YAAIC,GAAG,GAAG7I,OAAO,CAAC4I,KAAD,EAAQwc,MAAR,CAAjB;AACA,eAAO;AAAExc,eAAK,EAAEA,KAAT;AAAgBC,aAAG,EAAEA;AAArB,SAAP;AACH,O,CACD;AACA;;;AACA,eAASwc,sBAAT,CAAgCF,UAAhC,EAA4CpQ,gBAA5C,EAA8D;AAC1D,YAAIA,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAAEA,0BAAgB,GAAGzL,cAAc,CAAC,CAAD,CAAjC;AAAuC;;AAC1E,YAAIgc,QAAQ,GAAG,IAAf;AACA,YAAIC,MAAM,GAAG,IAAb;;AACA,YAAIJ,UAAU,CAACtc,GAAf,EAAoB;AAChB0c,gBAAM,GAAG3kB,UAAU,CAACukB,UAAU,CAACtc,GAAZ,CAAnB;AACA,cAAI2c,SAAS,GAAGL,UAAU,CAACtc,GAAX,CAAevI,OAAf,KAA2BilB,MAAM,CAACjlB,OAAP,EAA3C,CAFgB,CAE6C;AAC7D;AACA;AACA;;AACA,cAAIklB,SAAS,IAAIA,SAAS,IAAIla,SAAS,CAACyJ,gBAAD,CAAvC,EAA2D;AACvDwQ,kBAAM,GAAGvlB,OAAO,CAACulB,MAAD,EAAS,CAAT,CAAhB;AACH;AACJ;;AACD,YAAIJ,UAAU,CAACvc,KAAf,EAAsB;AAClB0c,kBAAQ,GAAG1kB,UAAU,CAACukB,UAAU,CAACvc,KAAZ,CAArB,CADkB,CACuB;AACzC;;AACA,cAAI2c,MAAM,IAAIA,MAAM,IAAID,QAAxB,EAAkC;AAC9BC,kBAAM,GAAGvlB,OAAO,CAACslB,QAAD,EAAW,CAAX,CAAhB;AACH;AACJ;;AACD,eAAO;AAAE1c,eAAK,EAAE0c,QAAT;AAAmBzc,aAAG,EAAE0c;AAAxB,SAAP;AACH,O,CACD;;;AACA,eAASE,eAAT,CAAyBphB,KAAzB,EAAgC;AAC5B,YAAIgZ,YAAY,GAAGgI,sBAAsB,CAAChhB,KAAD,CAAzC;AACA,eAAOhE,QAAQ,CAACgd,YAAY,CAACzU,KAAd,EAAqByU,YAAY,CAACxU,GAAlC,CAAR,GAAiD,CAAxD;AACH;;AACD,eAAS6c,SAAT,CAAmBC,KAAnB,EAA0BC,KAA1B,EAAiCxe,OAAjC,EAA0Cye,SAA1C,EAAqD;AACjD,YAAIA,SAAS,KAAK,MAAlB,EAA0B;AACtB,iBAAOvc,cAAc,CAAClC,OAAO,CAAC0e,cAAR,CAAuBH,KAAvB,EAA8BC,KAA9B,CAAD,EAAuC,MAAvC,CAArB;AACH;;AACD,YAAIC,SAAS,KAAK,OAAlB,EAA2B;AACvB,iBAAOvc,cAAc,CAAClC,OAAO,CAAC2e,eAAR,CAAwBJ,KAAxB,EAA+BC,KAA/B,CAAD,EAAwC,OAAxC,CAArB;AACH;;AACD,eAAOllB,cAAc,CAACilB,KAAD,EAAQC,KAAR,CAArB,CAPiD,CAOZ;AACxC;;AAED,eAASI,UAAT,CAAoB3oB,KAApB,EAA2B+J,OAA3B,EAAoC;AAChC,YAAIwB,KAAK,GAAG,IAAZ;AACA,YAAIC,GAAG,GAAG,IAAV;;AACA,YAAIxL,KAAK,CAACuL,KAAV,EAAiB;AACbA,eAAK,GAAGxB,OAAO,CAAC6e,YAAR,CAAqB5oB,KAAK,CAACuL,KAA3B,CAAR;AACH;;AACD,YAAIvL,KAAK,CAACwL,GAAV,EAAe;AACXA,aAAG,GAAGzB,OAAO,CAAC6e,YAAR,CAAqB5oB,KAAK,CAACwL,GAA3B,CAAN;AACH;;AACD,YAAI,CAACD,KAAD,IAAU,CAACC,GAAf,EAAoB;AAChB,iBAAO,IAAP;AACH;;AACD,YAAID,KAAK,IAAIC,GAAT,IAAgBA,GAAG,GAAGD,KAA1B,EAAiC;AAC7B,iBAAO,IAAP;AACH;;AACD,eAAO;AAAEA,eAAK,EAAEA,KAAT;AAAgBC,aAAG,EAAEA;AAArB,SAAP;AACH,O,CACD;AACA;;;AACA,eAASqd,YAAT,CAAsBC,MAAtB,EAA8BC,eAA9B,EAA+C;AAC3C,YAAIC,cAAc,GAAG,EAArB;AACA,YAAIzd,KAAK,GAAGwd,eAAe,CAACxd,KAA5B,CAF2C,CAER;;AACnC,YAAIhP,CAAJ;AACA,YAAI0sB,SAAJ,CAJ2C,CAK3C;;AACAH,cAAM,CAACI,IAAP,CAAYC,aAAZ;;AACA,aAAK5sB,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGusB,MAAM,CAACtsB,MAAvB,EAA+BD,CAAC,IAAI,CAApC,EAAuC;AACnC0sB,mBAAS,GAAGH,MAAM,CAACvsB,CAAD,CAAlB,CADmC,CAEnC;;AACA,cAAI0sB,SAAS,CAAC1d,KAAV,GAAkBA,KAAtB,EAA6B;AAAE;AAC3Byd,0BAAc,CAACrsB,IAAf,CAAoB;AAAE4O,mBAAK,EAAEA,KAAT;AAAgBC,iBAAG,EAAEyd,SAAS,CAAC1d;AAA/B,aAApB;AACH;;AACD,cAAI0d,SAAS,CAACzd,GAAV,GAAgBD,KAApB,EAA2B;AACvBA,iBAAK,GAAG0d,SAAS,CAACzd,GAAlB;AACH;AACJ,SAhB0C,CAiB3C;;;AACA,YAAID,KAAK,GAAGwd,eAAe,CAACvd,GAA5B,EAAiC;AAAE;AAC/Bwd,wBAAc,CAACrsB,IAAf,CAAoB;AAAE4O,iBAAK,EAAEA,KAAT;AAAgBC,eAAG,EAAEud,eAAe,CAACvd;AAArC,WAApB;AACH;;AACD,eAAOwd,cAAP;AACH;;AACD,eAASG,aAAT,CAAuBC,MAAvB,EAA+BC,MAA/B,EAAuC;AACnC,eAAOD,MAAM,CAAC7d,KAAP,CAAatI,OAAb,KAAyBomB,MAAM,CAAC9d,KAAP,CAAatI,OAAb,EAAhC,CADmC,CACqB;AAC3D;;AACD,eAASqmB,eAAT,CAAyBF,MAAzB,EAAiCC,MAAjC,EAAyC;AACrC,YAAI9d,KAAK,GAAG6d,MAAM,CAAC7d,KAAnB;AAAA,YAA0BC,GAAG,GAAG4d,MAAM,CAAC5d,GAAvC;AACA,YAAI+d,QAAQ,GAAG,IAAf;;AACA,YAAIF,MAAM,CAAC9d,KAAP,KAAiB,IAArB,EAA2B;AACvB,cAAIA,KAAK,KAAK,IAAd,EAAoB;AAChBA,iBAAK,GAAG8d,MAAM,CAAC9d,KAAf;AACH,WAFD,MAGK;AACDA,iBAAK,GAAG,IAAIhF,IAAJ,CAAS3C,IAAI,CAAC4O,GAAL,CAASjH,KAAK,CAACtI,OAAN,EAAT,EAA0BomB,MAAM,CAAC9d,KAAP,CAAatI,OAAb,EAA1B,CAAT,CAAR;AACH;AACJ;;AACD,YAAIomB,MAAM,CAAC7d,GAAP,IAAc,IAAlB,EAAwB;AACpB,cAAIA,GAAG,KAAK,IAAZ,EAAkB;AACdA,eAAG,GAAG6d,MAAM,CAAC7d,GAAb;AACH,WAFD,MAGK;AACDA,eAAG,GAAG,IAAIjF,IAAJ,CAAS3C,IAAI,CAACwB,GAAL,CAASoG,GAAG,CAACvI,OAAJ,EAAT,EAAwBomB,MAAM,CAAC7d,GAAP,CAAWvI,OAAX,EAAxB,CAAT,CAAN;AACH;AACJ;;AACD,YAAIsI,KAAK,KAAK,IAAV,IAAkBC,GAAG,KAAK,IAA1B,IAAkCD,KAAK,GAAGC,GAA9C,EAAmD;AAC/C+d,kBAAQ,GAAG;AAAEhe,iBAAK,EAAEA,KAAT;AAAgBC,eAAG,EAAEA;AAArB,WAAX;AACH;;AACD,eAAO+d,QAAP;AACH;;AACD,eAASC,WAAT,CAAqBJ,MAArB,EAA6BC,MAA7B,EAAqC;AACjC,eAAO,CAACD,MAAM,CAAC7d,KAAP,KAAiB,IAAjB,GAAwB,IAAxB,GAA+B6d,MAAM,CAAC7d,KAAP,CAAatI,OAAb,EAAhC,OAA6DomB,MAAM,CAAC9d,KAAP,KAAiB,IAAjB,GAAwB,IAAxB,GAA+B8d,MAAM,CAAC9d,KAAP,CAAatI,OAAb,EAA5F,KACH,CAACmmB,MAAM,CAAC5d,GAAP,KAAe,IAAf,GAAsB,IAAtB,GAA6B4d,MAAM,CAAC5d,GAAP,CAAWvI,OAAX,EAA9B,OAAyDomB,MAAM,CAAC7d,GAAP,KAAe,IAAf,GAAsB,IAAtB,GAA6B6d,MAAM,CAAC7d,GAAP,CAAWvI,OAAX,EAAtF,CADJ;AAEH;;AACD,eAASwmB,eAAT,CAAyBL,MAAzB,EAAiCC,MAAjC,EAAyC;AACrC,eAAO,CAACD,MAAM,CAAC5d,GAAP,KAAe,IAAf,IAAuB6d,MAAM,CAAC9d,KAAP,KAAiB,IAAxC,IAAgD6d,MAAM,CAAC5d,GAAP,GAAa6d,MAAM,CAAC9d,KAArE,MACF6d,MAAM,CAAC7d,KAAP,KAAiB,IAAjB,IAAyB8d,MAAM,CAAC7d,GAAP,KAAe,IAAxC,IAAgD4d,MAAM,CAAC7d,KAAP,GAAe8d,MAAM,CAAC7d,GADpE,CAAP;AAEH;;AACD,eAASke,kBAAT,CAA4BC,UAA5B,EAAwCC,UAAxC,EAAoD;AAChD,eAAO,CAACD,UAAU,CAACpe,KAAX,KAAqB,IAArB,IAA8Bqe,UAAU,CAACre,KAAX,KAAqB,IAArB,IAA6Bqe,UAAU,CAACre,KAAX,IAAoBoe,UAAU,CAACpe,KAA3F,MACFoe,UAAU,CAACne,GAAX,KAAmB,IAAnB,IAA4Boe,UAAU,CAACpe,GAAX,KAAmB,IAAnB,IAA2Boe,UAAU,CAACpe,GAAX,IAAkBme,UAAU,CAACne,GADlF,CAAP;AAEH;;AACD,eAASqe,mBAAT,CAA6B7iB,KAA7B,EAAoClB,IAApC,EAA0C;AACtC,eAAO,CAACkB,KAAK,CAACuE,KAAN,KAAgB,IAAhB,IAAwBzF,IAAI,IAAIkB,KAAK,CAACuE,KAAvC,MACFvE,KAAK,CAACwE,GAAN,KAAc,IAAd,IAAsB1F,IAAI,GAAGkB,KAAK,CAACwE,GADjC,CAAP;AAEH,O,CACD;AACA;;;AACA,eAASse,sBAAT,CAAgChkB,IAAhC,EAAsCkB,KAAtC,EAA6C;AACzC,YAAIA,KAAK,CAACuE,KAAN,IAAe,IAAf,IAAuBzF,IAAI,GAAGkB,KAAK,CAACuE,KAAxC,EAA+C;AAC3C,iBAAOvE,KAAK,CAACuE,KAAb;AACH;;AACD,YAAIvE,KAAK,CAACwE,GAAN,IAAa,IAAb,IAAqB1F,IAAI,IAAIkB,KAAK,CAACwE,GAAvC,EAA4C;AACxC,iBAAO,IAAIjF,IAAJ,CAASS,KAAK,CAACwE,GAAN,CAAUvI,OAAV,KAAsB,CAA/B,CAAP;AACH;;AACD,eAAO6C,IAAP;AACH;AAED;AACA;AACA;;;AACA,eAASikB,eAAT,CAAyBtf,UAAzB,EAAqCuf,YAArC,EAAmDtf,YAAnD,EAAiEgN,gBAAjE,EAAmF;AAC/E,YAAIuS,kBAAkB,GAAG,EAAzB;AACA,YAAIC,gBAAgB,GAAG,EAAvB;AACA,YAAIC,YAAY,GAAG,EAAnB;AACA,YAAIC,QAAQ,GAAG,EAAf;AACA,YAAIC,QAAQ,GAAG,EAAf;AACA,YAAIC,QAAQ,GAAGC,eAAe,CAAC9f,UAAU,CAACI,IAAZ,EAAkBmf,YAAlB,CAA9B;;AACA,aAAK,IAAIjjB,KAAT,IAAkB0D,UAAU,CAACI,IAA7B,EAAmC;AAC/B,cAAII,GAAG,GAAGR,UAAU,CAACI,IAAX,CAAgB9D,KAAhB,CAAV;AACA,cAAIkgB,EAAE,GAAGqD,QAAQ,CAACrf,GAAG,CAAClE,KAAL,CAAjB;;AACA,cAAIkgB,EAAE,CAAC/R,OAAH,KAAe,oBAAnB,EAAyC;AACrC,gBAAIjK,GAAG,CAACkZ,OAAR,EAAiB;AACb8F,gCAAkB,CAAChf,GAAG,CAACkZ,OAAL,CAAlB,GAAkC,EAAlC;;AACA,kBAAI,CAACgG,YAAY,CAAClf,GAAG,CAACkZ,OAAL,CAAjB,EAAgC;AAC5BgG,4BAAY,CAAClf,GAAG,CAACkZ,OAAL,CAAZ,GAA4BlZ,GAA5B;AACH;AACJ,aALD,MAMK;AACDif,8BAAgB,CAACnjB,KAAD,CAAhB,GAA0B,EAA1B;AACH;AACJ;AACJ;;AACD,aAAK,IAAII,UAAT,IAAuBsD,UAAU,CAACK,SAAlC,EAA6C;AACzC,cAAIC,QAAQ,GAAGN,UAAU,CAACK,SAAX,CAAqB3D,UAArB,CAAf;AACA,cAAI8D,GAAG,GAAGR,UAAU,CAACI,IAAX,CAAgBE,QAAQ,CAAChE,KAAzB,CAAV;AACA,cAAIkgB,EAAE,GAAGqD,QAAQ,CAACrf,GAAG,CAAClE,KAAL,CAAjB;AACA,cAAIyjB,SAAS,GAAGzf,QAAQ,CAAC/D,KAAzB;AACA,cAAIyjB,WAAW,GAAI,CAACxf,GAAG,CAACd,MAAL,IAAeuN,gBAAhB,GACdsQ,sBAAsB,CAACwC,SAAD,EAAY9S,gBAAZ,CADR,GAEd8S,SAFJ;AAGA,cAAIE,WAAW,GAAGpB,eAAe,CAACmB,WAAD,EAAc/f,YAAd,CAAjC;;AACA,cAAIggB,WAAJ,EAAiB;AACb,gBAAIzD,EAAE,CAAC/R,OAAH,KAAe,oBAAnB,EAAyC;AACrC,kBAAIjK,GAAG,CAACkZ,OAAR,EAAiB;AACb8F,kCAAkB,CAAChf,GAAG,CAACkZ,OAAL,CAAlB,CAAgCxnB,IAAhC,CAAqC+tB,WAArC;AACH,eAFD,MAGK;AACDR,gCAAgB,CAACnf,QAAQ,CAAChE,KAAV,CAAhB,CAAiCpK,IAAjC,CAAsC+tB,WAAtC;AACH;AACJ,aAPD,MAQK,IAAIzD,EAAE,CAAC/R,OAAH,KAAe,MAAnB,EAA2B;AAC5B,eAAC+R,EAAE,CAAC/R,OAAH,KAAe,YAAf,GAA8BkV,QAA9B,GAAyCC,QAA1C,EAAoD1tB,IAApD,CAAyD;AACrDsO,mBAAG,EAAEA,GADgD;AAErDgc,kBAAE,EAAEA,EAFiD;AAGrDlc,wBAAQ,EAAEA,QAH2C;AAIrD/D,qBAAK,EAAE0jB,WAJ8C;AAKrDC,uBAAO,EAAEF,WAAW,CAAClf,KAAZ,IAAqBkf,WAAW,CAAClf,KAAZ,CAAkBtI,OAAlB,OAAgCynB,WAAW,CAACnf,KAAZ,CAAkBtI,OAAlB,EALT;AAMrD2nB,qBAAK,EAAEH,WAAW,CAACjf,GAAZ,IAAmBif,WAAW,CAACjf,GAAZ,CAAgBvI,OAAhB,OAA8BynB,WAAW,CAAClf,GAAZ,CAAgBvI,OAAhB;AANH,eAAzD;AAQH;AACJ;AACJ;;AACD,aAAK,IAAIkhB,OAAT,IAAoB8F,kBAApB,EAAwC;AAAE;AACtC,cAAInB,MAAM,GAAGmB,kBAAkB,CAAC9F,OAAD,CAA/B;AACA,cAAI6E,cAAc,GAAGH,YAAY,CAACC,MAAD,EAASpe,YAAT,CAAjC;;AACA,eAAK,IAAIrC,EAAE,GAAG,CAAT,EAAYwiB,gBAAgB,GAAG7B,cAApC,EAAoD3gB,EAAE,GAAGwiB,gBAAgB,CAACruB,MAA1E,EAAkF6L,EAAE,EAApF,EAAwF;AACpF,gBAAIyiB,aAAa,GAAGD,gBAAgB,CAACxiB,EAAD,CAApC;AACA,gBAAI4C,GAAG,GAAGkf,YAAY,CAAChG,OAAD,CAAtB;AACA,gBAAI8C,EAAE,GAAGqD,QAAQ,CAACrf,GAAG,CAAClE,KAAL,CAAjB;AACAqjB,oBAAQ,CAACztB,IAAT,CAAc;AACVsO,iBAAG,EAAEA,GADK;AAEVgc,gBAAE,EAAEA,EAFM;AAGVlc,sBAAQ,EAAE,IAHA;AAIV/D,mBAAK,EAAE8jB,aAJG;AAKVH,qBAAO,EAAE,KALC;AAMVC,mBAAK,EAAE;AANG,aAAd;AAQH;AACJ;;AACD,aAAK,IAAI7jB,KAAT,IAAkBmjB,gBAAlB,EAAoC;AAChC,cAAIpB,MAAM,GAAGoB,gBAAgB,CAACnjB,KAAD,CAA7B;AACA,cAAIiiB,cAAc,GAAGH,YAAY,CAACC,MAAD,EAASpe,YAAT,CAAjC;;AACA,eAAK,IAAIyB,EAAE,GAAG,CAAT,EAAY4e,gBAAgB,GAAG/B,cAApC,EAAoD7c,EAAE,GAAG4e,gBAAgB,CAACvuB,MAA1E,EAAkF2P,EAAE,EAApF,EAAwF;AACpF,gBAAI2e,aAAa,GAAGC,gBAAgB,CAAC5e,EAAD,CAApC;AACAie,oBAAQ,CAACztB,IAAT,CAAc;AACVsO,iBAAG,EAAER,UAAU,CAACI,IAAX,CAAgB9D,KAAhB,CADK;AAEVkgB,gBAAE,EAAEqD,QAAQ,CAACvjB,KAAD,CAFF;AAGVgE,sBAAQ,EAAE,IAHA;AAIV/D,mBAAK,EAAE8jB,aAJG;AAKVH,qBAAO,EAAE,KALC;AAMVC,mBAAK,EAAE;AANG,aAAd;AAQH;AACJ;;AACD,eAAO;AAAEI,YAAE,EAAEZ,QAAN;AAAgBa,YAAE,EAAEZ;AAApB,SAAP;AACH;;AACD,eAASa,cAAT,CAAwBjgB,GAAxB,EAA6B;AACzB,eAAOA,GAAG,CAACgc,EAAJ,CAAO/R,OAAP,KAAmB,YAAnB,IAAmCjK,GAAG,CAACgc,EAAJ,CAAO/R,OAAP,KAAmB,oBAA7D;AACH;;AACD,eAASiW,QAAT,CAAkBlwB,EAAlB,EAAsBmwB,GAAtB,EAA2B;AACvBnwB,UAAE,CAACowB,KAAH,GAAWD,GAAX;AACH;;AACD,eAASE,QAAT,CAAkBrwB,EAAlB,EAAsB;AAClB,eAAOA,EAAE,CAACowB,KAAH,IACHpwB,EAAE,CAACC,UAAH,CAAcmwB,KADX,IACoB;AACvB,YAFJ;AAGH,O,CACD;;;AACA,eAASd,eAAT,CAAyBgB,SAAzB,EAAoCvB,YAApC,EAAkD;AAC9C,eAAO9hB,OAAO,CAACqjB,SAAD,EAAY,UAAU9f,QAAV,EAAoB;AAAE,iBAAO+f,cAAc,CAAC/f,QAAD,EAAWue,YAAX,CAArB;AAAgD,SAAlF,CAAd;AACH;;AACD,eAASwB,cAAT,CAAwB/f,QAAxB,EAAkCue,YAAlC,EAAgD;AAC5C,YAAIjE,GAAG,GAAG,EAAV;;AACA,YAAIiE,YAAY,CAAC,EAAD,CAAhB,EAAsB;AAClBjE,aAAG,CAACppB,IAAJ,CAASqtB,YAAY,CAAC,EAAD,CAArB;AACH;;AACD,YAAIA,YAAY,CAACve,QAAQ,CAAC1E,KAAV,CAAhB,EAAkC;AAC9Bgf,aAAG,CAACppB,IAAJ,CAASqtB,YAAY,CAACve,QAAQ,CAAC1E,KAAV,CAArB;AACH;;AACDgf,WAAG,CAACppB,IAAJ,CAAS8O,QAAQ,CAACwb,EAAlB;AACA,eAAOnB,eAAe,CAACC,GAAD,CAAtB;AACH;;AACD,eAAS0F,aAAT,CAAuBC,IAAvB,EAA6BC,eAA7B,EAA8C;AAC1C,YAAIC,IAAI,GAAGF,IAAI,CAAC5f,GAAL,CAAS+f,kBAAT,CAAX;AACAD,YAAI,CAAC1C,IAAL,CAAU,UAAUroB,IAAV,EAAgBC,IAAhB,EAAsB;AAAE,iBAAOF,mBAAmB,CAACC,IAAD,EAAOC,IAAP,EAAa6qB,eAAb,CAA1B;AAA0D,SAA5F;AACA,eAAOC,IAAI,CAAC9f,GAAL,CAAS,UAAUggB,CAAV,EAAa;AAAE,iBAAOA,CAAC,CAACC,IAAT;AAAgB,SAAxC,CAAP;AACH,O,CACD;;;AACA,eAASF,kBAAT,CAA4BT,GAA5B,EAAiC;AAC7B,YAAIY,UAAU,GAAGZ,GAAG,CAACY,UAArB;AACA,YAAIvgB,QAAQ,GAAGugB,UAAU,CAAC/gB,GAA1B;AACA,YAAIjE,KAAK,GAAGglB,UAAU,CAACjhB,QAAX,GAAsBihB,UAAU,CAACjhB,QAAX,CAAoB/D,KAA1C,GAAkDglB,UAAU,CAAChlB,KAAzE;AACA,YAAIuE,KAAK,GAAGvE,KAAK,CAACuE,KAAN,GAAcvE,KAAK,CAACuE,KAAN,CAAYtI,OAAZ,EAAd,GAAsC,CAAlD,CAJ6B,CAIwB;;AACrD,YAAIuI,GAAG,GAAGxE,KAAK,CAACwE,GAAN,GAAYxE,KAAK,CAACwE,GAAN,CAAUvI,OAAV,EAAZ,GAAkC,CAA5C,CAL6B,CAKkB;;AAC/C,eAAO,uDAAS,uDAAS,uDAAS,EAAT,EAAawI,QAAQ,CAACgb,aAAtB,CAAT,EAA+Chb,QAA/C,CAAT,EAAmE;AAAE4a,YAAE,EAAE5a,QAAQ,CAAC/Q,QAAf;AAAyB6Q,eAAK,EAAEA,KAAhC;AACtEC,aAAG,EAAEA,GADiE;AAC5DnB,kBAAQ,EAAEmB,GAAG,GAAGD,KAD4C;AACrCpB,gBAAM,EAAEgP,MAAM,CAAC1N,QAAQ,CAACtB,MAAV,CADuB;AACJ4hB,cAAI,EAAEX;AADF,SAAnE,CAAP;AAEH;;AACD,eAASa,mBAAT,CAA6Bb,GAA7B,EAAkCtxB,OAAlC,EAA2C;AACvC,YAAI6Q,WAAW,GAAG7Q,OAAO,CAAC6Q,WAA1B;AACA,YAAIuhB,YAAY,GAAGvhB,WAAW,CAACwhB,uBAA/B;AACA,YAAIhgB,EAAE,GAAGif,GAAG,CAACY,UAAb;AAAA,YAAyB/gB,GAAG,GAAGkB,EAAE,CAAClB,GAAlC;AAAA,YAAuCgc,EAAE,GAAG9a,EAAE,CAAC8a,EAA/C;AACA,YAAIzpB,GAAG,GAAGypB,EAAE,CAACjC,aAAb;;AACA,aAAK,IAAI3c,EAAE,GAAG,CAAT,EAAY+jB,cAAc,GAAGF,YAAlC,EAAgD7jB,EAAE,GAAG+jB,cAAc,CAAC5vB,MAApE,EAA4E6L,EAAE,EAA9E,EAAkF;AAC9E,cAAIgkB,WAAW,GAAGD,cAAc,CAAC/jB,EAAD,CAAhC;AACA7K,aAAG,GAAG6uB,WAAW,CAAC7uB,GAAD,EAAMyN,GAAN,EAAWgc,EAAX,EAAentB,OAAf,CAAjB;AACH;;AACD,eAAO0D,GAAP;AACH;;AACD,eAAS8uB,wBAAT,CAAkClB,GAAlC,EAAuCtxB,OAAvC,EAAgD;AAC5C,eAAOsxB,GAAG,CAACT,OAAJ,IAAeS,GAAG,CAACY,UAAJ,CAAe/E,EAAf,CAAkBhC,gBAAjC,IAAqDnrB,OAAO,CAAC8Q,OAAR,CAAgB6Q,uBAA5E;AACH;;AACD,eAAS8Q,sBAAT,CAAgCnB,GAAhC,EAAqCtxB,OAArC,EAA8C;AAC1C,eAAOsxB,GAAG,CAACR,KAAJ,IAAaQ,GAAG,CAACY,UAAJ,CAAe/E,EAAf,CAAkBhC,gBAAtC;AACH;;AACD,eAASuH,gBAAT,CAA0BpB,GAA1B,EAA+BqB,UAA/B,EAA2C3yB,OAA3C,EAAoD4yB,uBAApD,EAA6E;AAC7EC,4BADA,EACwB;AACxBC,mBAFA,EAEeC,WAFf,EAE4B;AACxB,YAAI9iB,OAAO,GAAGjQ,OAAO,CAACiQ,OAAtB;AAAA,YAA+Ba,OAAO,GAAG9Q,OAAO,CAAC8Q,OAAjD;AACA,YAAI8Q,gBAAgB,GAAG9Q,OAAO,CAAC8Q,gBAA/B;AAAA,YAAiDC,eAAe,GAAG/Q,OAAO,CAAC+Q,eAA3E;AACA,YAAIlQ,QAAQ,GAAG2f,GAAG,CAACY,UAAJ,CAAe/gB,GAA9B;AACA,YAAI6hB,aAAa,GAAG1B,GAAG,CAACY,UAAJ,CAAejhB,QAAnC;;AACA,YAAI2Q,gBAAgB,IAAI,IAAxB,EAA8B;AAC1BA,0BAAgB,GAAGgR,uBAAuB,KAAK,KAA/C;AACH;;AACD,YAAI/Q,eAAe,IAAI,IAAvB,EAA6B;AACzBA,yBAAe,GAAGgR,sBAAsB,KAAK,KAA7C;AACH;;AACD,YAAIjR,gBAAgB,IAAI,CAACjQ,QAAQ,CAACtB,MAA9B,KAAyCihB,GAAG,CAACT,OAAJ,IAAeS,GAAG,CAACR,KAA5D,CAAJ,EAAwE;AACpE,cAAImC,QAAQ,GAAGH,aAAa,KAAKxB,GAAG,CAACT,OAAJ,GAAcmC,aAAa,CAAC9lB,KAAd,CAAoBuE,KAAlC,GAA2C6f,GAAG,CAAC7f,KAAJ,IAAa6f,GAAG,CAACY,UAAJ,CAAehlB,KAAf,CAAqBuE,KAAlF,CAA5B;AACA,cAAIyhB,MAAM,GAAGH,WAAW,KAAKzB,GAAG,CAACR,KAAJ,GAAYkC,aAAa,CAAC9lB,KAAd,CAAoBwE,GAAhC,GAAuC4f,GAAG,CAAC5f,GAAJ,IAAW4f,GAAG,CAACY,UAAJ,CAAehlB,KAAf,CAAqBwE,GAA5E,CAAxB;;AACA,cAAImQ,eAAe,IAAIlQ,QAAQ,CAACub,MAAhC,EAAwC;AACpC,mBAAOjd,OAAO,CAAC2I,WAAR,CAAoBqa,QAApB,EAA8BC,MAA9B,EAAsCP,UAAtC,EAAkD;AACrDxlB,4BAAc,EAAE2lB,aAAa,GAAG,IAAH,GAAUE,aAAa,CAAC7lB,cADA;AAErDC,0BAAY,EAAE2lB,WAAW,GAAG,IAAH,GAAUC,aAAa,CAAC5lB;AAFI,aAAlD,CAAP;AAIH;;AACD,iBAAO6C,OAAO,CAAChP,MAAR,CAAegyB,QAAf,EAAyBN,UAAzB,EAAqC;AACxC7E,qBAAS,EAAEgF,aAAa,GAAG,IAAH,GAAUE,aAAa,CAAC7lB;AADR,WAArC,CAAP;AAGH;;AACD,eAAO,EAAP;AACH;;AACD,eAASgmB,UAAT,CAAoB7B,GAApB,EAAyB8B,UAAzB,EAAqCC,OAArC,EAA8C;AAC1C,YAAIC,QAAQ,GAAGhC,GAAG,CAACY,UAAJ,CAAehlB,KAA9B;AACA,eAAO;AACHqmB,gBAAM,EAAED,QAAQ,CAAC5hB,GAAT,IAAgB2hB,OAAO,IAAID,UAAU,CAAC3hB,KAAtC,CADL;AAEH+hB,kBAAQ,EAAEF,QAAQ,CAAC7hB,KAAT,KAAmB4hB,OAAO,IAAID,UAAU,CAAC1hB,GAAzC,CAFP;AAGH+hB,iBAAO,EAAEL,UAAU,IAAIrD,mBAAmB,CAACqD,UAAD,EAAaE,QAAQ,CAAC7hB,KAAtB;AAHvC,SAAP;AAKH;;AACD,eAASiiB,kBAAT,CAA4BpwB,KAA5B,EAAmC;AAC/B,YAAIklB,UAAU,GAAG,CAAC,UAAD,CAAjB;;AACA,YAAIllB,KAAK,CAACqwB,QAAV,EAAoB;AAChBnL,oBAAU,CAAC3lB,IAAX,CAAgB,iBAAhB;AACH;;AACD,YAAIS,KAAK,CAACswB,WAAV,EAAuB;AACnBpL,oBAAU,CAAC3lB,IAAX,CAAgB,oBAAhB;AACH;;AACD,YAAIS,KAAK,CAACuwB,gBAAN,IAA0BvwB,KAAK,CAACwwB,cAApC,EAAoD;AAChDtL,oBAAU,CAAC3lB,IAAX,CAAgB,oBAAhB;AACH;;AACD,YAAIS,KAAK,CAACywB,UAAV,EAAsB;AAClBvL,oBAAU,CAAC3lB,IAAX,CAAgB,mBAAhB;AACH;;AACD,YAAIS,KAAK,CAAC0wB,UAAV,EAAsB;AAClBxL,oBAAU,CAAC3lB,IAAX,CAAgB,mBAAhB;AACH;;AACD,YAAIS,KAAK,CAAC2wB,UAAV,EAAsB;AAClBzL,oBAAU,CAAC3lB,IAAX,CAAgB,mBAAhB;AACH;;AACD,YAAIS,KAAK,CAACutB,OAAV,EAAmB;AACfrI,oBAAU,CAAC3lB,IAAX,CAAgB,gBAAhB;AACH;;AACD,YAAIS,KAAK,CAACwtB,KAAV,EAAiB;AACbtI,oBAAU,CAAC3lB,IAAX,CAAgB,cAAhB;AACH;;AACD,YAAIS,KAAK,CAACiwB,MAAV,EAAkB;AACd/K,oBAAU,CAAC3lB,IAAX,CAAgB,eAAhB;AACH;;AACD,YAAIS,KAAK,CAACmwB,OAAV,EAAmB;AACfjL,oBAAU,CAAC3lB,IAAX,CAAgB,gBAAhB;AACH;;AACD,YAAIS,KAAK,CAACkwB,QAAV,EAAoB;AAChBhL,oBAAU,CAAC3lB,IAAX,CAAgB,iBAAhB;AACH;;AACD,eAAO2lB,UAAP;AACH;;AACD,eAAS0L,kBAAT,CAA4BhC,UAA5B,EAAwC;AACpC,eAAOA,UAAU,CAACjhB,QAAX,GACDihB,UAAU,CAACjhB,QAAX,CAAoB5D,UADnB,GAED6kB,UAAU,CAAC/gB,GAAX,CAAelE,KAAf,GAAuB,GAAvB,GAA6BilB,UAAU,CAAChlB,KAAX,CAAiBuE,KAAjB,CAAuBsD,WAAvB,EAFnC,CADoC,CAIpC;AACH;;AAED,UAAIof,cAAc,GAAG;AACjB1iB,aAAK,EAAE8L,QADU;AAEjB7L,WAAG,EAAE6L,QAFY;AAGjBlN,cAAM,EAAEmO;AAHS,OAArB;;AAKA,eAAS4V,aAAT,CAAuBnL,GAAvB,EAA4BhZ,OAA5B,EAAqCokB,eAArC,EAAsD;AAClD,YAAIC,IAAI,GAAGC,iBAAiB,CAACtL,GAAD,EAAMhZ,OAAN,CAA5B;AACA,YAAI/C,KAAK,GAAGonB,IAAI,CAACpnB,KAAjB;;AACA,YAAI,CAACA,KAAK,CAACuE,KAAX,EAAkB;AACd,iBAAO,IAAP;AACH;;AACD,YAAI,CAACvE,KAAK,CAACwE,GAAX,EAAgB;AACZ,cAAI2iB,eAAe,IAAI,IAAvB,EAA6B;AACzB,mBAAO,IAAP;AACH;;AACDnnB,eAAK,CAACwE,GAAN,GAAYzB,OAAO,CAACtK,GAAR,CAAYuH,KAAK,CAACuE,KAAlB,EAAyB4iB,eAAzB,CAAZ;AACH;;AACD,eAAOC,IAAP;AACH;AACD;AACA;AACA;AACA;;;AACA,eAASC,iBAAT,CAA2BtL,GAA3B,EAAgChZ,OAAhC,EAAyC;AACrC,YAAIoC,EAAE,GAAGyW,WAAW,CAACG,GAAD,EAAMkL,cAAN,CAApB;AAAA,YAA2CK,aAAa,GAAGniB,EAAE,CAACtC,OAA9D;AAAA,YAAuEiZ,KAAK,GAAG3W,EAAE,CAAC2W,KAAlF;;AACA,YAAIuE,SAAS,GAAGiH,aAAa,CAAC/iB,KAAd,GAAsBxB,OAAO,CAAC2d,gBAAR,CAAyB4G,aAAa,CAAC/iB,KAAvC,CAAtB,GAAsE,IAAtF;AACA,YAAIgc,OAAO,GAAG+G,aAAa,CAAC9iB,GAAd,GAAoBzB,OAAO,CAAC2d,gBAAR,CAAyB4G,aAAa,CAAC9iB,GAAvC,CAApB,GAAkE,IAAhF;AACA,YAAIrB,MAAM,GAAGmkB,aAAa,CAACnkB,MAA3B;;AACA,YAAIA,MAAM,IAAI,IAAd,EAAoB;AAChBA,gBAAM,GAAIkd,SAAS,IAAIA,SAAS,CAACM,iBAAxB,KACJ,CAACJ,OAAD,IAAYA,OAAO,CAACI,iBADhB,CAAT;AAEH;;AACD,eAAO,uDAAS;AAAE3gB,eAAK,EAAE;AACjBuE,iBAAK,EAAE8b,SAAS,GAAGA,SAAS,CAACxiB,MAAb,GAAsB,IADrB;AAEjB2G,eAAG,EAAE+b,OAAO,GAAGA,OAAO,CAAC1iB,MAAX,GAAoB;AAFf,WAAT;AAGTsF,gBAAM,EAAEA;AAHC,SAAT,EAGkB2Y,KAHlB,CAAP;AAIH;;AACD,eAASyL,gBAAT,CAA0BC,KAA1B,EAAiCC,KAAjC,EAAwC;AACpC,eAAOjF,WAAW,CAACgF,KAAK,CAACxnB,KAAP,EAAcynB,KAAK,CAACznB,KAApB,CAAX,IACHwnB,KAAK,CAACrkB,MAAN,KAAiBskB,KAAK,CAACtkB,MADpB,IAEHukB,gBAAgB,CAACF,KAAD,EAAQC,KAAR,CAFpB;AAGH,O,CACD;;;AACA,eAASC,gBAAT,CAA0BF,KAA1B,EAAiCC,KAAjC,EAAwC;AACpC,aAAK,IAAIpxB,QAAT,IAAqBoxB,KAArB,EAA4B;AACxB,cAAIpxB,QAAQ,KAAK,OAAb,IAAwBA,QAAQ,KAAK,QAAzC,EAAmD;AAC/C,gBAAImxB,KAAK,CAACnxB,QAAD,CAAL,KAAoBoxB,KAAK,CAACpxB,QAAD,CAA7B,EAAyC;AACrC,qBAAO,KAAP;AACH;AACJ;AACJ,SAPmC,CAQpC;AACA;;;AACA,aAAK,IAAIA,QAAT,IAAqBmxB,KAArB,EAA4B;AACxB,cAAI,EAAEnxB,QAAQ,IAAIoxB,KAAd,CAAJ,EAA0B;AACtB,mBAAO,KAAP;AACH;AACJ;;AACD,eAAO,IAAP;AACH;;AACD,eAASE,gBAAT,CAA0BP,IAA1B,EAAgCrkB,OAAhC,EAAyC;AACrC,eAAO,uDAAS,uDAAS,EAAT,EAAa6kB,aAAa,CAACR,IAAI,CAACpnB,KAAN,EAAa+C,OAAb,EAAsBqkB,IAAI,CAACjkB,MAA3B,CAA1B,CAAT,EAAwE;AAAEA,gBAAM,EAAEikB,IAAI,CAACjkB;AAAf,SAAxE,CAAP;AACH;;AACD,eAAS0kB,yBAAT,CAAmC7nB,KAAnC,EAA0C+C,OAA1C,EAAmD+kB,QAAnD,EAA6D;AACzD,eAAO,uDAAS,uDAAS,EAAT,EAAaF,aAAa,CAAC5nB,KAAD,EAAQ+C,OAAR,EAAiB+kB,QAAjB,CAA1B,CAAT,EAAgE;AAAE1a,kBAAQ,EAAErK,OAAO,CAACqK;AAApB,SAAhE,CAAP;AACH;;AACD,eAASwa,aAAT,CAAuB5nB,KAAvB,EAA8B+C,OAA9B,EAAuC+kB,QAAvC,EAAiD;AAC7C,eAAO;AACHvjB,eAAK,EAAExB,OAAO,CAACglB,MAAR,CAAe/nB,KAAK,CAACuE,KAArB,CADJ;AAEHC,aAAG,EAAEzB,OAAO,CAACglB,MAAR,CAAe/nB,KAAK,CAACwE,GAArB,CAFF;AAGHwjB,kBAAQ,EAAEjlB,OAAO,CAACklB,SAAR,CAAkBjoB,KAAK,CAACuE,KAAxB,EAA+B;AAAEujB,oBAAQ,EAAEA;AAAZ,WAA/B,CAHP;AAIHI,gBAAM,EAAEnlB,OAAO,CAACklB,SAAR,CAAkBjoB,KAAK,CAACwE,GAAxB,EAA6B;AAAEsjB,oBAAQ,EAAEA;AAAZ,WAA7B;AAJL,SAAP;AAMH;;AACD,eAASK,mBAAT,CAA6BC,QAA7B,EAAuCpF,YAAvC,EAAqDlwB,OAArD,EAA8D;AAC1D,YAAI6P,GAAG,GAAG+c,cAAc,CAAC;AAAE/M,kBAAQ,EAAE;AAAZ,SAAD,EAAsB7f,OAAtB,CAAxB;AACA,YAAImR,GAAG,GAAG4b,aAAa,CAACld,GAAG,CAACE,OAAL,EAAcF,GAAG,CAACmZ,KAAlB,EAAyB,EAAzB,EAA6B;AACpDsM,gBAAQ,CAACjlB,MADc,EACN,IADM,EACA;AACvBrQ,eAFuB,CAAvB;AAGA,eAAO;AACHmR,aAAG,EAAEA,GADF;AAEHgc,YAAE,EAAEuE,cAAc,CAACvgB,GAAD,EAAM+e,YAAN,CAFf;AAGHjf,kBAAQ,EAAEjE,mBAAmB,CAACmE,GAAG,CAAClE,KAAL,EAAYqoB,QAAQ,CAACpoB,KAArB,CAH1B;AAIHA,eAAK,EAAEooB,QAAQ,CAACpoB,KAJb;AAKH2jB,iBAAO,EAAE,IALN;AAMHC,eAAK,EAAE;AANJ,SAAP;AAQH;;AAED,eAASyE,iBAAT,CAA2BC,SAA3B,EAAsCC,GAAtC,EAA2Cz1B,OAA3C,EAAoD;AAChDA,eAAO,CAAC01B,OAAR,CAAgBC,OAAhB,CAAwB,QAAxB,EAAkC,uDAAS,uDAAS,EAAT,EAAaC,2BAA2B,CAACJ,SAAD,EAAYx1B,OAAZ,CAAxC,CAAT,EAAwE;AAAE61B,iBAAO,EAAEJ,GAAG,GAAGA,GAAG,CAACK,SAAP,GAAmB,IAAjC;AAAuCC,cAAI,EAAE/1B,OAAO,CAACg2B,OAAR,IAAmBh2B,OAAO,CAACi2B,WAAR,CAAoBF;AAApF,SAAxE,CAAlC;AACH;;AACD,eAASG,mBAAT,CAA6BT,GAA7B,EAAkCz1B,OAAlC,EAA2C;AACvCA,eAAO,CAAC01B,OAAR,CAAgBC,OAAhB,CAAwB,UAAxB,EAAoC;AAChCE,iBAAO,EAAEJ,GAAG,GAAGA,GAAG,CAACK,SAAP,GAAmB,IADC;AAEhCC,cAAI,EAAE/1B,OAAO,CAACg2B,OAAR,IAAmBh2B,OAAO,CAACi2B,WAAR,CAAoBF;AAFb,SAApC;AAIH;;AACD,eAASH,2BAAT,CAAqCN,QAArC,EAA+Ct1B,OAA/C,EAAwD;AACpD,YAAIsD,KAAK,GAAG,EAAZ;;AACA,aAAK,IAAIiL,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAGrS,OAAO,CAAC6Q,WAAR,CAAoBslB,kBAA1C,EAA8D5nB,EAAE,GAAG8D,EAAE,CAAC3P,MAAtE,EAA8E6L,EAAE,EAAhF,EAAoF;AAChF,cAAI6nB,SAAS,GAAG/jB,EAAE,CAAC9D,EAAD,CAAlB;AACA,iEAASjL,KAAT,EAAgB8yB,SAAS,CAACd,QAAD,EAAWt1B,OAAX,CAAzB;AACH;;AACD,+DAASsD,KAAT,EAAgBuxB,gBAAgB,CAACS,QAAD,EAAWt1B,OAAO,CAACiQ,OAAnB,CAAhC;AACA,eAAO3M,KAAP;AACH,O,CACD;AACA;;;AACA,eAAS+yB,kBAAT,CAA4BhmB,MAA5B,EAAoCtF,MAApC,EAA4C/K,OAA5C,EAAqD;AACjD,YAAIiQ,OAAO,GAAGjQ,OAAO,CAACiQ,OAAtB;AAAA,YAA+Ba,OAAO,GAAG9Q,OAAO,CAAC8Q,OAAjD;AACA,YAAIY,GAAG,GAAG3G,MAAV;;AACA,YAAIsF,MAAJ,EAAY;AACRqB,aAAG,GAAGjI,UAAU,CAACiI,GAAD,CAAhB;AACAA,aAAG,GAAGzB,OAAO,CAACtK,GAAR,CAAY+L,GAAZ,EAAiBZ,OAAO,CAACM,0BAAzB,CAAN;AACH,SAHD,MAIK;AACDM,aAAG,GAAGzB,OAAO,CAACtK,GAAR,CAAY+L,GAAZ,EAAiBZ,OAAO,CAACO,yBAAzB,CAAN;AACH;;AACD,eAAOK,GAAP;AACH,O,CAED;;;AACA,eAAS4kB,yBAAT,CAAmC3lB,UAAnC,EAA+C4lB,eAA/C,EAAgEC,QAAhE,EAA0Ex2B,OAA1E,EAAmF;AAC/E,YAAIy2B,YAAY,GAAGhG,eAAe,CAAC9f,UAAU,CAACI,IAAZ,EAAkBwlB,eAAlB,CAAlC;AACA,YAAI7oB,IAAI,GAAG4b,qBAAqB,EAAhC;;AACA,aAAK,IAAIrc,KAAT,IAAkB0D,UAAU,CAACI,IAA7B,EAAmC;AAC/B,cAAII,GAAG,GAAGR,UAAU,CAACI,IAAX,CAAgB9D,KAAhB,CAAV;AACAS,cAAI,CAACqD,IAAL,CAAU9D,KAAV,IAAmBypB,uBAAuB,CAACvlB,GAAD,EAAMslB,YAAY,CAACxpB,KAAD,CAAlB,EAA2BupB,QAA3B,EAAqCx2B,OAArC,CAA1C;AACH;;AACD,aAAK,IAAIqN,UAAT,IAAuBsD,UAAU,CAACK,SAAlC,EAA6C;AACzC,cAAIC,QAAQ,GAAGN,UAAU,CAACK,SAAX,CAAqB3D,UAArB,CAAf;AACA,cAAI8D,GAAG,GAAGzD,IAAI,CAACqD,IAAL,CAAUE,QAAQ,CAAChE,KAAnB,CAAV,CAFyC,CAEJ;;AACrCS,cAAI,CAACsD,SAAL,CAAe3D,UAAf,IAA6BspB,4BAA4B,CAAC1lB,QAAD,EAAWE,GAAX,EAAgBslB,YAAY,CAACxlB,QAAQ,CAAChE,KAAV,CAA5B,EAA8CupB,QAA9C,EAAwDx2B,OAAxD,CAAzD;AACH;;AACD,eAAO0N,IAAP;AACH;;AACD,eAASgpB,uBAAT,CAAiC/kB,QAAjC,EAA2CilB,WAA3C,EAAwDJ,QAAxD,EAAkEx2B,OAAlE,EAA2E;AACvE,YAAIw0B,aAAa,GAAGgC,QAAQ,CAAChC,aAAT,IAA0B,EAA9C,CADuE,CAEvE;AACA;AACA;;AACA,YAAIA,aAAa,CAACtH,MAAd,IAAwB,IAAxB,IACA0J,WAAW,CAACzL,gBADZ,KAECqL,QAAQ,CAACK,UAAT,IAAuBL,QAAQ,CAACM,QAFjC,CAAJ,EAEgD;AAC5CtC,uBAAa,CAACtH,MAAd,GAAuB,IAAvB,CAD4C,CACf;AAChC;;AACD,YAAI6J,IAAI,GAAG,uDAAS,uDAAS,uDAAS,EAAT,EAAaplB,QAAb,CAAT,EAAiC6iB,aAAjC,CAAT,EAA0D;AAAErH,YAAE,EAAE,uDAAS,uDAAS,EAAT,EAAaxb,QAAQ,CAACwb,EAAtB,CAAT,EAAoCqH,aAAa,CAACrH,EAAlD;AAAN,SAA1D,CAAX;;AACA,YAAIqJ,QAAQ,CAAC7J,aAAb,EAA4B;AACxBoK,cAAI,CAACpK,aAAL,GAAqB,uDAAS,uDAAS,EAAT,EAAaoK,IAAI,CAACpK,aAAlB,CAAT,EAA2C6J,QAAQ,CAAC7J,aAApD,CAArB;AACH;;AACD,aAAK,IAAIpe,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAGrS,OAAO,CAAC6Q,WAAR,CAAoBmmB,wBAA1C,EAAoEzoB,EAAE,GAAG8D,EAAE,CAAC3P,MAA5E,EAAoF6L,EAAE,EAAtF,EAA0F;AACtF,cAAI0oB,OAAO,GAAG5kB,EAAE,CAAC9D,EAAD,CAAhB;AACA0oB,iBAAO,CAACF,IAAD,EAAOP,QAAP,EAAiBx2B,OAAjB,CAAP;AACH;;AACD,YAAI,CAAC+2B,IAAI,CAAC7J,MAAN,IAAgBltB,OAAO,CAAC8Q,OAAR,CAAgByN,kBAApC,EAAwD;AACpDwY,cAAI,CAAC7J,MAAL,GAAc,IAAd;AACH;;AACD,eAAO6J,IAAP;AACH;;AACD,eAASJ,4BAAT,CAAsC3D,aAAtC,EAAqDrhB,QAArD,EAA+D;AAC/DilB,iBADA,EACaJ,QADb,EACuBx2B,OADvB,EACgC;AAC5B,YAAIiQ,OAAO,GAAGjQ,OAAO,CAACiQ,OAAtB;AACA,YAAIinB,WAAW,GAAGV,QAAQ,CAAChC,aAAT,IAA0BgC,QAAQ,CAAChC,aAAT,CAAuBnkB,MAAvB,KAAkC,IAA9E;AACA,YAAI8mB,QAAQ,GAAGX,QAAQ,CAAChC,aAAT,IAA0BgC,QAAQ,CAAChC,aAAT,CAAuBtH,MAAvB,KAAkC,KAA3E;AACA,YAAI6J,IAAI,GAAG,uDAAS,EAAT,EAAa/D,aAAb,CAAX;;AACA,YAAIkE,WAAJ,EAAiB;AACbH,cAAI,CAAC7pB,KAAL,GAAa6gB,sBAAsB,CAACgJ,IAAI,CAAC7pB,KAAN,CAAnC;AACH;;AACD,YAAIspB,QAAQ,CAACY,UAAT,IAAuBR,WAAW,CAAC1L,aAAvC,EAAsD;AAClD6L,cAAI,CAAC7pB,KAAL,GAAa;AACTuE,iBAAK,EAAExB,OAAO,CAACtK,GAAR,CAAYoxB,IAAI,CAAC7pB,KAAL,CAAWuE,KAAvB,EAA8B+kB,QAAQ,CAACY,UAAvC,CADE;AAET1lB,eAAG,EAAEzB,OAAO,CAACtK,GAAR,CAAYoxB,IAAI,CAAC7pB,KAAL,CAAWwE,GAAvB,EAA4B8kB,QAAQ,CAACY,UAArC;AAFI,WAAb;AAIH;;AACD,YAAIZ,QAAQ,CAACK,UAAT,IAAuBD,WAAW,CAACzL,gBAAvC,EAAyD;AACrD4L,cAAI,CAAC7pB,KAAL,GAAa;AACTuE,iBAAK,EAAExB,OAAO,CAACtK,GAAR,CAAYoxB,IAAI,CAAC7pB,KAAL,CAAWuE,KAAvB,EAA8B+kB,QAAQ,CAACK,UAAvC,CADE;AAETnlB,eAAG,EAAEqlB,IAAI,CAAC7pB,KAAL,CAAWwE;AAFP,WAAb;AAIH;;AACD,YAAI8kB,QAAQ,CAACM,QAAT,IAAqBF,WAAW,CAACzL,gBAArC,EAAuD;AACnD4L,cAAI,CAAC7pB,KAAL,GAAa;AACTuE,iBAAK,EAAEslB,IAAI,CAAC7pB,KAAL,CAAWuE,KADT;AAETC,eAAG,EAAEzB,OAAO,CAACtK,GAAR,CAAYoxB,IAAI,CAAC7pB,KAAL,CAAWwE,GAAvB,EAA4B8kB,QAAQ,CAACM,QAArC;AAFI,WAAb;AAIH;;AACD,YAAIK,QAAJ,EAAc;AACVJ,cAAI,CAAC7pB,KAAL,GAAa;AACTuE,iBAAK,EAAEslB,IAAI,CAAC7pB,KAAL,CAAWuE,KADT;AAETC,eAAG,EAAE2kB,kBAAkB,CAAC1kB,QAAQ,CAACtB,MAAV,EAAkB0mB,IAAI,CAAC7pB,KAAL,CAAWuE,KAA7B,EAAoCzR,OAApC;AAFd,WAAb;AAIH,SA/B2B,CAgC5B;AACA;;;AACA,YAAI2R,QAAQ,CAACtB,MAAb,EAAqB;AACjB0mB,cAAI,CAAC7pB,KAAL,GAAa;AACTuE,iBAAK,EAAEhI,UAAU,CAACstB,IAAI,CAAC7pB,KAAL,CAAWuE,KAAZ,CADR;AAETC,eAAG,EAAEjI,UAAU,CAACstB,IAAI,CAAC7pB,KAAL,CAAWwE,GAAZ;AAFN,WAAb;AAIH,SAvC2B,CAwC5B;;;AACA,YAAIqlB,IAAI,CAAC7pB,KAAL,CAAWwE,GAAX,GAAiBqlB,IAAI,CAAC7pB,KAAL,CAAWuE,KAAhC,EAAuC;AACnCslB,cAAI,CAAC7pB,KAAL,CAAWwE,GAAX,GAAiB2kB,kBAAkB,CAAC1kB,QAAQ,CAACtB,MAAV,EAAkB0mB,IAAI,CAAC7pB,KAAL,CAAWuE,KAA7B,EAAoCzR,OAApC,CAAnC;AACH;;AACD,eAAO+2B,IAAP;AACH,O,CAED;AACA;;;AACA,UAAIM,OAAO;AAAG;AAAe,kBAAY;AACrC,iBAASA,OAAT,CAAiBh3B,IAAjB,EAAuBi3B,cAAvB,EAAuCrnB,OAAvC,EAAgD;AAC5C,eAAK5P,IAAL,GAAYA,IAAZ;AACA,eAAKi3B,cAAL,GAAsBA,cAAtB;AACA,eAAKrnB,OAAL,GAAeA,OAAf;AACH;;AACDxP,cAAM,CAACC,cAAP,CAAsB22B,OAAO,CAACn3B,SAA9B,EAAyC,UAAzC,EAAqD;AACjDS,aAAG,EAAE,eAAY;AACb,mBAAO,KAAK22B,cAAL,GAAsBrB,WAA7B;AACH,WAHgD;AAIjDp1B,oBAAU,EAAE,KAJqC;AAKjDC,sBAAY,EAAE;AALmC,SAArD;AAOAL,cAAM,CAACC,cAAP,CAAsB22B,OAAO,CAACn3B,SAA9B,EAAyC,OAAzC,EAAkD;AAC9CS,aAAG,EAAE,eAAY;AACb,mBAAO,KAAK22B,cAAL,GAAsBC,SAA7B;AACH,WAH6C;AAI9C12B,oBAAU,EAAE,KAJkC;AAK9CC,sBAAY,EAAE;AALgC,SAAlD;AAOAL,cAAM,CAACC,cAAP,CAAsB22B,OAAO,CAACn3B,SAA9B,EAAyC,aAAzC,EAAwD;AACpDS,aAAG,EAAE,eAAY;AACb,mBAAO,KAAKsP,OAAL,CAAaglB,MAAb,CAAoB,KAAKqC,cAAL,GAAsBE,WAAtB,CAAkCC,WAAlC,CAA8ChmB,KAAlE,CAAP;AACH,WAHmD;AAIpD5Q,oBAAU,EAAE,KAJwC;AAKpDC,sBAAY,EAAE;AALsC,SAAxD;AAOAL,cAAM,CAACC,cAAP,CAAsB22B,OAAO,CAACn3B,SAA9B,EAAyC,WAAzC,EAAsD;AAClDS,aAAG,EAAE,eAAY;AACb,mBAAO,KAAKsP,OAAL,CAAaglB,MAAb,CAAoB,KAAKqC,cAAL,GAAsBE,WAAtB,CAAkCC,WAAlC,CAA8C/lB,GAAlE,CAAP;AACH,WAHiD;AAIlD7Q,oBAAU,EAAE,KAJsC;AAKlDC,sBAAY,EAAE;AALoC,SAAtD;AAOAL,cAAM,CAACC,cAAP,CAAsB22B,OAAO,CAACn3B,SAA9B,EAAyC,cAAzC,EAAyD;AACrDS,aAAG,EAAE,eAAY;AACb,mBAAO,KAAKsP,OAAL,CAAaglB,MAAb,CAAoB,KAAKqC,cAAL,GAAsBE,WAAtB,CAAkCE,YAAlC,CAA+CjmB,KAAnE,CAAP;AACH,WAHoD;AAIrD5Q,oBAAU,EAAE,KAJyC;AAKrDC,sBAAY,EAAE;AALuC,SAAzD;AAOAL,cAAM,CAACC,cAAP,CAAsB22B,OAAO,CAACn3B,SAA9B,EAAyC,YAAzC,EAAuD;AACnDS,aAAG,EAAE,eAAY;AACb,mBAAO,KAAKsP,OAAL,CAAaglB,MAAb,CAAoB,KAAKqC,cAAL,GAAsBE,WAAtB,CAAkCE,YAAlC,CAA+ChmB,GAAnE,CAAP;AACH,WAHkD;AAInD7Q,oBAAU,EAAE,KAJuC;AAKnDC,sBAAY,EAAE;AALqC,SAAvD;;AAOAu2B,eAAO,CAACn3B,SAAR,CAAkBy3B,SAAlB,GAA8B,UAAUl0B,IAAV,EAAgB;AAC1C,iBAAO,KAAK6zB,cAAL,GAAsBxmB,OAAtB,CAA8BrN,IAA9B,CAAP,CAD0C,CACE;AAC/C,SAFD;;AAGA,eAAO4zB,OAAP;AACH,OApD4B,EAA7B;;AAsDA,UAAIO,qBAAqB,GAAG;AACxBrL,UAAE,EAAEhnB,MADoB;AAExByK,qBAAa,EAAEwO,OAFS;AAGxBxd,WAAG,EAAEuE,MAHmB;AAIxBtE,cAAM,EAAEsE,MAJgB;AAKxBwiB,cAAM,EAAExK,QALgB;AAMxB2E,0BAAkB,EAAE3E,QANI;AAOxB;AACAsa,eAAO,EAAEta,QARe;AASxBua,eAAO,EAAEva;AATe,OAA5B;;AAWA,eAASwa,gBAAT,CAA0B9O,GAA1B,EAA+BjpB,OAA/B,EAAwC+oB,QAAxC,EAAkD;AAC9C,YAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,kBAAQ,GAAGiP,wBAAwB,CAACh4B,OAAD,CAAnC;AAA+C;;AAC1E,YAAIi4B,MAAJ;;AACA,YAAI,OAAOhP,GAAP,KAAe,QAAnB,EAA6B;AACzBgP,gBAAM,GAAG;AAAEj3B,eAAG,EAAEioB;AAAP,WAAT;AACH,SAFD,MAGK,IAAI,OAAOA,GAAP,KAAe,UAAf,IAA6B1iB,KAAK,CAACC,OAAN,CAAcyiB,GAAd,CAAjC,EAAqD;AACtDgP,gBAAM,GAAG;AAAElQ,kBAAM,EAAEkB;AAAV,WAAT;AACH,SAFI,MAGA,IAAI,OAAOA,GAAP,KAAe,QAAf,IAA2BA,GAA/B,EAAoC;AAAE;AACvCgP,gBAAM,GAAGhP,GAAT;AACH;;AACD,YAAIgP,MAAJ,EAAY;AACR,cAAI5lB,EAAE,GAAGyW,WAAW,CAACmP,MAAD,EAASlP,QAAT,CAApB;AAAA,cAAwChZ,OAAO,GAAGsC,EAAE,CAACtC,OAArD;AAAA,cAA8DiZ,KAAK,GAAG3W,EAAE,CAAC2W,KAAzE;;AACA,cAAIkP,OAAO,GAAGC,oBAAoB,CAACpoB,OAAD,EAAU/P,OAAV,CAAlC;;AACA,cAAIk4B,OAAJ,EAAa;AACT,mBAAO;AACHE,kBAAI,EAAEnP,GADH;AAEHoP,wBAAU,EAAE,KAFT;AAGHC,2BAAa,EAAE,EAHZ;AAIHC,wBAAU,EAAE,IAJT;AAKHvoB,2BAAa,EAAED,OAAO,CAACC,aALpB;AAMHkS,gCAAkB,EAAEnS,OAAO,CAACmS,kBANzB;AAOH2V,qBAAO,EAAE9nB,OAAO,CAAC8nB,OAPd;AAQHC,qBAAO,EAAE/nB,OAAO,CAAC+nB,OARd;AASHl3B,sBAAQ,EAAEmP,OAAO,CAACwc,EAAR,IAAc,EATrB;AAUHjsB,sBAAQ,EAAEgF,IAAI,EAVX;AAWHkzB,yBAAW,EAAEN,OAAO,CAACM,WAXlB;AAYHz3B,kBAAI,EAAEm3B,OAAO,CAACn3B,IAZX;AAaHosB,gBAAE,EAAEpB,aAAa,CAAChc,OAAD,EAAU/P,OAAV,CAbd;AAcH2sB,2BAAa,EAAE3D;AAdZ,aAAP;AAgBH;AACJ;;AACD,eAAO,IAAP;AACH;;AACD,eAASgP,wBAAT,CAAkCh4B,OAAlC,EAA2C;AACvC,eAAO,uDAAS,uDAAS,uDAAS,EAAT,EAAairB,iBAAb,CAAT,EAA0C2M,qBAA1C,CAAT,EAA2E53B,OAAO,CAAC6Q,WAAR,CAAoB4nB,mBAA/F,CAAP;AACH;;AACD,eAASN,oBAAT,CAA8BlP,GAA9B,EAAmCjpB,OAAnC,EAA4C;AACxC,YAAI+Q,IAAI,GAAG/Q,OAAO,CAAC6Q,WAAR,CAAoB6nB,eAA/B;;AACA,aAAK,IAAIj2B,CAAC,GAAGsO,IAAI,CAACrO,MAAL,GAAc,CAA3B,EAA8BD,CAAC,IAAI,CAAnC,EAAsCA,CAAC,IAAI,CAA3C,EAA8C;AAAE;AAC5C,cAAI0O,GAAG,GAAGJ,IAAI,CAACtO,CAAD,CAAd;AACA,cAAI1B,IAAI,GAAGoQ,GAAG,CAACwnB,SAAJ,CAAc1P,GAAd,CAAX;;AACA,cAAIloB,IAAJ,EAAU;AACN,mBAAO;AAAEy3B,yBAAW,EAAE/1B,CAAf;AAAkB1B,kBAAI,EAAEA;AAAxB,aAAP;AACH;AACJ;;AACD,eAAO,IAAP;AACH;;AAED,eAAS63B,iBAAT,CAA2BC,WAA3B,EAAwCC,MAAxC,EAAgD;AAC5C,gBAAQA,MAAM,CAACz4B,IAAf;AACI,eAAK,aAAL;AACI,mBAAOy4B,MAAM,CAACC,UAAd;;AACJ;AACI,mBAAOF,WAAP;AAJR;AAMH;;AACD,eAASG,cAAT,CAAwBloB,OAAxB,EAAiCb,OAAjC,EAA0C;AACtC,YAAIgpB,gBAAgB,GAAGnoB,OAAO,CAACkR,WAA/B,CADsC,CAEtC;;AACA,YAAIiX,gBAAgB,IAAI,IAAxB,EAA8B;AAC1B,iBAAOhpB,OAAO,CAAC6e,YAAR,CAAqBmK,gBAArB,CAAP;AACH;;AACD,eAAOC,MAAM,CAACpoB,OAAO,CAACmR,GAAT,EAAchS,OAAd,CAAb,CANsC,CAMD;AACxC;;AACD,eAASipB,MAAT,CAAgBC,QAAhB,EAA0BlpB,OAA1B,EAAmC;AAC/B,YAAI,OAAOkpB,QAAP,KAAoB,UAAxB,EAAoC;AAChCA,kBAAQ,GAAGA,QAAQ,EAAnB;AACH;;AACD,YAAIA,QAAQ,IAAI,IAAhB,EAAsB;AAClB,iBAAOlpB,OAAO,CAACmpB,eAAR,EAAP;AACH;;AACD,eAAOnpB,OAAO,CAAC6e,YAAR,CAAqBqK,QAArB,CAAP;AACH;;AAED,UAAIE,WAAW;AAAG;AAAe,kBAAY;AACzC,iBAASA,WAAT,GAAuB,CACtB;;AACDA,mBAAW,CAACn5B,SAAZ,CAAsBo3B,cAAtB,GAAuC,YAAY;AAC/C,iBAAO,KAAKgC,kBAAL,CAAwBhC,cAAxB,EAAP;AACH,SAFD;;AAGA+B,mBAAW,CAACn5B,SAAZ,CAAsBE,QAAtB,GAAiC,UAAU04B,MAAV,EAAkB;AAC/C,iBAAO,KAAKQ,kBAAL,CAAwBl5B,QAAxB,CAAiC04B,MAAjC,CAAP;AACH,SAFD;;AAGAr4B,cAAM,CAACC,cAAP,CAAsB24B,WAAW,CAACn5B,SAAlC,EAA6C,MAA7C,EAAqD;AACjDS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK22B,cAAL,GAAsBtB,OAA7B;AAAuC,WADT,CACU;AADV;AAGjDn1B,oBAAU,EAAE,KAHqC;AAIjDC,sBAAY,EAAE;AAJmC,SAArD;;AAMAu4B,mBAAW,CAACn5B,SAAZ,CAAsBq5B,cAAtB,GAAuC,UAAUt0B,QAAV,EAAoB;AACvDA,kBAAQ;AACX,SAFD;;AAGAo0B,mBAAW,CAACn5B,SAAZ,CAAsBs5B,UAAtB,GAAmC,YAAY;AAC3C,eAAK7D,OAAL,CAAa,SAAb,EAAwB,IAAxB;AACH,SAFD,CAlByC,CAqBzC;AACA;;;AACA0D,mBAAW,CAACn5B,SAAZ,CAAsBu5B,SAAtB,GAAkC,UAAUh2B,IAAV,EAAgBC,GAAhB,EAAqB;AACnD,eAAKtD,QAAL,CAAc;AACVC,gBAAI,EAAE,YADI;AAEVq5B,sBAAU,EAAEj2B,IAFF;AAGVk2B,0BAAc,EAAEj2B;AAHN,WAAd;AAKH,SAND;;AAOA21B,mBAAW,CAACn5B,SAAZ,CAAsBy3B,SAAtB,GAAkC,UAAUl0B,IAAV,EAAgB;AAC9C,iBAAO,KAAK61B,kBAAL,CAAwBM,2BAAxB,CAAoDn2B,IAApD,CAAP;AACH,SAFD;;AAGA41B,mBAAW,CAACn5B,SAAZ,CAAsB25B,uBAAtB,GAAgD,YAAY;AACxD,iBAAOp5B,MAAM,CAACuO,IAAP,CAAY,KAAKsoB,cAAL,GAAsBwC,mBAAlC,CAAP;AACH,SAFD,CAjCyC,CAoCzC;AACA;;;AACAT,mBAAW,CAACn5B,SAAZ,CAAsB65B,EAAtB,GAA2B,UAAUC,WAAV,EAAuBh2B,OAAvB,EAAgC;AACvD,cAAIs1B,kBAAkB,GAAG,KAAKA,kBAA9B;;AACA,cAAIA,kBAAkB,CAACW,8BAAnB,CAAkDD,WAAlD,CAAJ,EAAoE;AAChEV,8BAAkB,CAAC5D,OAAnB,CAA2BqE,EAA3B,CAA8BC,WAA9B,EAA2Ch2B,OAA3C;AACH,WAFD,MAGK;AACDk2B,mBAAO,CAACC,IAAR,CAAa,4BAA4BH,WAA5B,GAA0C,GAAvD;AACH;AACJ,SARD;;AASAX,mBAAW,CAACn5B,SAAZ,CAAsBk6B,GAAtB,GAA4B,UAAUJ,WAAV,EAAuBh2B,OAAvB,EAAgC;AACxD,eAAKs1B,kBAAL,CAAwB5D,OAAxB,CAAgC0E,GAAhC,CAAoCJ,WAApC,EAAiDh2B,OAAjD;AACH,SAFD,CA/CyC,CAkDzC;;;AACAq1B,mBAAW,CAACn5B,SAAZ,CAAsBy1B,OAAtB,GAAgC,UAAUqE,WAAV,EAAuB;AACnD,cAAI3nB,EAAJ;;AACA,cAAIgoB,IAAI,GAAG,EAAX;;AACA,eAAK,IAAI9rB,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGgI,SAAS,CAAC7T,MAAhC,EAAwC6L,EAAE,EAA1C,EAA8C;AAC1C8rB,gBAAI,CAAC9rB,EAAE,GAAG,CAAN,CAAJ,GAAegI,SAAS,CAAChI,EAAD,CAAxB;AACH;;AACD,WAAC8D,EAAE,GAAG,KAAKinB,kBAAL,CAAwB5D,OAA9B,EAAuCC,OAAvC,CAA+C9oB,KAA/C,CAAqDwF,EAArD,EAAyD,6DAAe,CAAC2nB,WAAD,CAAf,EAA8BK,IAA9B,CAAzD;AACH,SAPD,CAnDyC,CA2DzC;AACA;;;AACAhB,mBAAW,CAACn5B,SAAZ,CAAsBo6B,UAAtB,GAAmC,UAAUC,QAAV,EAAoBC,WAApB,EAAiC;AAChE,cAAI/jB,KAAK,GAAG,IAAZ;;AACA,eAAK8iB,cAAL,CAAoB,YAAY;AAC5B9iB,iBAAK,CAACyQ,QAAN;;AACA,gBAAIsT,WAAJ,EAAiB;AACb,kBAAIA,WAAW,CAAC/oB,KAAZ,IAAqB+oB,WAAW,CAAC9oB,GAArC,EAA0C;AAAE;AACxC+E,qBAAK,CAACrW,QAAN,CAAe;AACXC,sBAAI,EAAE,kBADK;AAEXk6B,0BAAQ,EAAEA;AAFC,iBAAf;;AAIA9jB,qBAAK,CAACrW,QAAN,CAAe;AACXC,sBAAI,EAAE,YADK;AAEXq5B,4BAAU,EAAE,cAFD;AAGXC,gCAAc,EAAEa;AAHL,iBAAf;AAKH,eAVD,MAWK;AACD,oBAAIvqB,OAAO,GAAGwG,KAAK,CAAC6gB,cAAN,GAAuBrnB,OAArC;;AACAwG,qBAAK,CAACrW,QAAN,CAAe;AACXC,sBAAI,EAAE,kBADK;AAEXk6B,0BAAQ,EAAEA,QAFC;AAGXxB,4BAAU,EAAE9oB,OAAO,CAAC6e,YAAR,CAAqB0L,WAArB;AAHD,iBAAf;AAKH;AACJ,aApBD,MAqBK;AACD/jB,mBAAK,CAACrW,QAAN,CAAe;AACXC,oBAAI,EAAE,kBADK;AAEXk6B,wBAAQ,EAAEA;AAFC,eAAf;AAIH;AACJ,WA7BD;AA8BH,SAhCD,CA7DyC,CA8FzC;AACA;AACA;;;AACAlB,mBAAW,CAACn5B,SAAZ,CAAsBu6B,MAAtB,GAA+B,UAAU1B,UAAV,EAAsBwB,QAAtB,EAAgC;AAC3D,cAAIG,KAAK,GAAG,KAAKpD,cAAL,EAAZ;AACA,cAAIqD,IAAJ;AACAJ,kBAAQ,GAAGA,QAAQ,IAAI,KAAvB,CAH2D,CAG7B;;AAC9BI,cAAI,GAAGD,KAAK,CAACE,SAAN,CAAgBL,QAAhB,KAA6B,KAAKM,eAAL,CAAqBN,QAArB,CAApC;AACA,eAAKrT,QAAL;;AACA,cAAIyT,IAAJ,EAAU;AACN,iBAAKv6B,QAAL,CAAc;AACVC,kBAAI,EAAE,kBADI;AAEVk6B,sBAAQ,EAAEI,IAAI,CAACt6B,IAFL;AAGV04B,wBAAU,EAAEA;AAHF,aAAd;AAKH,WAND,MAOK;AACD,iBAAK34B,QAAL,CAAc;AACVC,kBAAI,EAAE,aADI;AAEV04B,wBAAU,EAAEA;AAFF,aAAd;AAIH;AACJ,SAnBD,CAjGyC,CAqHzC;AACA;;;AACAM,mBAAW,CAACn5B,SAAZ,CAAsB26B,eAAtB,GAAwC,UAAUzoB,IAAV,EAAgB;AACpD,cAAIC,EAAE,GAAG,KAAKilB,cAAL,EAAT;AAAA,cAAgCsD,SAAS,GAAGvoB,EAAE,CAACuoB,SAA/C;AAAA,cAA0DE,aAAa,GAAGzoB,EAAE,CAACyoB,aAA7E;;AACA,cAAIC,SAAS,GAAG,GAAGpuB,MAAH,CAAUmuB,aAAa,CAACE,gBAAxB,CAAhB;AACA,cAAIv4B,CAAJ;AACA,cAAIk4B,IAAJ;;AACA,eAAK,IAAIJ,QAAT,IAAqBK,SAArB,EAAgC;AAC5BG,qBAAS,CAACl4B,IAAV,CAAe03B,QAAf;AACH;;AACD,eAAK93B,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGs4B,SAAS,CAACr4B,MAA1B,EAAkCD,CAAC,IAAI,CAAvC,EAA0C;AACtCk4B,gBAAI,GAAGC,SAAS,CAACG,SAAS,CAACt4B,CAAD,CAAV,CAAhB;;AACA,gBAAIk4B,IAAJ,EAAU;AACN,kBAAIA,IAAI,CAACM,UAAL,KAAoB7oB,IAAxB,EAA8B;AAC1B,uBAAOuoB,IAAP;AACH;AACJ;AACJ;;AACD,iBAAO,IAAP;AACH,SAjBD,CAvHyC,CAyIzC;AACA;;;AACAtB,mBAAW,CAACn5B,SAAZ,CAAsBg7B,IAAtB,GAA6B,YAAY;AACrC,eAAKhU,QAAL;AACA,eAAK9mB,QAAL,CAAc;AAAEC,gBAAI,EAAE;AAAR,WAAd;AACH,SAHD;;AAIAg5B,mBAAW,CAACn5B,SAAZ,CAAsBi7B,IAAtB,GAA6B,YAAY;AACrC,eAAKjU,QAAL;AACA,eAAK9mB,QAAL,CAAc;AAAEC,gBAAI,EAAE;AAAR,WAAd;AACH,SAHD;;AAIAg5B,mBAAW,CAACn5B,SAAZ,CAAsBk7B,QAAtB,GAAiC,YAAY;AACzC,cAAIV,KAAK,GAAG,KAAKpD,cAAL,EAAZ;AACA,eAAKpQ,QAAL;AACA,eAAK9mB,QAAL,CAAc;AACVC,gBAAI,EAAE,aADI;AAEV04B,sBAAU,EAAE2B,KAAK,CAACzqB,OAAN,CAAcorB,QAAd,CAAuBX,KAAK,CAAC7B,WAA7B,EAA0C,CAAC,CAA3C;AAFF,WAAd;AAIH,SAPD;;AAQAQ,mBAAW,CAACn5B,SAAZ,CAAsBo7B,QAAtB,GAAiC,YAAY;AACzC,cAAIZ,KAAK,GAAG,KAAKpD,cAAL,EAAZ;AACA,eAAKpQ,QAAL;AACA,eAAK9mB,QAAL,CAAc;AACVC,gBAAI,EAAE,aADI;AAEV04B,sBAAU,EAAE2B,KAAK,CAACzqB,OAAN,CAAcorB,QAAd,CAAuBX,KAAK,CAAC7B,WAA7B,EAA0C,CAA1C;AAFF,WAAd;AAIH,SAPD;;AAQAQ,mBAAW,CAACn5B,SAAZ,CAAsBq7B,KAAtB,GAA8B,YAAY;AACtC,cAAIb,KAAK,GAAG,KAAKpD,cAAL,EAAZ;AACA,eAAKpQ,QAAL;AACA,eAAK9mB,QAAL,CAAc;AACVC,gBAAI,EAAE,aADI;AAEV04B,sBAAU,EAAEG,MAAM,CAACwB,KAAK,CAACc,eAAN,CAAsBvZ,GAAvB,EAA4ByY,KAAK,CAACzqB,OAAlC;AAFR,WAAd;AAIH,SAPD;;AAQAopB,mBAAW,CAACn5B,SAAZ,CAAsBu7B,QAAtB,GAAiC,UAAUC,cAAV,EAA0B;AACvD,cAAIhB,KAAK,GAAG,KAAKpD,cAAL,EAAZ;AACA,eAAKpQ,QAAL;AACA,eAAK9mB,QAAL,CAAc;AACVC,gBAAI,EAAE,aADI;AAEV04B,sBAAU,EAAE2B,KAAK,CAACzqB,OAAN,CAAc6e,YAAd,CAA2B4M,cAA3B;AAFF,WAAd;AAIH,SAPD;;AAQArC,mBAAW,CAACn5B,SAAZ,CAAsBy7B,aAAtB,GAAsC,UAAUC,UAAV,EAAsB;AACxD,cAAIlB,KAAK,GAAG,KAAKpD,cAAL,EAAZ;AACA,cAAIuE,KAAK,GAAG1pB,cAAc,CAACypB,UAAD,CAA1B;;AACA,cAAIC,KAAJ,EAAW;AAAE;AACT,iBAAK3U,QAAL;AACA,iBAAK9mB,QAAL,CAAc;AACVC,kBAAI,EAAE,aADI;AAEV04B,wBAAU,EAAE2B,KAAK,CAACzqB,OAAN,CAActK,GAAd,CAAkB+0B,KAAK,CAAC7B,WAAxB,EAAqCgD,KAArC;AAFF,aAAd;AAIH;AACJ,SAVD,CAnLyC,CA8LzC;;;AACAxC,mBAAW,CAACn5B,SAAZ,CAAsBiM,OAAtB,GAAgC,YAAY;AACxC,cAAIuuB,KAAK,GAAG,KAAKpD,cAAL,EAAZ;AACA,iBAAOoD,KAAK,CAACzqB,OAAN,CAAcglB,MAAd,CAAqByF,KAAK,CAAC7B,WAA3B,CAAP;AACH,SAHD,CA/LyC,CAmMzC;AACA;;;AACAQ,mBAAW,CAACn5B,SAAZ,CAAsB47B,UAAtB,GAAmC,UAAU5xB,CAAV,EAAa6xB,SAAb,EAAwB;AACvD,cAAI9rB,OAAO,GAAG,KAAKqnB,cAAL,GAAsBrnB,OAApC;AACA,iBAAOA,OAAO,CAAChP,MAAR,CAAegP,OAAO,CAAC6e,YAAR,CAAqB5kB,CAArB,CAAf,EAAwCkT,eAAe,CAAC2e,SAAD,CAAvD,CAAP;AACH,SAHD,CArMyC,CAyMzC;;;AACA1C,mBAAW,CAACn5B,SAAZ,CAAsB0Y,WAAtB,GAAoC,UAAUnF,EAAV,EAAcC,EAAd,EAAkBsoB,QAAlB,EAA4B;AAC5D,cAAI/rB,OAAO,GAAG,KAAKqnB,cAAL,GAAsBrnB,OAApC;AACA,iBAAOA,OAAO,CAAC2I,WAAR,CAAoB3I,OAAO,CAAC6e,YAAR,CAAqBrb,EAArB,CAApB,EAA8CxD,OAAO,CAAC6e,YAAR,CAAqBpb,EAArB,CAA9C,EAAwE0J,eAAe,CAAC4e,QAAD,CAAvF,EAAmGA,QAAnG,CAAP;AACH,SAHD;;AAIA3C,mBAAW,CAACn5B,SAAZ,CAAsBi1B,SAAtB,GAAkC,UAAUjrB,CAAV,EAAa8qB,QAAb,EAAuB;AACrD,cAAI/kB,OAAO,GAAG,KAAKqnB,cAAL,GAAsBrnB,OAApC;AACA,iBAAOA,OAAO,CAACklB,SAAR,CAAkBllB,OAAO,CAAC6e,YAAR,CAAqB5kB,CAArB,CAAlB,EAA2C;AAAE8qB,oBAAQ,EAAEA;AAAZ,WAA3C,CAAP;AACH,SAHD,CA9MyC,CAkNzC;AACA;AACA;AACA;;;AACAqE,mBAAW,CAACn5B,SAAZ,CAAsB+mB,MAAtB,GAA+B,UAAUgV,SAAV,EAAqBC,OAArB,EAA8B;AACzD,cAAIC,cAAJ;;AACA,cAAID,OAAO,IAAI,IAAf,EAAqB;AACjB,gBAAID,SAAS,CAACxqB,KAAV,IAAmB,IAAvB,EAA6B;AACzB0qB,4BAAc,GAAGF,SAAjB;AACH,aAFD,MAGK;AACDE,4BAAc,GAAG;AACb1qB,qBAAK,EAAEwqB,SADM;AAEbvqB,mBAAG,EAAE;AAFQ,eAAjB;AAIH;AACJ,WAVD,MAWK;AACDyqB,0BAAc,GAAG;AACb1qB,mBAAK,EAAEwqB,SADM;AAEbvqB,iBAAG,EAAEwqB;AAFQ,aAAjB;AAIH;;AACD,cAAIxB,KAAK,GAAG,KAAKpD,cAAL,EAAZ;AACA,cAAI9B,SAAS,GAAGpB,aAAa,CAAC+H,cAAD,EAAiBzB,KAAK,CAACzqB,OAAvB,EAAgCkC,cAAc,CAAC;AAAEtI,gBAAI,EAAE;AAAR,WAAD,CAA9C,CAA7B;;AACA,cAAI2rB,SAAJ,EAAe;AAAE;AACb,iBAAKp1B,QAAL,CAAc;AAAEC,kBAAI,EAAE,cAAR;AAAwBm1B,uBAAS,EAAEA;AAAnC,aAAd;AACAD,6BAAiB,CAACC,SAAD,EAAY,IAAZ,EAAkBkF,KAAlB,CAAjB;AACH;AACJ,SAzBD,CAtNyC,CAgPzC;;;AACArB,mBAAW,CAACn5B,SAAZ,CAAsBgnB,QAAtB,GAAiC,UAAUuO,GAAV,EAAe;AAC5C,cAAIiF,KAAK,GAAG,KAAKpD,cAAL,EAAZ;;AACA,cAAIoD,KAAK,CAAC0B,aAAV,EAAyB;AACrB,iBAAKh8B,QAAL,CAAc;AAAEC,kBAAI,EAAE;AAAR,aAAd;AACA61B,+BAAmB,CAACT,GAAD,EAAMiF,KAAN,CAAnB;AACH;AACJ,SAND,CAjPyC,CAwPzC;AACA;;;AACArB,mBAAW,CAACn5B,SAAZ,CAAsBm8B,QAAtB,GAAiC,UAAUC,UAAV,EAAsBC,WAAtB,EAAmC;AAChE,cAAID,UAAU,YAAYE,QAA1B,EAAoC;AAChC,gBAAIrrB,GAAG,GAAGmrB,UAAU,CAACG,IAArB;AACA,gBAAIxrB,QAAQ,GAAGqrB,UAAU,CAACI,SAA1B;AACA,gBAAIC,WAAW,GAAG,KAAKrF,cAAL,EAAlB,CAHgC,CAIhC;;AACA,gBAAI,CAACqF,WAAW,CAAChsB,UAAZ,CAAuBI,IAAvB,CAA4BI,GAAG,CAAClE,KAAhC,CAAL,EAA6C;AACzC,mBAAK7M,QAAL,CAAc;AACVC,oBAAI,EAAE,YADI;AAEVsQ,0BAAU,EAAEiZ,iBAAiB,CAAC;AAAEzY,qBAAG,EAAEA,GAAP;AAAYF,0BAAQ,EAAEA;AAAtB,iBAAD;AAFnB,eAAd;AAIA,mBAAK2rB,eAAL,CAAqBN,UAArB;AACH;;AACD,mBAAOA,UAAP;AACH;;AACD,cAAI5B,KAAK,GAAG,KAAKpD,cAAL,EAAZ;AACA,cAAIlO,WAAJ;;AACA,cAAImT,WAAW,YAAYx8B,cAA3B,EAA2C;AACvCqpB,uBAAW,GAAGmT,WAAW,CAACt8B,mBAA1B;AACH,WAFD,MAGK,IAAI,OAAOs8B,WAAP,KAAuB,SAA3B,EAAsC;AACvC,gBAAIA,WAAJ,EAAiB;AAAE;AACfnT,yBAAW,GAAGxa,iBAAiB,CAAC8rB,KAAK,CAAC1S,YAAP,CAAjB,CAAsC,CAAtC,CAAd;AACH;AACJ,WAJI,MAKA,IAAIuU,WAAW,IAAI,IAAnB,EAAyB;AAAE;AAC5B,gBAAIM,SAAS,GAAG,KAAKC,kBAAL,CAAwBP,WAAxB,CAAhB,CAD0B,CAC4B;;AACtD,gBAAI,CAACM,SAAL,EAAgB;AACZ3C,qBAAO,CAACC,IAAR,CAAa,8CAA8CoC,WAA9C,GAA4D,IAAzE,EADY,CACoE;;AAChF,qBAAO,IAAP;AACH;;AACDnT,uBAAW,GAAGyT,SAAS,CAAC58B,mBAAxB;AACH;;AACD,cAAI0O,KAAK,GAAGgb,UAAU,CAAC2S,UAAD,EAAalT,WAAb,EAA0BsR,KAA1B,EAAiC,KAAjC,CAAtB;;AACA,cAAI/rB,KAAJ,EAAW;AACP,gBAAIouB,WAAW,GAAG,IAAIP,QAAJ,CAAa9B,KAAb,EAAoB/rB,KAAK,CAACwC,GAA1B,EAA+BxC,KAAK,CAACwC,GAAN,CAAUD,YAAV,GAAyB,IAAzB,GAAgCvC,KAAK,CAACsC,QAArE,CAAlB;AACA,iBAAK7Q,QAAL,CAAc;AACVC,kBAAI,EAAE,YADI;AAEVsQ,wBAAU,EAAEiZ,iBAAiB,CAACjb,KAAD;AAFnB,aAAd;AAIA,iBAAKiuB,eAAL,CAAqBG,WAArB;AACA,mBAAOA,WAAP;AACH;;AACD,iBAAO,IAAP;AACH,SA5CD;;AA6CA1D,mBAAW,CAACn5B,SAAZ,CAAsB08B,eAAtB,GAAwC,UAAUI,QAAV,EAAoB;AACxD,cAAIvmB,KAAK,GAAG,IAAZ;;AACA,cAAIif,OAAO,GAAG,KAAK4B,cAAL,GAAsB5B,OAApC;AACAA,iBAAO,CAACC,OAAR,CAAgB,UAAhB,EAA4B;AACxBsH,iBAAK,EAAED,QADiB;AAExBE,yBAAa,EAAE,EAFS;AAGxBC,kBAAM,EAAE,kBAAY;AAChB1mB,mBAAK,CAACrW,QAAN,CAAe;AACXC,oBAAI,EAAE,eADK;AAEXsQ,0BAAU,EAAEysB,eAAe,CAACJ,QAAD;AAFhB,eAAf;AAIH;AARuB,WAA5B;AAUH,SAbD,CAvSyC,CAqTzC;;;AACA3D,mBAAW,CAACn5B,SAAZ,CAAsBm9B,YAAtB,GAAqC,UAAU9Q,EAAV,EAAc;AAC/C,cAAImO,KAAK,GAAG,KAAKpD,cAAL,EAAZ;AACA,cAAIjlB,EAAE,GAAGqoB,KAAK,CAAC/pB,UAAf;AAAA,cAA2BI,IAAI,GAAGsB,EAAE,CAACtB,IAArC;AAAA,cAA2CC,SAAS,GAAGqB,EAAE,CAACrB,SAA1D;AACAub,YAAE,GAAGhnB,MAAM,CAACgnB,EAAD,CAAX;;AACA,eAAK,IAAItf,KAAT,IAAkB8D,IAAlB,EAAwB;AACpB,gBAAII,GAAG,GAAGJ,IAAI,CAAC9D,KAAD,CAAd;;AACA,gBAAIkE,GAAG,CAACvQ,QAAJ,KAAiB2rB,EAArB,EAAyB;AACrB,kBAAIpb,GAAG,CAACD,YAAR,EAAsB;AAClB,uBAAO,IAAIsrB,QAAJ,CAAa9B,KAAb,EAAoBvpB,GAApB,EAAyB,IAAzB,CAAP;AACH;;AACD,mBAAK,IAAI9D,UAAT,IAAuB2D,SAAvB,EAAkC;AAC9B,oBAAIC,QAAQ,GAAGD,SAAS,CAAC3D,UAAD,CAAxB;;AACA,oBAAI4D,QAAQ,CAAChE,KAAT,KAAmBkE,GAAG,CAAClE,KAA3B,EAAkC;AAC9B,yBAAO,IAAIuvB,QAAJ,CAAa9B,KAAb,EAAoBvpB,GAApB,EAAyBF,QAAzB,CAAP;AACH;AACJ;AACJ;AACJ;;AACD,iBAAO,IAAP;AACH,SAnBD;;AAoBAooB,mBAAW,CAACn5B,SAAZ,CAAsBo9B,SAAtB,GAAkC,YAAY;AAC1C,cAAIX,WAAW,GAAG,KAAKrF,cAAL,EAAlB;AACA,iBAAOiG,cAAc,CAACZ,WAAW,CAAChsB,UAAb,EAAyBgsB,WAAzB,CAArB;AACH,SAHD;;AAIAtD,mBAAW,CAACn5B,SAAZ,CAAsBs9B,eAAtB,GAAwC,YAAY;AAChD,eAAKp9B,QAAL,CAAc;AAAEC,gBAAI,EAAE;AAAR,WAAd;AACH,SAFD,CA9UyC,CAiVzC;AACA;;;AACAg5B,mBAAW,CAACn5B,SAAZ,CAAsBu9B,eAAtB,GAAwC,YAAY;AAChD,cAAI/C,KAAK,GAAG,KAAKpD,cAAL,EAAZ;AACA,cAAIoG,UAAU,GAAGhD,KAAK,CAAC1S,YAAvB;AACA,cAAI2V,UAAU,GAAG,EAAjB;;AACA,eAAK,IAAIC,UAAT,IAAuBF,UAAvB,EAAmC;AAC/BC,sBAAU,CAAC96B,IAAX,CAAgB,IAAI9C,cAAJ,CAAmB26B,KAAnB,EAA0BgD,UAAU,CAACE,UAAD,CAApC,CAAhB;AACH;;AACD,iBAAOD,UAAP;AACH,SARD;;AASAtE,mBAAW,CAACn5B,SAAZ,CAAsB48B,kBAAtB,GAA2C,UAAUvQ,EAAV,EAAc;AACrD,cAAImO,KAAK,GAAG,KAAKpD,cAAL,EAAZ;AACA,cAAIoG,UAAU,GAAGhD,KAAK,CAAC1S,YAAvB;AACAuE,YAAE,GAAGhnB,MAAM,CAACgnB,EAAD,CAAX;;AACA,eAAK,IAAIjsB,QAAT,IAAqBo9B,UAArB,EAAiC;AAC7B,gBAAIA,UAAU,CAACp9B,QAAD,CAAV,CAAqBM,QAArB,KAAkC2rB,EAAtC,EAA0C;AACtC,qBAAO,IAAIxsB,cAAJ,CAAmB26B,KAAnB,EAA0BgD,UAAU,CAACp9B,QAAD,CAApC,CAAP;AACH;AACJ;;AACD,iBAAO,IAAP;AACH,SAVD;;AAWA+4B,mBAAW,CAACn5B,SAAZ,CAAsB29B,cAAtB,GAAuC,UAAUtB,WAAV,EAAuB;AAC1D,cAAI7B,KAAK,GAAG,KAAKpD,cAAL,EAAZ;;AACA,cAAIiF,WAAW,YAAYx8B,cAA3B,EAA2C;AACvC;AACA,gBAAI,CAAC26B,KAAK,CAAC1S,YAAN,CAAmBuU,WAAW,CAACt8B,mBAAZ,CAAgCK,QAAnD,CAAL,EAAmE;AAC/D,mBAAKF,QAAL,CAAc;AACVC,oBAAI,EAAE,mBADI;AAEVy9B,uBAAO,EAAE,CAACvB,WAAW,CAACt8B,mBAAb;AAFC,eAAd;AAIH;;AACD,mBAAOs8B,WAAP;AACH;;AACD,cAAInT,WAAW,GAAG2O,gBAAgB,CAACwE,WAAD,EAAc7B,KAAd,CAAlC;;AACA,cAAItR,WAAJ,EAAiB;AAAE;AACf,iBAAKhpB,QAAL,CAAc;AAAEC,kBAAI,EAAE,mBAAR;AAA6By9B,qBAAO,EAAE,CAAC1U,WAAD;AAAtC,aAAd;AACA,mBAAO,IAAIrpB,cAAJ,CAAmB26B,KAAnB,EAA0BtR,WAA1B,CAAP;AACH;;AACD,iBAAO,IAAP;AACH,SAlBD;;AAmBAiQ,mBAAW,CAACn5B,SAAZ,CAAsB69B,qBAAtB,GAA8C,YAAY;AACtD,eAAK39B,QAAL,CAAc;AAAEC,gBAAI,EAAE;AAAR,WAAd;AACH,SAFD;;AAGAg5B,mBAAW,CAACn5B,SAAZ,CAAsB89B,aAAtB,GAAsC,YAAY;AAC9C,eAAK59B,QAAL,CAAc;AAAEC,gBAAI,EAAE;AAAR,WAAd;AACH,SAFD,CA7XyC,CAgYzC;AACA;;;AACAg5B,mBAAW,CAACn5B,SAAZ,CAAsB+9B,YAAtB,GAAqC,UAAUC,SAAV,EAAqB;AACtD,cAAIC,IAAI,GAAGhsB,cAAc,CAAC+rB,SAAD,CAAzB;;AACA,cAAIC,IAAJ,EAAU;AACN,iBAAKxI,OAAL,CAAa,gBAAb,EAA+B;AAAEwI,kBAAI,EAAEA;AAAR,aAA/B;AACH;AACJ,SALD;;AAMA,eAAO9E,WAAP;AACH,OAzYgC,EAAjC;;AA2YA,UAAImD,QAAQ;AAAG;AAAe,kBAAY;AACtC;AACA;AACA,iBAASA,QAAT,CAAkBx8B,OAAlB,EAA2BmR,GAA3B,EAAgCF,QAAhC,EAA0C;AACtC,eAAKmtB,QAAL,GAAgBp+B,OAAhB;AACA,eAAKy8B,IAAL,GAAYtrB,GAAZ;AACA,eAAKurB,SAAL,GAAiBzrB,QAAQ,IAAI,IAA7B;AACH;AACD;AACJ;AACA;;;AACIurB,gBAAQ,CAACt8B,SAAT,CAAmBm+B,OAAnB,GAA6B,UAAU56B,IAAV,EAAgBC,GAAhB,EAAqB;AAC9C,cAAI2O,EAAJ,EAAQisB,EAAR;;AACA,cAAI76B,IAAI,IAAIgpB,mBAAZ,EAAiC;AAC7ByN,mBAAO,CAACC,IAAR,CAAa,wFAAb;AACH,WAFD,MAGK,IAAI12B,IAAI,IAAI6oB,uBAAZ,EAAqC;AACtC5oB,eAAG,GAAG4oB,uBAAuB,CAAC7oB,IAAD,CAAvB,CAA8BC,GAA9B,CAAN;AACA,iBAAK66B,MAAL,CAAY;AACR/J,2BAAa,GAAGniB,EAAE,GAAG,EAAL,EAASA,EAAE,CAAC5O,IAAD,CAAF,GAAWC,GAApB,EAAyB2O,EAA5B;AADL,aAAZ;AAGH,WALI,MAMA,IAAI5O,IAAI,IAAIwnB,iBAAZ,EAA+B;AAChC,gBAAIkC,EAAE,GAAGlC,iBAAiB,CAACxnB,IAAD,CAAjB,CAAwBC,GAAxB,CAAT;;AACA,gBAAID,IAAI,KAAK,OAAb,EAAsB;AAClB0pB,gBAAE,GAAG;AAAE1B,+BAAe,EAAE/nB,GAAnB;AAAwBgoB,2BAAW,EAAEhoB;AAArC,eAAL;AACH,aAFD,MAGK,IAAID,IAAI,KAAK,UAAb,EAAyB;AAC1B0pB,gBAAE,GAAG;AAAEjC,6BAAa,EAAExnB,GAAjB;AAAsBynB,gCAAgB,EAAEznB;AAAxC,eAAL;AACH,aAFI,MAGA;AACDypB,gBAAE,IAAImR,EAAE,GAAG,EAAL,EAASA,EAAE,CAAC76B,IAAD,CAAF,GAAWC,GAApB,EAAyB46B,EAA7B,CAAF;AACH;;AACD,iBAAKC,MAAL,CAAY;AACR/J,2BAAa,EAAE;AAAErH,kBAAE,EAAEA;AAAN;AADP,aAAZ;AAGH,WAdI,MAeA;AACD+M,mBAAO,CAACC,IAAR,CAAa,yBAAyB12B,IAAzB,GAAgC,iCAA7C;AACH;AACJ,SA7BD;;AA8BA+4B,gBAAQ,CAACt8B,SAAT,CAAmBs+B,eAAnB,GAAqC,UAAU/6B,IAAV,EAAgBC,GAAhB,EAAqB;AACtD,cAAI2O,EAAJ;;AACA,eAAKksB,MAAL,CAAY;AACR5R,yBAAa,GAAGta,EAAE,GAAG,EAAL,EAASA,EAAE,CAAC5O,IAAD,CAAF,GAAWC,GAApB,EAAyB2O,EAA5B;AADL,WAAZ;AAGH,SALD;;AAMAmqB,gBAAQ,CAACt8B,SAAT,CAAmBu+B,QAAnB,GAA8B,UAAU9Q,UAAV,EAAsB7c,OAAtB,EAA+B;AACzD,cAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,mBAAO,GAAG,EAAV;AAAe;;AACzC,cAAIb,OAAO,GAAG,KAAKmuB,QAAL,CAAcnuB,OAA5B;AACA,cAAIwB,KAAK,GAAGxB,OAAO,CAAC6e,YAAR,CAAqBnB,UAArB,CAAZ;;AACA,cAAIlc,KAAK,IAAI,KAAKirB,SAAlB,EAA6B;AAAE;AAC3B,gBAAIgC,aAAa,GAAG,KAAKhC,SAAL,CAAexvB,KAAnC;AACA,gBAAI2pB,UAAU,GAAGtI,SAAS,CAACmQ,aAAa,CAACjtB,KAAf,EAAsBA,KAAtB,EAA6BxB,OAA7B,EAAsCa,OAAO,CAAC6tB,WAA9C,CAA1B,CAFyB,CAE6D;;AACtF,gBAAI7tB,OAAO,CAAC8tB,gBAAZ,EAA8B;AAC1B,mBAAKL,MAAL,CAAY;AAAEnH,0BAAU,EAAEP;AAAd,eAAZ;AACH,aAFD,MAGK;AACD,mBAAK0H,MAAL,CAAY;AAAE1H,0BAAU,EAAEA;AAAd,eAAZ;AACH;AACJ;AACJ,SAdD;;AAeA2F,gBAAQ,CAACt8B,SAAT,CAAmB2+B,MAAnB,GAA4B,UAAUC,QAAV,EAAoBhuB,OAApB,EAA6B;AACrD,cAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,mBAAO,GAAG,EAAV;AAAe;;AACzC,cAAIb,OAAO,GAAG,KAAKmuB,QAAL,CAAcnuB,OAA5B;AACA,cAAIyB,GAAJ;;AACA,cAAIotB,QAAQ,IAAI,IAAhB,EAAsB;AAClBptB,eAAG,GAAGzB,OAAO,CAAC6e,YAAR,CAAqBgQ,QAArB,CAAN;;AACA,gBAAI,CAACptB,GAAL,EAAU;AACN,qBADM,CACE;AACX;AACJ;;AACD,cAAI,KAAKgrB,SAAT,EAAoB;AAChB,gBAAIhrB,GAAJ,EAAS;AACL,kBAAIolB,QAAQ,GAAGvI,SAAS,CAAC,KAAKmO,SAAL,CAAexvB,KAAf,CAAqBwE,GAAtB,EAA2BA,GAA3B,EAAgCzB,OAAhC,EAAyCa,OAAO,CAAC6tB,WAAjD,CAAxB;AACA,mBAAKJ,MAAL,CAAY;AAAEzH,wBAAQ,EAAEA;AAAZ,eAAZ;AACH,aAHD,MAIK;AACD,mBAAKyH,MAAL,CAAY;AAAE/J,6BAAa,EAAE;AAAEtH,wBAAM,EAAE;AAAV;AAAjB,eAAZ;AACH;AACJ;AACJ,SAnBD;;AAoBAsP,gBAAQ,CAACt8B,SAAT,CAAmB6+B,QAAnB,GAA8B,UAAUpR,UAAV,EAAsBmR,QAAtB,EAAgChuB,OAAhC,EAAyC;AACnE,cAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,mBAAO,GAAG,EAAV;AAAe;;AACzC,cAAIb,OAAO,GAAG,KAAKmuB,QAAL,CAAcnuB,OAA5B;AACA,cAAIukB,aAAa,GAAG;AAAEnkB,kBAAM,EAAES,OAAO,CAACT;AAAlB,WAApB;AACA,cAAIoB,KAAK,GAAGxB,OAAO,CAAC6e,YAAR,CAAqBnB,UAArB,CAAZ;AACA,cAAIjc,GAAJ;;AACA,cAAI,CAACD,KAAL,EAAY;AACR,mBADQ,CACA;AACX;;AACD,cAAIqtB,QAAQ,IAAI,IAAhB,EAAsB;AAClBptB,eAAG,GAAGzB,OAAO,CAAC6e,YAAR,CAAqBgQ,QAArB,CAAN;;AACA,gBAAI,CAACptB,GAAL,EAAU;AAAE;AACR;AACH;AACJ;;AACD,cAAI,KAAKgrB,SAAT,EAAoB;AAChB,gBAAIgC,aAAa,GAAG,KAAKhC,SAAL,CAAexvB,KAAnC,CADgB,CAEhB;AACA;;AACA,gBAAI4D,OAAO,CAACT,MAAR,KAAmB,IAAvB,EAA6B;AACzBquB,2BAAa,GAAG3Q,sBAAsB,CAAC2Q,aAAD,CAAtC;AACH;;AACD,gBAAI7H,UAAU,GAAGtI,SAAS,CAACmQ,aAAa,CAACjtB,KAAf,EAAsBA,KAAtB,EAA6BxB,OAA7B,EAAsCa,OAAO,CAAC6tB,WAA9C,CAA1B;;AACA,gBAAIjtB,GAAJ,EAAS;AACL,kBAAIolB,QAAQ,GAAGvI,SAAS,CAACmQ,aAAa,CAAChtB,GAAf,EAAoBA,GAApB,EAAyBzB,OAAzB,EAAkCa,OAAO,CAAC6tB,WAA1C,CAAxB;;AACA,kBAAInrB,cAAc,CAACqjB,UAAD,EAAaC,QAAb,CAAlB,EAA0C;AACtC,qBAAKyH,MAAL,CAAY;AAAEnH,4BAAU,EAAEP,UAAd;AAA0BrC,+BAAa,EAAEA;AAAzC,iBAAZ;AACH,eAFD,MAGK;AACD,qBAAK+J,MAAL,CAAY;AAAE1H,4BAAU,EAAEA,UAAd;AAA0BC,0BAAQ,EAAEA,QAApC;AAA8CtC,+BAAa,EAAEA;AAA7D,iBAAZ;AACH;AACJ,aARD,MASK;AAAE;AACHA,2BAAa,CAACtH,MAAd,GAAuB,KAAvB;AACA,mBAAKqR,MAAL,CAAY;AAAEnH,0BAAU,EAAEP,UAAd;AAA0BrC,6BAAa,EAAEA;AAAzC,eAAZ;AACH;AACJ;AACJ,SArCD;;AAsCAgI,gBAAQ,CAACt8B,SAAT,CAAmB8+B,SAAnB,GAA+B,UAAUpD,UAAV,EAAsB;AACjD,cAAIC,KAAK,GAAG1pB,cAAc,CAACypB,UAAD,CAA1B;;AACA,cAAIC,KAAJ,EAAW;AAAE;AACT,iBAAK0C,MAAL,CAAY;AAAE1H,wBAAU,EAAEgF;AAAd,aAAZ;AACH;AACJ,SALD;;AAMAW,gBAAQ,CAACt8B,SAAT,CAAmB++B,OAAnB,GAA6B,UAAUrD,UAAV,EAAsB;AAC/C,cAAIC,KAAK,GAAG1pB,cAAc,CAACypB,UAAD,CAA1B;;AACA,cAAIC,KAAJ,EAAW;AAAE;AACT,iBAAK0C,MAAL,CAAY;AAAEzH,sBAAQ,EAAE+E;AAAZ,aAAZ;AACH;AACJ,SALD;;AAMAW,gBAAQ,CAACt8B,SAAT,CAAmBg/B,SAAnB,GAA+B,UAAUtD,UAAV,EAAsB;AACjD,cAAIC,KAAK,GAAG1pB,cAAc,CAACypB,UAAD,CAA1B;;AACA,cAAIC,KAAJ,EAAW;AAAE;AACT,iBAAK0C,MAAL,CAAY;AAAEnH,wBAAU,EAAEyE;AAAd,aAAZ;AACH;AACJ,SALD;;AAMAW,gBAAQ,CAACt8B,SAAT,CAAmBi/B,SAAnB,GAA+B,UAAU9uB,MAAV,EAAkBS,OAAlB,EAA2B;AACtD,cAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,mBAAO,GAAG,EAAV;AAAe;;AACzC,cAAI0jB,aAAa,GAAG;AAAEnkB,kBAAM,EAAEA;AAAV,WAApB;AACA,cAAIuuB,gBAAgB,GAAG9tB,OAAO,CAAC8tB,gBAA/B;;AACA,cAAIA,gBAAgB,IAAI,IAAxB,EAA8B;AAC1BA,4BAAgB,GAAG,KAAKR,QAAL,CAActtB,OAAd,CAAsBiQ,sBAAzC;AACH;;AACD,cAAI,KAAK0b,IAAL,CAAUpsB,MAAV,KAAqBA,MAAzB,EAAiC;AAC7BmkB,yBAAa,CAACtH,MAAd,GAAuB0R,gBAAvB;AACH;;AACD,eAAKL,MAAL,CAAY;AAAE/J,yBAAa,EAAEA;AAAjB,WAAZ;AACH,SAXD;;AAYAgI,gBAAQ,CAACt8B,SAAT,CAAmB0Y,WAAnB,GAAiC,UAAUwmB,WAAV,EAAuB;AACpD,cAAInvB,OAAO,GAAG,KAAKmuB,QAAL,CAAcnuB,OAA5B;AACA,cAAIgB,QAAQ,GAAG,KAAKyrB,SAApB;AACA,cAAIX,SAAS,GAAG3e,eAAe,CAACgiB,WAAD,CAA/B;;AACA,cAAI,KAAK3C,IAAL,CAAUvP,MAAd,EAAsB;AAClB,mBAAOjd,OAAO,CAAC2I,WAAR,CAAoB3H,QAAQ,CAAC/D,KAAT,CAAeuE,KAAnC,EAA0CR,QAAQ,CAAC/D,KAAT,CAAewE,GAAzD,EAA8DqqB,SAA9D,EAAyE;AAC5E5uB,4BAAc,EAAE8D,QAAQ,CAAC9D,cADmD;AAE5EC,0BAAY,EAAE6D,QAAQ,CAAC7D;AAFqD,aAAzE,CAAP;AAIH;;AACD,iBAAO6C,OAAO,CAAChP,MAAR,CAAegQ,QAAQ,CAAC/D,KAAT,CAAeuE,KAA9B,EAAqCsqB,SAArC,EAAgD;AACnDjO,qBAAS,EAAE7c,QAAQ,CAAC9D;AAD+B,WAAhD,CAAP;AAGH,SAbD;;AAcAqvB,gBAAQ,CAACt8B,SAAT,CAAmBq+B,MAAnB,GAA4B,UAAU/H,QAAV,EAAoB;AAC5C,cAAIvlB,QAAQ,GAAG,KAAKyrB,SAApB;;AACA,cAAIzrB,QAAJ,EAAc;AACV,gBAAIE,GAAG,GAAG,KAAKsrB,IAAf;AACA,gBAAI4C,SAAS,GAAG,KAAKjB,QAArB;AACA,gBAAIkB,YAAY,GAAGD,SAAS,CAAC/H,cAAV,GAA2B3mB,UAA9C;AACA,gBAAI4uB,cAAc,GAAG1V,iBAAiB,CAACyV,YAAD,EAAeruB,QAAQ,CAAC5D,UAAxB,CAAtC;AACA,gBAAIkpB,eAAe,GAAG;AAClB,kBAAI;AACAnb,uBAAO,EAAE,EADT;AAEA8P,6BAAa,EAAE,IAFf;AAGAC,gCAAgB,EAAE,IAHlB;AAIAU,2BAAW,EAAE,EAJb;AAKAR,uBAAO,EAAE,IALT;AAMAS,sBAAM,EAAE,EANR;AAOAL,+BAAe,EAAE,EAPjB;AAQAC,2BAAW,EAAE,EARb;AASAC,yBAAS,EAAE,EATX;AAUAnD,0BAAU,EAAE;AAVZ;AADc,aAAtB;AAcA+W,0BAAc,GAAGjJ,yBAAyB,CAACiJ,cAAD,EAAiBhJ,eAAjB,EAAkCC,QAAlC,EAA4C6I,SAA5C,CAA1C;AACA,gBAAIG,QAAQ,GAAG,IAAIhD,QAAJ,CAAa6C,SAAb,EAAwBluB,GAAxB,EAA6BF,QAA7B,CAAf,CApBU,CAoB6C;;AACvD,iBAAKwrB,IAAL,GAAY8C,cAAc,CAACxuB,IAAf,CAAoBI,GAAG,CAAClE,KAAxB,CAAZ;AACA,iBAAKyvB,SAAL,GAAiB6C,cAAc,CAACvuB,SAAf,CAAyBC,QAAQ,CAAC5D,UAAlC,CAAjB;AACAgyB,qBAAS,CAACj/B,QAAV,CAAmB;AACfC,kBAAI,EAAE,cADS;AAEfsQ,wBAAU,EAAE4uB;AAFG,aAAnB;AAIAF,qBAAS,CAAC3J,OAAV,CAAkBC,OAAlB,CAA0B,aAA1B,EAAyC;AACrC6J,sBAAQ,EAAEA,QAD2B;AAErCvC,mBAAK,EAAE,IAF8B;AAGrCC,2BAAa,EAAEK,cAAc,CAACgC,cAAD,EAAiBF,SAAjB,EAA4BpuB,QAA5B,CAHQ;AAIrCksB,oBAAM,EAAE,kBAAY;AAChBkC,yBAAS,CAACj/B,QAAV,CAAmB;AACfC,sBAAI,EAAE,cADS;AAEfsQ,4BAAU,EAAE2uB;AAFG,iBAAnB;AAIH;AAToC,aAAzC;AAWH;AACJ,SAzCD;;AA0CA9C,gBAAQ,CAACt8B,SAAT,CAAmBC,MAAnB,GAA4B,YAAY;AACpC,cAAIH,OAAO,GAAG,KAAKo+B,QAAnB;AACA,cAAIqB,OAAO,GAAGrC,eAAe,CAAC,IAAD,CAA7B;AACAp9B,iBAAO,CAACI,QAAR,CAAiB;AACbC,gBAAI,EAAE,eADO;AAEbsQ,sBAAU,EAAE8uB;AAFC,WAAjB;AAIAz/B,iBAAO,CAAC01B,OAAR,CAAgBC,OAAhB,CAAwB,aAAxB,EAAuC;AACnCsH,iBAAK,EAAE,IAD4B;AAEnCC,yBAAa,EAAE,EAFoB;AAGnCC,kBAAM,EAAE,kBAAY;AAChBn9B,qBAAO,CAACI,QAAR,CAAiB;AACbC,oBAAI,EAAE,cADO;AAEbsQ,0BAAU,EAAE8uB;AAFC,eAAjB;AAIH;AARkC,WAAvC;AAUH,SAjBD;;AAkBAh/B,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,QAA1C,EAAoD;AAChDS,aAAG,EAAE,eAAY;AACb,gBAAIL,QAAQ,GAAG,KAAKm8B,IAAL,CAAUn8B,QAAzB;;AACA,gBAAIA,QAAJ,EAAc;AACV,qBAAO,IAAIP,cAAJ,CAAmB,KAAKq+B,QAAxB,EAAkC,KAAKA,QAAL,CAAc9G,cAAd,GAA+BtP,YAA/B,CAA4C1nB,QAA5C,CAAlC,CAAP;AACH;;AACD,mBAAO,IAAP;AACH,WAP+C;AAQhDO,oBAAU,EAAE,KARoC;AAShDC,sBAAY,EAAE;AATkC,SAApD;AAWAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,OAA1C,EAAmD;AAC/CS,aAAG,EAAE,eAAY;AACb,mBAAO,KAAK+7B,SAAL,GACH,KAAK0B,QAAL,CAAcnuB,OAAd,CAAsBglB,MAAtB,CAA6B,KAAKyH,SAAL,CAAexvB,KAAf,CAAqBuE,KAAlD,CADG,GAEH,IAFJ;AAGH,WAL8C;AAM/C5Q,oBAAU,EAAE,KANmC;AAO/CC,sBAAY,EAAE;AAPiC,SAAnD;AASAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,KAA1C,EAAiD;AAC7CS,aAAG,EAAE,eAAY;AACb,mBAAQ,KAAK+7B,SAAL,IAAkB,KAAKD,IAAL,CAAUvP,MAA7B,GACH,KAAKkR,QAAL,CAAcnuB,OAAd,CAAsBglB,MAAtB,CAA6B,KAAKyH,SAAL,CAAexvB,KAAf,CAAqBwE,GAAlD,CADG,GAEH,IAFJ;AAGH,WAL4C;AAM7C7Q,oBAAU,EAAE,KANiC;AAO7CC,sBAAY,EAAE;AAP+B,SAAjD;AASAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,UAA1C,EAAsD;AAClDS,aAAG,EAAE,eAAY;AACb,gBAAIsQ,QAAQ,GAAG,KAAKyrB,SAApB;;AACA,gBAAIzrB,QAAJ,EAAc;AACV,qBAAO,KAAKmtB,QAAL,CAAcnuB,OAAd,CAAsBklB,SAAtB,CAAgClkB,QAAQ,CAAC/D,KAAT,CAAeuE,KAA/C,EAAsD;AACzDujB,wBAAQ,EAAE,KAAKyH,IAAL,CAAUpsB,MADqC;AAEzDyd,yBAAS,EAAE7c,QAAQ,CAAC9D;AAFqC,eAAtD,CAAP;AAIH;;AACD,mBAAO,EAAP;AACH,WAViD;AAWlDtM,oBAAU,EAAE,KAXsC;AAYlDC,sBAAY,EAAE;AAZoC,SAAtD;AAcAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,QAA1C,EAAoD;AAChDS,aAAG,EAAE,eAAY;AACb,gBAAIsQ,QAAQ,GAAG,KAAKyrB,SAApB;;AACA,gBAAIzrB,QAAQ,IAAI,KAAKwrB,IAAL,CAAUvP,MAA1B,EAAkC;AAC9B,qBAAO,KAAKkR,QAAL,CAAcnuB,OAAd,CAAsBklB,SAAtB,CAAgClkB,QAAQ,CAAC/D,KAAT,CAAewE,GAA/C,EAAoD;AACvDsjB,wBAAQ,EAAE,KAAKyH,IAAL,CAAUpsB,MADmC;AAEvDyd,yBAAS,EAAE7c,QAAQ,CAAC7D;AAFmC,eAApD,CAAP;AAIH;;AACD,mBAAO,EAAP;AACH,WAV+C;AAWhDvM,oBAAU,EAAE,KAXoC;AAYhDC,sBAAY,EAAE;AAZkC,SAApD;AAcAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,IAA1C,EAAgD;AAC5C;AACA;AACAS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAU77B,QAAjB;AAA4B,WAHH;AAI5CC,oBAAU,EAAE,KAJgC;AAK5CC,sBAAY,EAAE;AAL8B,SAAhD;AAOAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,SAA1C,EAAqD;AACjDS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUpS,OAAjB;AAA2B,WADG;AAEjDxpB,oBAAU,EAAE,KAFqC;AAGjDC,sBAAY,EAAE;AAHmC,SAArD;AAKAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,QAA1C,EAAoD;AAChDS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUpsB,MAAjB;AAA0B,WADG;AAEhDxP,oBAAU,EAAE,KAFoC;AAGhDC,sBAAY,EAAE;AAHkC,SAApD;AAKAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,OAA1C,EAAmD;AAC/CS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUjQ,KAAjB;AAAyB,WADG;AAE/C3rB,oBAAU,EAAE,KAFmC;AAG/CC,sBAAY,EAAE;AAHiC,SAAnD;AAKAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,KAA1C,EAAiD;AAC7CS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUz7B,GAAjB;AAAuB,WADG;AAE7CH,oBAAU,EAAE,KAFiC;AAG7CC,sBAAY,EAAE;AAH+B,SAAjD;AAKAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,SAA1C,EAAqD;AACjDS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUtP,EAAV,CAAa/R,OAAb,IAAwB,MAA/B;AAAwC,WADV,CACW;AADX;AAGjDva,oBAAU,EAAE,KAHqC;AAIjDC,sBAAY,EAAE;AAJmC,SAArD;AAMAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,eAA1C,EAA2D;AACvDS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUtP,EAAV,CAAajC,aAApB;AAAoC,WADA;AAEvDrqB,oBAAU,EAAE,KAF2C;AAGvDC,sBAAY,EAAE;AAHyC,SAA3D;AAKAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,kBAA1C,EAA8D;AAC1DS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUtP,EAAV,CAAahC,gBAApB;AAAuC,WADA;AAE1DtqB,oBAAU,EAAE,KAF8C;AAG1DC,sBAAY,EAAE;AAH4C,SAA9D;AAKAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,YAA1C,EAAwD;AACpDS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUtP,EAAV,CAAatB,WAAb,CAAyB,CAAzB,KAA+B,IAAtC;AAA6C,WADZ;AAEpDhrB,oBAAU,EAAE,KAFwC;AAGpDC,sBAAY,EAAE;AAHsC,SAAxD;AAKAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,SAA1C,EAAqD;AACjDS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUtP,EAAV,CAAa9B,OAApB;AAA8B,WADA;AAEjDxqB,oBAAU,EAAE,KAFqC;AAGjDC,sBAAY,EAAE;AAHmC,SAArD;AAKAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,OAA1C,EAAmD;AAC/CS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUtP,EAAV,CAAarB,MAAb,CAAoB,CAApB,KAA0B,IAAjC;AAAwC,WADZ;AAE/CjrB,oBAAU,EAAE,KAFmC;AAG/CC,sBAAY,EAAE;AAHiC,SAAnD;AAKAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,iBAA1C,EAA6D;AACzDS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUtP,EAAV,CAAa1B,eAApB;AAAsC,WADA;AAEzD5qB,oBAAU,EAAE,KAF6C;AAGzDC,sBAAY,EAAE;AAH2C,SAA7D;AAKAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,aAA1C,EAAyD;AACrDS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUtP,EAAV,CAAazB,WAApB;AAAkC,WADA;AAErD7qB,oBAAU,EAAE,KAFyC;AAGrDC,sBAAY,EAAE;AAHuC,SAAzD;AAKAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,WAA1C,EAAuD;AACnDS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUtP,EAAV,CAAaxB,SAApB;AAAgC,WADA;AAEnD9qB,oBAAU,EAAE,KAFuC;AAGnDC,sBAAY,EAAE;AAHqC,SAAvD;AAKAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,YAA1C,EAAwD;AACpD;AACAS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAUtP,EAAV,CAAa3E,UAApB;AAAiC,WAFA;AAGpD3nB,oBAAU,EAAE,KAHwC;AAIpDC,sBAAY,EAAE;AAJsC,SAAxD;AAMAL,cAAM,CAACC,cAAP,CAAsB87B,QAAQ,CAACt8B,SAA/B,EAA0C,eAA1C,EAA2D;AACvDS,aAAG,EAAE,eAAY;AAAE,mBAAO,KAAK87B,IAAL,CAAU9P,aAAjB;AAAiC,WADG;AAEvD9rB,oBAAU,EAAE,KAF2C;AAGvDC,sBAAY,EAAE;AAHyC,SAA3D;;AAKA07B,gBAAQ,CAACt8B,SAAT,CAAmBw/B,aAAnB,GAAmC,UAAU1D,QAAV,EAAoB;AACnD,cAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,oBAAQ,GAAG,EAAX;AAAgB;;AAC3C,cAAI7qB,GAAG,GAAG,KAAKsrB,IAAf;AACA,cAAItP,EAAE,GAAGhc,GAAG,CAACgc,EAAb;;AACA,cAAI9a,EAAE,GAAG,IAAT;AAAA,cAAe6iB,QAAQ,GAAG7iB,EAAE,CAAC6iB,QAA7B;AAAA,cAAuCE,MAAM,GAAG/iB,EAAE,CAAC+iB,MAAnD;;AACA,cAAIvlB,GAAG,GAAG,EAAV;;AACA,cAAIsB,GAAG,CAACqb,KAAR,EAAe;AACX3c,eAAG,CAAC2c,KAAJ,GAAYrb,GAAG,CAACqb,KAAhB;AACH;;AACD,cAAI0I,QAAJ,EAAc;AACVrlB,eAAG,CAAC4B,KAAJ,GAAYyjB,QAAZ;AACH;;AACD,cAAIE,MAAJ,EAAY;AACRvlB,eAAG,CAAC6B,GAAJ,GAAU0jB,MAAV;AACH;;AACD,cAAIjkB,GAAG,CAACvQ,QAAR,EAAkB;AACdiP,eAAG,CAAC0c,EAAJ,GAASpb,GAAG,CAACvQ,QAAb;AACH;;AACD,cAAIuQ,GAAG,CAACkZ,OAAR,EAAiB;AACbxa,eAAG,CAACwa,OAAJ,GAAclZ,GAAG,CAACkZ,OAAlB;AACH;;AACD,cAAIlZ,GAAG,CAACnQ,GAAR,EAAa;AACT6O,eAAG,CAAC7O,GAAJ,GAAUmQ,GAAG,CAACnQ,GAAd;AACH;;AACD,cAAImsB,EAAE,CAAC/R,OAAH,IAAc+R,EAAE,CAAC/R,OAAH,KAAe,MAAjC,EAAyC;AACrCvL,eAAG,CAACuL,OAAJ,GAAc+R,EAAE,CAAC/R,OAAjB;AACH,WA1BkD,CA2BnD;AACA;;;AACA,cAAI4gB,QAAQ,CAAC2D,aAAT,IAA0BxS,EAAE,CAAC1B,eAA7B,IAAgD0B,EAAE,CAAC1B,eAAH,KAAuB0B,EAAE,CAACzB,WAA9E,EAA2F;AACvF7b,eAAG,CAAC2b,KAAJ,GAAY2B,EAAE,CAAC1B,eAAf;AACH,WAFD,MAGK;AACD,gBAAI0B,EAAE,CAAC1B,eAAP,EAAwB;AACpB5b,iBAAG,CAAC4b,eAAJ,GAAsB0B,EAAE,CAAC1B,eAAzB;AACH;;AACD,gBAAI0B,EAAE,CAACzB,WAAP,EAAoB;AAChB7b,iBAAG,CAAC6b,WAAJ,GAAkByB,EAAE,CAACzB,WAArB;AACH;AACJ;;AACD,cAAIyB,EAAE,CAACxB,SAAP,EAAkB;AACd9b,eAAG,CAAC8b,SAAJ,GAAgBwB,EAAE,CAACxB,SAAnB;AACH;;AACD,cAAIwB,EAAE,CAAC3E,UAAH,CAAc9lB,MAAlB,EAA0B;AACtBmN,eAAG,CAAC2Y,UAAJ,GAAiB2E,EAAE,CAAC3E,UAApB;AACH;;AACD,cAAI/nB,MAAM,CAACuO,IAAP,CAAYmC,GAAG,CAACwb,aAAhB,EAA+BjqB,MAAnC,EAA2C;AACvC,gBAAIs5B,QAAQ,CAAC4D,qBAAb,EAAoC;AAChC,qEAAS/vB,GAAT,EAAcsB,GAAG,CAACwb,aAAlB;AACH,aAFD,MAGK;AACD9c,iBAAG,CAAC8c,aAAJ,GAAoBxb,GAAG,CAACwb,aAAxB;AACH;AACJ;;AACD,iBAAO9c,GAAP;AACH,SAvDD;;AAwDA2sB,gBAAQ,CAACt8B,SAAT,CAAmB2/B,MAAnB,GAA4B,YAAY;AACpC,iBAAO,KAAKH,aAAL,EAAP;AACH,SAFD;;AAGA,eAAOlD,QAAP;AACH,OAza6B,EAA9B;;AA0aA,eAASY,eAAT,CAAyBJ,QAAzB,EAAmC;AAC/B,YAAI3qB,EAAJ,EAAQisB,EAAR;;AACA,YAAIntB,GAAG,GAAG6rB,QAAQ,CAACP,IAAnB;AACA,YAAIxrB,QAAQ,GAAG+rB,QAAQ,CAACN,SAAxB;AACA,eAAO;AACH3rB,cAAI,GAAGsB,EAAE,GAAG,EAAL,EAASA,EAAE,CAAClB,GAAG,CAAClE,KAAL,CAAF,GAAgBkE,GAAzB,EAA8BkB,EAAjC,CADD;AAEHrB,mBAAS,EAAEC,QAAQ,IACZqtB,EAAE,GAAG,EAAL,EAASA,EAAE,CAACrtB,QAAQ,CAAC5D,UAAV,CAAF,GAA0B4D,QAAnC,EAA6CqtB,EADjC,IACuC;AAHvD,SAAP;AAKH;;AACD,eAASf,cAAT,CAAwB5sB,UAAxB,EAAoC3Q,OAApC,EAA6C8/B,eAA7C,EAA8D;AAC1D,YAAI/uB,IAAI,GAAGJ,UAAU,CAACI,IAAtB;AAAA,YAA4BC,SAAS,GAAGL,UAAU,CAACK,SAAnD;AACA,YAAI+uB,SAAS,GAAG,EAAhB;AACA,YAAIC,iBAAiB,GAAGF,eAAe,GAAGA,eAAe,CAACzyB,UAAnB,GAAgC,EAAvE;;AACA,aAAK,IAAIkf,EAAT,IAAevb,SAAf,EAA0B;AACtB,cAAIC,QAAQ,GAAGD,SAAS,CAACub,EAAD,CAAxB;AACA,cAAIpb,GAAG,GAAGJ,IAAI,CAACE,QAAQ,CAAChE,KAAV,CAAd;;AACA,cAAIgE,QAAQ,CAAC5D,UAAT,KAAwB2yB,iBAA5B,EAA+C;AAC3CD,qBAAS,CAACl9B,IAAV,CAAe,IAAI25B,QAAJ,CAAax8B,OAAb,EAAsBmR,GAAtB,EAA2BF,QAA3B,CAAf;AACH;AACJ;;AACD,eAAO8uB,SAAP;AACH;;AAED,UAAIE,sBAAsB,GAAG,EAA7B;;AACA,eAASC,sBAAT,CAAgCz8B,IAAhC,EAAsC08B,QAAtC,EAAgD;AAC5CF,8BAAsB,CAACx8B,IAAD,CAAtB,GAA+B08B,QAA/B;AACH;;AACD,eAASC,oBAAT,CAA8B38B,IAA9B,EAAoC;AAChC,eAAO,IAAIw8B,sBAAsB,CAACx8B,IAAD,CAA1B,EAAP;AACH;;AACD,UAAI48B,uBAAuB;AAAG;AAAe,kBAAY;AACrD,iBAASA,uBAAT,GAAmC,CAClC;;AACDA,+BAAuB,CAACngC,SAAxB,CAAkCyb,aAAlC,GAAkD,UAAUzR,CAAV,EAAa;AAC3D,iBAAOA,CAAC,CAACG,cAAF,EAAP;AACH,SAFD;;AAGAg2B,+BAAuB,CAACngC,SAAxB,CAAkC0b,cAAlC,GAAmD,UAAU1R,CAAV,EAAa;AAC5D,iBAAOA,CAAC,CAACI,WAAF,EAAP;AACH,SAFD;;AAGA+1B,+BAAuB,CAACngC,SAAxB,CAAkC2b,YAAlC,GAAiD,UAAU3R,CAAV,EAAa;AAC1D,iBAAOA,CAAC,CAACK,UAAF,EAAP;AACH,SAFD;;AAGA81B,+BAAuB,CAACngC,SAAxB,CAAkCogC,aAAlC,GAAkD,UAAUC,GAAV,EAAe;AAC7D,iBAAO33B,cAAc,CAAC23B,GAAD,CAArB;AACH,SAFD;;AAGAF,+BAAuB,CAACngC,SAAxB,CAAkCyc,aAAlC,GAAkD,UAAU5R,MAAV,EAAkB;AAChE,iBAAOpC,cAAc,CAACoC,MAAD,CAArB;AACH,SAFD;;AAGA,eAAOs1B,uBAAP;AACH,OAnB4C,EAA7C;;AAoBAH,4BAAsB,CAAC,SAAD,EAAYG,uBAAZ,CAAtB;AAEA,UAAIG,MAAM,GAAG,mHAAb;;AACA,eAASpwB,KAAT,CAAeqwB,GAAf,EAAoB;AAChB,YAAI/3B,CAAC,GAAG83B,MAAM,CAAChuB,IAAP,CAAYiuB,GAAZ,CAAR;;AACA,YAAI/3B,CAAJ,EAAO;AACH,cAAIqC,MAAM,GAAG,IAAI0B,IAAJ,CAASA,IAAI,CAACG,GAAL,CAASyS,MAAM,CAAC3W,CAAC,CAAC,CAAD,CAAF,CAAf,EAAuBA,CAAC,CAAC,CAAD,CAAD,GAAO2W,MAAM,CAAC3W,CAAC,CAAC,CAAD,CAAF,CAAN,GAAe,CAAtB,GAA0B,CAAjD,EAAoD2W,MAAM,CAAC3W,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAT,CAA1D,EAAuE2W,MAAM,CAAC3W,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAT,CAA7E,EAA0F2W,MAAM,CAAC3W,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAT,CAAhG,EAA6G2W,MAAM,CAAC3W,CAAC,CAAC,EAAD,CAAD,IAAS,CAAV,CAAnH,EAAiIA,CAAC,CAAC,EAAD,CAAD,GAAQ2W,MAAM,CAAC,OAAO3W,CAAC,CAAC,EAAD,CAAT,CAAN,GAAuB,IAA/B,GAAsC,CAAvK,CAAT,CAAb;;AACA,cAAIoE,WAAW,CAAC/B,MAAD,CAAf,EAAyB;AACrB,gBAAI8J,cAAc,GAAG,IAArB;;AACA,gBAAInM,CAAC,CAAC,EAAD,CAAL,EAAW;AACPmM,4BAAc,GAAG,CAACnM,CAAC,CAAC,EAAD,CAAD,KAAU,GAAV,GAAgB,CAAC,CAAjB,GAAqB,CAAtB,KAA4B2W,MAAM,CAAC3W,CAAC,CAAC,EAAD,CAAD,IAAS,CAAV,CAAN,GAAqB,EAArB,GACzC2W,MAAM,CAAC3W,CAAC,CAAC,EAAD,CAAD,IAAS,CAAV,CADO,CAAjB;AAEH;;AACD,mBAAO;AACHqC,oBAAM,EAAEA,MADL;AAEH8iB,+BAAiB,EAAE,CAACnlB,CAAC,CAAC,CAAD,CAFlB;AAGHmM,4BAAc,EAAEA;AAHb,aAAP;AAKH;AACJ;;AACD,eAAO,IAAP;AACH;;AAED,UAAI6rB,OAAO;AAAG;AAAe,kBAAY;AACrC,iBAASA,OAAT,CAAiB1E,QAAjB,EAA2B;AACvB,cAAI1hB,QAAQ,GAAG,KAAKA,QAAL,GAAgB0hB,QAAQ,CAAC1hB,QAAxC;AACA,cAAIqmB,eAAe,GAAGrmB,QAAQ,KAAK,OAAb,IAAwBA,QAAQ,KAAK,KAA3D;;AACA,cAAI0hB,QAAQ,CAAC4E,iBAAT,IAA8BD,eAAlC,EAAmD;AAC/C,iBAAKC,iBAAL,GAAyB,IAAI5E,QAAQ,CAAC4E,iBAAb,CAA+BtmB,QAA/B,CAAzB;AACH;;AACD,eAAKumB,gBAAL,GAAwBriB,OAAO,CAAC,CAACmiB,eAAD,IAAoB,KAAKC,iBAA1B,CAA/B;AACA,eAAK5nB,cAAL,GAAsBonB,oBAAoB,CAACpE,QAAQ,CAAChjB,cAAV,CAA1C;AACA,eAAKmB,MAAL,GAAc6hB,QAAQ,CAAC7hB,MAAvB;AACA,eAAK2mB,OAAL,GAAe9E,QAAQ,CAAC7hB,MAAT,CAAgB7G,IAAhB,CAAqBtI,GAApC;AACA,eAAK+1B,OAAL,GAAe/E,QAAQ,CAAC7hB,MAAT,CAAgB7G,IAAhB,CAAqBrI,GAApC;;AACA,cAAI+wB,QAAQ,CAACzc,qBAAT,KAAmC,KAAvC,EAA8C;AAC1C,iBAAKuhB,OAAL,GAAe,CAAf;AACA,iBAAKC,OAAL,GAAe,CAAf;AACH;;AACD,cAAI,OAAO/E,QAAQ,CAACtW,QAAhB,KAA6B,QAAjC,EAA2C;AACvC,iBAAKob,OAAL,GAAe9E,QAAQ,CAACtW,QAAxB;AACH;;AACD,cAAI,OAAOsW,QAAQ,CAACzc,qBAAhB,KAA0C,UAA9C,EAA0D;AACtD,iBAAKyhB,cAAL,GAAsBhF,QAAQ,CAACzc,qBAA/B;AACH;;AACD,eAAKrF,QAAL,GAAgB8hB,QAAQ,CAAC9hB,QAAT,IAAqB,IAArB,GAA4B8hB,QAAQ,CAAC9hB,QAArC,GAAgD8hB,QAAQ,CAAC7hB,MAAT,CAAgBrJ,OAAhB,CAAwBoJ,QAAxF;AACA,eAAKgD,YAAL,GAAoB8e,QAAQ,CAAC9e,YAA7B;AACA,eAAKvD,gBAAL,GAAwBqiB,QAAQ,CAACriB,gBAAjC;AACH,SAzBoC,CA0BrC;;;AACA+mB,eAAO,CAACxgC,SAAR,CAAkB4uB,YAAlB,GAAiC,UAAU5oB,KAAV,EAAiB;AAC9C,cAAInF,IAAI,GAAG,KAAK6sB,gBAAL,CAAsB1nB,KAAtB,CAAX;;AACA,cAAInF,IAAI,KAAK,IAAb,EAAmB;AACf,mBAAO,IAAP;AACH;;AACD,iBAAOA,IAAI,CAACgK,MAAZ;AACH,SAND;;AAOA21B,eAAO,CAACxgC,SAAR,CAAkBk5B,eAAlB,GAAoC,YAAY;AAC5C,cAAI,KAAKyH,gBAAT,EAA2B;AACvB,mBAAO,KAAKI,iBAAL,CAAuB,IAAIx0B,IAAJ,GAAWtD,OAAX,EAAvB,CAAP;AACH,WAH2C,CAI5C;AACA;;;AACA,iBAAOP,cAAc,CAACmD,gBAAgB,CAAC,IAAIU,IAAJ,EAAD,CAAjB,CAArB;AACH,SAPD;;AAQAi0B,eAAO,CAACxgC,SAAR,CAAkB0tB,gBAAlB,GAAqC,UAAU1nB,KAAV,EAAiB;AAClD,cAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,mBAAO,KAAKkK,KAAL,CAAWlK,KAAX,CAAP;AACH;;AACD,cAAI6E,MAAM,GAAG,IAAb;;AACA,cAAI,OAAO7E,KAAP,KAAiB,QAArB,EAA+B;AAC3B6E,kBAAM,GAAG,KAAKk2B,iBAAL,CAAuB/6B,KAAvB,CAAT;AACH,WAFD,MAGK,IAAIA,KAAK,YAAYuG,IAArB,EAA2B;AAC5BvG,iBAAK,GAAGA,KAAK,CAACiD,OAAN,EAAR;;AACA,gBAAI,CAAC4D,KAAK,CAAC7G,KAAD,CAAV,EAAmB;AACf6E,oBAAM,GAAG,KAAKk2B,iBAAL,CAAuB/6B,KAAvB,CAAT;AACH;AACJ,WALI,MAMA,IAAIK,KAAK,CAACC,OAAN,CAAcN,KAAd,CAAJ,EAA0B;AAC3B6E,kBAAM,GAAGnC,cAAc,CAAC1C,KAAD,CAAvB;AACH;;AACD,cAAI6E,MAAM,KAAK,IAAX,IAAmB,CAAC+B,WAAW,CAAC/B,MAAD,CAAnC,EAA6C;AACzC,mBAAO,IAAP;AACH;;AACD,iBAAO;AAAEA,kBAAM,EAAEA,MAAV;AAAkB8iB,6BAAiB,EAAE,KAArC;AAA4CC,qBAAS,EAAE;AAAvD,WAAP;AACH,SArBD;;AAsBA4S,eAAO,CAACxgC,SAAR,CAAkBkQ,KAAlB,GAA0B,UAAUzI,CAAV,EAAa;AACnC,cAAI0T,KAAK,GAAGjL,KAAK,CAACzI,CAAD,CAAjB;;AACA,cAAI0T,KAAK,KAAK,IAAd,EAAoB;AAChB,mBAAO,IAAP;AACH;;AACD,cAAItQ,MAAM,GAAGsQ,KAAK,CAACtQ,MAAnB;AACA,cAAI+iB,SAAS,GAAG,IAAhB;;AACA,cAAIzS,KAAK,CAACxG,cAAN,KAAyB,IAA7B,EAAmC;AAC/B,gBAAI,KAAKgsB,gBAAT,EAA2B;AACvB91B,oBAAM,GAAG,KAAKk2B,iBAAL,CAAuBl2B,MAAM,CAAC5B,OAAP,KAAmBkS,KAAK,CAACxG,cAAN,GAAuB,EAAvB,GAA4B,IAAtE,CAAT;AACH,aAFD,MAGK;AACDiZ,uBAAS,GAAGzS,KAAK,CAACxG,cAAlB;AACH;AACJ;;AACD,iBAAO;AAAE9J,kBAAM,EAAEA,MAAV;AAAkB8iB,6BAAiB,EAAExS,KAAK,CAACwS,iBAA3C;AAA8DC,qBAAS,EAAEA;AAAzE,WAAP;AACH,SAhBD,CAhEqC,CAiFrC;;;AACA4S,eAAO,CAACxgC,SAAR,CAAkBghC,OAAlB,GAA4B,UAAUn2B,MAAV,EAAkB;AAC1C,iBAAO,KAAKiO,cAAL,CAAoB2C,aAApB,CAAkC5Q,MAAlC,CAAP;AACH,SAFD;;AAGA21B,eAAO,CAACxgC,SAAR,CAAkBgM,QAAlB,GAA6B,UAAUnB,MAAV,EAAkB;AAC3C,iBAAO,KAAKiO,cAAL,CAAoB4C,cAApB,CAAmC7Q,MAAnC,CAAP;AACH,SAFD,CArFqC,CAwFrC;;;AACA21B,eAAO,CAACxgC,SAAR,CAAkByF,GAAlB,GAAwB,UAAUoF,MAAV,EAAkB6I,GAAlB,EAAuB;AAC3C,cAAItM,CAAC,GAAG,KAAK0R,cAAL,CAAoB2D,aAApB,CAAkC5R,MAAlC,CAAR;AACAzD,WAAC,CAAC,CAAD,CAAD,IAAQsM,GAAG,CAACjK,KAAZ;AACArC,WAAC,CAAC,CAAD,CAAD,IAAQsM,GAAG,CAAChK,MAAZ;AACAtC,WAAC,CAAC,CAAD,CAAD,IAAQsM,GAAG,CAAC/J,IAAZ;AACAvC,WAAC,CAAC,CAAD,CAAD,IAAQsM,GAAG,CAAC5J,YAAZ;AACA,iBAAO,KAAKgP,cAAL,CAAoBsnB,aAApB,CAAkCh5B,CAAlC,CAAP;AACH,SAPD;;AAQAo5B,eAAO,CAACxgC,SAAR,CAAkB6R,QAAlB,GAA6B,UAAUhH,MAAV,EAAkB6I,GAAlB,EAAuB;AAChD,cAAItM,CAAC,GAAG,KAAK0R,cAAL,CAAoB2D,aAApB,CAAkC5R,MAAlC,CAAR;AACAzD,WAAC,CAAC,CAAD,CAAD,IAAQsM,GAAG,CAACjK,KAAZ;AACArC,WAAC,CAAC,CAAD,CAAD,IAAQsM,GAAG,CAAChK,MAAZ;AACAtC,WAAC,CAAC,CAAD,CAAD,IAAQsM,GAAG,CAAC/J,IAAZ;AACAvC,WAAC,CAAC,CAAD,CAAD,IAAQsM,GAAG,CAAC5J,YAAZ;AACA,iBAAO,KAAKgP,cAAL,CAAoBsnB,aAApB,CAAkCh5B,CAAlC,CAAP;AACH,SAPD;;AAQAo5B,eAAO,CAACxgC,SAAR,CAAkBm7B,QAAlB,GAA6B,UAAUtwB,MAAV,EAAkBhD,CAAlB,EAAqB;AAC9C,cAAIT,CAAC,GAAG,KAAK0R,cAAL,CAAoB2D,aAApB,CAAkC5R,MAAlC,CAAR;AACAzD,WAAC,CAAC,CAAD,CAAD,IAAQS,CAAR;AACA,iBAAO,KAAKiR,cAAL,CAAoBsnB,aAApB,CAAkCh5B,CAAlC,CAAP;AACH,SAJD;;AAKAo5B,eAAO,CAACxgC,SAAR,CAAkBihC,SAAlB,GAA8B,UAAUp2B,MAAV,EAAkBhD,CAAlB,EAAqB;AAC/C,cAAIT,CAAC,GAAG,KAAK0R,cAAL,CAAoB2D,aAApB,CAAkC5R,MAAlC,CAAR;AACAzD,WAAC,CAAC,CAAD,CAAD,IAAQS,CAAR;AACA,iBAAO,KAAKiR,cAAL,CAAoBsnB,aAApB,CAAkCh5B,CAAlC,CAAP;AACH,SAJD,CA9GqC,CAmHrC;;;AACAo5B,eAAO,CAACxgC,SAAR,CAAkByuB,cAAlB,GAAmC,UAAU3lB,EAAV,EAAcC,EAAd,EAAkB;AACjD,cAAI+P,cAAc,GAAG,KAAKA,cAA1B;;AACA,cAAI5O,QAAQ,CAACpB,EAAD,CAAR,KAAiBoB,QAAQ,CAACnB,EAAD,CAAzB,IACA+P,cAAc,CAAC6C,YAAf,CAA4B7S,EAA5B,MAAoCgQ,cAAc,CAAC6C,YAAf,CAA4B5S,EAA5B,CADpC,IAEA+P,cAAc,CAAC4C,cAAf,CAA8B5S,EAA9B,MAAsCgQ,cAAc,CAAC4C,cAAf,CAA8B3S,EAA9B,CAF1C,EAE6E;AACzE,mBAAO+P,cAAc,CAAC2C,aAAf,CAA6B1S,EAA7B,IAAmC+P,cAAc,CAAC2C,aAAf,CAA6B3S,EAA7B,CAA1C;AACH;;AACD,iBAAO,IAAP;AACH,SARD;;AASA03B,eAAO,CAACxgC,SAAR,CAAkB0uB,eAAlB,GAAoC,UAAU5lB,EAAV,EAAcC,EAAd,EAAkB;AAClD,cAAI+P,cAAc,GAAG,KAAKA,cAA1B;;AACA,cAAI5O,QAAQ,CAACpB,EAAD,CAAR,KAAiBoB,QAAQ,CAACnB,EAAD,CAAzB,IACA+P,cAAc,CAAC6C,YAAf,CAA4B7S,EAA5B,MAAoCgQ,cAAc,CAAC6C,YAAf,CAA4B5S,EAA5B,CADxC,EACyE;AACrE,mBAAQ+P,cAAc,CAAC4C,cAAf,CAA8B3S,EAA9B,IAAoC+P,cAAc,CAAC4C,cAAf,CAA8B5S,EAA9B,CAArC,GACH,CAACgQ,cAAc,CAAC2C,aAAf,CAA6B1S,EAA7B,IAAmC+P,cAAc,CAAC2C,aAAf,CAA6B3S,EAA7B,CAApC,IAAwE,EAD5E;AAEH;;AACD,iBAAO,IAAP;AACH,SARD,CA7HqC,CAsIrC;;;AACA03B,eAAO,CAACxgC,SAAR,CAAkBkhC,iBAAlB,GAAsC,UAAUp4B,EAAV,EAAcC,EAAd,EAAkB;AACpD,cAAIlB,CAAC,GAAG,KAAK4mB,cAAL,CAAoB3lB,EAApB,EAAwBC,EAAxB,CAAR;;AACA,cAAIlB,CAAC,KAAK,IAAV,EAAgB;AACZ,mBAAO;AAAEqK,kBAAI,EAAE,MAAR;AAAgBuC,mBAAK,EAAE5M;AAAvB,aAAP;AACH;;AACDA,WAAC,GAAG,KAAK6mB,eAAL,CAAqB5lB,EAArB,EAAyBC,EAAzB,CAAJ;;AACA,cAAIlB,CAAC,KAAK,IAAV,EAAgB;AACZ,mBAAO;AAAEqK,kBAAI,EAAE,OAAR;AAAiBuC,mBAAK,EAAE5M;AAAxB,aAAP;AACH;;AACDA,WAAC,GAAGkC,cAAc,CAACjB,EAAD,EAAKC,EAAL,CAAlB;;AACA,cAAIlB,CAAC,KAAK,IAAV,EAAgB;AACZ,mBAAO;AAAEqK,kBAAI,EAAE,MAAR;AAAgBuC,mBAAK,EAAE5M;AAAvB,aAAP;AACH;;AACDA,WAAC,GAAGoC,aAAa,CAACnB,EAAD,EAAKC,EAAL,CAAjB;;AACA,cAAIlB,CAAC,KAAK,IAAV,EAAgB;AACZ,mBAAO;AAAEqK,kBAAI,EAAE,KAAR;AAAeuC,mBAAK,EAAE5M;AAAtB,aAAP;AACH;;AACDA,WAAC,GAAGqB,SAAS,CAACJ,EAAD,EAAKC,EAAL,CAAb;;AACA,cAAInB,KAAK,CAACC,CAAD,CAAT,EAAc;AACV,mBAAO;AAAEqK,kBAAI,EAAE,MAAR;AAAgBuC,mBAAK,EAAE5M;AAAvB,aAAP;AACH;;AACDA,WAAC,GAAGsB,WAAW,CAACL,EAAD,EAAKC,EAAL,CAAf;;AACA,cAAInB,KAAK,CAACC,CAAD,CAAT,EAAc;AACV,mBAAO;AAAEqK,kBAAI,EAAE,QAAR;AAAkBuC,mBAAK,EAAE5M;AAAzB,aAAP;AACH;;AACDA,WAAC,GAAGuB,WAAW,CAACN,EAAD,EAAKC,EAAL,CAAf;;AACA,cAAInB,KAAK,CAACC,CAAD,CAAT,EAAc;AACV,mBAAO;AAAEqK,kBAAI,EAAE,QAAR;AAAkBuC,mBAAK,EAAE5M;AAAzB,aAAP;AACH;;AACD,iBAAO;AAAEqK,gBAAI,EAAE,aAAR;AAAuBuC,iBAAK,EAAE1L,EAAE,CAACE,OAAH,KAAeH,EAAE,CAACG,OAAH;AAA7C,WAAP;AACH,SA9BD;;AA+BAu3B,eAAO,CAACxgC,SAAR,CAAkBmhC,qBAAlB,GAA0C,UAAUr4B,EAAV,EAAcC,EAAd,EAAkBiB,CAAlB,EAAqB;AAC3D;AACA,cAAIo3B,IAAJ;;AACA,cAAIp3B,CAAC,CAACP,KAAN,EAAa;AACT23B,gBAAI,GAAG,KAAK3S,cAAL,CAAoB3lB,EAApB,EAAwBC,EAAxB,CAAP;;AACA,gBAAIq4B,IAAI,KAAK,IAAb,EAAmB;AACf,qBAAOA,IAAI,GAAGttB,YAAY,CAAC9J,CAAD,CAA1B;AACH;AACJ;;AACD,cAAIA,CAAC,CAACN,MAAN,EAAc;AACV03B,gBAAI,GAAG,KAAK1S,eAAL,CAAqB5lB,EAArB,EAAyBC,EAAzB,CAAP;;AACA,gBAAIq4B,IAAI,KAAK,IAAb,EAAmB;AACf,qBAAOA,IAAI,GAAGptB,aAAa,CAAChK,CAAD,CAA3B;AACH;AACJ;;AACD,cAAIA,CAAC,CAACL,IAAN,EAAY;AACRy3B,gBAAI,GAAGn3B,aAAa,CAACnB,EAAD,EAAKC,EAAL,CAApB;;AACA,gBAAIq4B,IAAI,KAAK,IAAb,EAAmB;AACf,qBAAOA,IAAI,GAAGrtB,WAAW,CAAC/J,CAAD,CAAzB;AACH;AACJ;;AACD,iBAAO,CAACjB,EAAE,CAACE,OAAH,KAAeH,EAAE,CAACG,OAAH,EAAhB,IAAgCgL,SAAS,CAACjK,CAAD,CAAhD;AACH,SAtBD,CAtKqC,CA6LrC;AACA;;;AACAw2B,eAAO,CAACxgC,SAAR,CAAkBqhC,OAAlB,GAA4B,UAAU74B,CAAV,EAAa0J,IAAb,EAAmB;AAC3C,cAAIA,IAAI,KAAK,MAAb,EAAqB;AACjB,mBAAO,KAAKovB,WAAL,CAAiB94B,CAAjB,CAAP;AACH;;AACD,cAAI0J,IAAI,KAAK,OAAb,EAAsB;AAClB,mBAAO,KAAKqvB,YAAL,CAAkB/4B,CAAlB,CAAP;AACH;;AACD,cAAI0J,IAAI,KAAK,MAAb,EAAqB;AACjB,mBAAO,KAAKsvB,WAAL,CAAiBh5B,CAAjB,CAAP;AACH;;AACD,cAAI0J,IAAI,KAAK,KAAb,EAAoB;AAChB,mBAAO3I,UAAU,CAACf,CAAD,CAAjB;AACH;;AACD,cAAI0J,IAAI,KAAK,MAAb,EAAqB;AACjB,mBAAO5H,WAAW,CAAC9B,CAAD,CAAlB;AACH;;AACD,cAAI0J,IAAI,KAAK,QAAb,EAAuB;AACnB,mBAAO1H,aAAa,CAAChC,CAAD,CAApB;AACH;;AACD,cAAI0J,IAAI,KAAK,QAAb,EAAuB;AACnB,mBAAOxH,aAAa,CAAClC,CAAD,CAApB;AACH;;AACD,iBAAO,IAAP;AACH,SAvBD;;AAwBAg4B,eAAO,CAACxgC,SAAR,CAAkBshC,WAAlB,GAAgC,UAAU94B,CAAV,EAAa;AACzC,iBAAO,KAAKsQ,cAAL,CAAoBsnB,aAApB,CAAkC,CACrC,KAAKtnB,cAAL,CAAoB2C,aAApB,CAAkCjT,CAAlC,CADqC,CAAlC,CAAP;AAGH,SAJD;;AAKAg4B,eAAO,CAACxgC,SAAR,CAAkBuhC,YAAlB,GAAiC,UAAU/4B,CAAV,EAAa;AAC1C,iBAAO,KAAKsQ,cAAL,CAAoBsnB,aAApB,CAAkC,CACrC,KAAKtnB,cAAL,CAAoB2C,aAApB,CAAkCjT,CAAlC,CADqC,EAErC,KAAKsQ,cAAL,CAAoB4C,cAApB,CAAmClT,CAAnC,CAFqC,CAAlC,CAAP;AAIH,SALD;;AAMAg4B,eAAO,CAACxgC,SAAR,CAAkBwhC,WAAlB,GAAgC,UAAUh5B,CAAV,EAAa;AACzC,iBAAO,KAAKsQ,cAAL,CAAoBsnB,aAApB,CAAkC,CACrC,KAAKtnB,cAAL,CAAoB2C,aAApB,CAAkCjT,CAAlC,CADqC,EAErC,KAAKsQ,cAAL,CAAoB4C,cAApB,CAAmClT,CAAnC,CAFqC,EAGrCA,CAAC,CAAC6B,UAAF,KAAkB,CAAC7B,CAAC,CAACoD,SAAF,KAAgB,KAAKg1B,OAArB,GAA+B,CAAhC,IAAqC,CAHlB,CAAlC,CAAP;AAKH,SAND,CAlOqC,CAyOrC;;;AACAJ,eAAO,CAACxgC,SAAR,CAAkB+Z,iBAAlB,GAAsC,UAAUlP,MAAV,EAAkB;AACpD,cAAI,KAAKi2B,cAAT,EAAyB;AACrB,mBAAO,KAAKA,cAAL,CAAoB,KAAK/L,MAAL,CAAYlqB,MAAZ,CAApB,CAAP;AACH;;AACD,iBAAOD,UAAU,CAACC,MAAD,EAAS,KAAK+1B,OAAd,EAAuB,KAAKC,OAA5B,CAAjB;AACH,SALD,CA1OqC,CAgPrC;;;AACAL,eAAO,CAACxgC,SAAR,CAAkBe,MAAlB,GAA2B,UAAU8J,MAAV,EAAkBgxB,SAAlB,EAA6B4F,WAA7B,EAA0C;AACjE,cAAIA,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAEA,uBAAW,GAAG,EAAd;AAAmB;;AACjD,iBAAO5F,SAAS,CAAC96B,MAAV,CAAiB;AACpB8J,kBAAM,EAAEA,MADY;AAEpB8J,0BAAc,EAAE8sB,WAAW,CAAC7T,SAAZ,IAAyB,IAAzB,GACZ6T,WAAW,CAAC7T,SADA,GAEZ,KAAK8T,eAAL,CAAqB72B,MAArB;AAJgB,WAAjB,EAKJ,IALI,CAAP;AAMH,SARD;;AASA21B,eAAO,CAACxgC,SAAR,CAAkB0Y,WAAlB,GAAgC,UAAUnH,KAAV,EAAiBC,GAAjB,EAAsBqqB,SAAtB,EAAiC4F,WAAjC,EAA8C;AAC1E,cAAIA,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAEA,uBAAW,GAAG,EAAd;AAAmB;;AACjD,cAAIA,WAAW,CAACE,cAAhB,EAAgC;AAC5BnwB,eAAG,GAAG5I,KAAK,CAAC4I,GAAD,EAAM,CAAC,CAAP,CAAX;AACH;;AACD,iBAAOqqB,SAAS,CAACnjB,WAAV,CAAsB;AACzB7N,kBAAM,EAAE0G,KADiB;AAEzBoD,0BAAc,EAAE8sB,WAAW,CAACx0B,cAAZ,IAA8B,IAA9B,GACZw0B,WAAW,CAACx0B,cADA,GAEZ,KAAKy0B,eAAL,CAAqBnwB,KAArB;AAJqB,WAAtB,EAKJ;AACC1G,kBAAM,EAAE2G,GADT;AAECmD,0BAAc,EAAE8sB,WAAW,CAACv0B,YAAZ,IAA4B,IAA5B,GACZu0B,WAAW,CAACv0B,YADA,GAEZ,KAAKw0B,eAAL,CAAqBlwB,GAArB;AAJL,WALI,EAUJ,IAVI,EAUEiwB,WAAW,CAAChoB,gBAVd,CAAP;AAWH,SAhBD;AAiBA;AACJ;AACA;AACA;;;AACI+mB,eAAO,CAACxgC,SAAR,CAAkBi1B,SAAlB,GAA8B,UAAUpqB,MAAV,EAAkB+2B,YAAlB,EAAgC;AAC1D,cAAIA,YAAY,KAAK,KAAK,CAA1B,EAA6B;AAAEA,wBAAY,GAAG,EAAf;AAAoB;;AACnD,cAAIjtB,cAAc,GAAG,IAArB;;AACA,cAAI,CAACitB,YAAY,CAACC,kBAAlB,EAAsC;AAClC,gBAAID,YAAY,CAAChU,SAAb,IAA0B,IAA9B,EAAoC;AAChCjZ,4BAAc,GAAGitB,YAAY,CAAChU,SAA9B;AACH,aAFD,MAGK;AACDjZ,4BAAc,GAAG,KAAK+sB,eAAL,CAAqB72B,MAArB,CAAjB;AACH;AACJ;;AACD,iBAAO6J,cAAc,CAAC7J,MAAD,EAAS8J,cAAT,EAAyBitB,YAAY,CAAC9M,QAAtC,CAArB;AACH,SAZD,CA/QqC,CA4RrC;;;AACA0L,eAAO,CAACxgC,SAAR,CAAkB+gC,iBAAlB,GAAsC,UAAU7tB,EAAV,EAAc;AAChD,cAAI,KAAKkH,QAAL,KAAkB,OAAtB,EAA+B;AAC3B,mBAAO1R,cAAc,CAACmD,gBAAgB,CAAC,IAAIU,IAAJ,CAAS2G,EAAT,CAAD,CAAjB,CAArB;AACH;;AACD,cAAI,KAAKkH,QAAL,KAAkB,KAAlB,IAA2B,CAAC,KAAKsmB,iBAArC,EAAwD;AACpD,mBAAO,IAAIn0B,IAAJ,CAAS2G,EAAT,CAAP;AACH;;AACD,iBAAOxK,cAAc,CAAC,KAAKg4B,iBAAL,CAAuBoB,gBAAvB,CAAwC5uB,EAAxC,CAAD,CAArB;AACH,SARD;;AASAstB,eAAO,CAACxgC,SAAR,CAAkB0hC,eAAlB,GAAoC,UAAUl5B,CAAV,EAAa;AAC7C,cAAI,KAAK4R,QAAL,KAAkB,OAAtB,EAA+B;AAC3B,mBAAO,CAAC9N,gBAAgB,CAAC7D,cAAc,CAACD,CAAD,CAAf,CAAhB,CAAoCu5B,iBAApC,EAAR,CAD2B,CACsC;AACpE;;AACD,cAAI,KAAK3nB,QAAL,KAAkB,KAAtB,EAA6B;AACzB,mBAAO,CAAP;AACH;;AACD,cAAI,KAAKsmB,iBAAT,EAA4B;AACxB,mBAAO,KAAKA,iBAAL,CAAuBsB,cAAvB,CAAsCv5B,cAAc,CAACD,CAAD,CAApD,CAAP;AACH;;AACD,iBAAO,IAAP;AACH,SAXD,CAtSqC,CAkTrC;;;AACAg4B,eAAO,CAACxgC,SAAR,CAAkB+0B,MAAlB,GAA2B,UAAUvsB,CAAV,EAAaolB,SAAb,EAAwB;AAC/C,cAAI,KAAKxT,QAAL,KAAkB,OAAtB,EAA+B;AAC3B,mBAAO9N,gBAAgB,CAAC7D,cAAc,CAACD,CAAD,CAAf,CAAvB;AACH;;AACD,cAAI,KAAK4R,QAAL,KAAkB,KAAtB,EAA6B;AACzB,mBAAO,IAAI7N,IAAJ,CAAS/D,CAAC,CAACS,OAAF,EAAT,CAAP,CADyB,CACK;AACjC;;AACD,cAAI,CAAC,KAAKy3B,iBAAV,EAA6B;AACzB,mBAAO,IAAIn0B,IAAJ,CAAS/D,CAAC,CAACS,OAAF,MAAe2kB,SAAS,IAAI,CAA5B,CAAT,CAAP;AACH;;AACD,iBAAO,IAAIrhB,IAAJ,CAAS/D,CAAC,CAACS,OAAF,KACZ,KAAKy3B,iBAAL,CAAuBsB,cAAvB,CAAsCv5B,cAAc,CAACD,CAAD,CAApD,IAA2D,IAA3D,GAAkE,EAD/D,CAAP;AAEH,SAZD;;AAaA,eAAOg4B,OAAP;AACH,OAjU4B,EAA7B;;AAmUA,UAAIyB,aAAa,GAAG,EAApB;AAEA,UAAIC,aAAa,GAAG;AAChBC,YAAI,EAAE,IADU;AAEhB/uB,YAAI,EAAE;AACFtI,aAAG,EAAE,CADH;AAEFC,aAAG,EAAE;AAFH,SAFU;AAMhBsQ,iBAAS,EAAE,KANK;AAOhBqM,kBAAU,EAAE;AACRsT,cAAI,EAAE,MADE;AAERC,cAAI,EAAE,MAFE;AAGRC,kBAAQ,EAAE,WAHF;AAIRE,kBAAQ,EAAE,WAJF;AAKR/vB,cAAI,EAAE,MALE;AAMRgwB,eAAK,EAAE,OANC;AAOR5oB,eAAK,EAAE,OAPC;AAQRW,cAAI,EAAE,MARE;AASRV,aAAG,EAAE,KATG;AAUR0vB,cAAI,EAAE;AAVE,SAPI;AAmBhBpoB,gBAAQ,EAAE,GAnBM;AAoBhBsK,kBAAU,EAAE,SApBI;AAqBhBS,oBAAY,EAAE,MArBE;AAsBhBmB,oBAAY,EAAE;AAtBE,OAApB;;AAwBA,eAASmc,kBAAT,CAA4BC,kBAA5B,EAAgD;AAC5C,YAAIC,WAAW,GAAGD,kBAAkB,CAAC9/B,MAAnB,GAA4B,CAA5B,GAAgC8/B,kBAAkB,CAAC,CAAD,CAAlB,CAAsBH,IAAtD,GAA6D,IAA/E;AACA,YAAIK,aAAa,GAAGP,aAAa,CAACx1B,MAAd,CAAqB61B,kBAArB,CAApB;AACA,YAAIG,YAAY,GAAG;AACfC,YAAE,EAAER;AADW,SAAnB;;AAGA,aAAK,IAAI7zB,EAAE,GAAG,CAAT,EAAYs0B,eAAe,GAAGH,aAAnC,EAAkDn0B,EAAE,GAAGs0B,eAAe,CAACngC,MAAvE,EAA+E6L,EAAE,EAAjF,EAAqF;AACjF,cAAIu0B,SAAS,GAAGD,eAAe,CAACt0B,EAAD,CAA/B;AACAo0B,sBAAY,CAACG,SAAS,CAACT,IAAX,CAAZ,GAA+BS,SAA/B;AACH;;AACD,eAAO;AACH9wB,aAAG,EAAE2wB,YADF;AAEHF,qBAAW,EAAEA;AAFV,SAAP;AAIH;;AACD,eAASM,WAAT,CAAqBC,aAArB,EAAoCC,SAApC,EAA+C;AAC3C,YAAI,OAAOD,aAAP,KAAyB,QAAzB,IAAqC,CAACz8B,KAAK,CAACC,OAAN,CAAcw8B,aAAd,CAA1C,EAAwE;AACpE,iBAAOE,WAAW,CAACF,aAAa,CAACX,IAAf,EAAqB,CAACW,aAAa,CAACX,IAAf,CAArB,EAA2CW,aAA3C,CAAlB;AACH;;AACD,eAAOG,WAAW,CAACH,aAAD,EAAgBC,SAAhB,CAAlB;AACH;;AACD,eAASE,WAAT,CAAqBC,OAArB,EAA8BH,SAA9B,EAAyC;AACrC,YAAIvoB,KAAK,GAAG,GAAG/N,MAAH,CAAUy2B,OAAO,IAAI,EAArB,CAAZ,CADqC,CACC;;AACtC,YAAIna,GAAG,GAAGoa,cAAc,CAAC3oB,KAAD,EAAQuoB,SAAR,CAAd,IAAoCb,aAA9C;AACA,eAAOc,WAAW,CAACE,OAAD,EAAU1oB,KAAV,EAAiBuO,GAAjB,CAAlB;AACH;;AACD,eAASoa,cAAT,CAAwB3oB,KAAxB,EAA+BuoB,SAA/B,EAA0C;AACtC,aAAK,IAAIxgC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiY,KAAK,CAAChY,MAA1B,EAAkCD,CAAC,IAAI,CAAvC,EAA0C;AACtC,cAAI4Y,KAAK,GAAGX,KAAK,CAACjY,CAAD,CAAL,CAASuY,iBAAT,GAA6B1U,KAA7B,CAAmC,GAAnC,CAAZ;;AACA,eAAK,IAAI1D,CAAC,GAAGyY,KAAK,CAAC3Y,MAAnB,EAA2BE,CAAC,GAAG,CAA/B,EAAkCA,CAAC,IAAI,CAAvC,EAA0C;AACtC,gBAAI0gC,QAAQ,GAAGjoB,KAAK,CAACkoB,KAAN,CAAY,CAAZ,EAAe3gC,CAAf,EAAkB6Y,IAAlB,CAAuB,GAAvB,CAAf;;AACA,gBAAIwnB,SAAS,CAACK,QAAD,CAAb,EAAyB;AACrB,qBAAOL,SAAS,CAACK,QAAD,CAAhB;AACH;AACJ;AACJ;;AACD,eAAO,IAAP;AACH;;AACD,eAASJ,WAAT,CAAqBE,OAArB,EAA8B1oB,KAA9B,EAAqCuO,GAArC,EAA0C;AACtC,YAAIua,MAAM,GAAGj2B,UAAU,CAAC,CAAC60B,aAAD,EAAgBnZ,GAAhB,CAAD,EAAuB,CAAC,YAAD,CAAvB,CAAvB;AACA,eAAOua,MAAM,CAACnB,IAAd,CAFsC,CAElB;;AACpB,YAAI/uB,IAAI,GAAGkwB,MAAM,CAAClwB,IAAlB;AACA,eAAOkwB,MAAM,CAAClwB,IAAd;AACA,eAAO;AACH8vB,iBAAO,EAAEA,OADN;AAEH1oB,eAAK,EAAEA,KAFJ;AAGHpH,cAAI,EAAEA,IAHH;AAIHgI,4BAAkB,EAAE,IAAId,IAAI,CAACipB,YAAT,CAAsBL,OAAtB,CAJjB;AAKHtyB,iBAAO,EAAE0yB;AALN,SAAP;AAOH;;AAED,eAAS1H,UAAT,CAAoB4H,SAApB,EAA+B5yB,OAA/B,EAAwC;AACpC,YAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,iBAAO,GAAG,EAAV;AAAe;;AACzC,YAAIb,OAAO,GAAG0zB,YAAY,CAAC7yB,OAAD,CAA1B;AACA,YAAIirB,SAAS,GAAG3e,eAAe,CAACtM,OAAD,CAA/B;AACA,YAAI8yB,QAAQ,GAAG3zB,OAAO,CAAC2d,gBAAR,CAAyB8V,SAAzB,CAAf;;AACA,YAAI,CAACE,QAAL,EAAe;AAAE;AACb,iBAAO,EAAP;AACH;;AACD,eAAO3zB,OAAO,CAAChP,MAAR,CAAe2iC,QAAQ,CAAC74B,MAAxB,EAAgCgxB,SAAhC,EAA2C;AAC9CjO,mBAAS,EAAE8V,QAAQ,CAAC9V;AAD0B,SAA3C,CAAP;AAGH;;AACD,eAASlV,WAAT,CAAqB+U,UAArB,EAAiCmR,QAAjC,EAA2ChuB,OAA3C,EAAoD;AAChD,YAAIb,OAAO,GAAG0zB,YAAY,CAAC,OAAO7yB,OAAP,KAAmB,QAAnB,IAA+BA,OAA/B,GAAyCA,OAAzC,GAAmD,EAApD,CAA1B,CADgD,CACmC;;AACnF,YAAIirB,SAAS,GAAG3e,eAAe,CAACtM,OAAD,CAA/B;AACA,YAAIyc,SAAS,GAAGtd,OAAO,CAAC2d,gBAAR,CAAyBD,UAAzB,CAAhB;AACA,YAAIF,OAAO,GAAGxd,OAAO,CAAC2d,gBAAR,CAAyBkR,QAAzB,CAAd;;AACA,YAAI,CAACvR,SAAD,IAAc,CAACE,OAAnB,EAA4B;AAAE;AAC1B,iBAAO,EAAP;AACH;;AACD,eAAOxd,OAAO,CAAC2I,WAAR,CAAoB2U,SAAS,CAACxiB,MAA9B,EAAsC0iB,OAAO,CAAC1iB,MAA9C,EAAsDgxB,SAAtD,EAAiE;AACpE5uB,wBAAc,EAAEogB,SAAS,CAACO,SAD0C;AAEpE1gB,sBAAY,EAAEqgB,OAAO,CAACK,SAF8C;AAGpE+T,wBAAc,EAAE/wB,OAAO,CAAC+wB,cAH4C;AAIpEloB,0BAAgB,EAAE0M,oBAAoB,CAAChI;AAJ6B,SAAjE,CAAP;AAMH,O,CACD;;;AACA,eAASslB,YAAT,CAAsB3H,QAAtB,EAAgC;AAC5B,YAAI7hB,MAAM,GAAG4oB,WAAW,CAAC/G,QAAQ,CAAC7hB,MAAT,IAAmB,IAApB,EAA0BooB,kBAAkB,CAAC,EAAD,CAAlB,CAAuBvwB,GAAjD,CAAxB,CAD4B,CACmD;;AAC/E,eAAO,IAAI0uB,OAAJ,CAAY,uDAAS,uDAAS;AAAEpmB,kBAAQ,EAAE+L,oBAAoB,CAAC/L,QAAjC;AAA2CtB,wBAAc,EAAE;AAA3D,SAAT,EAAiFgjB,QAAjF,CAAT,EAAqG;AAAE7hB,gBAAM,EAAEA;AAAV,SAArG,CAAZ,CAAP;AACH;;AAED,UAAI0pB,YAAY,GAAG;AACfC,iBAAS,EAAE,OADI;AAEfC,eAAO,EAAE,OAFM;AAGfC,kBAAU,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAHG;AAIf5oB,eAAO,EAAE,oBAJM;AAKfoN,kBAAU,EAAE,iBALG;AAMf6B,eAAO,EAAE;AANM,OAAnB;AAQA;AACA;AACA;;AACA,eAAS4Z,kBAAT,CAA4B/9B,KAA5B,EAAmClG,OAAnC,EAA4C;AACxC,eAAOkpB,WAAW,CAACgb,YAAY,CAACh+B,KAAD,CAAb,EAAsB,IAAtB,EAA4BlG,OAA5B,CAAlB;AACH;;AACD,eAASkkC,YAAT,CAAsBh+B,KAAtB,EAA6B;AACzB,YAAIi+B,OAAJ;;AACA,YAAIj+B,KAAK,KAAK,IAAd,EAAoB;AAChBi+B,iBAAO,GAAG,CAAC,EAAD,CAAV,CADgB,CACA;AACnB,SAFD,MAGK,IAAI59B,KAAK,CAACC,OAAN,CAAcN,KAAd,CAAJ,EAA0B;AAC3B;AACAi+B,iBAAO,GAAGj+B,KAAK,CAACk+B,MAAN,CAAa,UAAUC,MAAV,EAAkB;AAAE,mBAAOA,MAAM,CAACL,UAAd;AAA2B,WAA5D,CAAV;AACH,SAHI,MAIA,IAAI,OAAO99B,KAAP,KAAiB,QAAjB,IAA6BA,KAAjC,EAAwC;AAAE;AAC3Ci+B,iBAAO,GAAG,CAACj+B,KAAD,CAAV;AACH,SAFI,MAGA;AAAE;AACHi+B,iBAAO,GAAG,EAAV;AACH;;AACDA,eAAO,GAAGA,OAAO,CAACnyB,GAAR,CAAY,UAAUqyB,MAAV,EAAkB;AAAE,iBAAQ,uDAAS,uDAAS,EAAT,EAAaR,YAAb,CAAT,EAAqCQ,MAArC,CAAR;AAAwD,SAAxF,CAAV;AACA,eAAOF,OAAP;AACH;;AAED,eAASG,eAAT,CAAyBC,KAAzB,EAAgCC,IAAhC,EAAsC;AAClC,eAAOD,KAAK,CAACE,IAAN,IAAcD,IAAI,CAACC,IAAnB,IACHF,KAAK,CAACE,IAAN,GAAaD,IAAI,CAACE,KADf,IAEHH,KAAK,CAACI,GAAN,IAAaH,IAAI,CAACG,GAFf,IAGHJ,KAAK,CAACI,GAAN,GAAYH,IAAI,CAACI,MAHrB;AAIH,O,CACD;;;AACA,eAASC,cAAT,CAAwBC,KAAxB,EAA+BC,KAA/B,EAAsC;AAClC,YAAIl1B,GAAG,GAAG;AACN40B,cAAI,EAAE36B,IAAI,CAAC4O,GAAL,CAASosB,KAAK,CAACL,IAAf,EAAqBM,KAAK,CAACN,IAA3B,CADA;AAENC,eAAK,EAAE56B,IAAI,CAACwB,GAAL,CAASw5B,KAAK,CAACJ,KAAf,EAAsBK,KAAK,CAACL,KAA5B,CAFD;AAGNC,aAAG,EAAE76B,IAAI,CAAC4O,GAAL,CAASosB,KAAK,CAACH,GAAf,EAAoBI,KAAK,CAACJ,GAA1B,CAHC;AAINC,gBAAM,EAAE96B,IAAI,CAACwB,GAAL,CAASw5B,KAAK,CAACF,MAAf,EAAuBG,KAAK,CAACH,MAA7B;AAJF,SAAV;;AAMA,YAAI/0B,GAAG,CAAC40B,IAAJ,GAAW50B,GAAG,CAAC60B,KAAf,IAAwB70B,GAAG,CAAC80B,GAAJ,GAAU90B,GAAG,CAAC+0B,MAA1C,EAAkD;AAC9C,iBAAO/0B,GAAP;AACH;;AACD,eAAO,KAAP;AACH;;AACD,eAASm1B,aAAT,CAAuBR,IAAvB,EAA6BS,MAA7B,EAAqCC,MAArC,EAA6C;AACzC,eAAO;AACHT,cAAI,EAAED,IAAI,CAACC,IAAL,GAAYQ,MADf;AAEHP,eAAK,EAAEF,IAAI,CAACE,KAAL,GAAaO,MAFjB;AAGHN,aAAG,EAAEH,IAAI,CAACG,GAAL,GAAWO,MAHb;AAIHN,gBAAM,EAAEJ,IAAI,CAACI,MAAL,GAAcM;AAJnB,SAAP;AAMH,O,CACD;;;AACA,eAASC,cAAT,CAAwBZ,KAAxB,EAA+BC,IAA/B,EAAqC;AACjC,eAAO;AACHC,cAAI,EAAE36B,IAAI,CAACwB,GAAL,CAASxB,IAAI,CAAC4O,GAAL,CAAS6rB,KAAK,CAACE,IAAf,EAAqBD,IAAI,CAACC,IAA1B,CAAT,EAA0CD,IAAI,CAACE,KAA/C,CADH;AAEHC,aAAG,EAAE76B,IAAI,CAACwB,GAAL,CAASxB,IAAI,CAAC4O,GAAL,CAAS6rB,KAAK,CAACI,GAAf,EAAoBH,IAAI,CAACG,GAAzB,CAAT,EAAwCH,IAAI,CAACI,MAA7C;AAFF,SAAP;AAIH,O,CACD;;;AACA,eAASQ,aAAT,CAAuBZ,IAAvB,EAA6B;AACzB,eAAO;AACHC,cAAI,EAAE,CAACD,IAAI,CAACC,IAAL,GAAYD,IAAI,CAACE,KAAlB,IAA2B,CAD9B;AAEHC,aAAG,EAAE,CAACH,IAAI,CAACG,GAAL,GAAWH,IAAI,CAACI,MAAjB,IAA2B;AAF7B,SAAP;AAIH,O,CACD;;;AACA,eAASS,UAAT,CAAoBC,MAApB,EAA4BC,MAA5B,EAAoC;AAChC,eAAO;AACHd,cAAI,EAAEa,MAAM,CAACb,IAAP,GAAcc,MAAM,CAACd,IADxB;AAEHE,aAAG,EAAEW,MAAM,CAACX,GAAP,GAAaY,MAAM,CAACZ;AAFtB,SAAP;AAIH;;AAED,UAAIa,kBAAJ;;AACA,eAASC,qBAAT,GAAiC;AAC7B,YAAID,kBAAkB,IAAI,IAA1B,EAAgC;AAC5BA,4BAAkB,GAAGE,yBAAyB,EAA9C;AACH;;AACD,eAAOF,kBAAP;AACH;;AACD,eAASE,yBAAT,GAAqC;AACjC;AACA;AACA,YAAI,OAAOjkC,QAAP,KAAoB,WAAxB,EAAqC;AACjC,iBAAO,IAAP;AACH;;AACD,YAAIN,EAAE,GAAGM,QAAQ,CAACkkC,aAAT,CAAuB,KAAvB,CAAT;AACAxkC,UAAE,CAACwC,KAAH,CAASiiC,QAAT,GAAoB,UAApB;AACAzkC,UAAE,CAACwC,KAAH,CAASghC,GAAT,GAAe,KAAf;AACAxjC,UAAE,CAACwC,KAAH,CAAS8gC,IAAT,GAAgB,KAAhB;AACAtjC,UAAE,CAAC0kC,SAAH,GAAe,8CAAf;AACA1kC,UAAE,CAACgH,aAAH,CAAiB,OAAjB,EAA0BxE,KAA1B,CAAgC6d,MAAhC,GAAyC,OAAzC;AACArgB,UAAE,CAACgH,aAAH,CAAiB,KAAjB,EAAwBxE,KAAxB,CAA8B6d,MAA9B,GAAuC,MAAvC;AACA/f,gBAAQ,CAACgE,IAAT,CAAcqgC,WAAd,CAA0B3kC,EAA1B;AACA,YAAI4kC,GAAG,GAAG5kC,EAAE,CAACgH,aAAH,CAAiB,KAAjB,CAAV;AACA,YAAI69B,QAAQ,GAAGD,GAAG,CAACE,YAAJ,GAAmB,CAAlC;AACAxkC,gBAAQ,CAACgE,IAAT,CAAcpE,WAAd,CAA0BF,EAA1B;AACA,eAAO6kC,QAAP;AACH;;AAED,UAAIE,iBAAiB,GAAG5c,qBAAqB,EAA7C,C,CAAiD;;AACjD,UAAI6c,QAAQ;AAAG;AAAe,kBAAY;AACtC,iBAASA,QAAT,GAAoB;AAChB,eAAKC,mBAAL,GAA2BpwB,OAAO,CAAC,KAAKqwB,oBAAN,CAAlC;AACA,eAAKC,kBAAL,GAA0BtwB,OAAO,CAAC,KAAKuwB,cAAN,CAAjC;AACA,eAAKC,eAAL,GAAuBxwB,OAAO,CAAC,KAAKywB,gBAAN,CAA9B;AACA,eAAKC,iBAAL,GAAyB1wB,OAAO,CAAC,KAAK2wB,kBAAN,CAAhC;AACA,eAAKC,cAAL,GAAsB5wB,OAAO,CAAC,KAAK6wB,iBAAN,CAA7B;AACA,eAAKC,gBAAL,GAAwB9wB,OAAO,CAAC,KAAK6wB,iBAAN,CAA/B;AACA,eAAKE,eAAL,GAAuB,EAAvB,CAPgB,CAOW;AAC9B;;AACDZ,gBAAQ,CAACjmC,SAAT,CAAmB8mC,UAAnB,GAAgC,UAAU1jC,KAAV,EAAiB;AAC7C,cAAImT,KAAK,GAAG,IAAZ;;AACA,cAAIwwB,QAAQ,GAAG,KAAKC,UAAL,CAAgB5jC,KAAhB,CAAf;AACA,cAAI6jC,OAAO,GAAG,KAAKf,mBAAL,CAAyB9iC,KAAK,CAACqN,UAA/B,CAAd;AACA,cAAIy2B,cAAc,GAAG,KAAKd,kBAAL,CAAwBhjC,KAAK,CAAC84B,aAA9B,CAArB;AACA,cAAIiL,YAAY,GAAG,KAAKX,iBAAL,CAAuBpjC,KAAK,CAAC4sB,YAA7B,EAA2CiX,OAA3C,CAAnB,CAL6C,CAK2B;;AACxE,cAAIG,WAAW,GAAG,KAAKd,eAAL,CAAqBljC,KAAK,CAACqN,UAA3B,EAAuCw2B,OAAvC,CAAlB;AACA,cAAII,UAAU,GAAG,KAAKX,cAAL,CAAoBtjC,KAAK,CAACkkC,SAA1B,CAAjB;AACA,cAAIC,YAAY,GAAG,KAAKX,gBAAL,CAAsBxjC,KAAK,CAACokC,WAA5B,CAAnB;AACA,cAAIV,UAAU,GAAG,EAAjB;AACA,eAAKD,eAAL,GAAuB34B,OAAO,CAAC64B,QAAD,EAAW,UAAUU,IAAV,EAAgBx5B,GAAhB,EAAqB;AAAE,mBAAOsI,KAAK,CAACswB,eAAN,CAAsB54B,GAAtB,KAA8B6H,OAAO,CAAC4xB,kBAAD,CAA5C;AAAmE,WAArG,CAA9B;;AACA,eAAK,IAAIz5B,GAAT,IAAgB84B,QAAhB,EAA0B;AACtB,gBAAIY,OAAO,GAAGZ,QAAQ,CAAC94B,GAAD,CAAtB;AACA,gBAAIwC,UAAU,GAAG22B,WAAW,CAACn5B,GAAD,CAAX,IAAoB+3B,iBAArC;AACA,gBAAI4B,YAAY,GAAG,KAAKf,eAAL,CAAqB54B,GAArB,CAAnB;AACA64B,sBAAU,CAAC74B,GAAD,CAAV,GAAkB;AACd4T,2BAAa,EAAE8lB,OAAO,CAAC9lB,aAAR,IAAyBze,KAAK,CAACye,aADhC;AAEdqa,2BAAa,EAAEgL,cAAc,CAACj5B,GAAD,CAAd,IAAuB,IAFxB;AAGdwC,wBAAU,EAAEA,UAHE;AAIduf,0BAAY,EAAE4X,YAAY,CAACxkC,KAAK,CAAC4sB,YAAN,CAAmB,EAAnB,CAAD,EAAyB2X,OAAO,CAAC1a,EAAjC,EAAqCka,YAAY,CAACl5B,GAAD,CAAjD,CAJZ;AAKd45B,4BAAc,EAAEp3B,UAAU,CAACK,SAAX,CAAqB1N,KAAK,CAACykC,cAA3B,IAA6CzkC,KAAK,CAACykC,cAAnD,GAAoE,EALtE;AAMdP,uBAAS,EAAED,UAAU,CAACp5B,GAAD,CAAV,IAAmB,IANhB;AAOdu5B,yBAAW,EAAED,YAAY,CAACt5B,GAAD,CAAZ,IAAqB;AAPpB,aAAlB;AASH;;AACD,iBAAO64B,UAAP;AACH,SA1BD;;AA2BAb,gBAAQ,CAACjmC,SAAT,CAAmBqmC,cAAnB,GAAoC,UAAUjR,QAAV,EAAoB;AACpD,cAAI0S,SAAS,GAAG,EAAhB;;AACA,cAAI1S,QAAJ,EAAc;AACV,gBAAItmB,IAAI,GAAG,KAAKi5B,kBAAL,CAAwB3S,QAAxB,CAAX;;AACA,iBAAK,IAAI/mB,EAAE,GAAG,CAAT,EAAY25B,MAAM,GAAGl5B,IAA1B,EAAgCT,EAAE,GAAG25B,MAAM,CAACxlC,MAA5C,EAAoD6L,EAAE,EAAtD,EAA0D;AACtD,kBAAIJ,GAAG,GAAG+5B,MAAM,CAAC35B,EAAD,CAAhB;AACAy5B,uBAAS,CAAC75B,GAAD,CAAT,GAAiBmnB,QAAjB;AACH;AACJ;;AACD,iBAAO0S,SAAP;AACH,SAVD;;AAWA7B,gBAAQ,CAACjmC,SAAT,CAAmBmmC,oBAAnB,GAA0C,UAAU11B,UAAV,EAAsB;AAC5D,cAAI8F,KAAK,GAAG,IAAZ;;AACA,iBAAOrI,OAAO,CAACuC,UAAU,CAACI,IAAZ,EAAkB,UAAUY,QAAV,EAAoB;AAAE,mBAAO8E,KAAK,CAAC0xB,kBAAN,CAAyBx2B,QAAzB,CAAP;AAA4C,WAApF,CAAd;AACH,SAHD;;AAIAw0B,gBAAQ,CAACjmC,SAAT,CAAmBumC,gBAAnB,GAAsC,UAAU91B,UAAV,EAAsBw2B,OAAtB,EAA+B;AACjE,cAAIp2B,IAAI,GAAGJ,UAAU,CAACI,IAAtB;AAAA,cAA4BC,SAAS,GAAGL,UAAU,CAACK,SAAnD;AACA,cAAIo3B,WAAW,GAAG,EAAlB;;AACA,eAAK,IAAIn7B,KAAT,IAAkB8D,IAAlB,EAAwB;AACpB,iBAAK,IAAIxC,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAG80B,OAAO,CAACl6B,KAAD,CAA7B,EAAsCsB,EAAE,GAAG8D,EAAE,CAAC3P,MAA9C,EAAsD6L,EAAE,EAAxD,EAA4D;AACxD,kBAAIJ,GAAG,GAAGkE,EAAE,CAAC9D,EAAD,CAAZ;;AACA,kBAAI,CAAC65B,WAAW,CAACj6B,GAAD,CAAhB,EAAuB;AACnBi6B,2BAAW,CAACj6B,GAAD,CAAX,GAAmBmb,qBAAqB,EAAxC;AACH;;AACD8e,yBAAW,CAACj6B,GAAD,CAAX,CAAiB4C,IAAjB,CAAsB9D,KAAtB,IAA+B8D,IAAI,CAAC9D,KAAD,CAAnC;AACH;AACJ;;AACD,eAAK,IAAII,UAAT,IAAuB2D,SAAvB,EAAkC;AAC9B,gBAAIC,QAAQ,GAAGD,SAAS,CAAC3D,UAAD,CAAxB;;AACA,iBAAK,IAAIixB,EAAE,GAAG,CAAT,EAAY+J,EAAE,GAAGlB,OAAO,CAACl2B,QAAQ,CAAChE,KAAV,CAA7B,EAA+CqxB,EAAE,GAAG+J,EAAE,CAAC3lC,MAAvD,EAA+D47B,EAAE,EAAjE,EAAqE;AACjE,kBAAInwB,GAAG,GAAGk6B,EAAE,CAAC/J,EAAD,CAAZ;;AACA,kBAAI8J,WAAW,CAACj6B,GAAD,CAAf,EAAsB;AAAE;AACpBi6B,2BAAW,CAACj6B,GAAD,CAAX,CAAiB6C,SAAjB,CAA2B3D,UAA3B,IAAyC4D,QAAzC;AACH;AACJ;AACJ;;AACD,iBAAOm3B,WAAP;AACH,SAtBD;;AAuBAjC,gBAAQ,CAACjmC,SAAT,CAAmBymC,kBAAnB,GAAwC,UAAUzW,YAAV,EAAwBiX,OAAxB,EAAiC;AACrE,cAAImB,WAAW,GAAG,EAAlB;;AACA,eAAK,IAAIr7B,KAAT,IAAkBijB,YAAlB,EAAgC;AAC5B,gBAAIjjB,KAAJ,EAAW;AAAE;AACT,mBAAK,IAAIsB,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAG80B,OAAO,CAACl6B,KAAD,CAA7B,EAAsCsB,EAAE,GAAG8D,EAAE,CAAC3P,MAA9C,EAAsD6L,EAAE,EAAxD,EAA4D;AACxD,oBAAIJ,GAAG,GAAGkE,EAAE,CAAC9D,EAAD,CAAZ;;AACA,oBAAI,CAAC+5B,WAAW,CAACn6B,GAAD,CAAhB,EAAuB;AACnBm6B,6BAAW,CAACn6B,GAAD,CAAX,GAAmB,EAAnB;AACH;;AACDm6B,2BAAW,CAACn6B,GAAD,CAAX,CAAiBlB,KAAjB,IAA0BijB,YAAY,CAACjjB,KAAD,CAAtC;AACH;AACJ;AACJ;;AACD,iBAAOq7B,WAAP;AACH,SAdD;;AAeAnC,gBAAQ,CAACjmC,SAAT,CAAmB2mC,iBAAnB,GAAuC,UAAU0B,WAAV,EAAuB;AAC1D,cAAIC,WAAW,GAAG,EAAlB;;AACA,cAAID,WAAJ,EAAiB;AACb,gBAAIE,gBAAgB,GAAG,KAAKhC,gBAAL,CAAsB8B,WAAW,CAACG,cAAlC,EAAkD,KAAKrC,oBAAL,CAA0BkC,WAAW,CAACG,cAAtC,CAAlD,CAAvB,CADa,CAEb;;;AACA,gBAAIC,kBAAkB,GAAG,KAAKtC,oBAAL,CAA0BkC,WAAW,CAACK,aAAtC,CAAzB;;AACA,gBAAIC,eAAe,GAAG,KAAKpC,gBAAL,CAAsB8B,WAAW,CAACK,aAAlC,EAAiDD,kBAAjD,CAAtB;;AACA,gBAAIG,QAAQ,GAAG,SAAXA,QAAW,CAAU36B,GAAV,EAAe;AAC1B,kBAAI,CAACq6B,WAAW,CAACr6B,GAAD,CAAhB,EAAuB;AACnBq6B,2BAAW,CAACr6B,GAAD,CAAX,GAAmB;AACfu6B,gCAAc,EAAED,gBAAgB,CAACt6B,GAAD,CAAhB,IAAyB+3B,iBAD1B;AAEf0C,+BAAa,EAAEC,eAAe,CAAC16B,GAAD,CAAf,IAAwB+3B,iBAFxB;AAGf6C,yBAAO,EAAER,WAAW,CAACQ;AAHN,iBAAnB;AAKH;AACJ,aARD;;AASA,iBAAK,IAAI56B,GAAT,IAAgBs6B,gBAAhB,EAAkC;AAC9BK,sBAAQ,CAAC36B,GAAD,CAAR;AACH;;AACD,iBAAK,IAAIA,GAAT,IAAgB06B,eAAhB,EAAiC;AAC7BC,sBAAQ,CAAC36B,GAAD,CAAR;AACH;AACJ;;AACD,iBAAOq6B,WAAP;AACH,SAxBD;;AAyBA,eAAOrC,QAAP;AACH,OApH6B,EAA9B;;AAqHA,eAASyB,kBAAT,CAA4BoB,KAA5B,EAAmCC,aAAnC,EAAkD5B,YAAlD,EAAgE;AAC5D,YAAI6B,SAAS,GAAG,EAAhB;;AACA,YAAIF,KAAJ,EAAW;AACPE,mBAAS,CAACrmC,IAAV,CAAemmC,KAAf;AACH;;AACD,YAAIC,aAAJ,EAAmB;AACfC,mBAAS,CAACrmC,IAAV,CAAeomC,aAAf;AACH;;AACD,YAAIE,KAAK,GAAG;AACR,cAAInd,eAAe,CAACkd,SAAD;AADX,SAAZ;;AAGA,YAAI7B,YAAJ,EAAkB;AACd,iEAAS8B,KAAT,EAAgB9B,YAAhB;AACH;;AACD,eAAO8B,KAAP;AACH;;AAED,eAASC,WAAT,CAAqBp9B,IAArB,EAA2BonB,UAA3B,EAAuCC,OAAvC,EAAgDmE,WAAhD,EAA6D;AACzD,eAAO;AACHxsB,aAAG,EAAEgB,IAAI,CAACF,SAAL,EADF;AAEHu9B,oBAAU,EAAE7qB,OAAO,CAACgZ,WAAW,IAAI,CAACzH,mBAAmB,CAACyH,WAAW,CAACC,WAAb,EAA0BzrB,IAA1B,CAApC,CAFhB;AAGHs9B,iBAAO,EAAE9qB,OAAO,CAACgZ,WAAW,IAAI,CAACzH,mBAAmB,CAACyH,WAAW,CAACE,YAAb,EAA2B1rB,IAA3B,CAApC,CAHb;AAIHynB,iBAAO,EAAEjV,OAAO,CAAC4U,UAAU,IAAIrD,mBAAmB,CAACqD,UAAD,EAAapnB,IAAb,CAAlC,CAJb;AAKHunB,gBAAM,EAAE/U,OAAO,CAAC6U,OAAO,GAAIrnB,IAAI,GAAGqnB,OAAX,GAAsBD,UAAU,GAAIpnB,IAAI,GAAGonB,UAAU,CAAC3hB,KAAtB,GAA+B,KAAvE,CALZ;AAMH+hB,kBAAQ,EAAEhV,OAAO,CAAC6U,OAAO,GAAIrnB,IAAI,GAAGqnB,OAAX,GAAsBD,UAAU,GAAIpnB,IAAI,IAAIonB,UAAU,CAAC1hB,GAAvB,GAA8B,KAAtE;AANd,SAAP;AAQH;;AACD,eAAS63B,gBAAT,CAA0BxoC,IAA1B,EAAgCyoC,KAAhC,EAAuC;AACnC,YAAIhhB,UAAU,GAAG,CACb,QADa,EAEb,YAAYhgB,OAAO,CAACzH,IAAI,CAACiK,GAAN,CAFN,CAAjB;;AAIA,YAAIjK,IAAI,CAACsoC,UAAT,EAAqB;AACjB7gB,oBAAU,CAAC3lB,IAAX,CAAgB,iBAAhB;AACH,SAFD,MAGK;AACD,cAAI9B,IAAI,CAAC0yB,OAAT,EAAkB;AACdjL,sBAAU,CAAC3lB,IAAX,CAAgB,cAAhB;AACA2lB,sBAAU,CAAC3lB,IAAX,CAAgB2mC,KAAK,CAACC,QAAN,CAAe,OAAf,CAAhB;AACH;;AACD,cAAI1oC,IAAI,CAACwyB,MAAT,EAAiB;AACb/K,sBAAU,CAAC3lB,IAAX,CAAgB,aAAhB;AACH;;AACD,cAAI9B,IAAI,CAACyyB,QAAT,EAAmB;AACfhL,sBAAU,CAAC3lB,IAAX,CAAgB,eAAhB;AACH;;AACD,cAAI9B,IAAI,CAACuoC,OAAT,EAAkB;AACd9gB,sBAAU,CAAC3lB,IAAX,CAAgB,cAAhB;AACH;AACJ;;AACD,eAAO2lB,UAAP;AACH;;AACD,eAASkhB,iBAAT,CAA2B3oC,IAA3B,EAAiCyoC,KAAjC,EAAwC;AACpC,YAAIhhB,UAAU,GAAG,CACb,SADa,EAEb,aAAahgB,OAAO,CAACzH,IAAI,CAACiK,GAAN,CAFP,CAAjB;;AAIA,YAAIjK,IAAI,CAACsoC,UAAT,EAAqB;AACjB7gB,oBAAU,CAAC3lB,IAAX,CAAgB,kBAAhB;AACH,SAFD,MAGK;AACD,cAAI9B,IAAI,CAAC0yB,OAAT,EAAkB;AACdjL,sBAAU,CAAC3lB,IAAX,CAAgB,eAAhB;AACA2lB,sBAAU,CAAC3lB,IAAX,CAAgB2mC,KAAK,CAACC,QAAN,CAAe,OAAf,CAAhB;AACH;;AACD,cAAI1oC,IAAI,CAACwyB,MAAT,EAAiB;AACb/K,sBAAU,CAAC3lB,IAAX,CAAgB,cAAhB;AACH;;AACD,cAAI9B,IAAI,CAACyyB,QAAT,EAAmB;AACfhL,sBAAU,CAAC3lB,IAAX,CAAgB,gBAAhB;AACH;AACJ;;AACD,eAAO2lB,UAAP;AACH;;AAED,eAASmhB,gBAAT,CAA0B39B,IAA1B,EAAgC3L,IAAhC,EAAsC;AAClC,YAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,cAAI,GAAG,KAAP;AAAe;;AACtC,eAAOupC,IAAI,CAACC,SAAL,CAAe;AAClB79B,cAAI,EAAEkJ,eAAe,CAAClJ,IAAD,CADH;AAElB3L,cAAI,EAAEA;AAFY,SAAf,CAAP;AAIH;;AAED,UAAIypC,qBAAqB,GAAG,IAA5B;;AACA,eAASC,uBAAT,GAAmC;AAC/B,YAAID,qBAAqB,KAAK,IAA9B,EAAoC;AAChCA,+BAAqB,GAAGE,2BAA2B,EAAnD;AACH;;AACD,eAAOF,qBAAP;AACH;;AACD,eAASE,2BAAT,GAAuC;AACnC,YAAIC,OAAO,GAAGxoC,QAAQ,CAACkkC,aAAT,CAAuB,KAAvB,CAAd;AACAtiC,kBAAU,CAAC4mC,OAAD,EAAU;AAChBrE,kBAAQ,EAAE,UADM;AAEhBjB,aAAG,EAAE,CAAC,IAFU;AAGhBF,cAAI,EAAE,CAHU;AAIhByF,gBAAM,EAAE,CAJQ;AAKhBC,iBAAO,EAAE,CALO;AAMhBC,kBAAQ,EAAE,QANM;AAOhB7uB,mBAAS,EAAE;AAPK,SAAV,CAAV;AASA0uB,eAAO,CAACpE,SAAR,GAAoB,aAApB;AACApkC,gBAAQ,CAACgE,IAAT,CAAcqgC,WAAd,CAA0BmE,OAA1B;AACA,YAAII,OAAO,GAAGJ,OAAO,CAACK,UAAtB;AACA,YAAIz6B,GAAG,GAAGw6B,OAAO,CAAC/hC,qBAAR,GAAgCm8B,IAAhC,GAAuCwF,OAAO,CAAC3hC,qBAAR,GAAgCm8B,IAAjF;AACAvjC,qBAAa,CAAC+oC,OAAD,CAAb;AACA,eAAOp6B,GAAP;AACH;;AAED,UAAI06B,gBAAJ;;AACA,eAASC,kBAAT,GAA8B;AAC1B,YAAI,CAACD,gBAAL,EAAuB;AACnBA,0BAAgB,GAAGE,sBAAsB,EAAzC;AACH;;AACD,eAAOF,gBAAP;AACH;;AACD,eAASE,sBAAT,GAAkC;AAC9B,YAAItpC,EAAE,GAAGM,QAAQ,CAACkkC,aAAT,CAAuB,KAAvB,CAAT;AACAxkC,UAAE,CAACwC,KAAH,CAASymC,QAAT,GAAoB,QAApB;AACAjpC,UAAE,CAACwC,KAAH,CAASiiC,QAAT,GAAoB,UAApB;AACAzkC,UAAE,CAACwC,KAAH,CAASghC,GAAT,GAAe,SAAf;AACAxjC,UAAE,CAACwC,KAAH,CAAS8gC,IAAT,GAAgB,SAAhB;AACAhjC,gBAAQ,CAACgE,IAAT,CAAcqgC,WAAd,CAA0B3kC,EAA1B;AACA,YAAI0O,GAAG,GAAG66B,2BAA2B,CAACvpC,EAAD,CAArC;AACAM,gBAAQ,CAACgE,IAAT,CAAcpE,WAAd,CAA0BF,EAA1B;AACA,eAAO0O,GAAP;AACH,O,CACD;;;AACA,eAAS66B,2BAAT,CAAqCvpC,EAArC,EAAyC;AACrC,eAAO;AACHwpC,WAAC,EAAExpC,EAAE,CAAC8kC,YAAH,GAAkB9kC,EAAE,CAACypC,YADrB;AAEH1/B,WAAC,EAAE/J,EAAE,CAAC0pC,WAAH,GAAiB1pC,EAAE,CAAC2pC;AAFpB,SAAP;AAIH;;AAED,eAASC,YAAT,CAAsB5pC,EAAtB,EAA0B6pC,UAA1B,EAAsC;AAClC,YAAIA,UAAU,KAAK,KAAK,CAAxB,EAA2B;AAAEA,oBAAU,GAAG,KAAb;AAAqB;;AAClD,YAAIC,aAAa,GAAGC,MAAM,CAACC,gBAAP,CAAwBhqC,EAAxB,CAApB;AACA,YAAIiqC,UAAU,GAAG14B,QAAQ,CAACu4B,aAAa,CAACI,eAAf,EAAgC,EAAhC,CAAR,IAA+C,CAAhE;AACA,YAAIC,WAAW,GAAG54B,QAAQ,CAACu4B,aAAa,CAACM,gBAAf,EAAiC,EAAjC,CAAR,IAAgD,CAAlE;AACA,YAAIC,SAAS,GAAG94B,QAAQ,CAACu4B,aAAa,CAACQ,cAAf,EAA+B,EAA/B,CAAR,IAA8C,CAA9D;AACA,YAAIC,YAAY,GAAGh5B,QAAQ,CAACu4B,aAAa,CAACU,iBAAf,EAAkC,EAAlC,CAAR,IAAiD,CAApE;AACA,YAAIC,kBAAkB,GAAGlB,2BAA2B,CAACvpC,EAAD,CAApD,CAPkC,CAOwB;;AAC1D,YAAI0qC,kBAAkB,GAAGD,kBAAkB,CAAC1gC,CAAnB,GAAuBkgC,UAAvB,GAAoCE,WAA7D;AACA,YAAIQ,eAAe,GAAGF,kBAAkB,CAACjB,CAAnB,GAAuBa,SAAvB,GAAmCE,YAAzD;AACA,YAAI77B,GAAG,GAAG;AACNu7B,oBAAU,EAAEA,UADN;AAENE,qBAAW,EAAEA,WAFP;AAGNE,mBAAS,EAAEA,SAHL;AAINE,sBAAY,EAAEA,YAJR;AAKNI,yBAAe,EAAEA,eALX;AAMNC,uBAAa,EAAE,CANT;AAONC,wBAAc,EAAE;AAPV,SAAV;;AASA,YAAIjC,uBAAuB,MAAMkB,aAAa,CAAC1vB,SAAd,KAA4B,KAA7D,EAAoE;AAAE;AAClE1L,aAAG,CAACk8B,aAAJ,GAAoBF,kBAApB;AACH,SAFD,MAGK;AACDh8B,aAAG,CAACm8B,cAAJ,GAAqBH,kBAArB;AACH;;AACD,YAAIb,UAAJ,EAAgB;AACZn7B,aAAG,CAACo8B,WAAJ,GAAkBv5B,QAAQ,CAACu4B,aAAa,CAACgB,WAAf,EAA4B,EAA5B,CAAR,IAA2C,CAA7D;AACAp8B,aAAG,CAACq8B,YAAJ,GAAmBx5B,QAAQ,CAACu4B,aAAa,CAACiB,YAAf,EAA6B,EAA7B,CAAR,IAA4C,CAA/D;AACAr8B,aAAG,CAACs8B,UAAJ,GAAiBz5B,QAAQ,CAACu4B,aAAa,CAACkB,UAAf,EAA2B,EAA3B,CAAR,IAA0C,CAA3D;AACAt8B,aAAG,CAACu8B,aAAJ,GAAoB15B,QAAQ,CAACu4B,aAAa,CAACmB,aAAf,EAA8B,EAA9B,CAAR,IAA6C,CAAjE;AACH;;AACD,eAAOv8B,GAAP;AACH;;AACD,eAASw8B,gBAAT,CAA0BlrC,EAA1B,EAA8BmrC,eAA9B,EAA+CC,oBAA/C,EAAqE;AACjE,YAAID,eAAe,KAAK,KAAK,CAA7B,EAAgC;AAAEA,yBAAe,GAAG,KAAlB;AAA0B;;AAC5D,YAAIE,SAAS,GAAGD,oBAAoB,GAAGprC,EAAE,CAACmH,qBAAH,EAAH,GAAgCmkC,WAAW,CAACtrC,EAAD,CAA/E;AACA,YAAIurC,KAAK,GAAG3B,YAAY,CAAC5pC,EAAD,EAAKmrC,eAAL,CAAxB;AACA,YAAIz8B,GAAG,GAAG;AACN40B,cAAI,EAAE+H,SAAS,CAAC/H,IAAV,GAAiBiI,KAAK,CAACtB,UAAvB,GAAoCsB,KAAK,CAACX,aAD1C;AAENrH,eAAK,EAAE8H,SAAS,CAAC9H,KAAV,GAAkBgI,KAAK,CAACpB,WAAxB,GAAsCoB,KAAK,CAACV,cAF7C;AAGNrH,aAAG,EAAE6H,SAAS,CAAC7H,GAAV,GAAgB+H,KAAK,CAAClB,SAHrB;AAIN5G,gBAAM,EAAE4H,SAAS,CAAC5H,MAAV,GAAmB8H,KAAK,CAAChB,YAAzB,GAAwCgB,KAAK,CAACZ;AAJhD,SAAV;;AAMA,YAAIQ,eAAJ,EAAqB;AACjBz8B,aAAG,CAAC40B,IAAJ,IAAYiI,KAAK,CAACT,WAAlB;AACAp8B,aAAG,CAAC60B,KAAJ,IAAagI,KAAK,CAACR,YAAnB;AACAr8B,aAAG,CAAC80B,GAAJ,IAAW+H,KAAK,CAACP,UAAjB;AACAt8B,aAAG,CAAC+0B,MAAJ,IAAc8H,KAAK,CAACN,aAApB;AACH;;AACD,eAAOv8B,GAAP;AACH;;AACD,eAAS48B,WAAT,CAAqBtrC,EAArB,EAAyB;AACrB,YAAIqjC,IAAI,GAAGrjC,EAAE,CAACmH,qBAAH,EAAX;AACA,eAAO;AACHm8B,cAAI,EAAED,IAAI,CAACC,IAAL,GAAYyG,MAAM,CAACyB,WADtB;AAEHhI,aAAG,EAAEH,IAAI,CAACG,GAAL,GAAWuG,MAAM,CAAC0B,WAFpB;AAGHlI,eAAK,EAAEF,IAAI,CAACE,KAAL,GAAawG,MAAM,CAACyB,WAHxB;AAIH/H,gBAAM,EAAEJ,IAAI,CAACI,MAAL,GAAcsG,MAAM,CAAC0B;AAJ1B,SAAP;AAMH;;AACD,eAASC,uBAAT,CAAiC1rC,EAAjC,EAAqC;AACjC,eAAOA,EAAE,CAACmH,qBAAH,GAA2BkZ,MAA3B,GAAoCsrB,eAAe,CAAC3rC,EAAD,CAA1D;AACH;;AACD,eAAS2rC,eAAT,CAAyB3rC,EAAzB,EAA6B;AACzB,YAAI4rC,QAAQ,GAAG7B,MAAM,CAACC,gBAAP,CAAwBhqC,EAAxB,CAAf;AACA,eAAOuR,QAAQ,CAACq6B,QAAQ,CAACC,SAAV,EAAqB,EAArB,CAAR,GACHt6B,QAAQ,CAACq6B,QAAQ,CAACE,YAAV,EAAwB,EAAxB,CADZ;AAEH,O,CACD;;;AACA,eAASC,kBAAT,CAA4B/rC,EAA5B,EAAgC;AAC5B,YAAI6B,OAAO,GAAG,EAAd;;AACA,eAAO7B,EAAE,YAAYoB,WAArB,EAAkC;AAAE;AAChC,cAAI0oC,aAAa,GAAGC,MAAM,CAACC,gBAAP,CAAwBhqC,EAAxB,CAApB;;AACA,cAAI8pC,aAAa,CAACrF,QAAd,KAA2B,OAA/B,EAAwC;AACpC;AACH;;AACD,cAAK,eAAD,CAAkBhiC,IAAlB,CAAuBqnC,aAAa,CAACb,QAAd,GAAyBa,aAAa,CAACkC,SAAvC,GAAmDlC,aAAa,CAACmC,SAAxF,CAAJ,EAAwG;AACpGpqC,mBAAO,CAACH,IAAR,CAAa1B,EAAb;AACH;;AACDA,YAAE,GAAGA,EAAE,CAACC,UAAR;AACH;;AACD,eAAO4B,OAAP;AACH,O,CAED;AACA;AACA;AACA;;;AACA,eAASqqC,WAAT,CAAqBxmC,IAArB,EAA2BgxB,OAA3B,EAAoCC,OAApC,EAA6C;AACzC;AACA;AACA,YAAIwV,UAAU,GAAG,KAAjB;;AACA,YAAIC,cAAc,GAAG,SAAjBA,cAAiB,GAAY;AAC7B,cAAI,CAACD,UAAL,EAAiB;AACbA,sBAAU,GAAG,IAAb;AACAzV,mBAAO,CAAChrB,KAAR,CAAc,IAAd,EAAoB0J,SAApB,EAFa,CAEmB;AACnC;AACJ,SALD;;AAMA,YAAIi3B,cAAc,GAAG,SAAjBA,cAAiB,GAAY;AAC7B,cAAI,CAACF,UAAL,EAAiB;AACbA,sBAAU,GAAG,IAAb;;AACA,gBAAIxV,OAAJ,EAAa;AACTA,qBAAO,CAACjrB,KAAR,CAAc,IAAd,EAAoB0J,SAApB,EADS,CACuB;AACnC;AACJ;AACJ,SAPD;;AAQA,YAAI1G,GAAG,GAAGhJ,IAAI,CAAC0mC,cAAD,EAAiBC,cAAjB,CAAd;;AACA,YAAI39B,GAAG,IAAI,OAAOA,GAAG,CAAC49B,IAAX,KAAoB,UAA/B,EAA2C;AACvC59B,aAAG,CAAC49B,IAAJ,CAASF,cAAT,EAAyBC,cAAzB;AACH;AACJ;;AAED,UAAIE,OAAO;AAAG;AAAe,kBAAY;AACrC,iBAASA,OAAT,GAAmB;AACf,eAAKC,QAAL,GAAgB,EAAhB;AACA,eAAKC,WAAL,GAAmB,IAAnB;AACH;;AACDF,eAAO,CAACxtC,SAAR,CAAkB2tC,cAAlB,GAAmC,UAAUD,WAAV,EAAuB;AACtD,eAAKA,WAAL,GAAmBA,WAAnB;AACH,SAFD;;AAGAF,eAAO,CAACxtC,SAAR,CAAkB4tC,UAAlB,GAA+B,UAAUh9B,OAAV,EAAmB;AAC9C,eAAKA,OAAL,GAAeA,OAAf;AACH,SAFD;;AAGA48B,eAAO,CAACxtC,SAAR,CAAkB65B,EAAlB,GAAuB,UAAU15B,IAAV,EAAgB2D,OAAhB,EAAyB;AAC5C+pC,mBAAS,CAAC,KAAKJ,QAAN,EAAgBttC,IAAhB,EAAsB2D,OAAtB,CAAT;AACH,SAFD;;AAGA0pC,eAAO,CAACxtC,SAAR,CAAkBk6B,GAAlB,GAAwB,UAAU/5B,IAAV,EAAgB2D,OAAhB,EAAyB;AAC7CgqC,wBAAc,CAAC,KAAKL,QAAN,EAAgBttC,IAAhB,EAAsB2D,OAAtB,CAAd;AACH,SAFD;;AAGA0pC,eAAO,CAACxtC,SAAR,CAAkBy1B,OAAlB,GAA4B,UAAUt1B,IAAV,EAAgB;AACxC,cAAIg6B,IAAI,GAAG,EAAX;;AACA,eAAK,IAAI9rB,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGgI,SAAS,CAAC7T,MAAhC,EAAwC6L,EAAE,EAA1C,EAA8C;AAC1C8rB,gBAAI,CAAC9rB,EAAE,GAAG,CAAN,CAAJ,GAAegI,SAAS,CAAChI,EAAD,CAAxB;AACH;;AACD,cAAI0/B,gBAAgB,GAAG,KAAKN,QAAL,CAActtC,IAAd,KAAuB,EAA9C;AACA,cAAI6tC,aAAa,GAAG,KAAKp9B,OAAL,IAAgB,KAAKA,OAAL,CAAazQ,IAAb,CAApC;AACA,cAAIstC,QAAQ,GAAG,GAAGhhC,MAAH,CAAUuhC,aAAa,IAAI,EAA3B,EAA+BD,gBAA/B,CAAf;;AACA,eAAK,IAAI57B,EAAE,GAAG,CAAT,EAAY87B,UAAU,GAAGR,QAA9B,EAAwCt7B,EAAE,GAAG87B,UAAU,CAACzrC,MAAxD,EAAgE2P,EAAE,EAAlE,EAAsE;AAClE,gBAAIrO,OAAO,GAAGmqC,UAAU,CAAC97B,EAAD,CAAxB;AACArO,mBAAO,CAAC6I,KAAR,CAAc,KAAK+gC,WAAnB,EAAgCvT,IAAhC;AACH;AACJ,SAZD;;AAaAqT,eAAO,CAACxtC,SAAR,CAAkBkuC,WAAlB,GAAgC,UAAU/tC,IAAV,EAAgB;AAC5C,iBAAQ,KAAKstC,QAAL,CAActtC,IAAd,KAAuB,KAAKstC,QAAL,CAActtC,IAAd,EAAoBqC,MAA5C,IACF,KAAKoO,OAAL,IAAgB,KAAKA,OAAL,CAAazQ,IAAb,CADrB;AAEH,SAHD;;AAIA,eAAOqtC,OAAP;AACH,OAnC4B,EAA7B;;AAoCA,eAASK,SAAT,CAAmB9/B,IAAnB,EAAyB5N,IAAzB,EAA+B2D,OAA/B,EAAwC;AACpC,SAACiK,IAAI,CAAC5N,IAAD,CAAJ,KAAe4N,IAAI,CAAC5N,IAAD,CAAJ,GAAa,EAA5B,CAAD,EACKwC,IADL,CACUmB,OADV;AAEH;;AACD,eAASgqC,cAAT,CAAwB//B,IAAxB,EAA8B5N,IAA9B,EAAoC2D,OAApC,EAA6C;AACzC,YAAIA,OAAJ,EAAa;AACT,cAAIiK,IAAI,CAAC5N,IAAD,CAAR,EAAgB;AACZ4N,gBAAI,CAAC5N,IAAD,CAAJ,GAAa4N,IAAI,CAAC5N,IAAD,CAAJ,CAAW+jC,MAAX,CAAkB,UAAUv9B,IAAV,EAAgB;AAAE,qBAAOA,IAAI,KAAK7C,OAAhB;AAA0B,aAA9D,CAAb;AACH;AACJ,SAJD,MAKK;AACD,iBAAOiK,IAAI,CAAC5N,IAAD,CAAX,CADC,CACkB;AACtB;AACJ;AAED;AACA;AACA;AACA;AACA;;;AACA,UAAIguC,aAAa;AAAG;AAAe,kBAAY;AAC3C,iBAASA,aAAT,CAAuBC,QAAvB,EAAiCC,GAAjC,EAAsCC,YAAtC,EAAoDC,UAApD,EAAgE;AAC5D,eAAKF,GAAL,GAAWA,GAAX;AACA,cAAIG,gBAAgB,GAAG,KAAKA,gBAAL,GAAwBJ,QAAQ,CAAChmC,qBAAT,EAA/C,CAF4D,CAEqB;;AACjF,cAAIkmC,YAAJ,EAAkB;AACd,iBAAKG,kBAAL,CAAwBD,gBAAgB,CAACjK,IAAzC;AACH;;AACD,cAAIgK,UAAJ,EAAgB;AACZ,iBAAKG,gBAAL,CAAsBF,gBAAgB,CAAC/J,GAAvC;AACH;AACJ,SAV0C,CAW3C;;;AACA0J,qBAAa,CAACnuC,SAAd,CAAwByuC,kBAAxB,GAA6C,UAAUE,gBAAV,EAA4B;AACrE,cAAIC,KAAK,GAAG,EAAZ;AACA,cAAIC,MAAM,GAAG,EAAb;;AACA,eAAK,IAAIxgC,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAG,KAAKk8B,GAA3B,EAAgChgC,EAAE,GAAG8D,EAAE,CAAC3P,MAAxC,EAAgD6L,EAAE,EAAlD,EAAsD;AAClD,gBAAIpN,EAAE,GAAGkR,EAAE,CAAC9D,EAAD,CAAX;AACA,gBAAIi2B,IAAI,GAAGrjC,EAAE,CAACmH,qBAAH,EAAX;AACAwmC,iBAAK,CAACjsC,IAAN,CAAW2hC,IAAI,CAACC,IAAL,GAAYoK,gBAAvB;AACAE,kBAAM,CAAClsC,IAAP,CAAY2hC,IAAI,CAACE,KAAL,GAAamK,gBAAzB;AACH;;AACD,eAAKC,KAAL,GAAaA,KAAb;AACA,eAAKC,MAAL,GAAcA,MAAd;AACH,SAXD,CAZ2C,CAwB3C;;;AACAV,qBAAa,CAACnuC,SAAd,CAAwB0uC,gBAAxB,GAA2C,UAAUI,eAAV,EAA2B;AAClE,cAAIC,IAAI,GAAG,EAAX;AACA,cAAIC,OAAO,GAAG,EAAd;;AACA,eAAK,IAAI3gC,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAG,KAAKk8B,GAA3B,EAAgChgC,EAAE,GAAG8D,EAAE,CAAC3P,MAAxC,EAAgD6L,EAAE,EAAlD,EAAsD;AAClD,gBAAIpN,EAAE,GAAGkR,EAAE,CAAC9D,EAAD,CAAX;AACA,gBAAIi2B,IAAI,GAAGrjC,EAAE,CAACmH,qBAAH,EAAX;AACA2mC,gBAAI,CAACpsC,IAAL,CAAU2hC,IAAI,CAACG,GAAL,GAAWqK,eAArB;AACAE,mBAAO,CAACrsC,IAAR,CAAa2hC,IAAI,CAACI,MAAL,GAAcoK,eAA3B;AACH;;AACD,eAAKC,IAAL,GAAYA,IAAZ;AACA,eAAKC,OAAL,GAAeA,OAAf;AACH,SAXD,CAzB2C,CAqC3C;AACA;;;AACAb,qBAAa,CAACnuC,SAAd,CAAwBivC,WAAxB,GAAsC,UAAUC,YAAV,EAAwB;AAC1D,cAAI/8B,EAAE,GAAG,IAAT;AAAA,cAAey8B,KAAK,GAAGz8B,EAAE,CAACy8B,KAA1B;AAAA,cAAiCC,MAAM,GAAG18B,EAAE,CAAC08B,MAA7C;;AACA,cAAIrnC,GAAG,GAAGonC,KAAK,CAACpsC,MAAhB;AACA,cAAID,CAAJ;;AACA,eAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGiF,GAAhB,EAAqBjF,CAAC,IAAI,CAA1B,EAA6B;AACzB,gBAAI2sC,YAAY,IAAIN,KAAK,CAACrsC,CAAD,CAArB,IAA4B2sC,YAAY,GAAGL,MAAM,CAACtsC,CAAD,CAArD,EAA0D;AACtD,qBAAOA,CAAP;AACH;AACJ;;AACD,iBAAOqL,SAAP,CAT0D,CASxC;AACrB,SAVD,CAvC2C,CAkD3C;AACA;;;AACAugC,qBAAa,CAACnuC,SAAd,CAAwBmvC,UAAxB,GAAqC,UAAUC,WAAV,EAAuB;AACxD,cAAIj9B,EAAE,GAAG,IAAT;AAAA,cAAe48B,IAAI,GAAG58B,EAAE,CAAC48B,IAAzB;AAAA,cAA+BC,OAAO,GAAG78B,EAAE,CAAC68B,OAA5C;;AACA,cAAIxnC,GAAG,GAAGunC,IAAI,CAACvsC,MAAf;AACA,cAAID,CAAJ;;AACA,eAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGiF,GAAhB,EAAqBjF,CAAC,IAAI,CAA1B,EAA6B;AACzB,gBAAI6sC,WAAW,IAAIL,IAAI,CAACxsC,CAAD,CAAnB,IAA0B6sC,WAAW,GAAGJ,OAAO,CAACzsC,CAAD,CAAnD,EAAwD;AACpD,qBAAOA,CAAP;AACH;AACJ;;AACD,iBAAOqL,SAAP,CATwD,CAStC;AACrB,SAVD,CApD2C,CA+D3C;;;AACAugC,qBAAa,CAACnuC,SAAd,CAAwBqvC,QAAxB,GAAmC,UAAUC,SAAV,EAAqB;AACpD,iBAAO,KAAKT,MAAL,CAAYS,SAAZ,IAAyB,KAAKV,KAAL,CAAWU,SAAX,CAAhC;AACH,SAFD,CAhE2C,CAmE3C;;;AACAnB,qBAAa,CAACnuC,SAAd,CAAwBuvC,SAAxB,GAAoC,UAAUC,QAAV,EAAoB;AACpD,iBAAO,KAAKR,OAAL,CAAaQ,QAAb,IAAyB,KAAKT,IAAL,CAAUS,QAAV,CAAhC;AACH,SAFD;;AAGA,eAAOrB,aAAP;AACH,OAxEkC,EAAnC;AA0EA;;AACA;AACA;AACA;AACA;AACA;;;AACA,UAAIsB,gBAAgB;AAAG;AAAe,kBAAY;AAC9C,iBAASA,gBAAT,GAA4B,CAC3B;;AACDA,wBAAgB,CAACzvC,SAAjB,CAA2B0vC,eAA3B,GAA6C,YAAY;AACrD,iBAAO,KAAKC,eAAL,KAAyB,KAAKC,eAAL,EAAhC;AACH,SAFD;;AAGAH,wBAAgB,CAACzvC,SAAjB,CAA2B6vC,gBAA3B,GAA8C,YAAY;AACtD,iBAAO,KAAKC,cAAL,KAAwB,KAAKC,cAAL,EAA/B;AACH,SAFD;;AAGAN,wBAAgB,CAACzvC,SAAjB,CAA2BgwC,mBAA3B,GAAiD,YAAY;AACzD,iBAAO,KAAKN,eAAL,KAAyB,CAAhC;AACH,SAFD;;AAGAD,wBAAgB,CAACzvC,SAAjB,CAA2BiwC,qBAA3B,GAAmD,YAAY;AAC3D,iBAAO,KAAKJ,gBAAL,KAA0B,CAAjC;AACH,SAFD;;AAGAJ,wBAAgB,CAACzvC,SAAjB,CAA2BkwC,WAA3B,GAAyC,YAAY;AACjD,iBAAO,KAAKC,YAAL,KAAsB,CAA7B;AACH,SAFD;;AAGAV,wBAAgB,CAACzvC,SAAjB,CAA2BowC,aAA3B,GAA2C,YAAY;AACnD,iBAAO,KAAKD,YAAL,KAAsB,KAAKT,eAAL,EAA7B;AACH,SAFD;;AAGAD,wBAAgB,CAACzvC,SAAjB,CAA2BqwC,aAA3B,GAA2C,YAAY;AACnD,iBAAO,KAAKC,aAAL,KAAuB,CAA9B;AACH,SAFD;;AAGAb,wBAAgB,CAACzvC,SAAjB,CAA2BuwC,cAA3B,GAA4C,YAAY;AACpD,iBAAO,KAAKD,aAAL,KAAuB,KAAKT,gBAAL,EAA9B;AACH,SAFD;;AAGA,eAAOJ,gBAAP;AACH,OA5BqC,EAAtC;;AA6BA,UAAIe,uBAAuB;AAAG;AAAe,gBAAUC,MAAV,EAAkB;AAC3D,gEAAUD,uBAAV,EAAmCC,MAAnC;;AACA,iBAASD,uBAAT,CAAiCvvC,EAAjC,EAAqC;AACjC,cAAIsV,KAAK,GAAGk6B,MAAM,CAACxuC,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;AACAsU,eAAK,CAACtV,EAAN,GAAWA,EAAX;AACA,iBAAOsV,KAAP;AACH;;AACDi6B,+BAAuB,CAACxwC,SAAxB,CAAkCmwC,YAAlC,GAAiD,YAAY;AACzD,iBAAO,KAAKlvC,EAAL,CAAQyvC,SAAf;AACH,SAFD;;AAGAF,+BAAuB,CAACxwC,SAAxB,CAAkCswC,aAAlC,GAAkD,YAAY;AAC1D,iBAAO,KAAKrvC,EAAL,CAAQ0vC,UAAf;AACH,SAFD;;AAGAH,+BAAuB,CAACxwC,SAAxB,CAAkC4wC,YAAlC,GAAiD,UAAUnM,GAAV,EAAe;AAC5D,eAAKxjC,EAAL,CAAQyvC,SAAR,GAAoBjM,GAApB;AACH,SAFD;;AAGA+L,+BAAuB,CAACxwC,SAAxB,CAAkC6wC,aAAlC,GAAkD,UAAUtM,IAAV,EAAgB;AAC9D,eAAKtjC,EAAL,CAAQ0vC,UAAR,GAAqBpM,IAArB;AACH,SAFD;;AAGAiM,+BAAuB,CAACxwC,SAAxB,CAAkC8vC,cAAlC,GAAmD,YAAY;AAC3D,iBAAO,KAAK7uC,EAAL,CAAQ6vC,WAAf;AACH,SAFD;;AAGAN,+BAAuB,CAACxwC,SAAxB,CAAkC2vC,eAAlC,GAAoD,YAAY;AAC5D,iBAAO,KAAK1uC,EAAL,CAAQ8vC,YAAf;AACH,SAFD;;AAGAP,+BAAuB,CAACxwC,SAAxB,CAAkC4vC,eAAlC,GAAoD,YAAY;AAC5D,iBAAO,KAAK3uC,EAAL,CAAQypC,YAAf;AACH,SAFD;;AAGA8F,+BAAuB,CAACxwC,SAAxB,CAAkC+vC,cAAlC,GAAmD,YAAY;AAC3D,iBAAO,KAAK9uC,EAAL,CAAQ2pC,WAAf;AACH,SAFD;;AAGA,eAAO4F,uBAAP;AACH,OAhC4C,CAgC3Cf,gBAhC2C,CAA7C;;AAiCA,UAAIuB,sBAAsB;AAAG;AAAe,gBAAUP,MAAV,EAAkB;AAC1D,gEAAUO,sBAAV,EAAkCP,MAAlC;;AACA,iBAASO,sBAAT,GAAkC;AAC9B,iBAAOP,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD26B,8BAAsB,CAAChxC,SAAvB,CAAiCmwC,YAAjC,GAAgD,YAAY;AACxD,iBAAOnF,MAAM,CAAC0B,WAAd;AACH,SAFD;;AAGAsE,8BAAsB,CAAChxC,SAAvB,CAAiCswC,aAAjC,GAAiD,YAAY;AACzD,iBAAOtF,MAAM,CAACyB,WAAd;AACH,SAFD;;AAGAuE,8BAAsB,CAAChxC,SAAvB,CAAiC4wC,YAAjC,GAAgD,UAAU/oC,CAAV,EAAa;AACzDmjC,gBAAM,CAACiG,MAAP,CAAcjG,MAAM,CAACyB,WAArB,EAAkC5kC,CAAlC;AACH,SAFD;;AAGAmpC,8BAAsB,CAAChxC,SAAvB,CAAiC6wC,aAAjC,GAAiD,UAAUhpC,CAAV,EAAa;AAC1DmjC,gBAAM,CAACiG,MAAP,CAAcppC,CAAd,EAAiBmjC,MAAM,CAAC0B,WAAxB;AACH,SAFD;;AAGAsE,8BAAsB,CAAChxC,SAAvB,CAAiC8vC,cAAjC,GAAkD,YAAY;AAC1D,iBAAOvuC,QAAQ,CAACC,eAAT,CAAyBsvC,WAAhC;AACH,SAFD;;AAGAE,8BAAsB,CAAChxC,SAAvB,CAAiC2vC,eAAjC,GAAmD,YAAY;AAC3D,iBAAOpuC,QAAQ,CAACC,eAAT,CAAyBuvC,YAAhC;AACH,SAFD;;AAGAC,8BAAsB,CAAChxC,SAAvB,CAAiC4vC,eAAjC,GAAmD,YAAY;AAC3D,iBAAOruC,QAAQ,CAACC,eAAT,CAAyBkpC,YAAhC;AACH,SAFD;;AAGAsG,8BAAsB,CAAChxC,SAAvB,CAAiC+vC,cAAjC,GAAkD,YAAY;AAC1D,iBAAOxuC,QAAQ,CAACC,eAAT,CAAyBopC,WAAhC;AACH,SAFD;;AAGA,eAAOoG,sBAAP;AACH,OA9B2C,CA8B1CvB,gBA9B0C,CAA5C;;AAgCA,UAAIyB,KAAK;AAAG;AAAe,kBAAY;AACnC,iBAASA,KAAT,CAAe5V,eAAf,EAAgC;AAC5B,cAAI,KAAK6V,kBAAT,EAA6B;AACzB,iBAAKC,eAAL,CAAqB9V,eAAe,CAAC,KAAK6V,kBAAN,CAApC;AACH;AACJ;;AACDD,aAAK,CAAClxC,SAAN,CAAgBoxC,eAAhB,GAAkC,UAAUC,gBAAV,EAA4B;AAC1D,cAAIC,eAAJ;AACA,cAAIC,UAAJ;;AACA,cAAI,OAAOF,gBAAP,KAA4B,QAA5B,IAAwCA,gBAA5C,EAA8D;AAAE;AAC5DC,2BAAe,GAAG,uDAAS,EAAT,EAAa,KAAKE,WAAlB,CAAlB;;AACA,iBAAKD,UAAL,IAAmBF,gBAAnB,EAAqC;AACjCC,6BAAe,CAACC,UAAD,CAAf,GAA8B,KAAKE,uBAAL,CAA6BJ,gBAAgB,CAACE,UAAD,CAA7C,CAA9B;AACH;;AACD,iBAAKC,WAAL,GAAmBF,eAAnB;AACH,WAND,MAOK,IAAID,gBAAgB,KAAK,KAAzB,EAAgC;AACjC,iBAAKG,WAAL,GAAmB,EAAnB;AACH;AACJ,SAbD;;AAcAN,aAAK,CAAClxC,SAAN,CAAgByxC,uBAAhB,GAA0C,UAAUpmB,SAAV,EAAqB;AAC3D,cAAIqmB,MAAM,GAAG,KAAKC,kBAAlB;;AACA,cAAID,MAAM,IAAIrmB,SAAS,CAACrP,OAAV,CAAkB01B,MAAlB,MAA8B,CAA5C,EAA+C;AAAE;AAC7CrmB,qBAAS,GAAGqmB,MAAM,GAAGrmB,SAArB;AACH;;AACD,iBAAOA,SAAP;AACH,SAND;;AAOA6lB,aAAK,CAAClxC,SAAN,CAAgBupC,QAAhB,GAA2B,UAAUt7B,GAAV,EAAe;AACtC,iBAAO,KAAK2jC,OAAL,CAAa3jC,GAAb,KAAqB,EAA5B;AACH,SAFD;;AAGAijC,aAAK,CAAClxC,SAAN,CAAgB6xC,YAAhB,GAA+B,UAAUN,UAAV,EAAsBO,KAAtB,EAA6B;AACxD,cAAIzmB,SAAJ;;AACA,cAAIymB,KAAK,IAAI,KAAKC,cAAlB,EAAkC;AAC9B1mB,qBAAS,GAAG,KAAK0mB,cAAL,CAAoBR,UAApB,KAAmC,KAAKC,WAAL,CAAiBD,UAAjB,CAA/C;AACH,WAFD,MAGK;AACDlmB,qBAAS,GAAG,KAAKmmB,WAAL,CAAiBD,UAAjB,CAAZ;AACH;;AACD,cAAIlmB,SAAJ,EAAe;AACX,mBAAO,KAAK2mB,aAAL,GAAqB,GAArB,GAA2B3mB,SAAlC;AACH;;AACD,iBAAO,EAAP;AACH,SAZD;;AAaA6lB,aAAK,CAAClxC,SAAN,CAAgBiyC,wBAAhB,GAA2C,UAAUC,iBAAV,EAA6B;AACpE,cAAI7mB,SAAJ;;AACA,cAAI,KAAK8mB,8BAAT,EAAyC;AACrC9mB,qBAAS,GAAG6mB,iBAAiB,CAAC,KAAKC,8BAAN,CAA7B;;AACA,gBAAI9mB,SAAJ,EAAe;AACX,qBAAO,KAAK2mB,aAAL,GAAqB,GAArB,GAA2B,KAAKP,uBAAL,CAA6BpmB,SAA7B,CAAlC;AACH;AACJ;;AACD,iBAAO,EAAP;AACH,SATD;;AAUA,eAAO6lB,KAAP;AACH,OAtD0B,EAA3B;;AAuDAA,WAAK,CAAClxC,SAAN,CAAgB4xC,OAAhB,GAA0B,EAA1B;AACAV,WAAK,CAAClxC,SAAN,CAAgBwxC,WAAhB,GAA8B,EAA9B;AACAN,WAAK,CAAClxC,SAAN,CAAgBgyC,aAAhB,GAAgC,EAAhC;AACAd,WAAK,CAAClxC,SAAN,CAAgB2xC,kBAAhB,GAAqC,EAArC;;AAEA,UAAIS,eAAe;AAAG;AAAe,kBAAY;AAC7C,iBAASA,eAAT,CAAyBC,QAAzB,EAAmC7c,OAAnC,EAA4C7X,UAA5C,EAAwD;AACpD,cAAIpH,KAAK,GAAG,IAAZ;;AACA,eAAK87B,QAAL,GAAgBA,QAAhB;AACA,eAAK7c,OAAL,GAAeA,OAAf;AACA,eAAK7X,UAAL,GAAkBA,UAAlB;;AACA,eAAK20B,mBAAL,GAA2B,UAAUC,OAAV,EAAmB;AAC1Ch8B,iBAAK,CAACi8B,aAAN,GAAsB,uDAAS,EAAT,EAAaj8B,KAAK,CAACi8B,aAAN,IAAuB,EAApC,EAAwCD,OAAxC,CAAtB;;AACAh8B,iBAAK,CAACk8B,KAAN;AACH,WAHD;;AAIAjd,iBAAO,CAACqE,EAAR,CAAW,gBAAX,EAA6B,KAAKyY,mBAAlC;AACA,eAAKI,iBAAL;AACH;;AACDN,uBAAe,CAACpyC,SAAhB,CAA0B2yC,MAA1B,GAAmC,YAAY;AAC3C,eAAKnd,OAAL,CAAa0E,GAAb,CAAiB,gBAAjB,EAAmC,KAAKoY,mBAAxC;AACH,SAFD;;AAGAF,uBAAe,CAACpyC,SAAhB,CAA0B4yC,MAA1B,GAAmC,UAAUC,UAAV,EAAsB;AACrD,cAAIA,UAAJ,EAAgB;AACZ,iBAAKH,iBAAL,GADY,CACc;AAC7B,WAFD,MAGK;AACD,iBAAKD,KAAL;AACH;AACJ,SAPD;;AAQAL,uBAAe,CAACpyC,SAAhB,CAA0B0yC,iBAA1B,GAA8C,YAAY;AACtD,eAAKJ,mBAAL,CAAyB;AACrBrU,gBAAI,EAAE,KAAKtgB;AADU,WAAzB;AAGH,SAJD;;AAKAy0B,uBAAe,CAACpyC,SAAhB,CAA0ByyC,KAA1B,GAAkC,YAAY;AAC1C,cAAI,KAAKD,aAAL,IAAsB,KAAKH,QAAL,CAAc,KAAKG,aAAnB,CAA1B,EAA6D;AACzD,iBAAKA,aAAL,GAAqB,IAArB;AACH;AACJ,SAJD;;AAKA,eAAOJ,eAAP;AACH,OAnCoC,EAArC;;AAqCA,UAAIU,eAAe,GAAG,+DAAc,EAAd,CAAtB,C,CAAyC;;AACzC,eAASC,gBAAT,CAA0BC,QAA1B,EAAoCld,OAApC,EAA6Cmd,WAA7C,EAA0DC,oBAA1D,EAAgFnjC,OAAhF,EAAyFu5B,KAAzF,EAAgG34B,WAAhG,EAA6GzQ,QAA7G,EAAuHk3B,cAAvH,EAAuI5B,OAAvI,EAAgJO,WAAhJ,EAA6Jod,4BAA7J,EAA2LC,8BAA3L,EAA2N;AACvN,eAAO;AACHrjC,iBAAO,EAAEA,OADN;AAEHa,iBAAO,EAAEqiC,WAFN;AAGHtiC,qBAAW,EAAEA,WAHV;AAIH6kB,iBAAO,EAAEA,OAJN;AAKHt1B,kBAAQ,EAAEA,QALP;AAMHk3B,wBAAc,EAAEA,cANb;AAOHrB,qBAAW,EAAEA,WAPV;AAQHid,kBAAQ,EAAEA,QARP;AASHld,iBAAO,EAAEA,OATN;AAUHod,8BAAoB,EAAEA,oBAVnB;AAWH5J,eAAK,EAAEA,KAXJ;AAYHwI,eAAK,EAAEmB,WAAW,CAAC53B,SAAZ,KAA0B,KAZ9B;AAaHg4B,0BAAgB,EAAE,0BAAUvvC,OAAV,EAAmB;AACjC0xB,mBAAO,CAACqE,EAAR,CAAW,SAAX,EAAsB/1B,OAAtB;AACH,WAfE;AAgBHwvC,6BAAmB,EAAE,6BAAUxvC,OAAV,EAAmB;AACpC0xB,mBAAO,CAAC0E,GAAR,CAAY,SAAZ,EAAuBp2B,OAAvB;AACH,WAlBE;AAmBHyvC,+BAAqB,EAAE,+BAAUlB,QAAV,EAAoB;AACvC,mBAAO,IAAID,eAAJ,CAAoBC,QAApB,EAA8B7c,OAA9B,EAAuCvjB,cAAc,CAACghC,WAAW,CAACt1B,UAAb,CAArD,CAAP;AACH,WArBE;AAsBHw1B,sCAA4B,EAAEA,4BAtB3B;AAuBHC,wCAA8B,EAAEA;AAvB7B,SAAP;AAyBH;AAED;;;AACA,UAAII,aAAa;AAAG;AAAe,gBAAU/C,MAAV,EAAkB;AACjD,gEAAU+C,aAAV,EAAyB/C,MAAzB;;AACA,iBAAS+C,aAAT,GAAyB;AACrB,iBAAO/C,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDm9B,qBAAa,CAACxzC,SAAd,CAAwByzC,qBAAxB,GAAgD,UAAUC,SAAV,EAAqBC,SAArB,EAAgC;AAC5E,cAAI,KAAKC,KAAT,EAAgB;AACZ;AACA5Z,mBAAO,CAAC6Z,GAAR,CAAYhlC,eAAe,CAAC6kC,SAAD,EAAY,KAAKtwC,KAAjB,CAA3B,EAAoDyL,eAAe,CAAC8kC,SAAD,EAAY,KAAKnZ,KAAjB,CAAnE;AACH;;AACD,iBAAO,CAACzrB,WAAW,CAAC,KAAK3L,KAAN,EAAaswC,SAAb,EAAwB,KAAKI,YAA7B,CAAZ,IACH,CAAC/kC,WAAW,CAAC,KAAKyrB,KAAN,EAAamZ,SAAb,EAAwB,KAAKI,aAA7B,CADhB;AAEH,SAPD;;AAQAP,qBAAa,CAACQ,gBAAd,GAAiCA,gBAAjC;AACAR,qBAAa,CAACS,gBAAd,GAAiCA,gBAAjC;AACAT,qBAAa,CAACU,WAAd,GAA4BpB,eAA5B;AACA,eAAOU,aAAP;AACH,OAjBkC,CAiBjC,kDAjBiC,CAAnC;;AAkBAA,mBAAa,CAACxzC,SAAd,CAAwB8zC,YAAxB,GAAuC,EAAvC;AACAN,mBAAa,CAACxzC,SAAd,CAAwB+zC,aAAxB,GAAwC,EAAxC;;AACA,UAAII,aAAa;AAAG;AAAe,gBAAU1D,MAAV,EAAkB;AACjD,gEAAU0D,aAAV,EAAyB1D,MAAzB;;AACA,iBAAS0D,aAAT,GAAyB;AACrB,iBAAO1D,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD89B,qBAAa,CAACD,WAAd,GAA4BpB,eAA5B;AACA,eAAOqB,aAAP;AACH,OAPkC,CAOjCX,aAPiC,CAAnC;;AAQA,eAASQ,gBAAT,CAA0BF,YAA1B,EAAwC;AACpC,YAAI/lC,IAAI,GAAGxN,MAAM,CAAC6zC,MAAP,CAAc,KAAKp0C,SAAL,CAAe8zC,YAA7B,CAAX;AACA,+DAAS/lC,IAAT,EAAe+lC,YAAf;AACA,aAAK9zC,SAAL,CAAe8zC,YAAf,GAA8B/lC,IAA9B;AACH;;AACD,eAASkmC,gBAAT,CAA0BF,aAA1B,EAAyC;AACrC,YAAIhmC,IAAI,GAAGxN,MAAM,CAAC6zC,MAAP,CAAc,KAAKp0C,SAAL,CAAe+zC,aAA7B,CAAX;AACA,+DAAShmC,IAAT,EAAegmC,aAAf;AACA,aAAK/zC,SAAL,CAAe+zC,aAAf,GAA+BhmC,IAA/B;AACH,O,CACD;;;AACA,eAASsmC,MAAT,CAAgBC,GAAhB,EAAqBC,OAArB,EAA8B;AAC1B,YAAI,OAAOD,GAAP,KAAe,UAAnB,EAA+B;AAC3BA,aAAG,CAACC,OAAD,CAAH;AACH,SAFD,MAGK,IAAID,GAAJ,EAAS;AACV;AACAA,aAAG,CAACC,OAAJ,GAAcA,OAAd;AACH;AACJ;;AAED,eAASC,gBAAT,CAA0B/jC,UAA1B,EAAsCmoB,MAAtC,EAA8C9Q,YAA9C,EAA4DwP,WAA5D,EAAyEx3B,OAAzE,EAAkF;AAC9E,gBAAQ84B,MAAM,CAACz4B,IAAf;AACI,eAAK,gBAAL;AAAuB;AACnB,mBAAOs0C,gBAAgB,CAAChkC,UAAD,EAAaqX,YAAY,CAAC8Q,MAAM,CAACx4B,QAAR,CAAzB,EAA4Cw4B,MAAM,CAAC8b,OAAnD,EAA4D9b,MAAM,CAACP,UAAnE,EAA+EO,MAAM,CAAC3P,SAAtF,EAAiGnpB,OAAjG,CAAvB;;AACJ,eAAK,YAAL;AAAmB;AACf,mBAAOq8B,QAAQ,CAAC1rB,UAAD,EAAamoB,MAAM,CAACnoB,UAApB,EAAgC;AAC/C6mB,uBAAW,GAAGA,WAAW,CAACC,WAAf,GAA6B,IADzB,EAC+Bz3B,OAD/B,CAAf;;AAEJ,eAAK,cAAL;AACI,mBAAO84B,MAAM,CAACnoB,UAAd;;AACJ,eAAK,cAAL;AAAqB;AACjB,mBAAO2Z,gBAAgB,CAAC3Z,UAAD,EAAamoB,MAAM,CAACnoB,UAApB,CAAvB;;AACJ,eAAK,MAAL,CAVJ,CAUiB;;AACb,eAAK,MAAL;AACA,eAAK,aAAL;AACA,eAAK,kBAAL;AACI,gBAAI6mB,WAAJ,EAAiB;AACb,qBAAO9mB,eAAe,CAACC,UAAD,EAAa6mB,WAAW,CAACC,WAAzB,EAAsCz3B,OAAtC,CAAtB;AACH;;AACD,mBAAO2Q,UAAP;;AACJ,eAAK,eAAL;AACI,mBAAO+Z,oBAAoB,CAAC/Z,UAAD,EAAamoB,MAAM,CAACnoB,UAApB,CAA3B;;AACJ,eAAK,qBAAL;AACI,mBAAOkkC,uBAAuB,CAAClkC,UAAD,EAAamoB,MAAM,CAACx4B,QAApB,CAA9B;;AACJ,eAAK,0BAAL;AACI,mBAAO0pB,oBAAoB,CAACrZ,UAAD,EAAa,UAAUgB,QAAV,EAAoB;AAAE,qBAAQ,CAACA,QAAQ,CAACrR,QAAlB,CAA2B;AAA3B;AAC1D,aADuB,CAA3B;;AAEJ,eAAK,mBAAL;AACI,mBAAOgpB,qBAAqB,EAA5B;;AACJ;AACI,mBAAO3Y,UAAP;AA5BR;AA8BH;;AACD,eAASgkC,gBAAT,CAA0BhkC,UAA1B,EAAsCyY,WAAtC,EAAmDwrB,OAAnD,EAA4Drc,UAA5D,EAAwEpP,SAAxE,EAAmFnpB,OAAnF,EAA4F;AACxF,YAAIopB,WAAW,IAAI;AACfwrB,eAAO,KAAKxrB,WAAW,CAACkP,aAD5B,CAC0C;AAD1C,UAEE;AACE,gBAAIwc,MAAM,GAAG5rB,WAAW,CAAC6rB,kBAAkB,CAAC5rB,SAAD,EAAYC,WAAZ,EAAyBppB,OAAzB,CAAnB,EAAsDopB,WAAtD,EAAmEppB,OAAnE,CAAxB;;AACA,gBAAIu4B,UAAJ,EAAgB;AACZuc,oBAAM,GAAGpkC,eAAe,CAACokC,MAAD,EAASvc,UAAT,EAAqBv4B,OAArB,CAAxB;AACH;;AACD,mBAAOsqB,gBAAgB,CAACuqB,uBAAuB,CAAClkC,UAAD,EAAayY,WAAW,CAAC9oB,QAAzB,CAAxB,EAA4Dw0C,MAA5D,CAAvB;AACH;;AACD,eAAOnkC,UAAP;AACH;;AACD,eAASokC,kBAAT,CAA4B5rB,SAA5B,EAAuCC,WAAvC,EAAoDppB,OAApD,EAA6D;AACzD,YAAIg1C,gBAAgB,GAAGh1C,OAAO,CAAC8Q,OAAR,CAAgBoR,kBAAvC;AACA,YAAI+yB,mBAAmB,GAAG7rB,WAAW,GAAGA,WAAW,CAAClH,kBAAf,GAAoC,IAAzE;;AACA,YAAI+yB,mBAAJ,EAAyB;AACrB9rB,mBAAS,GAAG+rB,qBAAqB,CAAC/rB,SAAD,EAAY8rB,mBAAZ,CAAjC;AACH;;AACD,YAAID,gBAAJ,EAAsB;AAClB7rB,mBAAS,GAAG+rB,qBAAqB,CAAC/rB,SAAD,EAAY6rB,gBAAZ,CAAjC;AACH;;AACD,eAAO7rB,SAAP;AACH;;AACD,eAAS+rB,qBAAT,CAA+B/rB,SAA/B,EAA0CtiB,IAA1C,EAAgD;AAC5C,YAAIsuC,aAAJ;;AACA,YAAI,CAACtuC,IAAL,EAAW;AACPsuC,uBAAa,GAAGhsB,SAAhB;AACH,SAFD,MAGK;AACDgsB,uBAAa,GAAG,EAAhB;;AACA,eAAK,IAAI5mC,EAAE,GAAG,CAAT,EAAYkb,WAAW,GAAGN,SAA/B,EAA0C5a,EAAE,GAAGkb,WAAW,CAAC/mB,MAA3D,EAAmE6L,EAAE,EAArE,EAAyE;AACrE,gBAAImb,QAAQ,GAAGD,WAAW,CAAClb,EAAD,CAA1B;AACA,gBAAI6mC,YAAY,GAAGvuC,IAAI,CAAC6iB,QAAD,CAAvB;;AACA,gBAAI0rB,YAAJ,EAAkB;AACdD,2BAAa,CAACtyC,IAAd,CAAmBuyC,YAAnB;AACH,aAFD,MAGK,IAAIA,YAAY,IAAI,IAApB,EAA0B;AAC3BD,2BAAa,CAACtyC,IAAd,CAAmB6mB,QAAnB;AACH,aARoE,CAQnE;;AACL;AACJ;;AACD,eAAOyrB,aAAP;AACH;;AACD,eAAS9Y,QAAT,CAAkB1rB,UAAlB,EAA8BmkC,MAA9B,EAAsCO,WAAtC,EAAmDr1C,OAAnD,EAA4D;AACxD,YAAIq1C,WAAJ,EAAiB;AACbP,gBAAM,GAAGpkC,eAAe,CAACokC,MAAD,EAASO,WAAT,EAAsBr1C,OAAtB,CAAxB;AACH;;AACD,eAAOsqB,gBAAgB,CAAC3Z,UAAD,EAAamkC,MAAb,CAAvB;AACH;;AACD,eAASQ,qBAAT,CAA+B3kC,UAA/B,EAA2C4kC,UAA3C,EAAuDC,UAAvD,EAAmE;AAC/D,YAAIzkC,IAAI,GAAGJ,UAAU,CAACI,IAAtB;AACA,YAAIC,SAAS,GAAG5C,OAAO,CAACuC,UAAU,CAACK,SAAZ,EAAuB,UAAUC,QAAV,EAAoB;AAC9D,cAAIE,GAAG,GAAGJ,IAAI,CAACE,QAAQ,CAAChE,KAAV,CAAd;;AACA,cAAIkE,GAAG,CAACd,MAAJ,IAAcc,GAAG,CAACD,YAAtB,EAAoC;AAChC,mBAAOD,QAAP,CADgC,CACf;AACpB;;AACD,iBAAO,uDAAS,uDAAS,EAAT,EAAaA,QAAb,CAAT,EAAiC;AAAE/D,iBAAK,EAAE;AACzCuE,mBAAK,EAAE+jC,UAAU,CAAC1mB,YAAX,CAAwBymB,UAAU,CAACtgB,MAAX,CAAkBhkB,QAAQ,CAAC/D,KAAT,CAAeuE,KAAjC,EAAwCR,QAAQ,CAAC9D,cAAjD,CAAxB,CADkC;AAEzCuE,iBAAG,EAAE8jC,UAAU,CAAC1mB,YAAX,CAAwBymB,UAAU,CAACtgB,MAAX,CAAkBhkB,QAAQ,CAAC/D,KAAT,CAAewE,GAAjC,EAAsCT,QAAQ,CAAC7D,YAA/C,CAAxB;AAFoC,aAAT;AAGjCD,0BAAc,EAAEqoC,UAAU,CAAC3U,gBAAX,GAA8B,IAA9B,GAAqC5vB,QAAQ,CAAC9D,cAH7B;AAG6CC,wBAAY,EAAEooC,UAAU,CAAC3U,gBAAX,GAA8B,IAA9B,GAAqC5vB,QAAQ,CAAC7D;AAHzG,WAAjC,CAAP;AAIH,SATsB,CAAvB;AAUA,eAAO;AAAE2D,cAAI,EAAEA,IAAR;AAAcC,mBAAS,EAAEA;AAAzB,SAAP;AACH;;AACD,eAAS6jC,uBAAT,CAAiClkC,UAAjC,EAA6CrQ,QAA7C,EAAuD;AACnD,eAAO0pB,oBAAoB,CAACrZ,UAAD,EAAa,UAAUgB,QAAV,EAAoB;AAAE,iBAAOA,QAAQ,CAACrR,QAAT,KAAsBA,QAA7B;AAAwC,SAA3E,CAA3B;AACH,O,CACD;;;AACA,eAASm1C,gBAAT,CAA0B9kC,UAA1B,EAAsC+kC,QAAtC,EAAgD;AAC5C,eAAO;AACH3kC,cAAI,EAAEJ,UAAU,CAACI,IADd;AAEHC,mBAAS,EAAEhD,UAAU,CAAC2C,UAAU,CAACK,SAAZ,EAAuB,UAAUC,QAAV,EAAoB;AAAE,mBAAO,CAACykC,QAAQ,CAACzkC,QAAQ,CAAC5D,UAAV,CAAhB;AAAwC,WAArF;AAFlB,SAAP;AAIH,O,CAED;AACA;;;AACA,eAASsoC,kBAAT,CAA4BpN,WAA5B,EAAyCvoC,OAAzC,EAAkD;AAC9C,eAAO41C,eAAe,CAAC;AAAEpO,mBAAS,EAAEe;AAAb,SAAD,EAA6BvoC,OAA7B,CAAtB,CAD8C,CACe;AAChE;;AACD,eAAS61C,oBAAT,CAA8BzZ,aAA9B,EAA6Cp8B,OAA7C,EAAsD;AAClD,eAAO41C,eAAe,CAAC;AAAExZ,uBAAa,EAAEA;AAAjB,SAAD,EAAmCp8B,OAAnC,CAAtB;AACH;;AACD,eAAS41C,eAAT,CAAyBzmC,QAAzB,EAAmCnP,OAAnC,EAA4C;AACxC,YAAI81C,aAAa,GAAG91C,OAAO,CAACs3B,cAAR,EAApB;AACA,YAAIh0B,KAAK,GAAG,uDAAS;AAAEye,uBAAa,EAAE+zB,aAAa,CAAC/zB,aAA/B;AAA8Cqa,uBAAa,EAAE,EAA7D;AAAiEzrB,oBAAU,EAAEmlC,aAAa,CAACnlC,UAA3F;AAAuGuf,sBAAY,EAAE4lB,aAAa,CAAC5lB,YAAnI;AAAiJ6X,wBAAc,EAAE,EAAjK;AAAqKP,mBAAS,EAAE,IAAhL;AAAsLE,qBAAW,EAAE;AAAnM,SAAT,EAAoNv4B,QAApN,CAAZ;AACA,eAAO,CAACnP,OAAO,CAAC6Q,WAAR,CAAoBklC,YAApB,IAAoCA,YAArC,EAAmDzyC,KAAnD,EAA0DtD,OAA1D,CAAP;AACH;;AACD,eAAS+1C,YAAT,CAAsBrb,KAAtB,EAA6B16B,OAA7B,EAAsCg2C,YAAtC,EAAoDC,YAApD,EAAkE;AAC9D,YAAID,YAAY,KAAK,KAAK,CAA1B,EAA6B;AAAEA,sBAAY,GAAG,EAAf;AAAoB;;AACnD,YAAItb,KAAK,CAAC8M,SAAN,IAAmB,CAAC0O,uBAAuB,CAACxb,KAAD,EAAQ16B,OAAR,EAAiBg2C,YAAjB,EAA+BC,YAA/B,CAA/C,EAA6F;AACzF,iBAAO,KAAP;AACH;;AACD,YAAIvb,KAAK,CAAC0B,aAAN,IAAuB,CAAC+Z,yBAAyB,CAACzb,KAAD,EAAQ16B,OAAR,EAAiBg2C,YAAjB,EAA+BC,YAA/B,CAArD,EAAmG;AAC/F,iBAAO,KAAP;AACH;;AACD,eAAO,IAAP;AACH,O,CACD;AACA;;;AACA,eAASC,uBAAT,CAAiCxb,KAAjC,EAAwC16B,OAAxC,EAAiDg2C,YAAjD,EAA+DC,YAA/D,EAA6E;AACzE,YAAIG,YAAY,GAAGp2C,OAAO,CAACs3B,cAAR,EAAnB;AACA,YAAIiR,WAAW,GAAG7N,KAAK,CAAC8M,SAAxB,CAFyE,CAEtC;;AACnC,YAAI6O,iBAAiB,GAAG9N,WAAW,CAACK,aAApC;AACA,YAAI0N,WAAW,GAAGD,iBAAiB,CAACtlC,IAApC;AACA,YAAIwlC,gBAAgB,GAAGF,iBAAiB,CAACrlC,SAAzC;AACA,YAAIwlC,cAAc,GAAG/lB,eAAe,CAAC6lB,WAAD,EAAc/N,WAAW,CAACQ,OAAZ,GAC9CrO,KAAK,CAACxK,YADwC,GAE9C;AAAE,cAAIkmB,YAAY,CAACK;AAAnB,SAFgC,CAApC;;AAGA,YAAIR,YAAJ,EAAkB;AACdO,wBAAc,GAAGpoC,OAAO,CAACooC,cAAD,EAAiBP,YAAjB,CAAxB;AACH,SAXwE,CAYzE;;;AACA,YAAIS,eAAe,GAAGjB,gBAAgB,CAAC/a,KAAK,CAAC/pB,UAAP,EAAmB43B,WAAW,CAACG,cAAZ,CAA2B13B,SAA9C,CAAtC;AACA,YAAI2lC,SAAS,GAAGD,eAAe,CAAC3lC,IAAhC;AACA,YAAI6lC,cAAc,GAAGF,eAAe,CAAC1lC,SAArC;AACA,YAAI6lC,YAAY,GAAGpmB,eAAe,CAACkmB,SAAD,EAAYjc,KAAK,CAACxK,YAAlB,CAAlC;;AACA,aAAK,IAAI4mB,iBAAT,IAA8BP,gBAA9B,EAAgD;AAC5C,cAAIQ,eAAe,GAAGR,gBAAgB,CAACO,iBAAD,CAAtC;AACA,cAAIE,YAAY,GAAGD,eAAe,CAAC7pC,KAAnC;AACA,cAAI+pC,aAAa,GAAGT,cAAc,CAACO,eAAe,CAAC9pC,KAAjB,CAAlC;AACA,cAAIiqC,UAAU,GAAGZ,WAAW,CAACS,eAAe,CAAC9pC,KAAjB,CAA5B,CAJ4C,CAK5C;;AACA,cAAI,CAACkqC,kBAAkB,CAACF,aAAa,CAACprB,WAAf,EAA4BmrB,YAA5B,EAA0CN,eAA1C,EAA2Dhc,KAAK,CAAC3Y,aAAjE,EAAgF/hB,OAAhF,CAAvB,EAAiH;AAC7G,mBAAO,KAAP;AACH,WAR2C,CAS5C;;;AACA,cAAI2iB,YAAY,GAAG3iB,OAAO,CAAC8Q,OAAR,CAAgB6R,YAAnC;AACA,cAAIy0B,gBAAgB,GAAG,OAAOz0B,YAAP,KAAwB,UAAxB,GAAqCA,YAArC,GAAoD,IAA3E;;AACA,eAAK,IAAI00B,eAAT,IAA4BT,cAA5B,EAA4C;AACxC,gBAAIU,aAAa,GAAGV,cAAc,CAACS,eAAD,CAAlC,CADwC,CAExC;;AACA,gBAAI1nB,eAAe,CAACqnB,YAAD,EAAeM,aAAa,CAACpqC,KAA7B,CAAnB,EAAwD;AACpD,kBAAIqqC,YAAY,GAAGV,YAAY,CAACS,aAAa,CAACrqC,KAAf,CAAZ,CAAkCoe,OAArD,CADoD,CAEpD;;AACA,kBAAIksB,YAAY,KAAK,KAAjB,IAA0BhP,WAAW,CAACQ,OAA1C,EAAmD;AAC/C,uBAAO,KAAP;AACH;;AACD,kBAAIkO,aAAa,CAAC5rB,OAAd,KAA0B,KAA9B,EAAqC;AACjC,uBAAO,KAAP;AACH;;AACD,kBAAI+rB,gBAAgB,IAAI,CAACA,gBAAgB,CAAC,IAAI5a,QAAJ,CAAax8B,OAAb,EAAsB22C,SAAS,CAACW,aAAa,CAACrqC,KAAf,CAA/B,EAAsDqqC,aAAtD,CAAD,EAAuE;AAChH,kBAAI9a,QAAJ,CAAax8B,OAAb,EAAsBk3C,UAAtB,EAAkCH,eAAlC,CADyC,CAAzC,EACqD;AACjD,uBAAO,KAAP;AACH;AACJ;AACJ,WA7B2C,CA8B5C;;;AACA,cAAIS,kBAAkB,GAAGpB,YAAY,CAACzlC,UAAtC,CA/B4C,CA+BM;;AAClD,eAAK,IAAIpC,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAG4kC,aAAa,CAACnrB,MAApC,EAA4Cvd,EAAE,GAAG8D,EAAE,CAAC3P,MAApD,EAA4D6L,EAAE,EAA9D,EAAkE;AAC9D,gBAAIkpC,YAAY,GAAGplC,EAAE,CAAC9D,EAAD,CAArB;AACA,gBAAImpC,eAAe,GAAG,uDAAS,uDAAS,EAAT,EAAa1B,YAAb,CAAT,EAAqC;AAAE9oC,mBAAK,EAAE6pC,eAAe,CAAC7pC,KAAzB;AAAgCmD,oBAAM,EAAE6mC,UAAU,CAAC7mC;AAAnD,aAArC,CAAtB;AACA,gBAAIsnC,OAAO,GAAGH,kBAAkB,CAACzmC,IAAnB,CAAwBmmC,UAAU,CAACjqC,KAAnC,CAAd;AACA,gBAAI2qC,YAAY,GAAGJ,kBAAkB,CAACxmC,SAAnB,CAA6B8lC,iBAA7B,CAAnB;AACA,gBAAI9Z,QAAQ,GAAG,KAAK,CAApB;;AACA,gBAAI2a,OAAJ,EAAa;AAAE;AACX3a,sBAAQ,GAAG,IAAIR,QAAJ,CAAax8B,OAAb,EAAsB23C,OAAtB,EAA+BC,YAA/B,CAAX;AACH,aAFD,MAGK;AAAE;AACH5a,sBAAQ,GAAG,IAAIR,QAAJ,CAAax8B,OAAb,EAAsBk3C,UAAtB,CAAX,CADC,CAC6C;AACjD;;AACD,gBAAI,CAACO,YAAY,CAAC7hB,2BAA2B,CAAC8hB,eAAD,EAAkB13C,OAAlB,CAA5B,EAAwDg9B,QAAxD,CAAjB,EAAoF;AAChF,qBAAO,KAAP;AACH;AACJ;AACJ;;AACD,eAAO,IAAP;AACH,O,CACD;AACA;;;AACA,eAASmZ,yBAAT,CAAmCzb,KAAnC,EAA0C16B,OAA1C,EAAmDg2C,YAAnD,EAAiEC,YAAjE,EAA+E;AAC3E,YAAI4B,kBAAkB,GAAGnd,KAAK,CAAC/pB,UAA/B;AACA,YAAImnC,YAAY,GAAGD,kBAAkB,CAAC9mC,IAAtC;AACA,YAAIgnC,iBAAiB,GAAGF,kBAAkB,CAAC7mC,SAA3C;AACA,YAAIwkB,SAAS,GAAGkF,KAAK,CAAC0B,aAAtB;AACA,YAAI4b,cAAc,GAAGxiB,SAAS,CAACtoB,KAA/B;AACA,YAAIupC,eAAe,GAAGz2C,OAAO,CAACs3B,cAAR,GAAyBmf,eAA/C;;AACA,YAAIR,YAAJ,EAAkB;AACdQ,yBAAe,GAAGR,YAAY,CAACQ,eAAD,CAA9B;AACH,SAT0E,CAU3E;;;AACA,YAAI,CAACU,kBAAkB,CAACV,eAAe,CAAC5qB,WAAjB,EAA8BmsB,cAA9B,EAA8CH,kBAA9C,EAAkEnd,KAAK,CAAC3Y,aAAxE,EAAuF/hB,OAAvF,CAAvB,EAAwH;AACpH,iBAAO,KAAP;AACH,SAb0E,CAc3E;;;AACA,YAAIujB,aAAa,GAAGvjB,OAAO,CAAC8Q,OAAR,CAAgByS,aAApC;AACA,YAAI00B,iBAAiB,GAAG,OAAO10B,aAAP,KAAyB,UAAzB,GAAsCA,aAAtC,GAAsD,IAA9E;;AACA,aAAK,IAAI20B,kBAAT,IAA+BH,iBAA/B,EAAkD;AAC9C,cAAII,gBAAgB,GAAGJ,iBAAiB,CAACG,kBAAD,CAAxC,CAD8C,CAE9C;;AACA,cAAIvoB,eAAe,CAACqoB,cAAD,EAAiBG,gBAAgB,CAACjrC,KAAlC,CAAnB,EAA6D;AACzD,gBAAIupC,eAAe,CAACprB,OAAhB,KAA4B,KAAhC,EAAuC;AACnC,qBAAO,KAAP;AACH;;AACD,gBAAI4sB,iBAAiB,IAAI,CAACA,iBAAiB,CAAC,IAAIzb,QAAJ,CAAax8B,OAAb,EAAsB83C,YAAY,CAACK,gBAAgB,CAAClrC,KAAlB,CAAlC,EAA4DkrC,gBAA5D,CAAD,EAAgF,IAAhF,CAA3C,EAAkI;AAC9H,qBAAO,KAAP;AACH;AACJ;AACJ,SA5B0E,CA6B3E;;;AACA,aAAK,IAAI5pC,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAGokC,eAAe,CAAC3qB,MAAtC,EAA8Cvd,EAAE,GAAG8D,EAAE,CAAC3P,MAAtD,EAA8D6L,EAAE,EAAhE,EAAoE;AAChE,cAAI6pC,cAAc,GAAG/lC,EAAE,CAAC9D,EAAD,CAAvB;AACA,cAAI8pC,YAAY,GAAG,uDAAS,uDAAS,EAAT,EAAarC,YAAb,CAAT,EAAqCxgB,SAArC,CAAnB;;AACA,cAAI,CAAC4iB,cAAc,CAACxiB,2BAA2B,CAACyiB,YAAD,EAAer4C,OAAf,CAA5B,EAAqD,IAArD,CAAnB,EAA+E;AAC3E,mBAAO,KAAP;AACH;AACJ;;AACD,eAAO,IAAP;AACH,O,CACD;AACA;;;AACA,eAASm3C,kBAAT,CAA4BtrB,WAA5B,EAAyCmrB,YAAzC,EAAuDN,eAAvD,EAAwE4B,uBAAxE,EAAiGt4C,OAAjG,EAA0G;AACtG,aAAK,IAAIuO,EAAE,GAAG,CAAT,EAAYgqC,aAAa,GAAG1sB,WAAjC,EAA8Ctd,EAAE,GAAGgqC,aAAa,CAAC71C,MAAjE,EAAyE6L,EAAE,EAA3E,EAA+E;AAC3E,cAAI6c,UAAU,GAAGmtB,aAAa,CAAChqC,EAAD,CAA9B;;AACA,cAAI,CAACiqC,qBAAqB,CAACC,kBAAkB,CAACrtB,UAAD,EAAa4rB,YAAb,EAA2BN,eAA3B,EAA4C4B,uBAA5C,EAAqEt4C,OAArE,CAAnB,EAAkGg3C,YAAlG,CAA1B,EAA2I;AACvI,mBAAO,KAAP;AACH;AACJ;;AACD,eAAO,IAAP;AACH;;AACD,eAASyB,kBAAT,CAA4BrtB,UAA5B,EAAwC4rB,YAAxC,EAAsD;AACtDN,qBADA,EACiB;AACjB4B,6BAFA,EAEyB;AACzBt4C,aAHA,EAGS;AACL,YAAIorB,UAAU,KAAK,eAAnB,EAAoC;AAChC,iBAAOstB,kBAAkB,CAAChoC,eAAe,CAAC4nC,uBAAD,EAA0BtB,YAA1B,EAAwCh3C,OAAxC,CAAhB,CAAzB;AACH;;AACD,YAAI,OAAOorB,UAAP,KAAsB,QAA1B,EAAoC;AAAE;AAClC,iBAAOstB,kBAAkB,CAAC1uB,oBAAoB,CAAC0sB,eAAD,EAAkB,UAAU/kC,QAAV,EAAoB;AAAE,mBAAOA,QAAQ,CAAC0Y,OAAT,KAAqBe,UAA5B;AAAyC,WAAjF,CAArB,CAAzB;AACH;;AACD,YAAI,OAAOA,UAAP,KAAsB,QAAtB,IAAkCA,UAAtC,EAAkD;AAAE;AAChD,iBAAOstB,kBAAkB,CAAChoC,eAAe,CAAC0a,UAAD,EAAa4rB,YAAb,EAA2Bh3C,OAA3B,CAAhB,CAAzB;AACH;;AACD,eAAO,EAAP,CAVK,CAUM;AACd,O,CACD;;;AACA,eAAS04C,kBAAT,CAA4B/nC,UAA5B,EAAwC;AACpC,YAAIK,SAAS,GAAGL,UAAU,CAACK,SAA3B;AACA,YAAIge,MAAM,GAAG,EAAb;;AACA,aAAK,IAAI3hB,UAAT,IAAuB2D,SAAvB,EAAkC;AAC9Bge,gBAAM,CAACnsB,IAAP,CAAYmO,SAAS,CAAC3D,UAAD,CAAT,CAAsBH,KAAlC;AACH;;AACD,eAAO8hB,MAAP;AACH,O,CACD;;;AACA,eAASwpB,qBAAT,CAA+BG,WAA/B,EAA4C7oB,UAA5C,EAAwD;AACpD,aAAK,IAAIvhB,EAAE,GAAG,CAAT,EAAYqqC,aAAa,GAAGD,WAAjC,EAA8CpqC,EAAE,GAAGqqC,aAAa,CAACl2C,MAAjE,EAAyE6L,EAAE,EAA3E,EAA+E;AAC3E,cAAIshB,UAAU,GAAG+oB,aAAa,CAACrqC,EAAD,CAA9B;;AACA,cAAIqhB,kBAAkB,CAACC,UAAD,EAAaC,UAAb,CAAtB,EAAgD;AAC5C,mBAAO,IAAP;AACH;AACJ;;AACD,eAAO,KAAP;AACH;AAED;AACA;;AAEA;AACA;AACA;AACA;;;AACA,UAAI+oB,aAAa;AAAG;AAAe,gBAAUlI,MAAV,EAAkB;AACjD,gEAAUkI,aAAV,EAAyBlI,MAAzB;;AACA,iBAASkI,aAAT,GAAyB;AACrB,cAAIpiC,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAACqiC,GAAN,GAAYxzC,IAAI,EAAhB;AACA,iBAAOmR,KAAP;AACH,SANgD,CAOjD;AACA;;;AACAoiC,qBAAa,CAAC34C,SAAd,CAAwB64C,WAAxB,GAAsC,YAAY,CACjD,CADD;;AAEAF,qBAAa,CAAC34C,SAAd,CAAwB84C,QAAxB,GAAmC,UAAUC,YAAV,EAAwBC,WAAxB,EAAqCC,OAArC,EAA8CC,QAA9C,EAAwD;AACvF,iBAAO,IAAP,CADuF,CAC1E;AAChB,SAFD,CAXiD,CAcjD;AACA;;;AACAP,qBAAa,CAAC34C,SAAd,CAAwBy1C,kBAAxB,GAA6C,UAAUpN,WAAV,EAAuB;AAChE,cAAI/Q,WAAW,GAAG,KAAKl0B,KAAL,CAAWk0B,WAA7B,CADgE,CACtB;;AAC1C,cAAIxmB,SAAS,GAAGu3B,WAAW,CAACK,aAAZ,CAA0B53B,SAA1C;;AACA,cAAIwmB,WAAJ,EAAiB;AAAE;AACf,iBAAK,IAAInqB,UAAT,IAAuB2D,SAAvB,EAAkC;AAC9B,kBAAI,CAAC4e,kBAAkB,CAAC4H,WAAW,CAACvR,UAAb,EAAyBjV,SAAS,CAAC3D,UAAD,CAAT,CAAsBH,KAA/C,CAAvB,EAA8E;AAC1E,uBAAO,KAAP;AACH;AACJ;AACJ;;AACD,iBAAOyoC,kBAAkB,CAACpN,WAAD,EAAc,KAAKvoC,OAAnB,CAAzB;AACH,SAXD;;AAYA64C,qBAAa,CAAC34C,SAAd,CAAwB21C,oBAAxB,GAA+C,UAAUrgB,SAAV,EAAqB;AAChE,cAAIgC,WAAW,GAAG,KAAKl0B,KAAL,CAAWk0B,WAA7B,CADgE,CACtB;;AAC1C,cAAIA,WAAW,IAAI;AACf,WAAC5H,kBAAkB,CAAC4H,WAAW,CAACvR,UAAb,EAAyBuP,SAAS,CAACtoB,KAAnC,CADvB,EACkE;AAC9D,mBAAO,KAAP;AACH;;AACD,iBAAO2oC,oBAAoB,CAACrgB,SAAD,EAAY,KAAKx1B,OAAjB,CAA3B;AACH,SAPD,CA5BiD,CAoCjD;AACA;;;AACA64C,qBAAa,CAAC34C,SAAd,CAAwBm5C,gBAAxB,GAA2C,UAAUl4C,EAAV,EAAc;AACrD,iBAAO,CAAC,KAAKmC,KAAL,CAAWkkC,SAAZ,IAAyB;AAC5B,WAAC,KAAKlkC,KAAL,CAAWokC,WADT,IACwB;AAC3B,WAACpmC,cAAc,CAACH,EAAD,EAAK,kBAAL,CAFnB;AAGH,SAJD;;AAKA03C,qBAAa,CAAC34C,SAAd,CAAwBo5C,iBAAxB,GAA4C,UAAUn4C,EAAV,EAAc;AACtD,iBAAO,CAACG,cAAc,CAACH,EAAD,EAAK,6BAAL,CAAf,IACH,CAACG,cAAc,CAACH,EAAD,EAAK,uBAAL,CADZ,IAC6C;AAChD,WAACG,cAAc,CAACH,EAAD,EAAK,iBAAL,CAFZ,IAEuC;AAC1C,WAACG,cAAc,CAACH,EAAD,EAAK,aAAL,CAHnB,CADsD,CAId;AAC3C,SALD;;AAMA,eAAO03C,aAAP;AACH,OAlDkC,CAkDjCxE,aAlDiC,CAAnC,C,CAoDA;;;AACA,eAASkF,YAAT,CAAsBrzC,KAAtB,EAA6B;AACzB,eAAO;AACHqmB,YAAE,EAAEjnB,IAAI,EADL;AAEHk0C,cAAI,EAAEtzC,KAAK,CAACszC,IAAN,IAAc,EAFjB;AAGHC,kBAAQ,EAAEvzC,KAAK,CAACuzC,QAAN,IAAkB,EAHzB;AAIHC,wBAAc,EAAExzC,KAAK,CAACwzC,cAAN,IAAwB,EAJrC;AAKHC,qBAAW,EAAE,GAAGhtC,MAAH,CAAUzG,KAAK,CAACyzC,WAAN,IAAqB,EAA/B,CALV;AAMHpwB,uBAAa,EAAErjB,KAAK,CAACqjB,aAAN,IAAuB,EANnC;AAOH6D,8BAAoB,EAAElnB,KAAK,CAACknB,oBAAN,IAA8B,EAPjD;AAQHqL,6BAAmB,EAAEvyB,KAAK,CAACuyB,mBAAN,IAA6B,EAR/C;AASHpG,iCAAuB,EAAEnsB,KAAK,CAACmsB,uBAAN,IAAiC,EATvD;AAUHunB,oCAA0B,EAAE1zC,KAAK,CAAC0zC,0BAAN,IAAoC,EAV7D;AAWH5iB,kCAAwB,EAAE9wB,KAAK,CAAC8wB,wBAAN,IAAkC,EAXzD;AAYH6iB,mCAAyB,EAAE3zC,KAAK,CAAC2zC,yBAAN,IAAmC,EAZ3D;AAaHC,6BAAmB,EAAE5zC,KAAK,CAAC4zC,mBAAN,IAA6B,EAb/C;AAcH3jB,4BAAkB,EAAEjwB,KAAK,CAACiwB,kBAAN,IAA4B,EAd7C;AAeHtO,eAAK,EAAE3hB,KAAK,CAAC2hB,KAAN,IAAe,EAfnB;AAgBHkyB,+BAAqB,EAAE7zC,KAAK,CAAC6zC,qBAAN,IAA+B,EAhBnD;AAiBHhE,sBAAY,EAAE7vC,KAAK,CAAC6vC,YAAN,IAAsB,IAjBjC;AAkBHiE,+BAAqB,EAAE9zC,KAAK,CAAC8zC,qBAAN,IAA+B,EAlBnD;AAmBHC,mCAAyB,EAAE/zC,KAAK,CAAC+zC,yBAAN,IAAmC,EAnB3D;AAoBHC,8BAAoB,EAAEh0C,KAAK,CAACg0C,oBAAN,IAA8B,EApBjD;AAqBHC,+BAAqB,EAAEj0C,KAAK,CAACi0C,qBAAN,IAA+B,EArBnD;AAsBHC,+BAAqB,EAAEl0C,KAAK,CAACk0C,qBAAN,IAA+B,EAtBnD;AAuBHC,8BAAoB,EAAEn0C,KAAK,CAACm0C,oBAAN,IAA8B,EAvBjD;AAwBHC,sBAAY,EAAEp0C,KAAK,CAACo0C,YAAN,IAAsB,EAxBjC;AAyBH5hB,yBAAe,EAAExyB,KAAK,CAACwyB,eAAN,IAAyB,EAzBvC;AA0BHxb,sBAAY,EAAEhX,KAAK,CAACgX,YA1BjB;AA2BHhN,wBAAc,EAAEhK,KAAK,CAACgK,cAAN,IAAwB,EA3BrC;AA4BHqqC,4BAAkB,EAAEr0C,KAAK,CAACq0C,kBA5BvB;AA6BHp7B,qBAAW,EAAEjZ,KAAK,CAACiZ,WAAN,IAAqB,EA7B/B;AA8BHq7B,6BAAmB,EAAEt0C,KAAK,CAACs0C,mBA9BxB;AA+BHC,8BAAoB,EAAEv0C,KAAK,CAACu0C,oBAAN,IAA8B,EA/BjD;AAgCHC,wBAAc,EAAEx0C,KAAK,CAACw0C,cAAN,IAAwB,IAhCrC;AAiCHC,6BAAmB,EAAEz0C,KAAK,CAACy0C,mBAAN,IAA6B,EAjC/C;AAkCHC,0BAAgB,EAAE10C,KAAK,CAAC00C,gBAAN,IAA0B,EAlCzC;AAmCHC,wBAAc,EAAE30C,KAAK,CAAC20C,cAAN,IAAwB,EAnCrC;AAoCHC,yBAAe,EAAE50C,KAAK,CAAC40C,eAAN,IAAyB;AApCvC,SAAP;AAsCH;;AACD,eAASC,gBAAT,CAA0BC,UAA1B,EAAsCC,UAAtC,EAAkD;AAC9C,YAAIC,OAAO,GAAG,EAAd;AACA,YAAIC,KAAK,GAAG;AACR1B,kBAAQ,EAAE,EADF;AAERC,wBAAc,EAAE,EAFR;AAGRC,qBAAW,EAAE,EAHL;AAIRpwB,uBAAa,EAAE,EAJP;AAKR6D,8BAAoB,EAAE,EALd;AAMRqL,6BAAmB,EAAE,EANb;AAORpG,iCAAuB,EAAE,EAPjB;AAQRunB,oCAA0B,EAAE,EARpB;AASR5iB,kCAAwB,EAAE,EATlB;AAUR6iB,mCAAyB,EAAE,EAVnB;AAWRC,6BAAmB,EAAE,EAXb;AAYR3jB,4BAAkB,EAAE,EAZZ;AAaRtO,eAAK,EAAE,EAbC;AAcRkyB,+BAAqB,EAAE,EAdf;AAeRhE,sBAAY,EAAE,IAfN;AAgBRiE,+BAAqB,EAAE,EAhBf;AAiBRC,mCAAyB,EAAE,EAjBnB;AAkBRC,8BAAoB,EAAE,EAlBd;AAmBRC,+BAAqB,EAAE,EAnBf;AAoBRC,+BAAqB,EAAE,EApBf;AAqBRC,8BAAoB,EAAE,EArBd;AAsBRC,sBAAY,EAAE,EAtBN;AAuBR5hB,yBAAe,EAAE,EAvBT;AAwBRxb,sBAAY,EAAE,IAxBN;AAyBRhN,wBAAc,EAAE,EAzBR;AA0BRqqC,4BAAkB,EAAE,IA1BZ;AA2BRp7B,qBAAW,EAAE,EA3BL;AA4BRq7B,6BAAmB,EAAE,IA5Bb;AA6BRC,8BAAoB,EAAE,EA7Bd;AA8BRC,wBAAc,EAAE,IA9BR;AA+BRC,6BAAmB,EAAE,EA/Bb;AAgCRC,0BAAgB,EAAE,EAhCV;AAiCRC,wBAAc,EAAE,EAjCR;AAkCRC,yBAAe,EAAE;AAlCT,SAAZ;;AAoCA,iBAASM,OAAT,CAAiBrqC,IAAjB,EAAuB;AACnB,eAAK,IAAIxC,EAAE,GAAG,CAAT,EAAY8sC,MAAM,GAAGtqC,IAA1B,EAAgCxC,EAAE,GAAG8sC,MAAM,CAAC34C,MAA5C,EAAoD6L,EAAE,EAAtD,EAA0D;AACtD,gBAAI4C,GAAG,GAAGkqC,MAAM,CAAC9sC,EAAD,CAAhB;;AACA,gBAAI,CAAC2sC,OAAO,CAAC/pC,GAAG,CAACob,EAAL,CAAZ,EAAsB;AAClB2uB,qBAAO,CAAC/pC,GAAG,CAACob,EAAL,CAAP,GAAkB,IAAlB;AACA6uB,qBAAO,CAACjqC,GAAG,CAACqoC,IAAL,CAAP;AACA2B,mBAAK,GAAGG,YAAY,CAACH,KAAD,EAAQhqC,GAAR,CAApB;AACH;AACJ;AACJ;;AACD,YAAI6pC,UAAJ,EAAgB;AACZI,iBAAO,CAACJ,UAAD,CAAP;AACH;;AACDI,eAAO,CAACH,UAAD,CAAP;AACA,eAAOE,KAAP;AACH;;AACD,eAASI,qBAAT,GAAiC;AAC7B,YAAIC,mBAAmB,GAAG,EAA1B;AACA,YAAIC,iBAAiB,GAAG,EAAxB;AACA,YAAIC,YAAJ;AACA,eAAO,UAAUC,YAAV,EAAwBV,UAAxB,EAAoC;AACvC,cAAI,CAACS,YAAD,IAAiB,CAAC9lC,aAAa,CAAC+lC,YAAD,EAAeH,mBAAf,CAA/B,IAAsE,CAAC5lC,aAAa,CAACqlC,UAAD,EAAaQ,iBAAb,CAAxF,EAAyH;AACrHC,wBAAY,GAAGX,gBAAgB,CAACY,YAAD,EAAeV,UAAf,CAA/B;AACH;;AACDO,6BAAmB,GAAGG,YAAtB;AACAF,2BAAiB,GAAGR,UAApB;AACA,iBAAOS,YAAP;AACH,SAPD;AAQH;;AACD,eAASJ,YAAT,CAAsBM,MAAtB,EAA8BC,MAA9B,EAAsC;AAClC,eAAO;AACHpC,kBAAQ,EAAEmC,MAAM,CAACnC,QAAP,CAAgB9sC,MAAhB,CAAuBkvC,MAAM,CAACpC,QAA9B,CADP;AAEHC,wBAAc,EAAEkC,MAAM,CAAClC,cAAP,CAAsB/sC,MAAtB,CAA6BkvC,MAAM,CAACnC,cAApC,CAFb;AAGHC,qBAAW,EAAEiC,MAAM,CAACjC,WAAP,CAAmBhtC,MAAnB,CAA0BkvC,MAAM,CAAClC,WAAjC,CAHV;AAIHpwB,uBAAa,EAAE,uDAAS,uDAAS,EAAT,EAAaqyB,MAAM,CAACryB,aAApB,CAAT,EAA6CsyB,MAAM,CAACtyB,aAApD,CAJZ;AAKH6D,8BAAoB,EAAEwuB,MAAM,CAACxuB,oBAAP,CAA4BzgB,MAA5B,CAAmCkvC,MAAM,CAACzuB,oBAA1C,CALnB;AAMHqL,6BAAmB,EAAE,uDAAS,uDAAS,EAAT,EAAamjB,MAAM,CAACnjB,mBAApB,CAAT,EAAmDojB,MAAM,CAACpjB,mBAA1D,CANlB;AAOHpG,iCAAuB,EAAEupB,MAAM,CAACvpB,uBAAP,CAA+B1lB,MAA/B,CAAsCkvC,MAAM,CAACxpB,uBAA7C,CAPtB;AAQHunB,oCAA0B,EAAEgC,MAAM,CAAChC,0BAAP,CAAkCjtC,MAAlC,CAAyCkvC,MAAM,CAACjC,0BAAhD,CARzB;AASH5iB,kCAAwB,EAAE4kB,MAAM,CAAC5kB,wBAAP,CAAgCrqB,MAAhC,CAAuCkvC,MAAM,CAAC7kB,wBAA9C,CATvB;AAUH6iB,mCAAyB,EAAE+B,MAAM,CAAC/B,yBAAP,CAAiCltC,MAAjC,CAAwCkvC,MAAM,CAAChC,yBAA/C,CAVxB;AAWHC,6BAAmB,EAAE8B,MAAM,CAAC9B,mBAAP,CAA2BntC,MAA3B,CAAkCkvC,MAAM,CAAC/B,mBAAzC,CAXlB;AAYH3jB,4BAAkB,EAAEylB,MAAM,CAACzlB,kBAAP,CAA0BxpB,MAA1B,CAAiCkvC,MAAM,CAAC1lB,kBAAxC,CAZjB;AAaHtO,eAAK,EAAE,uDAAS,uDAAS,EAAT,EAAa+zB,MAAM,CAAC/zB,KAApB,CAAT,EAAqCg0B,MAAM,CAACh0B,KAA5C,CAbJ;AAcHkyB,+BAAqB,EAAE6B,MAAM,CAAC7B,qBAAP,CAA6BptC,MAA7B,CAAoCkvC,MAAM,CAAC9B,qBAA3C,CAdpB;AAeHhE,sBAAY,EAAE8F,MAAM,CAAC9F,YAAP,IAAuB6F,MAAM,CAAC7F,YAfzC;AAgBHiE,+BAAqB,EAAE4B,MAAM,CAAC5B,qBAAP,CAA6BrtC,MAA7B,CAAoCkvC,MAAM,CAAC7B,qBAA3C,CAhBpB;AAiBHC,mCAAyB,EAAE2B,MAAM,CAAC3B,yBAAP,CAAiCttC,MAAjC,CAAwCkvC,MAAM,CAAC5B,yBAA/C,CAjBxB;AAkBHC,8BAAoB,EAAE0B,MAAM,CAAC1B,oBAAP,CAA4BvtC,MAA5B,CAAmCkvC,MAAM,CAAC3B,oBAA1C,CAlBnB;AAmBHC,+BAAqB,EAAEyB,MAAM,CAACzB,qBAAP,CAA6BxtC,MAA7B,CAAoCkvC,MAAM,CAAC1B,qBAA3C,CAnBpB;AAoBHE,8BAAoB,EAAEuB,MAAM,CAACvB,oBAAP,CAA4B1tC,MAA5B,CAAmCkvC,MAAM,CAACxB,oBAA1C,CApBnB;AAqBHD,+BAAqB,EAAEwB,MAAM,CAACxB,qBAAP,CAA6BztC,MAA7B,CAAoCkvC,MAAM,CAACzB,qBAA3C,CArBpB;AAsBHE,sBAAY,EAAE,uDAAS,uDAAS,EAAT,EAAasB,MAAM,CAACtB,YAApB,CAAT,EAA4CuB,MAAM,CAACvB,YAAnD,CAtBX;AAuBH5hB,yBAAe,EAAEkjB,MAAM,CAACljB,eAAP,CAAuB/rB,MAAvB,CAA8BkvC,MAAM,CAACnjB,eAArC,CAvBd;AAwBHxb,sBAAY,EAAE2+B,MAAM,CAAC3+B,YAAP,IAAuB0+B,MAAM,CAAC1+B,YAxBzC;AAyBHhN,wBAAc,EAAE0rC,MAAM,CAAC1rC,cAAP,CAAsBvD,MAAtB,CAA6BkvC,MAAM,CAAC3rC,cAApC,CAzBb;AA0BHqqC,4BAAkB,EAAEsB,MAAM,CAACtB,kBAAP,IAA6BqB,MAAM,CAACrB,kBA1BrD;AA2BHp7B,qBAAW,EAAEy8B,MAAM,CAACz8B,WAAP,IAAsB08B,MAAM,CAAC18B,WA3BvC;AA4BHq7B,6BAAmB,EAAEoB,MAAM,CAACpB,mBAAP,IAA8BqB,MAAM,CAACrB,mBA5BvD;AA6BHC,8BAAoB,EAAE,uDAAS,uDAAS,EAAT,EAAamB,MAAM,CAACnB,oBAApB,CAAT,EAAoDoB,MAAM,CAACpB,oBAA3D,CA7BnB;AA8BHC,wBAAc,EAAEmB,MAAM,CAACnB,cAAP,IAAyBkB,MAAM,CAAClB,cA9B7C;AA+BHC,6BAAmB,EAAE,uDAAS,uDAAS,EAAT,EAAaiB,MAAM,CAACjB,mBAApB,CAAT,EAAmDkB,MAAM,CAAClB,mBAA1D,CA/BlB;AAgCHC,0BAAgB,EAAE,uDAAS,uDAAS,EAAT,EAAagB,MAAM,CAAChB,gBAApB,CAAT,EAAgDiB,MAAM,CAACjB,gBAAvD,CAhCf;AAiCHC,wBAAc,EAAE,uDAAS,uDAAS,EAAT,EAAae,MAAM,CAACf,cAApB,CAAT,EAA8CgB,MAAM,CAAChB,cAArD,CAjCb;AAkCHC,yBAAe,EAAE,uDAAS,uDAAS,EAAT,EAAac,MAAM,CAACd,eAApB,CAAT,EAA+Ce,MAAM,CAACf,eAAtD;AAlCd,SAAP;AAoCH;;AAED,UAAIgB,aAAa;AAAG;AAAe,gBAAUnL,MAAV,EAAkB;AACjD,gEAAUmL,aAAV,EAAyBnL,MAAzB;;AACA,iBAASmL,aAAT,GAAyB;AACrB,iBAAOnL,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD,eAAOulC,aAAP;AACH,OANkC,CAMjC1K,KANiC,CAAnC;;AAOA0K,mBAAa,CAAC57C,SAAd,CAAwB4xC,OAAxB,GAAkC;AAC9BiK,YAAI,EAAE,mBADwB;AAE9BC,uBAAe,EAAE,gBAFa;AAG9BC,mBAAW,EAAE,iBAHiB;AAI9BC,cAAM,EAAE,6BAJsB;AAK9BC,oBAAY,EAAE;AALgB,OAAlC;AAOAL,mBAAa,CAAC57C,SAAd,CAAwBgyC,aAAxB,GAAwC,SAAxC;AACA4J,mBAAa,CAAC57C,SAAd,CAAwBwxC,WAAxB,GAAsC;AAClC0K,aAAK,EAAE,WAD2B;AAElClhB,YAAI,EAAE,sBAF4B;AAGlCC,YAAI,EAAE,uBAH4B;AAIlCC,gBAAQ,EAAE,uBAJwB;AAKlCE,gBAAQ,EAAE;AALwB,OAAtC;AAOAwgB,mBAAa,CAAC57C,SAAd,CAAwB+xC,cAAxB,GAAyC;AACrC/W,YAAI,EAAE,uBAD+B;AAErCC,YAAI,EAAE,sBAF+B;AAGrCC,gBAAQ,EAAE,wBAH2B;AAIrCE,gBAAQ,EAAE;AAJ2B,OAAzC;AAMAwgB,mBAAa,CAAC57C,SAAd,CAAwBmxC,kBAAxB,GAA6C,aAA7C,C,CAA4D;;AAC5DyK,mBAAa,CAAC57C,SAAd,CAAwBmyC,8BAAxB,GAAyD,MAAzD;AACAyJ,mBAAa,CAAC57C,SAAd,CAAwB2xC,kBAAxB,GAA6C,UAA7C;;AAEA,eAASwK,eAAT,CAAyBC,cAAzB,EAAyCC,eAAzC,EAA0D;AACtD,YAAItuC,IAAI,GAAG,EAAX;AACA,YAAIssB,QAAJ;;AACA,aAAKA,QAAL,IAAiB+hB,cAAjB,EAAiC;AAC7BE,uBAAa,CAACjiB,QAAD,EAAWtsB,IAAX,EAAiBquC,cAAjB,EAAiCC,eAAjC,CAAb;AACH;;AACD,aAAKhiB,QAAL,IAAiBgiB,eAAjB,EAAkC;AAC9BC,uBAAa,CAACjiB,QAAD,EAAWtsB,IAAX,EAAiBquC,cAAjB,EAAiCC,eAAjC,CAAb;AACH;;AACD,eAAOtuC,IAAP;AACH;;AACD,eAASuuC,aAAT,CAAuBjiB,QAAvB,EAAiCtsB,IAAjC,EAAuCquC,cAAvC,EAAuDC,eAAvD,EAAwE;AACpE,YAAItuC,IAAI,CAACssB,QAAD,CAAR,EAAoB;AAChB,iBAAOtsB,IAAI,CAACssB,QAAD,CAAX;AACH;;AACD,YAAIkiB,OAAO,GAAGC,YAAY,CAACniB,QAAD,EAAWtsB,IAAX,EAAiBquC,cAAjB,EAAiCC,eAAjC,CAA1B;;AACA,YAAIE,OAAJ,EAAa;AACTxuC,cAAI,CAACssB,QAAD,CAAJ,GAAiBkiB,OAAjB;AACH;;AACD,eAAOA,OAAP;AACH;;AACD,eAASC,YAAT,CAAsBniB,QAAtB,EAAgCtsB,IAAhC,EAAsCquC,cAAtC,EAAsDC,eAAtD,EAAuE;AACnE,YAAII,aAAa,GAAGL,cAAc,CAAC/hB,QAAD,CAAlC;AACA,YAAIqiB,cAAc,GAAGL,eAAe,CAAChiB,QAAD,CAApC;;AACA,YAAIsiB,SAAS,GAAG,SAAZA,SAAY,CAAUp5C,IAAV,EAAgB;AAAE,iBAASk5C,aAAa,IAAIA,aAAa,CAACl5C,IAAD,CAAb,KAAwB,IAA1C,GAAkDk5C,aAAa,CAACl5C,IAAD,CAA/D,GACpCm5C,cAAc,IAAIA,cAAc,CAACn5C,IAAD,CAAd,KAAyB,IAA5C,GAAoDm5C,cAAc,CAACn5C,IAAD,CAAlE,GAA2E,IAD9C;AACuD,SADzF;;AAEA,YAAIq5C,YAAY,GAAGD,SAAS,CAAC,WAAD,CAA5B;AACA,YAAIE,SAAS,GAAGF,SAAS,CAAC,WAAD,CAAzB;AACA,YAAIG,QAAQ,GAAG,IAAf;;AACA,YAAID,SAAJ,EAAe;AACX,cAAIA,SAAS,KAAKxiB,QAAlB,EAA4B;AACxB,kBAAM,IAAIlyB,KAAJ,CAAU,uDAAV,CAAN;AACH;;AACD20C,kBAAQ,GAAGR,aAAa,CAACO,SAAD,EAAY9uC,IAAZ,EAAkBquC,cAAlB,EAAkCC,eAAlC,CAAxB;AACH;;AACD,YAAI,CAACO,YAAD,IAAiBE,QAArB,EAA+B;AAC3BF,sBAAY,GAAGE,QAAQ,CAAC50B,SAAxB;AACH;;AACD,YAAI,CAAC00B,YAAL,EAAmB;AACf,iBAAO,IAAP,CADe,CACF;AAChB;;AACD,eAAO;AACHz8C,cAAI,EAAEk6B,QADH;AAEHnS,mBAAS,EAAE00B,YAFR;AAGHG,kBAAQ,EAAE,uDAAS,uDAAS,EAAT,EAAcD,QAAQ,GAAGA,QAAQ,CAACC,QAAZ,GAAuB,EAA7C,CAAT,EAA6DN,aAAa,GAAGA,aAAa,CAACO,UAAjB,GAA8B,EAAxG,CAHP;AAIHC,mBAAS,EAAE,uDAAS,uDAAS,EAAT,EAAcH,QAAQ,GAAGA,QAAQ,CAACG,SAAZ,GAAwB,EAA9C,CAAT,EAA8DP,cAAc,GAAGA,cAAc,CAACM,UAAlB,GAA+B,EAA3G;AAJR,SAAP;AAMH;AAED;AACA;;;AACA,UAAIE,UAAU;AAAG;AAAe,gBAAUzM,MAAV,EAAkB;AAC9C,gEAAUyM,UAAV,EAAsBzM,MAAtB;;AACA,iBAASyM,UAAT,GAAsB;AAClB,cAAI3mC,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAAC4mC,SAAN,GAAkB,4DAAlB;;AACA5mC,eAAK,CAAC6mC,YAAN,GAAqB,UAAUn8C,EAAV,EAAc;AAC/BozC,kBAAM,CAAC99B,KAAK,CAAC4mC,SAAP,EAAkBl8C,EAAlB,CAAN;;AACA,gBAAIsV,KAAK,CAACnT,KAAN,CAAYi6C,KAAhB,EAAuB;AACnBhJ,oBAAM,CAAC99B,KAAK,CAACnT,KAAN,CAAYi6C,KAAb,EAAoBp8C,EAApB,CAAN;AACH;AACJ,WALD;;AAMA,iBAAOsV,KAAP;AACH;;AACD2mC,kBAAU,CAACl9C,SAAX,CAAqBs9C,MAArB,GAA8B,YAAY;AACtC,cAAI/mC,KAAK,GAAG,IAAZ;;AACA,cAAInT,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAIm6C,SAAS,GAAGn6C,KAAK,CAACm6C,SAAtB;AACA,iBAAQ,+DAAcC,SAAd,EAAyB;AAAED,qBAAS,EAAEA,SAAb;AAAwB/0B,oBAAQ,EAAEplB,KAAK,CAAColB,QAAxC;AAAkDC,uBAAW,EAAErlB,KAAK,CAACqlB,WAArE;AAAkF40B,iBAAK,EAAE,KAAKD;AAA9F,WAAzB,EAAuI,UAAUD,SAAV,EAAqB;AAAE,mBAAQ,+DAAcM,WAAd,EAA2B;AAAEF,uBAAS,EAAEA,SAAb;AAAwBh1B,qBAAO,EAAEnlB,KAAK,CAACmlB,OAAvC;AAAgDm1B,4BAAc,EAAEt6C,KAAK,CAACs6C,cAAtE;AAAsFC,yBAAW,EAAEpnC,KAAK,CAAC4mC;AAAzG,aAA3B,EAAiJ,UAAUS,UAAV,EAAsBC,YAAtB,EAAoC;AAAE,qBAAOz6C,KAAK,CAACJ,QAAN,CAAem6C,SAAf,EAA0BW,mBAAmB,CAAC16C,KAAK,CAACklB,UAAP,EAAmBi1B,SAAnB,CAA7C,EAA4EK,UAA5E,EAAwFC,YAAxF,CAAP;AAA+G,aAAtS,CAAR;AAAmT,WAAjd,CAAR;AACH,SALD;;AAMA,eAAOX,UAAP;AACH,OApB+B,CAoB9B/I,aApB8B,CAAhC,C,CAqBA;AACA;;;AACA,UAAI4J,0BAA0B,GAAG,+DAAc,CAAd,CAAjC;;AACA,eAASN,WAAT,CAAqBr6C,KAArB,EAA4B;AACxB,eAAQ,+DAAc26C,0BAA0B,CAACC,QAAzC,EAAmD,IAAnD,EAAyD,UAAUC,QAAV,EAAoB;AAAE,iBAAQ,+DAAcC,gBAAd,EAAgC,uDAAS;AAAED,oBAAQ,EAAEA;AAAZ,WAAT,EAAiC76C,KAAjC,CAAhC,CAAR;AAAoF,SAAnK,CAAR;AACH;;AACD,UAAI86C,gBAAgB;AAAG;AAAe,gBAAUzN,MAAV,EAAkB;AACpD,gEAAUyN,gBAAV,EAA4BzN,MAA5B;;AACA,iBAASyN,gBAAT,GAA4B;AACxB,cAAI3nC,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAACqnC,UAAN,GAAmB,4DAAnB;AACA,iBAAOrnC,KAAP;AACH;;AACD2nC,wBAAgB,CAACl+C,SAAjB,CAA2Bs9C,MAA3B,GAAoC,YAAY;AAC5C,iBAAO,KAAKl6C,KAAL,CAAWJ,QAAX,CAAoB,KAAK46C,UAAzB,EAAqC,KAAKO,kBAAL,EAArC,CAAP;AACH,SAFD;;AAGAD,wBAAgB,CAACl+C,SAAjB,CAA2Bo+C,iBAA3B,GAA+C,YAAY;AACvD,eAAKC,mBAAL;AACH,SAFD;;AAGAH,wBAAgB,CAACl+C,SAAjB,CAA2Bs+C,kBAA3B,GAAgD,YAAY;AACxD,eAAKD,mBAAL;AACH,SAFD;;AAGAH,wBAAgB,CAACl+C,SAAjB,CAA2Bu+C,oBAA3B,GAAkD,YAAY;AAC1D,cAAI,KAAKC,iBAAL,IAA0B,KAAKA,iBAAL,CAAuBC,OAArD,EAA8D;AAC1D,iBAAKD,iBAAL,CAAuBC,OAAvB;AACH;AACJ,SAJD;;AAKAP,wBAAgB,CAACl+C,SAAjB,CAA2Bm+C,kBAA3B,GAAgD,YAAY;AACxD,cAAI1D,mBAAmB,GAAG,KAAK36C,OAAL,CAAa6Q,WAAb,CAAyB8pC,mBAAnD;;AACA,cAAItoC,EAAE,GAAG,IAAT;AAAA,cAAe/O,KAAK,GAAG+O,EAAE,CAAC/O,KAA1B;AAAA,cAAiCo7C,iBAAiB,GAAGrsC,EAAE,CAACqsC,iBAAxD;;AACA,cAAIE,MAAM,GAAGt7C,KAAK,CAACmlB,OAAnB;AACA,cAAIs1B,YAAY,GAAGc,gBAAgB,CAACD,MAAD,EAASt7C,KAAK,CAACm6C,SAAf,CAAnC;AACA,cAAIqB,gBAAgB,GAAG,IAAvB;;AACA,cAAIf,YAAY,KAAKjwC,SAArB,EAAgC;AAAE;AAC9BiwC,wBAAY,GAAGc,gBAAgB,CAACv7C,KAAK,CAACs6C,cAAP,EAAuBt6C,KAAK,CAACm6C,SAA7B,CAA/B;AACH;;AACD,cAAIM,YAAY,KAAKjwC,SAArB,EAAgC;AAAE;AAC9B,gBAAI4wC,iBAAJ,EAAuB;AACnBA,+BAAiB,CAACK,UAAlB,GAA+BhB,YAAY,CAACW,iBAAiB,CAACM,UAAnB,CAA3C;AACH,aAFD,MAGK,IAAI,OAAOjB,YAAP,KAAwB,QAA5B,EAAsC;AACvC;AACA,mBAAK,IAAIiB,UAAT,IAAuBrE,mBAAvB,EAA4C;AACxC,oBAAIoD,YAAY,CAACiB,UAAD,CAAZ,KAA6BlxC,SAAjC,EAA4C;AACxC,sBAAIq7B,KAAK,GAAGwR,mBAAmB,CAACqE,UAAD,CAAnB,EAAZ;AACAN,mCAAiB,GAAG,KAAKA,iBAAL,GAAyB,uDAAS;AAAEM,8BAAU,EAAEA,UAAd;AAA0BD,8BAAU,EAAEhB,YAAY,CAACiB,UAAD;AAAlD,mBAAT,EAA2E7V,KAA3E,CAA7C;AACA;AACH;AACJ;AACJ;;AACD,gBAAIuV,iBAAJ,EAAuB;AACnBI,8BAAgB,GAAG,EAAnB,CADmB,CACI;AAC1B,aAFD,MAGK;AACDA,8BAAgB,GAAGf,YAAnB,CADC,CACgC;AACpC;AACJ;;AACD,iBAAOe,gBAAP;AACH,SA/BD;;AAgCAV,wBAAgB,CAACl+C,SAAjB,CAA2Bq+C,mBAA3B,GAAiD,YAAY;AACzD,cAAI,KAAKG,iBAAT,EAA4B;AACxB,iBAAKA,iBAAL,CAAuBlB,MAAvB,CAA8B,KAAKM,UAAL,CAAgBrJ,OAAhB,IAA2B,KAAKnxC,KAAL,CAAWu6C,WAAX,CAAuBpJ,OAAhF,EAAyF;AACzF,iBAAKiK,iBAAL,CAAuBK,UADvB;AAEH;AACJ,SALD;;AAMA,eAAOX,gBAAP;AACH,OA5DqC,CA4DpC/J,aA5DoC,CAAtC;;AA6DA,UAAIqJ,SAAS;AAAG;AAAe,gBAAU/M,MAAV,EAAkB;AAC7C,gEAAU+M,SAAV,EAAqB/M,MAArB;;AACA,iBAAS+M,SAAT,GAAqB;AACjB,cAAIjnC,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAAC6mC,YAAN,GAAqB,UAAU2B,MAAV,EAAkB;AACnCxoC,iBAAK,CAACwoC,MAAN,GAAeA,MAAf;;AACA,gBAAIxoC,KAAK,CAACnT,KAAN,CAAYi6C,KAAhB,EAAuB;AACnBhJ,oBAAM,CAAC99B,KAAK,CAACnT,KAAN,CAAYi6C,KAAb,EAAoB0B,MAApB,CAAN;AACH;AACJ,WALD;;AAMA,iBAAOxoC,KAAP;AACH;;AACDinC,iBAAS,CAACx9C,SAAV,CAAoBs9C,MAApB,GAA6B,YAAY;AACrC,iBAAO,KAAKl6C,KAAL,CAAWJ,QAAX,CAAoB,KAAKo6C,YAAzB,CAAP;AACH,SAFD;;AAGAI,iBAAS,CAACx9C,SAAV,CAAoBo+C,iBAApB,GAAwC,YAAY;AAChD,cAAIr5C,QAAQ,GAAG,KAAK3B,KAAL,CAAWolB,QAA1B;;AACA,cAAIzjB,QAAJ,EAAc;AACVA,oBAAQ,CAAC,uDAAS,uDAAS,EAAT,EAAa,KAAK3B,KAAL,CAAWm6C,SAAxB,CAAT,EAA6C;AAAEt8C,gBAAE,EAAE,KAAK89C;AAAX,aAA7C,CAAD,CAAR;AACH;AACJ,SALD;;AAMAvB,iBAAS,CAACx9C,SAAV,CAAoBu+C,oBAApB,GAA2C,YAAY;AACnD,cAAIx5C,QAAQ,GAAG,KAAK3B,KAAL,CAAWqlB,WAA1B;;AACA,cAAI1jB,QAAJ,EAAc;AACVA,oBAAQ,CAAC,uDAAS,uDAAS,EAAT,EAAa,KAAK3B,KAAL,CAAWm6C,SAAxB,CAAT,EAA6C;AAAEt8C,gBAAE,EAAE,KAAK89C;AAAX,aAA7C,CAAD,CAAR;AACH;AACJ,SALD;;AAMA,eAAOvB,SAAP;AACH,OA5B8B,CA4B7BrJ,aA5B6B,CAA/B;;AA6BA,eAAS6K,wBAAT,GAAoC;AAChC,YAAIC,gBAAJ;AACA,YAAIC,gBAAJ;AACA,YAAIC,iBAAiB,GAAG,EAAxB;AACA,eAAO,UAAUC,SAAV,EAAqB7B,SAArB,EAAgC;AACnC,cAAI,CAAC2B,gBAAD,IAAqB,CAACtwC,YAAY,CAACswC,gBAAD,EAAmB3B,SAAnB,CAAlC,IAAmE6B,SAAS,KAAKH,gBAArF,EAAuG;AACnGA,4BAAgB,GAAGG,SAAnB;AACAF,4BAAgB,GAAG3B,SAAnB;AACA4B,6BAAiB,GAAGrB,mBAAmB,CAACsB,SAAD,EAAY7B,SAAZ,CAAvC;AACH;;AACD,iBAAO4B,iBAAP;AACH,SAPD;AAQH;;AACD,eAASrB,mBAAT,CAA6Bx1B,UAA7B,EAAyCi1B,SAAzC,EAAoD;AAChD,YAAI,OAAOj1B,UAAP,KAAsB,UAA1B,EAAsC;AAClCA,oBAAU,GAAGA,UAAU,CAACi1B,SAAD,CAAvB;AACH;;AACD,eAAOzyB,eAAe,CAACxC,UAAD,CAAtB;AACH;;AACD,eAASq2B,gBAAT,CAA0B34C,KAA1B,EAAiCu3C,SAAjC,EAA4C;AACxC,YAAI,OAAOv3C,KAAP,KAAiB,UAArB,EAAiC;AAC7B,iBAAOA,KAAK,CAACu3C,SAAD,EAAY,sDAAZ,CAAZ,CAD6B,CACW;AAC3C;;AACD,eAAOv3C,KAAP;AACH;;AAED,UAAIq5C,QAAQ;AAAG;AAAe,gBAAU5O,MAAV,EAAkB;AAC5C,gEAAU4O,QAAV,EAAoB5O,MAApB;;AACA,iBAAS4O,QAAT,GAAoB;AAChB,cAAI9oC,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAACunC,mBAAN,GAA4BkB,wBAAwB,EAApD;AACA,iBAAOzoC,KAAP;AACH;;AACD8oC,gBAAQ,CAACr/C,SAAT,CAAmBs9C,MAAnB,GAA4B,YAAY;AACpC,cAAInrC,EAAE,GAAG,IAAT;AAAA,cAAe/O,KAAK,GAAG+O,EAAE,CAAC/O,KAA1B;AAAA,cAAiCtD,OAAO,GAAGqS,EAAE,CAACrS,OAA9C;;AACA,cAAI8Q,OAAO,GAAG9Q,OAAO,CAAC8Q,OAAtB;AACA,cAAI2sC,SAAS,GAAG;AAAE1nB,gBAAI,EAAE/1B,OAAO,CAACg2B;AAAhB,WAAhB;AACA,cAAIwpB,gBAAgB,GAAG,KAAKxB,mBAAL,CAAyBltC,OAAO,CAACgP,cAAjC,EAAiD29B,SAAjD,CAAvB;AACA,iBAAQ,+DAAcC,SAAd,EAAyB;AAAED,qBAAS,EAAEA,SAAb;AAAwB/0B,oBAAQ,EAAE5X,OAAO,CAACiP,YAA1C;AAAwD4I,uBAAW,EAAE7X,OAAO,CAACkP,eAA7E;AAA8Fu9B,iBAAK,EAAEj6C,KAAK,CAACi6C;AAA3G,WAAzB,EAA6I,UAAUF,SAAV,EAAqB;AAAE,mBAAO/5C,KAAK,CAACJ,QAAN,CAAem6C,SAAf,EAA0B,CAAC,QAAQ/5C,KAAK,CAAC4vC,QAAN,CAAe7yC,IAAvB,GAA8B,OAA/B,EAAwC,SAAxC,EAAmDsM,MAAnD,CAA0D6yC,gBAA1D,CAA1B,CAAP;AAAgH,WAApR,CAAR;AACH,SAND;;AAOA,eAAOD,QAAP;AACH,OAf6B,CAe5BlL,aAf4B,CAA9B;;AAiBA,eAASoL,gBAAT,CAA0BC,MAA1B,EAAkC;AAC9B,eAAOtxC,OAAO,CAACsxC,MAAD,EAASC,eAAT,CAAd;AACH;;AACD,eAASA,eAAT,CAAyBz5C,KAAzB,EAAgC;AAC5B,YAAIg3C,UAAU,GAAG,OAAOh3C,KAAP,KAAiB,UAAjB,GACb;AAAEkiB,mBAAS,EAAEliB;AAAb,SADa,GAEbA,KAFJ;AAGA,YAAIkiB,SAAS,GAAG80B,UAAU,CAAC90B,SAA3B;;AACA,YAAI80B,UAAU,CAACz0B,OAAf,EAAwB;AACpBL,mBAAS,GAAGw3B,uBAAuB,CAAC1C,UAAD,CAAnC,CADoB,CAEpB;AACH;;AACD,eAAO;AACHH,mBAAS,EAAEG,UAAU,CAAC78C,IADnB;AAEH+nB,mBAAS,EAAEA,SAFR;AAGH80B,oBAAU,EAAEA;AAHT,SAAP;AAKH;;AACD,eAAS0C,uBAAT,CAAiC9uC,OAAjC,EAA0C;AACtC,eAAO,UAAU+uC,SAAV,EAAqB;AAAE,iBAAQ,+DAAc7M,eAAe,CAACkL,QAA9B,EAAwC,IAAxC,EAA8C,UAAUl+C,OAAV,EAAmB;AAAE,mBAAQ,+DAAcu/C,QAAd,EAAwB;AAAErM,sBAAQ,EAAElzC,OAAO,CAACkzC;AAApB,aAAxB,EAAwD,UAAU4M,SAAV,EAAqBhgC,cAArB,EAAqC;AAC1M,kBAAI29B,SAAS,GAAG,uDAAS,uDAAS,EAAT,EAAaoC,SAAb,CAAT,EAAkC;AAAEjiC,gCAAgB,EAAE5d,OAAO,CAAC8Q,OAAR,CAAgB8M;AAApC,eAAlC,CAAhB;AACA,qBAAQ,+DAAcw/B,UAAd,EAA0B;AAAEK,yBAAS,EAAEA,SAAb;AAAwBj1B,0BAAU,EAAE1X,OAAO,CAAC0X,UAA5C;AAAwDC,uBAAO,EAAE3X,OAAO,CAAC2X,OAAzE;AAAkFC,wBAAQ,EAAE5X,OAAO,CAAC4X,QAApG;AAA8GC,2BAAW,EAAE7X,OAAO,CAAC6X,WAAnI;AAAgJ40B,qBAAK,EAAEuC;AAAvJ,eAA1B,EAA8L,UAAUzC,SAAV,EAAqBmC,gBAArB,EAAuC1B,UAAvC,EAAmDC,YAAnD,EAAiE;AAAE,uBAAQ,+DAAc,KAAd,EAAqB;AAAExyB,2BAAS,EAAEzL,cAAc,CAACnT,MAAf,CAAsB6yC,gBAAtB,EAAwC/jC,IAAxC,CAA6C,GAA7C,CAAb;AAAgE+4B,qBAAG,EAAE6I;AAArE,iBAArB,EAAuGU,YAAvG,CAAR;AAAgI,eAAjY,CAAR;AACH,aAHgH,CAAR;AAGnG,WAHgC,CAAR;AAGnB,SAHX;AAIH;;AAED,eAASgC,cAAT,CAAwBC,aAAxB,EAAuCC,eAAvC,EAAwDC,sBAAxD,EAAgFC,cAAhF,EAAgG;AAC5F,YAAI7D,cAAc,GAAGmD,gBAAgB,CAACO,aAAD,CAArC;AACA,YAAIzD,eAAe,GAAGkD,gBAAgB,CAACQ,eAAe,CAACp4B,KAAjB,CAAtC;AACA,YAAIu4B,QAAQ,GAAG/D,eAAe,CAACC,cAAD,EAAiBC,eAAjB,CAA9B;AACA,eAAOnuC,OAAO,CAACgyC,QAAD,EAAW,UAAU3D,OAAV,EAAmB;AAAE,iBAAO4D,aAAa,CAAC5D,OAAD,EAAUF,eAAV,EAA2B0D,eAA3B,EAA4CC,sBAA5C,EAAoEC,cAApE,CAApB;AAA0G,SAA1I,CAAd;AACH;;AACD,eAASE,aAAT,CAAuB5D,OAAvB,EAAgCF,eAAhC,EAAiD0D,eAAjD,EAAkEC,sBAAlE,EAA0FC,cAA1F,EAA0G;AACtG,YAAIG,aAAa,GAAG7D,OAAO,CAACU,SAAR,CAAkB5sC,QAAlB,IAChBksC,OAAO,CAACQ,QAAR,CAAiB1sC,QADD,IAEhB2vC,sBAAsB,CAAC3vC,QAFP,IAGhB0vC,eAAe,CAAC1vC,QAHpB;AAIA,YAAIA,QAAQ,GAAG,IAAf;AACA,YAAIgwC,YAAY,GAAG,EAAnB;AACA,YAAItlB,UAAU,GAAG,EAAjB;AACA,YAAIulB,mBAAmB,GAAG,EAA1B;;AACA,YAAIF,aAAJ,EAAmB;AACf/vC,kBAAQ,GAAGkwC,oBAAoB,CAACH,aAAD,CAA/B;;AACA,cAAI/vC,QAAJ,EAAc;AAAE;AACZ,gBAAImwC,KAAK,GAAGhsC,2BAA2B,CAACnE,QAAD,CAAvC;AACAgwC,wBAAY,GAAGG,KAAK,CAACtuC,IAArB;;AACA,gBAAIsuC,KAAK,CAAC/rC,KAAN,KAAgB,CAApB,EAAuB;AACnBsmB,wBAAU,GAAGslB,YAAb;AACAC,iCAAmB,GAAGjE,eAAe,CAACgE,YAAD,CAAf,GAAgChE,eAAe,CAACgE,YAAD,CAAf,CAA8BrD,UAA9D,GAA2E,EAAjG;AACH;AACJ;AACJ;;AACD,YAAIyD,eAAe,GAAG,SAAlBA,eAAkB,CAAUC,aAAV,EAAyB;AAC3C,cAAIC,aAAa,GAAGD,aAAa,CAACh5B,UAAd,IAA4B,EAAhD;AACA,cAAIS,aAAa,GAAGo0B,OAAO,CAACQ,QAAR,CAAiB50B,aAArC;;AACA,cAAIA,aAAa,IAAI,IAAjB,IAAyBw4B,aAAa,CAACx4B,aAAD,CAAb,IAAgC,IAA7D,EAAmE;AAC/D,mBAAOw4B,aAAa,CAACx4B,aAAD,CAApB;AACH;;AACD,cAAIw4B,aAAa,CAACpE,OAAO,CAACp8C,IAAT,CAAb,IAA+B,IAAnC,EAAyC;AACrC,mBAAOwgD,aAAa,CAACpE,OAAO,CAACp8C,IAAT,CAApB;AACH;;AACD,cAAIwgD,aAAa,CAAC5lB,UAAD,CAAb,IAA6B,IAAjC,EAAuC;AACnC,mBAAO4lB,aAAa,CAAC5lB,UAAD,CAApB;AACH;;AACD,iBAAO,IAAP;AACH,SAbD;;AAcA,eAAO;AACH56B,cAAI,EAAEo8C,OAAO,CAACp8C,IADX;AAEH+nB,mBAAS,EAAEq0B,OAAO,CAACr0B,SAFhB;AAGH7X,kBAAQ,EAAEA,QAHP;AAIHgwC,sBAAY,EAAEA,YAJX;AAKHtlB,oBAAU,EAAEA,UALT;AAMH6lB,wBAAc,EAAErE,OAAO,CAACQ,QANrB;AAOHgD,yBAAe,EAAE,uDAAS,uDAAS,EAAT,EAAaO,mBAAb,CAAT,EAA4C/D,OAAO,CAACU,SAApD,CAPd;AAQH4D,4BAAkB,EAAEJ,eAAe,CAACT,sBAAD,CAAf,IAChBS,eAAe,CAACV,eAAD,CADC,IACoB;AACpCxD,iBAAO,CAACU,SAAR,CAAkBv1B,UAVnB;AAWHo5B,2BAAiB,EAAEL,eAAe,CAACR,cAAD,CAAf,IACf1D,OAAO,CAACQ,QAAR,CAAiBr1B,UADF,IAEf+4B,eAAe,CAACt6B,oBAAD,CAFA,IAGfo2B,OAAO,CAACp8C;AAdT,SAAP;AAgBH,O,CACD;;;AACA,UAAI4gD,gBAAgB,GAAG,EAAvB;;AACA,eAASR,oBAAT,CAA8BH,aAA9B,EAA6C;AACzC,YAAIY,IAAI,GAAGtX,IAAI,CAACC,SAAL,CAAeyW,aAAf,CAAX;AACA,YAAIzwC,GAAG,GAAGoxC,gBAAgB,CAACC,IAAD,CAA1B;;AACA,YAAIrxC,GAAG,KAAK/B,SAAZ,EAAuB;AACnB+B,aAAG,GAAGsC,cAAc,CAACmuC,aAAD,CAApB;AACAW,0BAAgB,CAACC,IAAD,CAAhB,GAAyBrxC,GAAzB;AACH;;AACD,eAAOA,GAAP;AACH;;AAED,UAAIsxC,oBAAoB;AAAG;AAAe,kBAAY;AAClD,iBAASA,oBAAT,CAA8B79C,KAA9B,EAAqC;AACjC,eAAKA,KAAL,GAAaA,KAAb;AACA,eAAK+vB,OAAL,GAAe6F,MAAM,CAAC51B,KAAK,CAAC61B,QAAP,EAAiB71B,KAAK,CAAC2M,OAAvB,CAArB;AACA,eAAKmxC,cAAL;AACH;AACD;AACJ;AACI;;;AACAD,4BAAoB,CAACjhD,SAArB,CAA+BmhD,SAA/B,GAA2C,UAAUC,kBAAV,EAA8BzoB,WAA9B,EAA2C0oB,YAA3C,EAAyD;AAChG,cAAItxC,OAAO,GAAG,KAAK3M,KAAL,CAAW2M,OAAzB;AACA,cAAIuxC,QAAQ,GAAGvxC,OAAO,CAAC8B,QAAR,CAAiB9B,OAAO,CAACsxB,OAAR,CAAgB1I,WAAhB,EAA6ByoB,kBAAkB,CAACG,gBAAhD,CAAjB,EAAoF;AACnGH,4BAAkB,CAACz7B,aADJ,CAAf;AAEA,iBAAO,KAAK67B,KAAL,CAAWF,QAAX,EAAqB,CAAC,CAAtB,EAAyBD,YAAzB,CAAP;AACH,SALD,CATkD,CAelD;;;AACAJ,4BAAoB,CAACjhD,SAArB,CAA+ByhD,SAA/B,GAA2C,UAAUL,kBAAV,EAA8BzoB,WAA9B,EAA2C0oB,YAA3C,EAAyD;AAChG,cAAItxC,OAAO,GAAG,KAAK3M,KAAL,CAAW2M,OAAzB;AACA,cAAI2xC,QAAQ,GAAG3xC,OAAO,CAACtK,GAAR,CAAYsK,OAAO,CAACsxB,OAAR,CAAgB1I,WAAhB,EAA6ByoB,kBAAkB,CAACG,gBAAhD,CAAZ,EAA+E;AAC9FH,4BAAkB,CAACz7B,aADJ,CAAf;AAEA,iBAAO,KAAK67B,KAAL,CAAWE,QAAX,EAAqB,CAArB,EAAwBL,YAAxB,CAAP;AACH,SALD,CAhBkD,CAsBlD;AACA;AACA;;;AACAJ,4BAAoB,CAACjhD,SAArB,CAA+BwhD,KAA/B,GAAuC,UAAU7oB,WAAV,EAAuBtd,SAAvB,EAAkCgmC,YAAlC,EAAgD;AACnF,cAAIA,YAAY,KAAK,KAAK,CAA1B,EAA6B;AAAEA,wBAAY,GAAG,IAAf;AAAsB;;AACrD,cAAIj+C,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAI2iB,UAAJ;AACA,cAAI47B,WAAJ;AACA,cAAIC,aAAJ;AACA,cAAIC,WAAJ;AACA,cAAItqB,WAAJ;AACA,cAAIuqB,OAAJ;AACA/7B,oBAAU,GAAG,KAAKg8B,eAAL,EAAb;AACAh8B,oBAAU,GAAG,KAAKi8B,cAAL,CAAoBj8B,UAApB,CAAb;;AACA,cAAIs7B,YAAJ,EAAkB;AACd1oB,uBAAW,GAAG7I,sBAAsB,CAAC6I,WAAD,EAAc5S,UAAd,CAApC;AACH;;AACD47B,qBAAW,GAAG,KAAKM,qBAAL,CAA2BtpB,WAA3B,EAAwCtd,SAAxC,CAAd;AACAumC,uBAAa,GAAG,0BAA0Bl+C,IAA1B,CAA+Bi+C,WAAW,CAACzvC,IAA3C,CAAhB;AACA2vC,qBAAW,GAAG,KAAKK,gBAAL,CAAsB,KAAKF,cAAL,CAAoBL,WAAW,CAAC30C,KAAhC,CAAtB,EAA8D20C,WAAW,CAACzvC,IAA1E,EAAgF0vC,aAAhF,CAAd;AACAC,qBAAW,GAAG,KAAKG,cAAL,CAAoBH,WAApB,CAAd;AACAtqB,qBAAW,GAAGsqB,WAAd;;AACA,cAAI,CAACz+C,KAAK,CAACgd,mBAAX,EAAgC;AAC5BmX,uBAAW,GAAGjI,eAAe,CAACiI,WAAD,EAAcoqB,WAAW,CAAC30C,KAA1B,CAA7B;AACH;;AACDuqB,qBAAW,GAAG,KAAK4qB,iBAAL,CAAuB5qB,WAAvB,CAAd;AACAA,qBAAW,GAAGjI,eAAe,CAACiI,WAAD,EAAcxR,UAAd,CAA7B,CAvBmF,CAuB3B;AACxD;AACA;;AACA+7B,iBAAO,GAAGryB,eAAe,CAACkyB,WAAW,CAAC30C,KAAb,EAAoB+Y,UAApB,CAAzB;AACA,iBAAO;AACH;AACA;AACAA,sBAAU,EAAEA,UAHT;AAIH;AACA;AACAyR,wBAAY,EAAEmqB,WAAW,CAAC30C,KANvB;AAOH;AACAu0C,4BAAgB,EAAEI,WAAW,CAACzvC,IAR3B;AASH0vC,yBAAa,EAAEA,aATZ;AAUH;AACA;AACArqB,uBAAW,EAAEA,WAZV;AAaH;AACA;AACAsqB,uBAAW,EAAEA,WAfV;AAgBH;AACAjkC,uBAAW,EAAExa,KAAK,CAACwa,WAjBhB;AAkBH;AACAC,uBAAW,EAAEza,KAAK,CAACya,WAnBhB;AAoBHikC,mBAAO,EAAEA,OApBN;AAqBH;AACAn8B,yBAAa,EAAE,KAAKy8B,kBAAL,CAAwBT,WAAW,CAACtxC,QAApC;AAtBZ,WAAP;AAwBH,SAnDD,CAzBkD,CA6ElD;AACA;AACA;;;AACA4wC,4BAAoB,CAACjhD,SAArB,CAA+B+hD,eAA/B,GAAiD,YAAY;AACzD,cAAI/7C,KAAK,GAAG,KAAK5C,KAAL,CAAWi/C,eAAvB;AACA,cAAIC,WAAW,GAAG,OAAOt8C,KAAP,KAAiB,UAAjB,GACZA,KAAK,CAAC/D,IAAN,CAAW,KAAKmB,KAAL,CAAW2yB,WAAtB,EAAmC,KAAK5C,OAAxC,CADY,GAEZntB,KAFN;AAGA,iBAAO,KAAKu8C,WAAL,CAAiBD,WAAjB,KACH;AAAE/wC,iBAAK,EAAE,IAAT;AAAeC,eAAG,EAAE;AAApB,WADJ,CALyD,CAMzB;AACnC,SAPD,CAhFkD,CAwFlD;AACA;AACA;AACA;;;AACAyvC,4BAAoB,CAACjhD,SAArB,CAA+BiiD,qBAA/B,GAAuD,UAAUn2C,IAAV,EAAgBuP,SAAhB,EAA2B;AAC9E,cAAIjY,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAIiN,QAAQ,GAAG,IAAf;AACA,cAAI6B,IAAI,GAAG,IAAX;AACA,cAAIlF,KAAK,GAAG,IAAZ;AACA,cAAIyY,QAAJ;;AACA,cAAIriB,KAAK,CAACiN,QAAV,EAAoB;AAChBA,oBAAQ,GAAGjN,KAAK,CAACiN,QAAjB;AACA6B,gBAAI,GAAG9O,KAAK,CAACi9C,YAAb;AACArzC,iBAAK,GAAG,KAAKw1C,sBAAL,CAA4B12C,IAA5B,EAAkCuP,SAAlC,EAA6ChL,QAA7C,EAAuD6B,IAAvD,CAAR;AACH,WAJD,MAKK,IAAKuT,QAAQ,GAAG,KAAKriB,KAAL,CAAWqiB,QAA3B,EAAsC;AACvCvT,gBAAI,GAAG,KAAP;AACAlF,iBAAK,GAAG,KAAKy1C,sBAAL,CAA4B32C,IAA5B,EAAkCuP,SAAlC,EAA6CoK,QAA7C,CAAR;AACH,WAHI,MAIA,IAAKzY,KAAK,GAAG,KAAK01C,uBAAL,CAA6B52C,IAA7B,CAAb,EAAkD;AACnDoG,gBAAI,GAAG9O,KAAK,CAAC2M,OAAN,CAAcmxB,iBAAd,CAAgCl0B,KAAK,CAACuE,KAAtC,EAA6CvE,KAAK,CAACwE,GAAnD,EAAwDU,IAA/D;AACH,WAFI,MAGA;AACD7B,oBAAQ,GAAG,KAAKsyC,mBAAL,EAAX;AACAzwC,gBAAI,GAAGsC,2BAA2B,CAACnE,QAAD,CAA3B,CAAsC6B,IAA7C;AACAlF,iBAAK,GAAG,KAAKw1C,sBAAL,CAA4B12C,IAA5B,EAAkCuP,SAAlC,EAA6ChL,QAA7C,EAAuD6B,IAAvD,CAAR;AACH;;AACD,iBAAO;AAAE7B,oBAAQ,EAAEA,QAAZ;AAAsB6B,gBAAI,EAAEA,IAA5B;AAAkClF,iBAAK,EAAEA;AAAzC,WAAP;AACH,SAxBD;;AAyBAi0C,4BAAoB,CAACjhD,SAArB,CAA+B2iD,mBAA/B,GAAqD,YAAY;AAC7D,iBAAO1wC,cAAc,CAAC;AAAES,eAAG,EAAE;AAAP,WAAD,CAArB;AACH,SAFD,CArHkD,CAwHlD;AACA;;;AACAuuC,4BAAoB,CAACjhD,SAArB,CAA+BmiD,iBAA/B,GAAmD,UAAUn1C,KAAV,EAAiB;AAChE,cAAImF,EAAE,GAAG,KAAK/O,KAAd;AAAA,cAAqB2M,OAAO,GAAGoC,EAAE,CAACpC,OAAlC;AAAA,cAA2CsY,cAAc,GAAGlW,EAAE,CAACkW,cAA/D;AAAA,cAA+EzK,WAAW,GAAGzL,EAAE,CAACyL,WAAhG;AAAA,cAA6GC,WAAW,GAAG1L,EAAE,CAAC0L,WAA9H;AACA,cAAItM,KAAK,GAAGvE,KAAK,CAACuE,KAAlB;AAAA,cAAyBC,GAAG,GAAGxE,KAAK,CAACwE,GAArC;;AACA,cAAI6W,cAAJ,EAAoB;AAChB;AACA,gBAAItU,WAAW,CAAC6J,WAAD,CAAX,GAA2B,CAA/B,EAAkC;AAC9BrM,mBAAK,GAAGhI,UAAU,CAACgI,KAAD,CAAlB,CAD8B,CACH;;AAC3BA,mBAAK,GAAGxB,OAAO,CAACtK,GAAR,CAAY8L,KAAZ,EAAmBqM,WAAnB,CAAR;AACH,aALe,CAMhB;;;AACA,gBAAI7J,WAAW,CAAC8J,WAAD,CAAX,GAA2B,CAA/B,EAAkC;AAC9BrM,iBAAG,GAAGjI,UAAU,CAACiI,GAAD,CAAhB,CAD8B,CACP;;AACvBA,iBAAG,GAAG7I,OAAO,CAAC6I,GAAD,EAAM,CAAC,CAAP,CAAb;AACAA,iBAAG,GAAGzB,OAAO,CAACtK,GAAR,CAAY+L,GAAZ,EAAiBqM,WAAjB,CAAN;AACH;AACJ;;AACD,iBAAO;AAAEtM,iBAAK,EAAEA,KAAT;AAAgBC,eAAG,EAAEA;AAArB,WAAP;AACH,SAjBD,CA1HkD,CA4IlD;AACA;;;AACAyvC,4BAAoB,CAACjhD,SAArB,CAA+BwiD,sBAA/B,GAAwD,UAAU12C,IAAV,EAAgBuP,SAAhB,EAA2BhL,QAA3B,EAAqC6B,IAArC,EAA2C;AAC/F,cAAIC,EAAE,GAAG,KAAK/O,KAAd;AAAA,cAAqB2M,OAAO,GAAGoC,EAAE,CAACpC,OAAlC;AAAA,cAA2C2V,aAAa,GAAGvT,EAAE,CAACuT,aAA9D;AACA,cAAInU,KAAJ;AACA,cAAIC,GAAJ;AACA,cAAI7B,GAAJ,CAJ+F,CAK/F;;AACA,cAAI,CAAC+V,aAAL,EAAoB;AAChB,gBAAIC,aAAa,GAAG,KAAKviB,KAAL,CAAWuiB,aAA/B;;AACA,gBAAIA,aAAJ,EAAmB;AACf;AACA,kBAAI1R,SAAS,CAAC0R,aAAD,CAAT,GAA2B1R,SAAS,CAAC5D,QAAD,CAAxC,EAAoD;AAChDqV,6BAAa,GAAGlR,2BAA2B,CAACmR,aAAD,CAA3B,CAA2CzT,IAA3D;AACH,eAFD,MAGK;AACDwT,6BAAa,GAAGxT,IAAhB;AACH;AACJ,aARD,MASK;AACDwT,2BAAa,GAAGxT,IAAhB;AACH;AACJ,WApB8F,CAqB/F;;;AACA,cAAI6B,WAAW,CAAC1D,QAAD,CAAX,IAAyB,CAA7B,EAAgC;AAC5B,gBAAI,KAAKuyC,WAAL,CAAiBrxC,KAAjB,CAAJ,EAA6B;AACzBA,mBAAK,GAAG,KAAKsxC,cAAL,CAAoBtxC,KAApB,EAA2B8J,SAA3B,CAAR;AACA9J,mBAAK,GAAGhI,UAAU,CAACgI,KAAD,CAAlB;AACH;AACJ;;AACD,mBAASuxC,UAAT,GAAsB;AAClBvxC,iBAAK,GAAGxB,OAAO,CAACsxB,OAAR,CAAgBv1B,IAAhB,EAAsB4Z,aAAtB,CAAR;AACAlU,eAAG,GAAGzB,OAAO,CAACtK,GAAR,CAAY8L,KAAZ,EAAmBlB,QAAnB,CAAN;AACAV,eAAG,GAAG;AAAE4B,mBAAK,EAAEA,KAAT;AAAgBC,iBAAG,EAAEA;AAArB,aAAN;AACH;;AACDsxC,oBAAU,GAjCqF,CAkC/F;;AACA,cAAI,CAAC,KAAKd,cAAL,CAAoBryC,GAApB,CAAL,EAA+B;AAC3B7D,gBAAI,GAAG,KAAK+2C,cAAL,CAAoB/2C,IAApB,EAA0BuP,SAA1B,CAAP;AACAynC,sBAAU;AACb;;AACD,iBAAOnzC,GAAP;AACH,SAxCD,CA9IkD,CAuLlD;;;AACAsxC,4BAAoB,CAACjhD,SAArB,CAA+ByiD,sBAA/B,GAAwD,UAAU32C,IAAV,EAAgBuP,SAAhB,EAA2BoK,QAA3B,EAAqC;AACzF,cAAItT,EAAE,GAAG,KAAK/O,KAAd;AAAA,cAAqB2M,OAAO,GAAGoC,EAAE,CAACpC,OAAlC;AAAA,cAA2C2V,aAAa,GAAGvT,EAAE,CAACuT,aAA9D;AACA,cAAIq9B,YAAY,GAAG,CAAnB;AACA,cAAIxxC,KAAK,GAAGzF,IAAZ;AACA,cAAI0F,GAAJ;;AACA,cAAIkU,aAAJ,EAAmB;AACfnU,iBAAK,GAAGxB,OAAO,CAACsxB,OAAR,CAAgB9vB,KAAhB,EAAuBmU,aAAvB,CAAR;AACH;;AACDnU,eAAK,GAAGhI,UAAU,CAACgI,KAAD,CAAlB;AACAA,eAAK,GAAG,KAAKsxC,cAAL,CAAoBtxC,KAApB,EAA2B8J,SAA3B,CAAR;AACA7J,aAAG,GAAGD,KAAN;;AACA,aAAG;AACCC,eAAG,GAAG7I,OAAO,CAAC6I,GAAD,EAAM,CAAN,CAAb;;AACA,gBAAI,CAAC,KAAKoxC,WAAL,CAAiBpxC,GAAjB,CAAL,EAA4B;AACxBuxC,0BAAY,IAAI,CAAhB;AACH;AACJ,WALD,QAKSA,YAAY,GAAGt9B,QALxB;;AAMA,iBAAO;AAAElU,iBAAK,EAAEA,KAAT;AAAgBC,eAAG,EAAEA;AAArB,WAAP;AACH,SAlBD,CAxLkD,CA2MlD;AACA;;;AACAyvC,4BAAoB,CAACjhD,SAArB,CAA+B0iD,uBAA/B,GAAyD,UAAU52C,IAAV,EAAgB;AACrE,cAAI1I,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAI4C,KAAK,GAAG5C,KAAK,CAAC4/C,iBAAlB;AACA,cAAIV,WAAW,GAAG,OAAOt8C,KAAP,KAAiB,UAAjB,GACZA,KAAK,CAAC/D,IAAN,CAAWmB,KAAK,CAAC2yB,WAAjB,EAA8B3yB,KAAK,CAAC2M,OAAN,CAAcglB,MAAd,CAAqBjpB,IAArB,CAA9B,CADY,GAEZ9F,KAFN;AAGA,cAAIgH,KAAK,GAAG,KAAKu1C,WAAL,CAAiBD,WAAjB,CAAZ;;AACA,cAAIt1C,KAAK,KAAKA,KAAK,CAACuE,KAAN,IAAe,IAAf,IAAuBvE,KAAK,CAACwE,GAAN,IAAa,IAAzC,CAAT,EAAyD;AACrD,mBAAO,IAAP;AACH;;AACD,iBAAOxE,KAAP;AACH,SAXD,CA7MkD,CAyNlD;AACA;AACA;;;AACAi0C,4BAAoB,CAACjhD,SAArB,CAA+BkiD,gBAA/B,GAAkD,UAAU1qB,YAAV,EAAwB+pB,gBAAxB,EAA0CK,aAA1C,EAAyD;AACvG,iBAAOpqB,YAAP;AACH,SAFD,CA5NkD,CA+NlD;AACA;;;AACAypB,4BAAoB,CAACjhD,SAArB,CAA+BoiD,kBAA/B,GAAoD,UAAUa,QAAV,EAAoB;AACpE,cAAIt9B,aAAa,GAAG,KAAKviB,KAAL,CAAWuiB,aAA/B;AACA,cAAIu9B,eAAJ;;AACA,cAAIv9B,aAAJ,EAAmB;AACf,mBAAOA,aAAP;AACH;;AACD,cAAKu9B,eAAe,GAAG,KAAK9/C,KAAL,CAAWsiB,aAAlC,EAAkD;AAC9C,mBAAOzT,cAAc,CAAC,CAAD,EAAIixC,eAAJ,CAArB;AACH;;AACD,cAAID,QAAJ,EAAc;AACV,mBAAOA,QAAP;AACH;;AACD,iBAAOhxC,cAAc,CAAC;AAAEtI,gBAAI,EAAE;AAAR,WAAD,CAArB;AACH,SAbD;;AAcAs3C,4BAAoB,CAACjhD,SAArB,CAA+BuiD,WAA/B,GAA6C,UAAUY,UAAV,EAAsB;AAC/D,cAAIA,UAAJ,EAAgB;AACZ,gBAAIn2C,KAAK,GAAG2hB,UAAU,CAACw0B,UAAD,EAAa,KAAK//C,KAAL,CAAW2M,OAAxB,CAAtB;;AACA,gBAAI/C,KAAJ,EAAW;AACPA,mBAAK,GAAGghB,sBAAsB,CAAChhB,KAAD,CAA9B;AACH;;AACD,mBAAOA,KAAP;AACH;;AACD,iBAAO,IAAP;AACH,SATD;AAUA;AACJ;AACI;;;AACAi0C,4BAAoB,CAACjhD,SAArB,CAA+BkhD,cAA/B,GAAgD,YAAY;AACxD,cAAIt7B,UAAU,GAAG,KAAKxiB,KAAL,CAAWwiB,UAAX,IAAyB,EAA1C,CADwD,CACV;;AAC9C,cAAIw9B,eAAe,GAAG,EAAtB,CAFwD,CAE9B;;AAC1B,cAAIr1B,MAAM,GAAG,CAAb;AACA,cAAIxrB,CAAJ;;AACA,cAAI,KAAKa,KAAL,CAAWgc,QAAX,KAAwB,KAA5B,EAAmC;AAC/BwG,sBAAU,CAACjjB,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,EAD+B,CACR;AAC1B;;AACD,eAAKJ,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,CAAhB,EAAmBA,CAAC,IAAI,CAAxB,EAA2B;AACvB,gBAAI,EAAE6gD,eAAe,CAAC7gD,CAAD,CAAf,GAAqBqjB,UAAU,CAAC5J,OAAX,CAAmBzZ,CAAnB,MAA0B,CAAC,CAAlD,CAAJ,EAA0D;AACtDwrB,oBAAM,IAAI,CAAV;AACH;AACJ;;AACD,cAAI,CAACA,MAAL,EAAa;AACT,kBAAM,IAAI5lB,KAAJ,CAAU,oBAAV,CAAN,CADS,CAC8B;AAC1C;;AACD,eAAKi7C,eAAL,GAAuBA,eAAvB;AACH,SAjBD,CA5PkD,CA8QlD;AACA;;;AACAnC,4BAAoB,CAACjhD,SAArB,CAA+BgiD,cAA/B,GAAgD,UAAUh1C,KAAV,EAAiB;AAC7D,cAAIuE,KAAK,GAAGvE,KAAK,CAACuE,KAAlB;AAAA,cAAyBC,GAAG,GAAGxE,KAAK,CAACwE,GAArC;;AACA,cAAID,KAAJ,EAAW;AACPA,iBAAK,GAAG,KAAKsxC,cAAL,CAAoBtxC,KAApB,CAAR;AACH;;AACD,cAAIC,GAAJ,EAAS;AACLA,eAAG,GAAG,KAAKqxC,cAAL,CAAoBrxC,GAApB,EAAyB,CAAC,CAA1B,EAA6B,IAA7B,CAAN;AACH;;AACD,cAAID,KAAK,IAAI,IAAT,IAAiBC,GAAG,IAAI,IAAxB,IAAgCD,KAAK,GAAGC,GAA5C,EAAiD;AAC7C,mBAAO;AAAED,mBAAK,EAAEA,KAAT;AAAgBC,iBAAG,EAAEA;AAArB,aAAP;AACH;;AACD,iBAAO,IAAP;AACH,SAZD,CAhRkD,CA6RlD;AACA;;;AACAyvC,4BAAoB,CAACjhD,SAArB,CAA+B4iD,WAA/B,GAA6C,UAAUlwC,GAAV,EAAe;AACxD,cAAIA,GAAG,YAAYnG,IAAnB,EAAyB;AACrBmG,eAAG,GAAGA,GAAG,CAAC9G,SAAJ,EAAN;AACH;;AACD,iBAAO,KAAKw3C,eAAL,CAAqB1wC,GAArB,CAAP;AACH,SALD,CA/RkD,CAqSlD;AACA;AACA;AACA;AACA;;;AACAuuC,4BAAoB,CAACjhD,SAArB,CAA+B6iD,cAA/B,GAAgD,UAAU/2C,IAAV,EAAgBu3C,GAAhB,EAAqBC,WAArB,EAAkC;AAC9E,cAAID,GAAG,KAAK,KAAK,CAAjB,EAAoB;AAAEA,eAAG,GAAG,CAAN;AAAU;;AAChC,cAAIC,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAEA,uBAAW,GAAG,KAAd;AAAsB;;AACpD,iBAAO,KAAKF,eAAL,CAAqB,CAACt3C,IAAI,CAACF,SAAL,MAAoB03C,WAAW,GAAGD,GAAH,GAAS,CAAxC,IAA6C,CAA9C,IAAmD,CAAxE,CAAP,EAAmF;AAC/Ev3C,gBAAI,GAAGnD,OAAO,CAACmD,IAAD,EAAOu3C,GAAP,CAAd;AACH;;AACD,iBAAOv3C,IAAP;AACH,SAPD;;AAQA,eAAOm1C,oBAAP;AACH,OAnTyC,EAA1C;;AAqTA,eAASsC,cAAT,CAAwBlpB,QAAxB,EAAkCzB,MAAlC,EAA0C;AACtC,gBAAQA,MAAM,CAACz4B,IAAf;AACI,eAAK,kBAAL;AACIk6B,oBAAQ,GAAGzB,MAAM,CAACyB,QAAlB;AAFR;;AAIA,eAAOA,QAAP;AACH;;AAED,eAASmpB,4BAAT,CAAsCxD,sBAAtC,EAA8DpnB,MAA9D,EAAsE;AAClE,YAAIzmB,EAAJ;;AACA,gBAAQymB,MAAM,CAACz4B,IAAf;AACI,eAAK,YAAL;AACI,mBAAO,uDAAS,uDAAS,EAAT,EAAa6/C,sBAAb,CAAT,GAAgD7tC,EAAE,GAAG,EAAL,EAASA,EAAE,CAACymB,MAAM,CAACY,UAAR,CAAF,GAAwBZ,MAAM,CAACa,cAAxC,EAAwDtnB,EAAxG,EAAP;;AACJ;AACI,mBAAO6tC,sBAAP;AAJR;AAMH;;AAED,eAASyD,iBAAT,CAA2BrC,kBAA3B,EAA+CxoB,MAA/C,EAAuDD,WAAvD,EAAoEua,oBAApE,EAA0F;AACtF,YAAIwQ,EAAJ;;AACA,gBAAQ9qB,MAAM,CAACz4B,IAAf;AACI,eAAK,kBAAL;AACI,mBAAO+yC,oBAAoB,CAACsO,KAArB,CAA2B5oB,MAAM,CAACC,UAAP,IAAqBF,WAAhD,CAAP;;AACJ,eAAK,aAAL;AACI,gBAAI,CAACyoB,kBAAkB,CAAC7pB,WAApB,IACA,CAAC1H,mBAAmB,CAACuxB,kBAAkB,CAAC5pB,YAApB,EAAkCoB,MAAM,CAACC,UAAzC,CADxB,CAC6E;AAD7E,cAEE;AACE,uBAAOqa,oBAAoB,CAACsO,KAArB,CAA2B5oB,MAAM,CAACC,UAAlC,CAAP;AACH;;AACD;;AACJ,eAAK,MAAL;AACI6qB,cAAE,GAAGxQ,oBAAoB,CAACiO,SAArB,CAA+BC,kBAA/B,EAAmDzoB,WAAnD,CAAL;;AACA,gBAAI+qB,EAAE,CAAC5B,OAAP,EAAgB;AACZ,qBAAO4B,EAAP;AACH;;AACD;;AACJ,eAAK,MAAL;AACIA,cAAE,GAAGxQ,oBAAoB,CAACuO,SAArB,CAA+BL,kBAA/B,EAAmDzoB,WAAnD,CAAL;;AACA,gBAAI+qB,EAAE,CAAC5B,OAAP,EAAgB;AACZ,qBAAO4B,EAAP;AACH;;AACD;AArBR;;AAuBA,eAAOtC,kBAAP;AACH;;AAED,eAASuC,gBAAT,CAA0BroB,eAA1B,EAA2ChE,WAA3C,EAAwDx3B,OAAxD,EAAiE;AAC7D,YAAIy3B,WAAW,GAAGD,WAAW,GAAGA,WAAW,CAACC,WAAf,GAA6B,IAA1D;AACA,eAAOqsB,UAAU,CAAC,EAAD,EAAKC,mBAAmB,CAACvoB,eAAD,EAAkBx7B,OAAlB,CAAxB,EAAoDy3B,WAApD,EAAiEz3B,OAAjE,CAAjB;AACH;;AACD,eAASgkD,kBAAT,CAA4Bh8B,YAA5B,EAA0C8Q,MAA1C,EAAkDtB,WAAlD,EAA+Dx3B,OAA/D,EAAwE;AACpE,YAAIy3B,WAAW,GAAGD,WAAW,GAAGA,WAAW,CAACC,WAAf,GAA6B,IAA1D,CADoE,CACJ;;AAChE,gBAAQqB,MAAM,CAACz4B,IAAf;AACI,eAAK,mBAAL;AAA0B;AACtB,mBAAOyjD,UAAU,CAAC97B,YAAD,EAAe8Q,MAAM,CAACgF,OAAtB,EAA+BrG,WAA/B,EAA4Cz3B,OAA5C,CAAjB;;AACJ,eAAK,qBAAL;AACI,mBAAOikD,YAAY,CAACj8B,YAAD,EAAe8Q,MAAM,CAACx4B,QAAtB,CAAnB;;AACJ,eAAK,MAAL,CALJ,CAKiB;;AACb,eAAK,MAAL;AACA,eAAK,aAAL;AACA,eAAK,kBAAL;AACI,gBAAIk3B,WAAJ,EAAiB;AACb,qBAAO0sB,iBAAiB,CAACl8B,YAAD,EAAeyP,WAAf,EAA4Bz3B,OAA5B,CAAxB;AACH;;AACD,mBAAOgoB,YAAP;;AACJ,eAAK,qBAAL;AACI,mBAAOm8B,iBAAiB,CAACn8B,YAAD,EAAe8Q,MAAM,CAACt4B,SAAP,GAAmB;AACtD8N,uBAAW,CAACwqB,MAAM,CAACt4B,SAAR,CADwB,GAEnC4jD,oBAAoB,CAACp8B,YAAD,EAAehoB,OAAf,CAFA,EAEyBy3B,WAFzB,EAEsCz3B,OAFtC,CAAxB;;AAGJ,eAAK,gBAAL;AACA,eAAK,qBAAL;AACI,mBAAOqkD,eAAe,CAACr8B,YAAD,EAAe8Q,MAAM,CAACx4B,QAAtB,EAAgCw4B,MAAM,CAAC8b,OAAvC,EAAgD9b,MAAM,CAACP,UAAvD,CAAtB;;AACJ,eAAK,0BAAL;AACI,mBAAO,EAAP;;AACJ;AACI,mBAAOvQ,YAAP;AAvBR;AAyBH;;AACD,eAASs8B,6BAAT,CAAuCt8B,YAAvC,EAAqDwP,WAArD,EAAkEx3B,OAAlE,EAA2E;AACvE,YAAIy3B,WAAW,GAAGD,WAAW,GAAGA,WAAW,CAACC,WAAf,GAA6B,IAA1D,CADuE,CACP;;AAChE,eAAO0sB,iBAAiB,CAACn8B,YAAD,EAAeo8B,oBAAoB,CAACp8B,YAAD,EAAehoB,OAAf,CAAnC,EAA4Dy3B,WAA5D,EAAyEz3B,OAAzE,CAAxB;AACH;;AACD,eAASukD,0BAAT,CAAoCv8B,YAApC,EAAkD;AAC9C,aAAK,IAAI1nB,QAAT,IAAqB0nB,YAArB,EAAmC;AAC/B,cAAIA,YAAY,CAAC1nB,QAAD,CAAZ,CAAuB+3B,UAA3B,EAAuC;AACnC,mBAAO,IAAP;AACH;AACJ;;AACD,eAAO,KAAP;AACH;;AACD,eAASyrB,UAAT,CAAoBU,eAApB,EAAqC1mB,OAArC,EAA8CvF,UAA9C,EAA0Dv4B,OAA1D,EAAmE;AAC/D,YAAIiO,IAAI,GAAG,EAAX;;AACA,aAAK,IAAIM,EAAE,GAAG,CAAT,EAAYk2C,SAAS,GAAG3mB,OAA7B,EAAsCvvB,EAAE,GAAGk2C,SAAS,CAAC/hD,MAArD,EAA6D6L,EAAE,EAA/D,EAAmE;AAC/D,cAAIm2C,MAAM,GAAGD,SAAS,CAACl2C,EAAD,CAAtB;AACAN,cAAI,CAACy2C,MAAM,CAACpkD,QAAR,CAAJ,GAAwBokD,MAAxB;AACH;;AACD,YAAInsB,UAAJ,EAAgB;AACZtqB,cAAI,GAAGi2C,iBAAiB,CAACj2C,IAAD,EAAOsqB,UAAP,EAAmBv4B,OAAnB,CAAxB;AACH;;AACD,eAAO,uDAAS,uDAAS,EAAT,EAAawkD,eAAb,CAAT,EAAwCv2C,IAAxC,CAAP;AACH;;AACD,eAASg2C,YAAT,CAAsBO,eAAtB,EAAuClkD,QAAvC,EAAiD;AAC7C,eAAO0N,UAAU,CAACw2C,eAAD,EAAkB,UAAUp7B,WAAV,EAAuB;AAAE,iBAAOA,WAAW,CAAC9oB,QAAZ,KAAyBA,QAAhC;AAA2C,SAAtF,CAAjB;AACH;;AACD,eAAS4jD,iBAAT,CAA2BxmB,UAA3B,EAAuCnF,UAAvC,EAAmDv4B,OAAnD,EAA4D;AACxD,eAAOmkD,iBAAiB,CAACzmB,UAAD,EAAa1vB,UAAU,CAAC0vB,UAAD,EAAa,UAAUtU,WAAV,EAAuB;AAAE,iBAAOu7B,aAAa,CAACv7B,WAAD,EAAcmP,UAAd,EAA0Bv4B,OAA1B,CAApB;AAAyD,SAA/F,CAAvB,EAAyHu4B,UAAzH,EAAqIv4B,OAArI,CAAxB;AACH;;AACD,eAAS2kD,aAAT,CAAuBv7B,WAAvB,EAAoCmP,UAApC,EAAgDv4B,OAAhD,EAAyD;AACrD,YAAI,CAAC4kD,mBAAmB,CAACx7B,WAAD,EAAcppB,OAAd,CAAxB,EAAgD;AAC5C,iBAAO,CAACopB,WAAW,CAACkP,aAApB;AACH;;AACD,eAAO,CAACt4B,OAAO,CAAC8Q,OAAR,CAAgByP,YAAjB,IACH,CAAC6I,WAAW,CAACmP,UADV,IAEHnP,WAAW,CAACiP,UAFT,IAEuB;AAC1BE,kBAAU,CAAC9mB,KAAX,GAAmB2X,WAAW,CAACmP,UAAZ,CAAuB9mB,KAHvC,IAIH8mB,UAAU,CAAC7mB,GAAX,GAAiB0X,WAAW,CAACmP,UAAZ,CAAuB7mB,GAJ5C;AAKH;;AACD,eAASyyC,iBAAT,CAA2BU,WAA3B,EAAwCC,YAAxC,EAAsDvsB,UAAtD,EAAkEv4B,OAAlE,EAA2E;AACvE,YAAI+kD,WAAW,GAAG,EAAlB;;AACA,aAAK,IAAIzkD,QAAT,IAAqBukD,WAArB,EAAkC;AAC9B,cAAIH,MAAM,GAAGG,WAAW,CAACvkD,QAAD,CAAxB;;AACA,cAAIwkD,YAAY,CAACxkD,QAAD,CAAhB,EAA4B;AACxBykD,uBAAW,CAACzkD,QAAD,CAAX,GAAwB0kD,WAAW,CAACN,MAAD,EAASnsB,UAAT,EAAqBv4B,OAArB,CAAnC;AACH,WAFD,MAGK;AACD+kD,uBAAW,CAACzkD,QAAD,CAAX,GAAwBokD,MAAxB;AACH;AACJ;;AACD,eAAOK,WAAP;AACH;;AACD,eAASC,WAAT,CAAqB57B,WAArB,EAAkCmP,UAAlC,EAA8Cv4B,OAA9C,EAAuD;AACnD,YAAI8Q,OAAO,GAAG9Q,OAAO,CAAC8Q,OAAtB;AAAA,YAA+BmlB,WAAW,GAAGj2B,OAAO,CAACi2B,WAArD;AACA,YAAIgvB,SAAS,GAAGjlD,OAAO,CAAC6Q,WAAR,CAAoB6nB,eAApB,CAAoCtP,WAAW,CAACoP,WAAhD,CAAhB;AACA,YAAIoc,OAAO,GAAGtvC,IAAI,EAAlB;AACA2/C,iBAAS,CAACC,KAAV,CAAgB;AACZ97B,qBAAW,EAAEA,WADD;AAEZlc,eAAK,EAAEqrB,UAFK;AAGZv4B,iBAAO,EAAEA;AAHG,SAAhB,EAIG,UAAU6P,GAAV,EAAe;AACd,cAAIsZ,SAAS,GAAGtZ,GAAG,CAACsZ,SAApB;;AACA,cAAIrY,OAAO,CAACyR,kBAAZ,EAAgC;AAC5B4G,qBAAS,GAAGrY,OAAO,CAACyR,kBAAR,CAA2BpgB,IAA3B,CAAgC8zB,WAAhC,EAA6C9M,SAA7C,EAAwDtZ,GAAG,CAACs1C,GAA5D,KAAoEh8B,SAAhF;AACH;;AACD,cAAIC,WAAW,CAACyO,OAAhB,EAAyB;AACrB1O,qBAAS,GAAGC,WAAW,CAACyO,OAAZ,CAAoB11B,IAApB,CAAyB8zB,WAAzB,EAAsC9M,SAAtC,EAAiDtZ,GAAG,CAACs1C,GAArD,KAA6Dh8B,SAAzE;AACH;;AACDnpB,iBAAO,CAACI,QAAR,CAAiB;AACbC,gBAAI,EAAE,gBADO;AAEbC,oBAAQ,EAAE8oB,WAAW,CAAC9oB,QAFT;AAGbs0C,mBAAO,EAAEA,OAHI;AAIbrc,sBAAU,EAAEA,UAJC;AAKbpP,qBAAS,EAAEA;AALE,WAAjB;AAOH,SAnBD,EAmBG,UAAUi8B,KAAV,EAAiB;AAChBlrB,iBAAO,CAACC,IAAR,CAAairB,KAAK,CAACC,OAAnB,EAA4BD,KAA5B;;AACA,cAAIt0C,OAAO,CAACwR,kBAAZ,EAAgC;AAC5BxR,mBAAO,CAACwR,kBAAR,CAA2BngB,IAA3B,CAAgC8zB,WAAhC,EAA6CmvB,KAA7C;AACH;;AACD,cAAIh8B,WAAW,CAAC0O,OAAhB,EAAyB;AACrB1O,uBAAW,CAAC0O,OAAZ,CAAoBstB,KAApB;AACH;;AACDplD,iBAAO,CAACI,QAAR,CAAiB;AACbC,gBAAI,EAAE,qBADO;AAEbC,oBAAQ,EAAE8oB,WAAW,CAAC9oB,QAFT;AAGbs0C,mBAAO,EAAEA,OAHI;AAIbrc,sBAAU,EAAEA,UAJC;AAKb6sB,iBAAK,EAAEA;AALM,WAAjB;AAOH,SAlCD;AAmCA,eAAO,uDAAS,uDAAS,EAAT,EAAah8B,WAAb,CAAT,EAAoC;AAAEiP,oBAAU,EAAE,IAAd;AAAoBC,uBAAa,EAAEsc;AAAnC,SAApC,CAAP;AACH;;AACD,eAASyP,eAAT,CAAyB3mB,UAAzB,EAAqCp9B,QAArC,EAA+Cs0C,OAA/C,EAAwDrc,UAAxD,EAAoE;AAChE,YAAIlmB,EAAJ;;AACA,YAAI+W,WAAW,GAAGsU,UAAU,CAACp9B,QAAD,CAA5B;;AACA,YAAI8oB,WAAW,IAAI;AACfwrB,eAAO,KAAKxrB,WAAW,CAACkP,aAD5B,EAC2C;AACvC,iBAAO,uDAAS,uDAAS,EAAT,EAAaoF,UAAb,CAAT,GAAoCrrB,EAAE,GAAG,EAAL,EAASA,EAAE,CAAC/R,QAAD,CAAF,GAAe,uDAAS,uDAAS,EAAT,EAAa8oB,WAAb,CAAT,EAAoC;AAAEiP,sBAAU,EAAE,KAAd;AAAqBE,sBAAU,EAAEA;AAAjC,WAApC,CAAxB,EAA4GlmB,EAAhJ,EAAP;AACH;;AACD,eAAOqrB,UAAP;AACH;;AACD,eAAS0mB,oBAAT,CAA8Bp8B,YAA9B,EAA4ChoB,OAA5C,EAAqD;AACjD,eAAOgO,UAAU,CAACga,YAAD,EAAe,UAAUoB,WAAV,EAAuB;AAAE,iBAAOw7B,mBAAmB,CAACx7B,WAAD,EAAcppB,OAAd,CAA1B;AAAmD,SAA3F,CAAjB;AACH;;AACD,eAAS+jD,mBAAT,CAA6B7G,UAA7B,EAAyCl9C,OAAzC,EAAkD;AAC9C,YAAI+oB,QAAQ,GAAGiP,wBAAwB,CAACh4B,OAAD,CAAvC;AACA,YAAIslD,UAAU,GAAG,GAAG34C,MAAH,CAAUuwC,UAAU,CAACl1B,YAAX,IAA2B,EAArC,CAAjB;AACA,YAAI8V,OAAO,GAAG,EAAd,CAH8C,CAG5B;;AAClB,YAAIof,UAAU,CAACp1B,aAAf,EAA8B;AAC1Bw9B,oBAAU,CAACz3C,OAAX,CAAmBqvC,UAAU,CAACp1B,aAA9B;AACH;;AACD,YAAIo1B,UAAU,CAACn1B,MAAf,EAAuB;AACnBu9B,oBAAU,CAACz3C,OAAX,CAAmBqvC,UAAU,CAACn1B,MAA9B;AACH;;AACD,aAAK,IAAIxZ,EAAE,GAAG,CAAT,EAAYg3C,YAAY,GAAGD,UAAhC,EAA4C/2C,EAAE,GAAGg3C,YAAY,CAAC7iD,MAA9D,EAAsE6L,EAAE,EAAxE,EAA4E;AACxE,cAAIi3C,SAAS,GAAGD,YAAY,CAACh3C,EAAD,CAA5B;AACA,cAAIm2C,MAAM,GAAG3sB,gBAAgB,CAACytB,SAAD,EAAYxlD,OAAZ,EAAqB+oB,QAArB,CAA7B;;AACA,cAAI27B,MAAJ,EAAY;AACR5mB,mBAAO,CAACj7B,IAAR,CAAa6hD,MAAb;AACH;AACJ;;AACD,eAAO5mB,OAAP;AACH;;AACD,eAAS8mB,mBAAT,CAA6Bx7B,WAA7B,EAA0CppB,OAA1C,EAAmD;AAC/C,YAAI+Q,IAAI,GAAG/Q,OAAO,CAAC6Q,WAAR,CAAoB6nB,eAA/B;AACA,eAAO,CAAC3nB,IAAI,CAACqY,WAAW,CAACoP,WAAb,CAAJ,CAA8BitB,WAAtC;AACH;;AAED,eAASC,mBAAT,CAA6BC,gBAA7B,EAA+C7sB,MAA/C,EAAuD;AACnD,gBAAQA,MAAM,CAACz4B,IAAf;AACI,eAAK,gBAAL;AACI,mBAAO,IAAP;;AACJ,eAAK,cAAL;AACI,mBAAOy4B,MAAM,CAACtD,SAAd;;AACJ;AACI,mBAAOmwB,gBAAP;AANR;AAQH;;AAED,eAASC,mBAAT,CAA6BC,iBAA7B,EAAgD/sB,MAAhD,EAAwD;AACpD,gBAAQA,MAAM,CAACz4B,IAAf;AACI,eAAK,gBAAL;AACI,mBAAO,EAAP;;AACJ,eAAK,cAAL;AACI,mBAAOy4B,MAAM,CAACgtB,eAAd;;AACJ;AACI,mBAAOD,iBAAP;AANR;AAQH;;AAED,eAASE,eAAT,CAAyBC,WAAzB,EAAsCltB,MAAtC,EAA8C;AAC1C,YAAImtB,OAAJ;;AACA,gBAAQntB,MAAM,CAACz4B,IAAf;AACI,eAAK,kBAAL;AACI,mBAAO,IAAP;;AACJ,eAAK,gBAAL;AACI4lD,mBAAO,GAAGntB,MAAM,CAAC4B,KAAjB;AACA,mBAAO;AACHgO,4BAAc,EAAEud,OAAO,CAACvd,cADrB;AAEHE,2BAAa,EAAEqd,OAAO,CAACrd,aAFpB;AAGHG,qBAAO,EAAEkd,OAAO,CAACld;AAHd,aAAP;;AAKJ;AACI,mBAAOid,WAAP;AAXR;AAaH;;AAED,eAASE,iBAAT,CAA2BC,aAA3B,EAA0CrtB,MAA1C,EAAkD;AAC9C,YAAIstB,SAAJ;;AACA,gBAAQttB,MAAM,CAACz4B,IAAf;AACI,eAAK,oBAAL;AACI,mBAAO,IAAP;;AACJ,eAAK,kBAAL;AACI+lD,qBAAS,GAAGttB,MAAM,CAAC4B,KAAnB;AACA,mBAAO;AACHgO,4BAAc,EAAE0d,SAAS,CAAC1d,cADvB;AAEHE,2BAAa,EAAEwd,SAAS,CAACxd,aAFtB;AAGHG,qBAAO,EAAEqd,SAAS,CAACrd;AAHhB,aAAP;;AAKJ;AACI,mBAAOod,aAAP;AAXR;AAaH;;AAED,eAASE,aAAT,CAAuB7qB,eAAvB,EAAwC8qB,uBAAxC,EAAiE9c,KAAjE,EAAwE5O,SAAxE,EAAmF3E,WAAnF,EAAgG;AAC5F,YAAI+E,gBAAgB,GAAG,EAAvB;AACA,YAAI7c,aAAa,GAAGqd,eAAe,CAACrd,aAAhB,GAAgCooC,YAAY,CAAC/qB,eAAe,CAACrd,aAAjB,EAAgCqd,eAAhC,EAAiD8qB,uBAAjD,EAA0E9c,KAA1E,EAAiF5O,SAAjF,EAA4F3E,WAA5F,EAAyG+E,gBAAzG,CAA5C,GAAyK,IAA7L;AACA,YAAI5c,aAAa,GAAGod,eAAe,CAACpd,aAAhB,GAAgCmoC,YAAY,CAAC/qB,eAAe,CAACpd,aAAjB,EAAgCod,eAAhC,EAAiD8qB,uBAAjD,EAA0E9c,KAA1E,EAAiF5O,SAAjF,EAA4F3E,WAA5F,EAAyG+E,gBAAzG,CAA5C,GAAyK,IAA7L;AACA,eAAO;AAAE7c,uBAAa,EAAEA,aAAjB;AAAgCC,uBAAa,EAAEA,aAA/C;AAA8D4c,0BAAgB,EAAEA;AAAhF,SAAP;AACH;;AACD,eAASurB,YAAT,CAAsBC,cAAtB,EAAsChrB,eAAtC,EAAuD8qB,uBAAvD,EAAgF9c,KAAhF,EAAuF5O,SAAvF,EAAkG3E,WAAlG,EAA+G+E,gBAA/G,EAAiI;AAC7H,eAAO5sB,OAAO,CAACo4C,cAAD,EAAiB,UAAUC,UAAV,EAAsB;AAAE,iBAAOC,YAAY,CAACD,UAAD,EAAajrB,eAAb,EAA8B8qB,uBAA9B,EAAuD9c,KAAvD,EAA8D5O,SAA9D,EAAyE3E,WAAzE,EAAsF+E,gBAAtF,CAAnB;AAA6H,SAAtK,CAAd;AACH;AACD;AACA;AACA;;;AACA,eAAS0rB,YAAT,CAAsBD,UAAtB,EAAkCjrB,eAAlC,EAAmD8qB,uBAAnD,EAA4E9c,KAA5E,EAAmF5O,SAAnF,EAA8F3E,WAA9F,EAA2G+E,gBAA3G,EAA6H;AACzH,YAAIgX,KAAK,GAAGxW,eAAe,CAACjgB,SAAhB,KAA8B,KAA1C;AACA,YAAIorC,qBAAqB,GAAGnrB,eAAe,CAAC7d,aAAhB,IAAiC,EAA7D;AACA,YAAIipC,2BAA2B,GAAGN,uBAAuB,CAAC1+B,UAAxB,IAAsC,EAAxE;AACA,YAAIi/B,kBAAkB,GAAGrrB,eAAe,CAAC5T,UAAhB,IAA8B,EAAvD;AACA,YAAIk/B,cAAc,GAAGL,UAAU,GAAGA,UAAU,CAACngD,KAAX,CAAiB,GAAjB,CAAH,GAA2B,EAA1D;AACA,eAAOwgD,cAAc,CAAC90C,GAAf,CAAmB,UAAU+0C,cAAV,EAA0B;AAAE,iBAAQA,cAAc,CAACzgD,KAAf,CAAqB,GAArB,EAA0B0L,GAA1B,CAA8B,UAAUy/B,UAAV,EAAsB;AAC9G,gBAAIA,UAAU,KAAK,OAAnB,EAA4B;AACxB,qBAAO;AAAEA,0BAAU,EAAEA;AAAd,eAAP;AACH;;AACD,gBAAIW,iBAAJ;AACA,gBAAIc,QAAJ;AACA,gBAAI8T,WAAJ;AACA,gBAAIC,UAAJ,CAP8G,CAO9F;;AAChB,gBAAIr/B,UAAJ,CAR8G,CAQ9F;;AAChB,gBAAKwqB,iBAAiB,GAAGuU,qBAAqB,CAAClV,UAAD,CAA9C,EAA6D;AACzDuV,yBAAW,GAAG,qBAAUljD,EAAV,EAAc;AACxB,oBAAIsuC,iBAAiB,CAAC8U,KAAtB,EAA6B;AACzB9U,mCAAiB,CAAC8U,KAAlB,CAAwB/kD,IAAxB,CAA6B2B,EAAE,CAACI,MAAhC,EAAwCJ,EAAxC,EAA4CA,EAAE,CAACI,MAA/C;AACH;AACJ,eAJD;;AAKA,eAAC+iD,UAAU,GAAGzd,KAAK,CAAC2I,wBAAN,CAA+BC,iBAA/B,CAAd,MACK6U,UAAU,GAAGzd,KAAK,CAACuI,YAAN,CAAmBN,UAAnB,EAA+BO,KAA/B,CADlB,MAEKpqB,UAAU,GAAGwqB,iBAAiB,CAAC+U,IAFpC;AAGH,aATD,MAUK,IAAKjU,QAAQ,GAAGtY,SAAS,CAAC6W,UAAD,CAAzB,EAAwC;AACzCzW,8BAAgB,CAACn4B,IAAjB,CAAsB4uC,UAAtB;;AACAuV,yBAAW,GAAG,uBAAY;AACtB/wB,2BAAW,CAACqE,UAAZ,CAAuBmX,UAAvB;AACH,eAFD;;AAGA,eAAC7pB,UAAU,GAAGsrB,QAAQ,CAAC6N,kBAAvB,MACKkG,UAAU,GAAGzd,KAAK,CAACuI,YAAN,CAAmBN,UAAnB,EAA+BO,KAA/B,CADlB,MAEKpqB,UAAU,GAAGsrB,QAAQ,CAAC8N,iBAF3B;AAGH,aARI,MASA,IAAI/qB,WAAW,CAACwb,UAAD,CAAf,EAA6B;AAAE;AAChCuV,yBAAW,GAAG,uBAAY;AACtB/wB,2BAAW,CAACwb,UAAD,CAAX;AACH,eAFD;;AAGA,eAAC7pB,UAAU,GAAGg/B,2BAA2B,CAACnV,UAAD,CAAzC,MACKwV,UAAU,GAAGzd,KAAK,CAACuI,YAAN,CAAmBN,UAAnB,EAA+BO,KAA/B,CADlB,MAEKpqB,UAAU,GAAGi/B,kBAAkB,CAACpV,UAAD,CAFpC,EAJ8B,CAO9B;AACH;;AACD,mBAAO;AAAEA,wBAAU,EAAEA,UAAd;AAA0BuV,yBAAW,EAAEA,WAAvC;AAAoDC,wBAAU,EAAEA,UAAhE;AAA4Er/B,wBAAU,EAAEA;AAAxF,aAAP;AACH,WAtC6D,CAAR;AAsChD,SAtCC,CAAP;AAuCH;;AAED,UAAIw/B,cAAc,GAAG;AACjB3B,mBAAW,EAAE,IADI;AAEjB9sB,iBAAS,EAAE,mBAAU5oB,OAAV,EAAmB;AAC1B,cAAIxJ,KAAK,CAACC,OAAN,CAAcuJ,OAAO,CAACgY,MAAtB,CAAJ,EAAmC;AAC/B,mBAAOhY,OAAO,CAACgY,MAAf;AACH;;AACD,iBAAO,IAAP;AACH,SAPgB;AAQjBm9B,aAAK,EAAE,eAAUmC,GAAV,EAAexvB,OAAf,EAAwB;AAC3BA,iBAAO,CAAC;AACJ1O,qBAAS,EAAEk+B,GAAG,CAACj+B,WAAJ,CAAgBroB;AADvB,WAAD,CAAP;AAGH;AAZgB,OAArB;AAcA,UAAIumD,sBAAsB,GAAG/N,YAAY,CAAC;AACtC7gB,uBAAe,EAAE,CAAC0uB,cAAD;AADqB,OAAD,CAAzC;AAIA,UAAIG,gBAAgB,GAAG;AACnB5uB,iBAAS,EAAE,mBAAU5oB,OAAV,EAAmB;AAC1B,cAAI,OAAOA,OAAO,CAACgY,MAAf,KAA0B,UAA9B,EAA0C;AACtC,mBAAOhY,OAAO,CAACgY,MAAf;AACH;;AACD,iBAAO,IAAP;AACH,SANkB;AAOnBm9B,aAAK,EAAE,eAAUmC,GAAV,EAAexvB,OAAf,EAAwBC,OAAxB,EAAiC;AACpC,cAAI7nB,OAAO,GAAGo3C,GAAG,CAACrnD,OAAJ,CAAYiQ,OAA1B;AACA,cAAIpJ,IAAI,GAAGwgD,GAAG,CAACj+B,WAAJ,CAAgBroB,IAA3B;AACAssC,qBAAW,CAACxmC,IAAI,CAAC2gD,IAAL,CAAU,IAAV,EAAgBzyB,yBAAyB,CAACsyB,GAAG,CAACn6C,KAAL,EAAY+C,OAAZ,CAAzC,CAAD,EAAiE,UAAUkZ,SAAV,EAAqB;AAC7F0O,mBAAO,CAAC;AAAE1O,uBAAS,EAAEA;AAAb,aAAD,CAAP,CAD6F,CAC1D;AACtC,WAFU,EAER2O,OAFQ,CAAX;AAGH;AAbkB,OAAvB;AAeA,UAAI2vB,qBAAqB,GAAGlO,YAAY,CAAC;AACrC7gB,uBAAe,EAAE,CAAC6uB,gBAAD;AADoB,OAAD,CAAxC;;AAIA,eAASG,WAAT,CAAqB3lD,MAArB,EAA6Bf,GAA7B,EAAkC2mD,MAAlC,EAA0CC,eAA1C,EAA2DC,eAA3D,EAA4E;AACxE9lD,cAAM,GAAGA,MAAM,CAAC+lD,WAAP,EAAT;AACA,YAAIriD,IAAI,GAAG,IAAX;;AACA,YAAI1D,MAAM,KAAK,KAAf,EAAsB;AAClBf,aAAG,GAAG+mD,uBAAuB,CAAC/mD,GAAD,EAAM2mD,MAAN,CAA7B;AACH,SAFD,MAGK;AACDliD,cAAI,GAAGuiD,YAAY,CAACL,MAAD,CAAnB;AACH;;AACD,YAAIxC,GAAG,GAAG,IAAI8C,cAAJ,EAAV;AACA9C,WAAG,CAAC+C,IAAJ,CAASnmD,MAAT,EAAiBf,GAAjB,EAAsB,IAAtB;;AACA,YAAIe,MAAM,KAAK,KAAf,EAAsB;AAClBojD,aAAG,CAACgD,gBAAJ,CAAqB,cAArB,EAAqC,mCAArC;AACH;;AACDhD,WAAG,CAACiD,MAAJ,GAAa,YAAY;AACrB,cAAIjD,GAAG,CAACkD,MAAJ,IAAc,GAAd,IAAqBlD,GAAG,CAACkD,MAAJ,GAAa,GAAtC,EAA2C;AACvC,gBAAIl4C,MAAM,GAAG,KAAb;AACA,gBAAIN,GAAG,GAAG,KAAK,CAAf;;AACA,gBAAI;AACAA,iBAAG,GAAG+5B,IAAI,CAACx5B,KAAL,CAAW+0C,GAAG,CAACmD,YAAf,CAAN;AACAn4C,oBAAM,GAAG,IAAT;AACH,aAHD,CAIA,OAAOo4C,GAAP,EAAY,CACR;AACH;;AACD,gBAAIp4C,MAAJ,EAAY;AACRy3C,6BAAe,CAAC/3C,GAAD,EAAMs1C,GAAN,CAAf;AACH,aAFD,MAGK;AACD0C,6BAAe,CAAC,sBAAD,EAAyB1C,GAAzB,CAAf;AACH;AACJ,WAhBD,MAiBK;AACD0C,2BAAe,CAAC,gBAAD,EAAmB1C,GAAnB,CAAf;AACH;AACJ,SArBD;;AAsBAA,WAAG,CAACqD,OAAJ,GAAc,YAAY;AACtBX,yBAAe,CAAC,gBAAD,EAAmB1C,GAAnB,CAAf;AACH,SAFD;;AAGAA,WAAG,CAACsD,IAAJ,CAAShjD,IAAT;AACH;;AACD,eAASsiD,uBAAT,CAAiC/mD,GAAjC,EAAsC2mD,MAAtC,EAA8C;AAC1C,eAAO3mD,GAAG,IACLA,GAAG,CAACkb,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAAtB,GAA0B,GAA1B,GAAgC,GAD3B,CAAH,GAEH8rC,YAAY,CAACL,MAAD,CAFhB;AAGH;;AACD,eAASK,YAAT,CAAsBL,MAAtB,EAA8B;AAC1B,YAAItsC,KAAK,GAAG,EAAZ;;AACA,aAAK,IAAIlN,GAAT,IAAgBw5C,MAAhB,EAAwB;AACpBtsC,eAAK,CAACxY,IAAN,CAAW6lD,kBAAkB,CAACv6C,GAAD,CAAlB,GAA0B,GAA1B,GAAgCu6C,kBAAkB,CAACf,MAAM,CAACx5C,GAAD,CAAP,CAA7D;AACH;;AACD,eAAOkN,KAAK,CAACI,IAAN,CAAW,GAAX,CAAP;AACH;;AAED,UAAIktC,+BAA+B,GAAG;AAClC5mD,cAAM,EAAEwD,MAD0B;AAElCqjD,mBAAW,EAAErrC,QAFqB;AAGlCiD,kBAAU,EAAEjb,MAHsB;AAIlCkb,gBAAQ,EAAElb,MAJwB;AAKlCmb,qBAAa,EAAEnb;AALmB,OAAtC;AAQA,UAAIsjD,gBAAgB,GAAG;AACnBlwB,iBAAS,EAAE,mBAAU5oB,OAAV,EAAmB;AAC1B,cAAIA,OAAO,CAAC/O,GAAR,KAAgB+O,OAAO,CAAC9O,MAAR,KAAmB,MAAnB,IAA6B,CAAC8O,OAAO,CAAC9O,MAAtD,CAAJ,EAAmE;AAC/D,mBAAO;AACHD,iBAAG,EAAE+O,OAAO,CAAC/O,GADV;AAEHC,oBAAM,EAAE,MAFL;AAGHc,oBAAM,EAAE,CAACgO,OAAO,CAAChO,MAAR,IAAkB,KAAnB,EAA0B+lD,WAA1B,EAHL;AAIHc,yBAAW,EAAE74C,OAAO,CAAC64C,WAJlB;AAKHpoC,wBAAU,EAAEzQ,OAAO,CAACyQ,UALjB;AAMHC,sBAAQ,EAAE1Q,OAAO,CAAC0Q,QANf;AAOHC,2BAAa,EAAE3Q,OAAO,CAAC2Q;AAPpB,aAAP;AASH;;AACD,iBAAO,IAAP;AACH,SAdkB;AAenBwkC,aAAK,EAAE,eAAUmC,GAAV,EAAexvB,OAAf,EAAwBC,OAAxB,EAAiC;AACpC,cAAI/2B,IAAI,GAAGsmD,GAAG,CAACj+B,WAAJ,CAAgBroB,IAA3B;AACA,cAAI+nD,aAAa,GAAGC,kBAAkB,CAAChoD,IAAD,EAAOsmD,GAAG,CAACn6C,KAAX,EAAkBm6C,GAAG,CAACrnD,OAAtB,CAAtC;AACA0nD,qBAAW,CAAC3mD,IAAI,CAACgB,MAAN,EAAchB,IAAI,CAACC,GAAnB,EAAwB8nD,aAAxB,EAAuC,UAAU3/B,SAAV,EAAqBg8B,GAArB,EAA0B;AACxEttB,mBAAO,CAAC;AAAE1O,uBAAS,EAAEA,SAAb;AAAwBg8B,iBAAG,EAAEA;AAA7B,aAAD,CAAP;AACH,WAFU,EAER,UAAU6D,YAAV,EAAwB7D,GAAxB,EAA6B;AAC5BrtB,mBAAO,CAAC;AAAEutB,qBAAO,EAAE2D,YAAX;AAAyB7D,iBAAG,EAAEA;AAA9B,aAAD,CAAP;AACH,WAJU,CAAX;AAKH;AAvBkB,OAAvB;AAyBA,UAAI8D,yBAAyB,GAAG1P,YAAY,CAAC;AACzC9gB,2BAAmB,EAAEkwB,+BADoB;AAEzCjwB,uBAAe,EAAE,CAACmwB,gBAAD;AAFwB,OAAD,CAA5C;;AAIA,eAASE,kBAAT,CAA4BhoD,IAA5B,EAAkCmM,KAAlC,EAAyClN,OAAzC,EAAkD;AAC9C,YAAIiQ,OAAO,GAAGjQ,OAAO,CAACiQ,OAAtB;AAAA,YAA+Ba,OAAO,GAAG9Q,OAAO,CAAC8Q,OAAjD;AACA,YAAI0P,UAAJ;AACA,YAAIC,QAAJ;AACA,YAAIC,aAAJ;AACA,YAAIwoC,mBAAJ;AACA,YAAIvB,MAAM,GAAG,EAAb;AACAnnC,kBAAU,GAAGzf,IAAI,CAACyf,UAAlB;;AACA,YAAIA,UAAU,IAAI,IAAlB,EAAwB;AACpBA,oBAAU,GAAG1P,OAAO,CAAC0P,UAArB;AACH;;AACDC,gBAAQ,GAAG1f,IAAI,CAAC0f,QAAhB;;AACA,YAAIA,QAAQ,IAAI,IAAhB,EAAsB;AAClBA,kBAAQ,GAAG3P,OAAO,CAAC2P,QAAnB;AACH;;AACDC,qBAAa,GAAG3f,IAAI,CAAC2f,aAArB;;AACA,YAAIA,aAAa,IAAI,IAArB,EAA2B;AACvBA,uBAAa,GAAG5P,OAAO,CAAC4P,aAAxB;AACH,SAlB6C,CAmB9C;;;AACA,YAAI,OAAO3f,IAAI,CAAC6nD,WAAZ,KAA4B,UAAhC,EAA4C;AACxC;AACAM,6BAAmB,GAAGnoD,IAAI,CAAC6nD,WAAL,EAAtB;AACH,SAHD,MAIK;AACD;AACAM,6BAAmB,GAAGnoD,IAAI,CAAC6nD,WAAL,IAAoB,EAA1C;AACH;;AACD,+DAASjB,MAAT,EAAiBuB,mBAAjB;AACAvB,cAAM,CAACnnC,UAAD,CAAN,GAAqBvQ,OAAO,CAACklB,SAAR,CAAkBjoB,KAAK,CAACuE,KAAxB,CAArB;AACAk2C,cAAM,CAAClnC,QAAD,CAAN,GAAmBxQ,OAAO,CAACklB,SAAR,CAAkBjoB,KAAK,CAACwE,GAAxB,CAAnB;;AACA,YAAIzB,OAAO,CAACqK,QAAR,KAAqB,OAAzB,EAAkC;AAC9BqtC,gBAAM,CAACjnC,aAAD,CAAN,GAAwBzQ,OAAO,CAACqK,QAAhC;AACH;;AACD,eAAOqtC,MAAP;AACH;;AAED,UAAIwB,yBAAyB,GAAG;AAC5BnlB,kBAAU,EAAEzmB,QADgB;AAE5BumB,iBAAS,EAAE3xB,cAFiB;AAG5B4xB,eAAO,EAAE5xB,cAHmB;AAI5B5B,gBAAQ,EAAE4B,cAJkB;AAK5Bi3C,kBAAU,EAAE7rC,QALgB;AAM5B8rC,gBAAQ,EAAE9rC;AANkB,OAAhC;AASA,UAAI+rC,SAAS,GAAG;AACZl5C,aAAK,EAAE,eAAUL,OAAV,EAAmBE,OAAnB,EAA4B;AAC/B,cAAIF,OAAO,CAACi0B,UAAR,IAAsBj0B,OAAO,CAAC+zB,SAA9B,IAA2C/zB,OAAO,CAACg0B,OAAnD,IAA8Dh0B,OAAO,CAACq5C,UAAtE,IAAoFr5C,OAAO,CAACs5C,QAAhG,EAA0G;AACtG,gBAAIE,aAAa,GAAG;AAChBvlB,wBAAU,EAAEj0B,OAAO,CAACi0B,UAAR,IAAsB,IADlB;AAEhBF,uBAAS,EAAE/zB,OAAO,CAAC+zB,SAAR,IAAqB,IAFhB;AAGhBC,qBAAO,EAAEh0B,OAAO,CAACg0B,OAAR,IAAmB,IAHZ;AAIhBqlB,wBAAU,EAAEr5C,OAAO,CAACq5C,UAAR,GAAqBn5C,OAAO,CAAC6e,YAAR,CAAqB/e,OAAO,CAACq5C,UAA7B,CAArB,GAAgE,IAJ5D;AAKhBC,sBAAQ,EAAEt5C,OAAO,CAACs5C,QAAR,GAAmBp5C,OAAO,CAAC6e,YAAR,CAAqB/e,OAAO,CAACs5C,QAA7B,CAAnB,GAA4D;AALtD,aAApB;AAOA,gBAAI94C,QAAQ,GAAG,KAAK,CAApB;;AACA,gBAAIR,OAAO,CAACQ,QAAZ,EAAsB;AAClBA,sBAAQ,GAAGR,OAAO,CAACQ,QAAnB;AACH;;AACD,gBAAI,CAACA,QAAD,IAAaR,OAAO,CAAC+zB,SAArB,IAAkC/zB,OAAO,CAACg0B,OAA9C,EAAuD;AACnDxzB,sBAAQ,GAAGuD,iBAAiB,CAAC/D,OAAO,CAACg0B,OAAT,EAAkBh0B,OAAO,CAAC+zB,SAA1B,CAA5B;AACH;;AACD,mBAAO;AACHxzB,yBAAW,EAAEkO,OAAO,CAAC,CAACzO,OAAO,CAAC+zB,SAAT,IAAsB,CAAC/zB,OAAO,CAACg0B,OAAhC,CADjB;AAEHxzB,sBAAQ,EAAEA,QAFP;AAGHC,sBAAQ,EAAE+4C;AAHP,aAAP;AAKH;;AACD,iBAAO,IAAP;AACH,SAxBW;AAyBZz3C,cAAM,EAAE,gBAAUtB,QAAV,EAAoBI,YAApB,EAAkCX,OAAlC,EAA2C;AAC/C,cAAIu5C,mBAAmB,GAAGh6B,eAAe,CAAC5e,YAAD,EAAe;AAAEa,iBAAK,EAAEjB,QAAQ,CAAC44C,UAAlB;AAA8B13C,eAAG,EAAElB,QAAQ,CAAC64C;AAA5C,WAAf,CAAzC;;AACA,cAAIG,mBAAJ,EAAyB;AACrB,mBAAOC,YAAY,CAACj5C,QAAQ,CAACwzB,UAAV,EAAsBxzB,QAAQ,CAACszB,SAA/B,EAA0C0lB,mBAA1C,EAA+Dv5C,OAA/D,CAAnB;AACH;;AACD,iBAAO,EAAP;AACH;AA/BW,OAAhB;AAiCA,UAAIy5C,2BAA2B,GAAGnQ,YAAY,CAAC;AAC3CrpC,sBAAc,EAAE,CAACo5C,SAAD,CAD2B;AAE3C//B,qBAAa,EAAE4/B;AAF4B,OAAD,CAA9C;;AAIA,eAASM,YAAT,CAAsBzlB,UAAtB,EAAkCF,SAAlC,EAA6ClzB,YAA7C,EAA2DX,OAA3D,EAAoE;AAChE,YAAI05C,OAAO,GAAG3lB,UAAU,GAAG11B,WAAW,CAAC01B,UAAD,CAAd,GAA6B,IAArD;AACA,YAAI4lB,SAAS,GAAGngD,UAAU,CAACmH,YAAY,CAACa,KAAd,CAA1B;AACA,YAAIic,SAAS,GAAG9c,YAAY,CAACc,GAA7B;AACA,YAAIm4C,cAAc,GAAG,EAArB;;AACA,eAAOD,SAAS,GAAGl8B,SAAnB,EAA8B;AAC1B,cAAIo8B,aAAa,CACjB;AADiB,YAEf,KAAK,CAFP,CAD0B,CAI1B;;AACA,cAAI,CAACH,OAAD,IAAYA,OAAO,CAACC,SAAS,CAAC99C,SAAV,EAAD,CAAvB,EAAgD;AAC5C,gBAAIg4B,SAAJ,EAAe;AACXgmB,2BAAa,GAAG75C,OAAO,CAACtK,GAAR,CAAYikD,SAAZ,EAAuB9lB,SAAvB,CAAhB;AACH,aAFD,MAGK;AACDgmB,2BAAa,GAAGF,SAAhB;AACH;;AACDC,0BAAc,CAAChnD,IAAf,CAAoBinD,aAApB;AACH;;AACDF,mBAAS,GAAG/gD,OAAO,CAAC+gD,SAAD,EAAY,CAAZ,CAAnB;AACH;;AACD,eAAOC,cAAP;AACH;;AAED,UAAIE,mBAAmB,GAAGxQ,YAAY,CAAC;AACnCkB,4BAAoB,EAAE;AAClB1yB,gBAAM,EAAE,gBAAUA,OAAV,EAAkB/nB,OAAlB,EAA2B;AAC/BgqD,8BAAkB,CAAC,CAACjiC,OAAD,CAAD,EAAW/nB,OAAX,CAAlB;AACH,WAHiB;AAIlBgoB,sBAAY,EAAEgiC;AAJI;AADa,OAAD,CAAtC;AAQA;AACA;AACA;;AACA,eAASA,kBAAT,CAA4BtK,MAA5B,EAAoC1/C,OAApC,EAA6C;AACzC,YAAIiqD,cAAc,GAAGr7C,iBAAiB,CAAC5O,OAAO,CAACs3B,cAAR,GAAyBtP,YAA1B,CAAtC;AACA,YAAIkiC,SAAS,GAAG,EAAhB;;AACA,aAAK,IAAI37C,EAAE,GAAG,CAAT,EAAY47C,QAAQ,GAAGzK,MAA5B,EAAoCnxC,EAAE,GAAG47C,QAAQ,CAACznD,MAAlD,EAA0D6L,EAAE,EAA5D,EAAgE;AAC5D,cAAIrI,KAAK,GAAGikD,QAAQ,CAAC57C,EAAD,CAApB;AACA,cAAI67C,UAAU,GAAG,KAAjB;;AACA,eAAK,IAAI3nD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwnD,cAAc,CAACvnD,MAAnC,EAA2CD,CAAC,IAAI,CAAhD,EAAmD;AAC/C,gBAAIwnD,cAAc,CAACxnD,CAAD,CAAd,CAAkB21B,IAAlB,KAA2BlyB,KAA/B,EAAsC;AAClC+jD,4BAAc,CAACt0C,MAAf,CAAsBlT,CAAtB,EAAyB,CAAzB,EADkC,CACL;;AAC7B2nD,wBAAU,GAAG,IAAb;AACA;AACH;AACJ;;AACD,cAAI,CAACA,UAAL,EAAiB;AACbF,qBAAS,CAACrnD,IAAV,CAAeqD,KAAf;AACH;AACJ;;AACD,aAAK,IAAImM,EAAE,GAAG,CAAT,EAAYg4C,gBAAgB,GAAGJ,cAApC,EAAoD53C,EAAE,GAAGg4C,gBAAgB,CAAC3nD,MAA1E,EAAkF2P,EAAE,EAApF,EAAwF;AACpF,cAAIi4C,aAAa,GAAGD,gBAAgB,CAACh4C,EAAD,CAApC;AACArS,iBAAO,CAACI,QAAR,CAAiB;AACbC,gBAAI,EAAE,qBADO;AAEbC,oBAAQ,EAAEgqD,aAAa,CAAChqD;AAFX,WAAjB;AAIH;;AACD,aAAK,IAAIg+B,EAAE,GAAG,CAAT,EAAYisB,WAAW,GAAGL,SAA/B,EAA0C5rB,EAAE,GAAGisB,WAAW,CAAC7nD,MAA3D,EAAmE47B,EAAE,EAArE,EAAyE;AACrE,cAAIksB,QAAQ,GAAGD,WAAW,CAACjsB,EAAD,CAA1B;AACAt+B,iBAAO,CAACi2B,WAAR,CAAoB4H,cAApB,CAAmC2sB,QAAnC;AACH;AACJ;;AAED,eAASC,iBAAT,CAA2BjzB,WAA3B,EAAwCx3B,OAAxC,EAAiD;AAC7CA,eAAO,CAAC01B,OAAR,CAAgBC,OAAhB,CAAwB,UAAxB,EAAoC,uDAAS,uDAAS,EAAT,EAAaZ,yBAAyB,CAACyC,WAAW,CAACC,WAAb,EAA0Bz3B,OAAO,CAACiQ,OAAlC,CAAtC,CAAT,EAA4F;AAAE8lB,cAAI,EAAE/1B,OAAO,CAACg2B;AAAhB,SAA5F,CAApC;AACH;;AAED,eAAS00B,gBAAT,CAA0B/5C,UAA1B,EAAsC3Q,OAAtC,EAA+C;AAC3C,YAAI01B,OAAO,GAAG11B,OAAO,CAAC01B,OAAtB;;AACA,YAAIA,OAAO,CAAC0Y,WAAR,CAAoB,WAApB,CAAJ,EAAsC;AAClC1Y,iBAAO,CAACC,OAAR,CAAgB,WAAhB,EAA6B4H,cAAc,CAAC5sB,UAAD,EAAa3Q,OAAb,CAA3C;AACH;AACJ;AAED;AACA;AACA;AACA;;;AACA,UAAI2qD,aAAa,GAAG,CAChBrD,sBADgB,EAEhBG,qBAFgB,EAGhBwB,yBAHgB,EAIhBS,2BAJgB,EAKhBK,mBALgB,EAMhBxQ,YAAY,CAAC;AACTG,sBAAc,EAAE,CACZ,UAAUhf,KAAV,EAAiB;AAAE,iBAAO6pB,0BAA0B,CAAC7pB,KAAK,CAAC1S,YAAP,CAAjC;AAAwD,SAD/D,CADP;AAIT2yB,2BAAmB,EAAE;AACjBiQ,cAAI,EAAE,gBAAY;AAAE,mBAAQ;AAAEpN,oBAAM,EAAEqN;AAAV,aAAR;AAAkC,WADrC;AAEjBC,kBAAQ,EAAE,oBAAY;AAAE,mBAAQ;AAAEtN,oBAAM,EAAEuN;AAAV,aAAR;AAAsC;AAF7C,SAJZ;AAQTjQ,uBAAe,EAAE;AACbtjB,qBAAW,EAAEizB,iBADA;AAEb95C,oBAAU,EAAE+5C;AAFC;AARR,OAAD,CANI,CAApB;;AAoBA,eAASG,UAAT,CAAoB1pD,EAApB,EAAwBypD,IAAxB,EAA8B;AAC1BzpD,UAAE,CAAC0kC,SAAH,GAAe+kB,IAAf;AACH;;AACD,eAASG,cAAT,CAAwB5pD,EAAxB,EAA4B2pD,QAA5B,EAAsC;AAClC,YAAIE,QAAQ,GAAGzkD,KAAK,CAACrG,SAAN,CAAgBqjC,KAAhB,CAAsBphC,IAAtB,CAA2BhB,EAAE,CAAC8B,UAA9B,CAAf,CADkC,CACwB;;AAC1D,YAAIgoD,QAAQ,GAAG1kD,KAAK,CAACrG,SAAN,CAAgBqjC,KAAhB,CAAsBphC,IAAtB,CAA2B2oD,QAA3B,CAAf,CAFkC,CAEmB;;AACrD,YAAI,CAACl1C,aAAa,CAACo1C,QAAD,EAAWC,QAAX,CAAlB,EAAwC;AACpC,eAAK,IAAI18C,EAAE,GAAG,CAAT,EAAY28C,UAAU,GAAGD,QAA9B,EAAwC18C,EAAE,GAAG28C,UAAU,CAACxoD,MAAxD,EAAgE6L,EAAE,EAAlE,EAAsE;AAClE,gBAAI48C,OAAO,GAAGD,UAAU,CAAC38C,EAAD,CAAxB;AACApN,cAAE,CAAC2kC,WAAH,CAAeqlB,OAAf;AACH;;AACDH,kBAAQ,CAAC7lD,OAAT,CAAiBjE,aAAjB;AACH;AACJ;;AAED,UAAIkqD,aAAa;AAAG;AAAe,kBAAY;AAC3C,iBAASA,aAAT,CAAuBC,aAAvB,EAAsC;AAClC,eAAKA,aAAL,GAAqBA,aAArB;AACA,eAAKC,SAAL,GAAiB,KAAjB;AACA,eAAKC,OAAL,GAAe,KAAf;AACA,eAAKC,WAAL,GAAmB,EAAnB;AACA,eAAKC,SAAL,GAAiB,CAAjB;AACH;;AACDL,qBAAa,CAAClrD,SAAd,CAAwBuyC,OAAxB,GAAkC,UAAUiZ,KAAV,EAAiB;AAC/C,eAAKH,OAAL,GAAe,IAAf;;AACA,cAAI,CAAC,KAAKI,QAAL,EAAL,EAAsB;AAClB,iBAAKC,YAAL;;AACA,gBAAIF,KAAK,IAAI,IAAb,EAAmB;AACf,mBAAKG,QAAL;AACH,aAFD,MAGK;AACD,mBAAKJ,SAAL,GAAiBK,UAAU,EAAC;AAC5B,mBAAKD,QAAL,CAAcrE,IAAd,CAAmB,IAAnB,CAD2B,EACDkE,KADC,CAA3B;AAEH;AACJ;AACJ,SAZD;;AAaAN,qBAAa,CAAClrD,SAAd,CAAwB6rD,KAAxB,GAAgC,UAAUC,KAAV,EAAiB;AAC7C,cAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;AAAEA,iBAAK,GAAG,EAAR;AAAa;;AACrC,cAAIR,WAAW,GAAG,KAAKA,WAAvB;AACAA,qBAAW,CAACQ,KAAD,CAAX,GAAqB,CAACR,WAAW,CAACQ,KAAD,CAAX,IAAsB,CAAvB,IAA4B,CAAjD;AACA,eAAKJ,YAAL;AACH,SALD;;AAMAR,qBAAa,CAAClrD,SAAd,CAAwB+rD,MAAxB,GAAiC,UAAUD,KAAV,EAAiBE,KAAjB,EAAwB;AACrD,cAAIF,KAAK,KAAK,KAAK,CAAnB,EAAsB;AAAEA,iBAAK,GAAG,EAAR;AAAa;;AACrC,cAAIR,WAAW,GAAG,KAAKA,WAAvB;;AACA,cAAIQ,KAAK,IAAIR,WAAb,EAA0B;AACtB,gBAAIU,KAAJ,EAAW;AACP,qBAAOV,WAAW,CAACQ,KAAD,CAAlB;AACH,aAFD,MAGK;AACDR,yBAAW,CAACQ,KAAD,CAAX,IAAsB,CAAtB;AACA,kBAAIG,KAAK,GAAGX,WAAW,CAACQ,KAAD,CAAvB;;AACA,kBAAIG,KAAK,IAAI,CAAb,EAAgB;AACZ,uBAAOX,WAAW,CAACQ,KAAD,CAAlB;AACH;AACJ;;AACD,iBAAKH,QAAL;AACH;AACJ,SAhBD;;AAiBAT,qBAAa,CAAClrD,SAAd,CAAwByrD,QAAxB,GAAmC,YAAY;AAC3C,iBAAOlrD,MAAM,CAACuO,IAAP,CAAY,KAAKw8C,WAAjB,EAA8B9oD,MAArC;AACH,SAFD;;AAGA0oD,qBAAa,CAAClrD,SAAd,CAAwB2rD,QAAxB,GAAmC,YAAY;AAC3C,cAAI,CAAC,KAAKP,SAAN,IAAmB,CAAC,KAAKK,QAAL,EAAxB,EAAyC;AACrC,iBAAKL,SAAL,GAAiB,IAAjB;;AACA,mBAAO,KAAKC,OAAZ,EAAqB;AACjB,mBAAKA,OAAL,GAAe,KAAf;AACA,mBAAKa,OAAL,GAFiB,CAED;AACnB;;AACD,iBAAKd,SAAL,GAAiB,KAAjB;AACH;AACJ,SATD;;AAUAF,qBAAa,CAAClrD,SAAd,CAAwBmsD,KAAxB,GAAgC,YAAY;AACxC,eAAKT,YAAL;AACA,eAAKL,OAAL,GAAe,KAAf;AACA,eAAKC,WAAL,GAAmB,EAAnB;AACH,SAJD;;AAKAJ,qBAAa,CAAClrD,SAAd,CAAwB0rD,YAAxB,GAAuC,YAAY;AAC/C,cAAI,KAAKH,SAAT,EAAoB;AAChBG,wBAAY,CAAC,KAAKH,SAAN,CAAZ;AACA,iBAAKA,SAAL,GAAiB,CAAjB;AACH;AACJ,SALD;;AAMAL,qBAAa,CAAClrD,SAAd,CAAwBksD,OAAxB,GAAkC,YAAY;AAC1C,cAAI,KAAKf,aAAT,EAAwB;AACpB,iBAAKA,aAAL;AACH;AACJ,SAJD;;AAKA,eAAOD,aAAP;AACH,OA1EkC,EAAnC;;AA4EA,UAAIkB,UAAU;AAAG;AAAe,kBAAY;AACxC,iBAASA,UAAT,CAAoBC,aAApB,EAAmClB,aAAnC,EAAkD;AAC9C,eAAKkB,aAAL,GAAqBA,aAArB;AACA,eAAKlB,aAAL,GAAqBA,aAArB;AACA,eAAKmB,KAAL,GAAa,EAAb;AACA,eAAKC,aAAL,GAAqB,IAAIrB,aAAJ,CAAkB,KAAKzY,KAAL,CAAW6U,IAAX,CAAgB,IAAhB,CAAlB,CAArB;AACH;;AACD8E,kBAAU,CAACpsD,SAAX,CAAqBuyC,OAArB,GAA+B,UAAUia,IAAV,EAAgBhB,KAAhB,EAAuB;AAClD,eAAKc,KAAL,CAAW3pD,IAAX,CAAgB6pD,IAAhB;AACA,eAAKD,aAAL,CAAmBha,OAAnB,CAA2BiZ,KAA3B;AACH,SAHD;;AAIAY,kBAAU,CAACpsD,SAAX,CAAqB6rD,KAArB,GAA6B,UAAUC,KAAV,EAAiB;AAC1C,eAAKS,aAAL,CAAmBV,KAAnB,CAAyBC,KAAzB;AACH,SAFD;;AAGAM,kBAAU,CAACpsD,SAAX,CAAqB+rD,MAArB,GAA8B,UAAUD,KAAV,EAAiBE,KAAjB,EAAwB;AAClD,eAAKO,aAAL,CAAmBR,MAAnB,CAA0BD,KAA1B,EAAiCE,KAAjC;AACH,SAFD;;AAGAI,kBAAU,CAACpsD,SAAX,CAAqByyC,KAArB,GAA6B,YAAY;AACrC,cAAI6Z,KAAK,GAAG,KAAKA,KAAjB;;AACA,iBAAOA,KAAK,CAAC9pD,MAAb,EAAqB;AACjB,gBAAIiqD,cAAc,GAAG,EAArB;AACA,gBAAID,IAAI,GAAG,KAAK,CAAhB;;AACA,mBAAQA,IAAI,GAAGF,KAAK,CAACI,KAAN,EAAf,EAA+B;AAC3B,mBAAKC,OAAL,CAAaH,IAAb;AACAC,4BAAc,CAAC9pD,IAAf,CAAoB6pD,IAApB;AACH;;AACD,iBAAKN,OAAL,CAAaO,cAAb;AACH,WAVoC,CAUnC;;AACL,SAXD;;AAYAL,kBAAU,CAACpsD,SAAX,CAAqB2sD,OAArB,GAA+B,UAAUH,IAAV,EAAgB;AAC3C,cAAI,KAAKH,aAAT,EAAwB;AACpB,iBAAKA,aAAL,CAAmBG,IAAnB;AACH;AACJ,SAJD;;AAKAJ,kBAAU,CAACpsD,SAAX,CAAqBksD,OAArB,GAA+B,UAAUO,cAAV,EAA0B;AACrD,cAAI,KAAKtB,aAAT,EAAwB;AACpB,iBAAKA,aAAL,CAAmBsB,cAAnB;AACH;AACJ,SAJD;;AAKA,eAAOL,UAAP;AACH,OAxC+B,EAAhC,C,CA0CA;;;AACA,eAASQ,UAAT,CAAoBt1B,WAApB,EAAiC2b,WAAjC,EAA8CljC,OAA9C,EAAuD;AACnD,YAAI/C,KAAJ,CADmD,CAEnD;;AACA,YAAI,iBAAiBtJ,IAAjB,CAAsB4zB,WAAW,CAACiqB,gBAAlC,CAAJ,EAAyD;AACrDv0C,eAAK,GAAGsqB,WAAW,CAACE,YAApB;AACH,SAFD,MAGK;AAAE;AACHxqB,eAAK,GAAGsqB,WAAW,CAACC,WAApB;AACH;;AACD,eAAOxnB,OAAO,CAAC2I,WAAR,CAAoB1L,KAAK,CAACuE,KAA1B,EAAiCvE,KAAK,CAACwE,GAAvC,EAA4C0L,eAAe,CAAC+1B,WAAW,CAAChtB,WAAZ,IAA2B4mC,gBAAgB,CAACv1B,WAAD,CAA5C,CAA3D,EAAuH;AAC1HqK,wBAAc,EAAErK,WAAW,CAACsqB,aAD8F;AAE1HnoC,0BAAgB,EAAEw5B,WAAW,CAAC70B;AAF4F,SAAvH,CAAP;AAIH,O,CACD;AACA;;;AACA,eAASyuC,gBAAT,CAA0Bv1B,WAA1B,EAAuC;AACnC,YAAIiqB,gBAAgB,GAAGjqB,WAAW,CAACiqB,gBAAnC;;AACA,YAAIA,gBAAgB,KAAK,MAAzB,EAAiC;AAC7B,iBAAO;AAAEl2C,gBAAI,EAAE;AAAR,WAAP;AACH;;AACD,YAAIk2C,gBAAgB,KAAK,OAAzB,EAAkC;AAC9B,iBAAO;AAAEl2C,gBAAI,EAAE,SAAR;AAAmBoH,iBAAK,EAAE;AAA1B,WAAP,CAD8B,CACa;AAC9C;;AACD,YAAI9I,IAAI,GAAGM,aAAa,CAACqtB,WAAW,CAACE,YAAZ,CAAyBjmB,KAA1B,EAAiC+lB,WAAW,CAACE,YAAZ,CAAyBhmB,GAA1D,CAAxB;;AACA,YAAI7H,IAAI,KAAK,IAAT,IAAiBA,IAAI,GAAG,CAA5B,EAA+B;AAC3B;AACA,iBAAO;AAAE0B,gBAAI,EAAE,SAAR;AAAmBoH,iBAAK,EAAE,OAA1B;AAAmCC,eAAG,EAAE;AAAxC,WAAP;AACH,SAZkC,CAanC;;;AACA,eAAO;AAAErH,cAAI,EAAE,SAAR;AAAmBoH,eAAK,EAAE,MAA1B;AAAkCC,aAAG,EAAE;AAAvC,SAAP;AACH,O,CAED;AACA;;;AACA,UAAIo6C,mBAAmB;AAAG;AAAe,kBAAY;AACjD,iBAASA,mBAAT,CAA6B1pD,KAA7B,EAAoC;AAChC,cAAImT,KAAK,GAAG,IAAZ;;AACA,eAAKw2C,kBAAL,GAA0Bj3C,OAAO,CAAC,KAAKk3C,mBAAN,CAAjC;AACA,eAAKC,sBAAL,GAA8Bn3C,OAAO,CAAC,KAAKo3C,uBAAN,CAArC;AACA,eAAK7qB,kBAAL,GAA0BvsB,OAAO,CAACusB,kBAAD,CAAjC;AACA,eAAKQ,WAAL,GAAmB/sB,OAAO,CAAC+sB,WAAD,CAA1B;AACA,eAAKgY,gBAAL,GAAwBQ,qBAAqB,EAA7C;AACA,eAAK5X,YAAL,GAAoB3tB,OAAO,CAACq3C,cAAD,CAA3B;AACA,eAAKC,UAAL,GAAkBt3C,OAAO,CAACs3C,UAAD,CAAzB;AACA,eAAKjH,aAAL,GAAqBrwC,OAAO,CAACqwC,aAAD,CAA5B;AACA,eAAKtG,cAAL,GAAsB/pC,OAAO,CAAC+pC,cAAD,CAA7B;AACA,eAAKwN,yBAAL,GAAiC/2C,aAAa,CAAC+2C,yBAAD,CAA9C;AACA,eAAKC,YAAL,GAAoBx3C,OAAO,CAACw3C,YAAD,CAA3B;AACA,eAAKC,gBAAL,GAAwBj3C,aAAa,CAACi3C,gBAAD,CAArC;AACA,eAAKC,oBAAL,GAA4B13C,OAAO,CAAC03C,oBAAD,EAAuB5+C,YAAvB,CAAnC;AACA,eAAK6+C,iBAAL,GAAyB33C,OAAO,CAAC23C,iBAAD,CAAhC;AACA,eAAKC,yBAAL,GAAiCp3C,aAAa,CAACo3C,yBAAD,CAA9C;AACA,eAAKd,UAAL,GAAkB92C,OAAO,CAAC82C,UAAD,CAAzB;AACA,eAAKp3B,OAAL,GAAe,IAAIgY,OAAJ,EAAf;AACA,eAAKmgB,YAAL,GAAoB,IAAIvB,UAAJ,CAAe,KAAKwB,aAAL,CAAmBtG,IAAnB,CAAwB,IAAxB,CAAf,EAA8C,KAAKuG,UAAL,CAAgBvG,IAAhB,CAAqB,IAArB,CAA9C,CAApB;AACA,eAAK5tB,2BAAL,GAAmC,EAAnC;AACA,eAAKo0B,6BAAL,GAAqC,EAArC;AACA,eAAKC,uBAAL,GAA+B,EAA/B;AACA,eAAKC,yBAAL,GAAiC,EAAjC;AACA,eAAKj0B,8BAAL,GAAsC,EAAtC;;AACA,eAAK3C,cAAL,GAAsB,YAAY;AAAE,mBAAO7gB,KAAK,CAAC03C,IAAb;AAAoB,WAAxD;;AACA,eAAK/tD,QAAL,GAAgB,UAAU04B,MAAV,EAAkB;AAC9BriB,iBAAK,CAACo3C,YAAN,CAAmBpb,OAAnB,CAA2B3Z,MAA3B,EAD8B,CACM;;AACvC,WAFD;;AAGA,eAAKx1B,KAAL,GAAaA,KAAb;AACA,eAAKuqD,YAAL,CAAkB9B,KAAlB;AACA,cAAI7L,sBAAsB,GAAG,EAA7B;AACA,cAAIkO,WAAW,GAAG,KAAKnB,kBAAL,CAAwB3pD,KAAK,CAAC28C,eAA9B,EAA+CC,sBAA/C,EAAuE58C,KAAK,CAAC2yB,WAA7E,CAAlB;AACA,cAAIo4B,eAAe,GAAGD,WAAW,CAAC5yB,eAAZ,CAA4Brc,WAA5B,IAA2CivC,WAAW,CAACv9C,WAAZ,CAAwBsO,WAAzF;AACA,cAAImvC,eAAe,GAAG,KAAKnB,sBAAL,CAA4BkB,eAA5B,EAA6CD,WAA7C,EAA0D9qD,KAAK,CAAC28C,eAAhE,EAAiFC,sBAAjF,CAAtB,CAlCgC,CAmChC;AACA;;AACA58C,eAAK,CAAC2yB,WAAN,CAAkBqD,kBAAlB,GAAuC,IAAvC;AACA,eAAK5D,OAAL,CAAamY,cAAb,CAA4BvqC,KAAK,CAAC2yB,WAAlC;AACA,eAAKP,OAAL,CAAaoY,UAAb,CAAwBwgB,eAAe,CAACx9C,OAAxC;AACA,cAAI+nB,WAAW,GAAGG,cAAc,CAACo1B,WAAW,CAAC5yB,eAAb,EAA8B4yB,WAAW,CAACn+C,OAA1C,CAAhC;AACA,cAAIunB,WAAW,GAAG82B,eAAe,CAAClb,oBAAhB,CAAqCsO,KAArC,CAA2C7oB,WAA3C,CAAlB;;AACA,cAAI,CAAC9I,mBAAmB,CAACyH,WAAW,CAACC,WAAb,EAA0BoB,WAA1B,CAAxB,EAAgE;AAC5DA,uBAAW,GAAGrB,WAAW,CAACE,YAAZ,CAAyBjmB,KAAvC;AACH;;AACD,cAAI88C,eAAe,GAAG;AAClBt+C,mBAAO,EAAEm+C,WAAW,CAACn+C,OADH;AAElBa,mBAAO,EAAEs9C,WAAW,CAAC5yB,eAFH;AAGlB3qB,uBAAW,EAAEu9C,WAAW,CAACv9C,WAHP;AAIlBolB,uBAAW,EAAE3yB,KAAK,CAAC2yB,WAJD;AAKlB71B,oBAAQ,EAAE,KAAKA,QALG;AAMlBs1B,mBAAO,EAAE,KAAKA,OANI;AAOlB4B,0BAAc,EAAE,KAAKA;AAPH,WAAtB,CA7CgC,CAsDhC;;AACA,eAAK,IAAI/oB,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAG+7C,WAAW,CAACv9C,WAAZ,CAAwB8oC,WAA9C,EAA2DprC,EAAE,GAAG8D,EAAE,CAAC3P,MAAnE,EAA2E6L,EAAE,EAA7E,EAAiF;AAC7E,gBAAItJ,QAAQ,GAAGoN,EAAE,CAAC9D,EAAD,CAAjB;AACAtJ,oBAAQ,CAACspD,eAAD,CAAR;AACH,WA1D+B,CA2DhC;;;AACA,cAAIvmC,YAAY,GAAG67B,gBAAgB,CAACuK,WAAW,CAAC5yB,eAAb,EAA8BhE,WAA9B,EAA2C+2B,eAA3C,CAAnC;AACA,cAAIC,YAAY,GAAG;AACftO,kCAAsB,EAAEA,sBADT;AAEfmO,2BAAe,EAAEA,eAFF;AAGfx1B,uBAAW,EAAEA,WAHE;AAIfrB,uBAAW,EAAEA,WAJE;AAKfzV,yBAAa,EAAE,KAAK6rC,yBAAL,CAA+BW,eAA/B,CALA;AAMfvmC,wBAAY,EAAEA,YANC;AAOfkI,wBAAY,EAAE,EAPC;AAQfvf,sBAAU,EAAE2Y,qBAAqB,EARlB;AASfmlC,gCAAoB,EAAEnlC,qBAAqB,EAT5B;AAUf8S,yBAAa,EAAE,IAVA;AAWf2L,0BAAc,EAAE,EAXD;AAYfP,qBAAS,EAAE,IAZI;AAafE,uBAAW,EAAE,IAbE;AAcf+O,2BAAe,EAAE,KAAKgX,gBAAL,CAAsBc,eAAtB,EAAuC9X;AAdzC,WAAnB;AAgBA,cAAIiY,eAAe,GAAG,uDAAS,uDAAS,EAAT,EAAaH,eAAb,CAAT,EAAwCC,YAAxC,CAAtB;;AACA,eAAK,IAAIlwB,EAAE,GAAG,CAAT,EAAY+J,EAAE,GAAG+lB,WAAW,CAACv9C,WAAZ,CAAwB4oC,QAA9C,EAAwDnb,EAAE,GAAG+J,EAAE,CAAC3lC,MAAhE,EAAwE47B,EAAE,EAA1E,EAA8E;AAC1E,gBAAIqwB,OAAO,GAAGtmB,EAAE,CAAC/J,EAAD,CAAhB;AACA,mEAASkwB,YAAT,EAAuBG,OAAO,CAAC,IAAD,EAAO,IAAP,EAAaD,eAAb,CAA9B;AACH;;AACD,cAAIE,gBAAgB,CAACJ,YAAD,EAAeD,eAAf,CAApB,EAAqD;AACjD,iBAAK74B,OAAL,CAAaC,OAAb,CAAqB,SAArB,EAAgC,IAAhC,EADiD,CACV;AAC1C;;AACD,eAAK+E,KAAL,GAAa8zB,YAAb;AACA,eAAKT,UAAL;AACA,eAAKF,YAAL,CAAkB5B,MAAlB;AACH;;AACDe,2BAAmB,CAAC9sD,SAApB,CAA8B2uD,YAA9B,GAA6C,UAAU5O,eAAV,EAA2B6O,MAA3B,EAAmC;AAC5E,cAAIxrD,KAAK,GAAG,KAAKA,KAAjB;AACAA,eAAK,CAAC28C,eAAN,GAAwB6O,MAAM,GACxB,uDAAS,uDAAS,EAAT,EAAaxrD,KAAK,CAAC28C,eAAnB,CAAT,EAA8CA,eAA9C,CADwB,GACyCA,eADvE;AAEA,eAAK4N,YAAL,CAAkBpb,OAAlB,CAA0B;AACtBpyC,gBAAI,EAAE;AADgB,WAA1B;AAGH,SAPD;;AAQA2sD,2BAAmB,CAAC9sD,SAApB,CAA8B4tD,aAA9B,GAA8C,UAAUh1B,MAAV,EAAkB;AAC5D,cAAIzmB,EAAE,GAAG,IAAT;AAAA,cAAe/O,KAAK,GAAG+O,EAAE,CAAC/O,KAA1B;AAAA,cAAiCo3B,KAAK,GAAGroB,EAAE,CAACqoB,KAA5C;AAAA,cAAmDhF,OAAO,GAAGrjB,EAAE,CAACqjB,OAAhE;;AACA,cAAIwqB,sBAAsB,GAAGwD,4BAA4B,CAAChpB,KAAK,CAACwlB,sBAAP,EAA+BpnB,MAA/B,CAAzD;AACA,cAAIs1B,WAAW,GAAG,KAAKnB,kBAAL,CAAwB3pD,KAAK,CAAC28C,eAA9B,EAA+CC,sBAA/C,EAAuE58C,KAAK,CAAC2yB,WAA7E,CAAlB;AACA,cAAIo4B,eAAe,GAAG5K,cAAc,CAAC/oB,KAAK,CAAC2zB,eAAP,EAAwBv1B,MAAxB,CAApC;AACA,cAAIw1B,eAAe,GAAG,KAAKnB,sBAAL,CAA4BkB,eAA5B,EAA6CD,WAA7C,EAA0D9qD,KAAK,CAAC28C,eAAhE,EAAiFC,sBAAjF,CAAtB,CAL4D,CAM5D;AACA;;AACA58C,eAAK,CAAC2yB,WAAN,CAAkBqD,kBAAlB,GAAuC,IAAvC;AACA5D,iBAAO,CAACmY,cAAR,CAAuBvqC,KAAK,CAAC2yB,WAA7B;AACAP,iBAAO,CAACoY,UAAR,CAAmBwgB,eAAe,CAACx9C,OAAnC;AACA,cAAIy9C,eAAe,GAAG;AAClBt+C,mBAAO,EAAEm+C,WAAW,CAACn+C,OADH;AAElBa,mBAAO,EAAEs9C,WAAW,CAAC5yB,eAFH;AAGlB3qB,uBAAW,EAAEu9C,WAAW,CAACv9C,WAHP;AAIlBolB,uBAAW,EAAE3yB,KAAK,CAAC2yB,WAJD;AAKlB71B,oBAAQ,EAAE,KAAKA,QALG;AAMlBs1B,mBAAO,EAAEA,OANS;AAOlB4B,0BAAc,EAAE,KAAKA;AAPH,WAAtB;AASA,cAAIuB,WAAW,GAAG6B,KAAK,CAAC7B,WAAxB;AAAA,cAAqCrB,WAAW,GAAGkD,KAAK,CAAClD,WAAzD;;AACA,cAAI,KAAK22B,IAAL,IAAa,KAAKA,IAAL,CAAU/a,oBAAV,KAAmCkb,eAAe,CAAClb,oBAApE,EAA0F;AAAE;AACxF5b,uBAAW,GAAG82B,eAAe,CAAClb,oBAAhB,CAAqCsO,KAArC,CAA2C7oB,WAA3C,CAAd;AACH;;AACDA,qBAAW,GAAGD,iBAAiB,CAACC,WAAD,EAAcC,MAAd,CAA/B;AACAtB,qBAAW,GAAGmsB,iBAAiB,CAACnsB,WAAD,EAAcsB,MAAd,EAAsBD,WAAtB,EAAmCy1B,eAAe,CAAClb,oBAAnD,CAA/B;;AACA,cAAI,CAACrjB,mBAAmB,CAACyH,WAAW,CAACE,YAAb,EAA2BmB,WAA3B,CAAxB,EAAiE;AAC7DA,uBAAW,GAAGrB,WAAW,CAACE,YAAZ,CAAyBjmB,KAAvC;AACH;;AACD,cAAIuW,YAAY,GAAGg8B,kBAAkB,CAACtpB,KAAK,CAAC1S,YAAP,EAAqB8Q,MAArB,EAA6BtB,WAA7B,EAA0C+2B,eAA1C,CAArC;AACA,cAAI59C,UAAU,GAAG+jC,gBAAgB,CAACha,KAAK,CAAC/pB,UAAP,EAAmBmoB,MAAnB,EAA2B9Q,YAA3B,EAAyCwP,WAAzC,EAAsD+2B,eAAtD,CAAjC;AACA,cAAIQ,eAAe,GAAGxK,0BAA0B,CAACv8B,YAAD,CAAhD,CA/B4D,CA+BI;;AAChE,cAAIymC,oBAAoB,GAAIM,eAAe,IAAI,CAACT,eAAe,CAACx9C,OAAhB,CAAwBgR,yBAA7C,GACtB4Y,KAAK,CAAC+zB,oBAAN,IAA8B99C,UADR,GACsB;AAC7CA,oBAFJ;;AAGA,cAAI2tB,EAAE,GAAG,KAAKmvB,gBAAL,CAAsBc,eAAtB,CAAT;AAAA,cAAiDS,iBAAiB,GAAG1wB,EAAE,CAAC0wB,iBAAxE;AAAA,cAA2FvY,eAAe,GAAGnY,EAAE,CAACmY,eAAhH,CAnC4D,CAmCqE;;;AACjI,cAAIwY,eAAe,GAAG,KAAKvB,oBAAL,CAA0B1lC,YAA1B,CAAtB;AACA,cAAIkI,YAAY,GAAG,KAAKy9B,iBAAL,CAAuBc,oBAAoB,CAAC19C,IAA5C,EAAkDi+C,iBAAlD,EAAqEC,eAArE,CAAnB;AACA,cAAIC,QAAQ,GAAG;AACXhP,kCAAsB,EAAEA,sBADb;AAEXmO,2BAAe,EAAEA,eAFN;AAGXx1B,uBAAW,EAAEA,WAHF;AAIXrB,uBAAW,EAAEA,WAJF;AAKXxP,wBAAY,EAAEA,YALH;AAMXrX,sBAAU,EAAEA,UAND;AAOX89C,gCAAoB,EAAEA,oBAPX;AAQXhY,2BAAe,EAAEA,eARN;AASXvmB,wBAAY,EAAEA,YATH;AAUXnO,yBAAa,EAAE,KAAK6rC,yBAAL,CAA+BW,eAA/B,CAVJ;AAWXnyB,yBAAa,EAAEspB,mBAAmB,CAAChrB,KAAK,CAAC0B,aAAP,EAAsBtD,MAAtB,CAXvB;AAYXiP,0BAAc,EAAE6d,mBAAmB,CAAClrB,KAAK,CAACqN,cAAP,EAAuBjP,MAAvB,CAZxB;AAaX0O,qBAAS,EAAEue,eAAe,CAACrrB,KAAK,CAAC8M,SAAP,EAAkB1O,MAAlB,CAbf;AAcX4O,uBAAW,EAAEwe,iBAAiB,CAACxrB,KAAK,CAACgN,WAAP,EAAoB5O,MAApB;AAdnB,WAAf;AAgBA,cAAI41B,eAAe,GAAG,uDAAS,uDAAS,EAAT,EAAaH,eAAb,CAAT,EAAwCW,QAAxC,CAAtB;;AACA,eAAK,IAAI3gD,EAAE,GAAG,CAAT,EAAY85B,EAAE,GAAG+lB,WAAW,CAACv9C,WAAZ,CAAwB4oC,QAA9C,EAAwDlrC,EAAE,GAAG85B,EAAE,CAAC3lC,MAAhE,EAAwE6L,EAAE,EAA1E,EAA8E;AAC1E,gBAAIogD,OAAO,GAAGtmB,EAAE,CAAC95B,EAAD,CAAhB;AACA,mEAAS2gD,QAAT,EAAmBP,OAAO,CAACj0B,KAAD,EAAQ5B,MAAR,EAAgB41B,eAAhB,CAA1B,EAF0E,CAEb;AAChE;;AACD,cAAIS,UAAU,GAAGP,gBAAgB,CAACl0B,KAAD,EAAQ6zB,eAAR,CAAjC;AACA,cAAIa,SAAS,GAAGR,gBAAgB,CAACM,QAAD,EAAWX,eAAX,CAAhC,CA5D4D,CA6D5D;;AACA,cAAI,CAACY,UAAD,IAAeC,SAAnB,EAA8B;AAC1B15B,mBAAO,CAACC,OAAR,CAAgB,SAAhB,EAA2B,IAA3B;AACH,WAFD,MAGK,IAAIw5B,UAAU,IAAI,CAACC,SAAnB,EAA8B;AAC/B15B,mBAAO,CAACC,OAAR,CAAgB,SAAhB,EAA2B,KAA3B;AACH;;AACD,eAAK+E,KAAL,GAAaw0B,QAAb;;AACA,cAAI5rD,KAAK,CAAC+rD,QAAV,EAAoB;AAChB/rD,iBAAK,CAAC+rD,QAAN,CAAev2B,MAAf;AACH;AACJ,SAxED;;AAyEAk0B,2BAAmB,CAAC9sD,SAApB,CAA8B6tD,UAA9B,GAA2C,YAAY;AACnD,cAAI17C,EAAE,GAAG,IAAT;AAAA,cAAe/O,KAAK,GAAG+O,EAAE,CAAC/O,KAA1B;AAAA,cAAiCo3B,KAAK,GAAGroB,EAAE,CAACqoB,KAA5C;;AACA,cAAI40B,OAAO,GAAG,KAAKnB,IAAnB;AACA,cAAIC,WAAW,GAAG,KAAKnB,kBAAL,CAAwB3pD,KAAK,CAAC28C,eAA9B,EAA+CvlB,KAAK,CAACwlB,sBAArD,EAA6E58C,KAAK,CAAC2yB,WAAnF,CAAlB;AACA,cAAIq4B,eAAe,GAAG,KAAKnB,sBAAL,CAA4BzyB,KAAK,CAAC2zB,eAAlC,EAAmDD,WAAnD,EAAgE9qD,KAAK,CAAC28C,eAAtE,EAAuFvlB,KAAK,CAACwlB,sBAA7F,CAAtB;AACA,cAAIiO,IAAI,GAAG,KAAKA,IAAL,GAAY,uDAAS,uDAAS,uDAAS;AAAE52B,qBAAS,EAAE,KAAKu1B,UAAL,CAAgBpyB,KAAK,CAAClD,WAAtB,EAAmC82B,eAAe,CAACx9C,OAAnD,EAA4Ds9C,WAAW,CAACn+C,OAAxE,CAAb;AAA+FgmB,uBAAW,EAAE3yB,KAAK,CAAC2yB,WAAlH;AAA+H71B,oBAAQ,EAAE,KAAKA,QAA9I;AAAwJs1B,mBAAO,EAAE,KAAKA,OAAtK;AAA+K4B,0BAAc,EAAE,KAAKA;AAApM,WAAT,EAA+N82B,WAA/N,CAAT,EAAsPE,eAAtP,CAAT,EAAiR5zB,KAAjR,CAAvB;AACA,cAAI60B,cAAc,GAAGnB,WAAW,CAACv9C,WAAZ,CAAwB4pC,oBAA7C;AACA,cAAI+U,kBAAkB,GAAGF,OAAO,IAAIA,OAAO,CAAC9zB,eAA5C;AACA,cAAIi0B,kBAAkB,GAAGrB,WAAW,CAAC5yB,eAArC;;AACA,cAAIg0B,kBAAkB,IAAIA,kBAAkB,KAAKC,kBAAjD,EAAqE;AACjE,gBAAID,kBAAkB,CAACl1C,QAAnB,KAAgCm1C,kBAAkB,CAACn1C,QAAvD,EAAiE;AAC7D;AACAogB,mBAAK,CAAC1S,YAAN,GAAqBmmC,IAAI,CAACnmC,YAAL,GAAoBs8B,6BAA6B,CAAC6J,IAAI,CAACnmC,YAAN,EAAoB0S,KAAK,CAAClD,WAA1B,EAAuC22B,IAAvC,CAAtE;AACAzzB,mBAAK,CAAC/pB,UAAN,GAAmBw9C,IAAI,CAACx9C,UAAL,GAAkB2kC,qBAAqB,CAAC6Y,IAAI,CAACx9C,UAAN,EAAkB2+C,OAAO,CAACr/C,OAA1B,EAAmCk+C,IAAI,CAACl+C,OAAxC,CAA1D;AACH;;AACD,iBAAK,IAAIypB,UAAT,IAAuB61B,cAAvB,EAAuC;AACnC,kBAAIC,kBAAkB,CAAC91B,UAAD,CAAlB,KAAmC+1B,kBAAkB,CAAC/1B,UAAD,CAAzD,EAAuE;AACnE61B,8BAAc,CAAC71B,UAAD,CAAd,CAA2B+1B,kBAAkB,CAAC/1B,UAAD,CAA7C,EAA2Dy0B,IAA3D;AACH;AACJ;AACJ;;AACD,cAAI7qD,KAAK,CAACosD,MAAV,EAAkB;AACdpsD,iBAAK,CAACosD,MAAN,CAAavB,IAAb;AACH;AACJ,SAxBD;;AAyBAnB,2BAAmB,CAAC9sD,SAApB,CAA8BgtD,mBAA9B,GAAoD,UAAUjN,eAAV,EAA2BC,sBAA3B,EAAmDjqB,WAAnD,EAAgE;AAChH;AACA,cAAI5jB,EAAE,GAAG,KAAKs9C,yBAAL,CAA+B1P,eAA/B,EAAgDC,sBAAhD,CAAT;AAAA,cAAkF0P,cAAc,GAAGv9C,EAAE,CAACu9C,cAAtG;AAAA,cAAsH/+C,WAAW,GAAGwB,EAAE,CAACxB,WAAvI;AAAA,cAAoJsvC,cAAc,GAAG9tC,EAAE,CAAC8tC,cAAxK;AAAA,cAAwL0P,mBAAmB,GAAGx9C,EAAE,CAACw9C,mBAAjN;AAAA,cAAsO7mC,KAAK,GAAG3W,EAAE,CAAC2W,KAAjP;;AACA8mC,4BAAkB,CAAC9mC,KAAD,CAAlB;AACA,cAAI/Y,OAAO,GAAG,KAAK0zB,YAAL,CAAkBisB,cAAc,CAACt1C,QAAjC,EAA2Cs1C,cAAc,CAACz1C,MAA1D,EAAkEy1C,cAAc,CAACrwC,qBAAjF,EAAwGqwC,cAAc,CAAClqC,QAAvH,EAAiIkqC,cAAc,CAAC11C,QAAhJ,EAA0JrJ,WAA1J,EAAuKg/C,mBAAvK,EAA4LD,cAAc,CAACvxC,qBAA3M,CAAd;AACA,cAAIuc,SAAS,GAAG,KAAKmlB,cAAL,CAAoBlvC,WAAW,CAACgX,KAAhC,EAAuCo4B,eAAvC,EAAwDC,sBAAxD,EAAgFC,cAAhF,CAAhB;AACA,cAAI3W,KAAK,GAAG,KAAK8jB,UAAL,CAAgBsC,cAAhB,EAAgC/+C,WAAhC,CAAZ;AACA,cAAIiqB,aAAa,GAAG,KAAKurB,aAAL,CAAmBuJ,cAAnB,EAAmC3P,eAAnC,EAAoDzW,KAApD,EAA2D5O,SAA3D,EAAsE3E,WAAtE,CAApB;AACA,iBAAO;AACHuF,2BAAe,EAAEo0B,cADd;AAEH/+C,uBAAW,EAAEA,WAFV;AAGHZ,mBAAO,EAAEA,OAHN;AAIH2qB,qBAAS,EAAEA,SAJR;AAKH4O,iBAAK,EAAEA,KALJ;AAMH1O,yBAAa,EAAEA,aANZ;AAOHqlB,0BAAc,EAAEA,cAPb;AAQHrmB,+BAAmB,EAAE+1B,mBAAmB,CAAC79C;AARtC,WAAP;AAUH,SAlBD,CApMiD,CAuNjD;;;AACAg7C,2BAAmB,CAAC9sD,SAApB,CAA8ByvD,yBAA9B,GAA0D,UAAU1P,eAAV,EAA2BC,sBAA3B,EAAmD;AACzG,cAAI7tC,EAAE,GAAGuW,eAAe,CAAC,CACrBvC,oBADqB,EAErB45B,eAFqB,EAGrBC,sBAHqB,CAAD,CAAxB;AAAA,cAIIv/B,OAAO,GAAGtO,EAAE,CAACsO,OAJjB;AAAA,cAI0BxG,MAAM,GAAG9H,EAAE,CAAC8H,MAJtC;;AAKA,cAAI01C,mBAAmB,GAAG,KAAKttB,kBAAL,CAAwB5hB,OAAxB,CAA1B;AACA,cAAImZ,mBAAmB,GAAG+1B,mBAAmB,CAAC79C,GAA9C;AACA,cAAImuC,cAAc,GAAG,KAAKpd,WAAL,CAAiB5oB,MAAM,IAAI01C,mBAAmB,CAACptB,WAA/C,EAA4D3I,mBAA5D,EAAiFhpB,OAAtG;AACA,cAAID,WAAW,GAAG,KAAKkqC,gBAAL,CAAsBkF,eAAe,CAACx6B,OAAhB,IAA2B,EAAjD,EAAqDklC,aAArD,CAAlB;AACA,cAAI5hC,QAAQ,GAAG,KAAKkR,8BAAL,GAAsC,uDAAS,uDAAS,uDAAS,uDAAS,uDAAS,EAAT,EAAa5c,oBAAb,CAAT,EAA6CkJ,0BAA7C,CAAT,EAAmFoB,wBAAnF,CAAT,EAAuH9W,WAAW,CAAC+pC,gBAAnI,CAAT,EAA+J/pC,WAAW,CAACgqC,cAA3K,CAArD;AACA,cAAI7xB,KAAK,GAAG,EAAZ;AACA,cAAIC,GAAG,GAAGL,eAAe,CAAC,CACtBvC,oBADsB,EAEtB85B,cAFsB,EAGtBF,eAHsB,EAItBC,sBAJsB,CAAD,CAAzB;AAMA,cAAInwC,OAAO,GAAG,EAAd;AACA,cAAIggD,UAAU,GAAG,KAAKn2B,2BAAtB;AACA,cAAIo2B,cAAc,GAAG,KAAKhC,6BAA1B;AACA,cAAIiC,UAAU,GAAG,KAAjB;;AACA,eAAK,IAAIv2B,UAAT,IAAuBzQ,GAAvB,EAA4B;AACxB,gBAAIyQ,UAAU,KAAK,SAAnB,EAA8B;AAAE;AAC5B,kBAAIzQ,GAAG,CAACyQ,UAAD,CAAH,KAAoBq2B,UAAU,CAACr2B,UAAD,CAA9B,IACCzR,0BAA0B,CAACyR,UAAD,CAA1B,IACIA,UAAU,IAAIq2B,UADlB,IAEG9nC,0BAA0B,CAACyR,UAAD,CAA1B,CAAuCq2B,UAAU,CAACr2B,UAAD,CAAjD,EAA+DzQ,GAAG,CAACyQ,UAAD,CAAlE,CAHR,EAG0F;AACtF3pB,uBAAO,CAAC2pB,UAAD,CAAP,GAAsBs2B,cAAc,CAACt2B,UAAD,CAApC;AACH,eALD,MAMK,IAAI3Q,QAAQ,CAAC2Q,UAAD,CAAZ,EAA0B;AAC3B3pB,uBAAO,CAAC2pB,UAAD,CAAP,GAAsB3Q,QAAQ,CAAC2Q,UAAD,CAAR,CAAqBzQ,GAAG,CAACyQ,UAAD,CAAxB,CAAtB;AACAu2B,0BAAU,GAAG,IAAb;AACH,eAHI,MAIA;AACDjnC,qBAAK,CAAC0Q,UAAD,CAAL,GAAoBq2B,UAAU,CAACr2B,UAAD,CAA9B;AACH;AACJ;AACJ;;AACD,cAAIu2B,UAAJ,EAAgB;AACZ,iBAAKr2B,2BAAL,GAAmC3Q,GAAnC;AACA,iBAAK+kC,6BAAL,GAAqCj+C,OAArC;AACH;;AACD,iBAAO;AACHmtC,sBAAU,EAAE,KAAKtjB,2BADd;AAEHg2B,0BAAc,EAAE,KAAK5B,6BAFlB;AAGHn9C,uBAAW,EAAEA,WAHV;AAIHg/C,+BAAmB,EAAEA,mBAJlB;AAKH1P,0BAAc,EAAEA,cALb;AAMHn3B,iBAAK,EAAEA;AANJ,WAAP;AAQH,SAnDD;;AAoDAgkC,2BAAmB,CAAC9sD,SAApB,CAA8BktD,uBAA9B,GAAwD,UAAU7yB,QAAV,EAAoB6zB,WAApB,EAAiCnO,eAAjC,EAAkDC,sBAAlD,EAA0E;AAC9H,cAAIhN,QAAQ,GAAGkb,WAAW,CAACxzB,SAAZ,CAAsBL,QAAtB,CAAf;;AACA,cAAI,CAAC2Y,QAAL,EAAe;AACX,kBAAM,IAAI7qC,KAAJ,CAAU,gBAAgBkyB,QAAhB,GAA2B,4EAArC,CAAN;AACH;;AACD,cAAIloB,EAAE,GAAG,KAAK69C,qBAAL,CAA2Bhd,QAA3B,EAAqCkb,WAAW,CAACv9C,WAAjD,EAA8Du9C,WAAW,CAACjO,cAA1E,EAA0FF,eAA1F,EAA2GC,sBAA3G,CAAT;AAAA,cAA6I0P,cAAc,GAAGv9C,EAAE,CAACu9C,cAAjK;AAAA,cAAiL5mC,KAAK,GAAG3W,EAAE,CAAC2W,KAA5L;;AACA8mC,4BAAkB,CAAC9mC,KAAD,CAAlB;AACA,cAAIoqB,oBAAoB,GAAG,KAAKma,yBAAL,CAA+B;AACtDjlC,qCAAyB,EAAE4qB,QAAQ,CAAC4N,cAAT,CAAwBx4B,yBADG;AAEtD/X,oBAAQ,EAAE2iC,QAAQ,CAAC3iC,QAFmC;AAGtDgwC,wBAAY,EAAErN,QAAQ,CAACqN,YAH+B;AAItDh4B,0BAAc,EAAE2qB,QAAQ,CAAC4N,cAAT,CAAwBv4B,cAJc;AAKtDtY,mBAAO,EAAEm+C,WAAW,CAACn+C,OALiC;AAMtDgmB,uBAAW,EAAE,KAAK3yB,KAAL,CAAW2yB,WAN8B;AAOtDnY,uBAAW,EAAE8xC,cAAc,CAAC9xC,WAP0B;AAQtDC,uBAAW,EAAE6xC,cAAc,CAAC7xC,WAR0B;AAStDuC,+BAAmB,EAAEsvC,cAAc,CAACtvC,mBATkB;AAUtDqF,oBAAQ,EAAEiqC,cAAc,CAACjqC,QAV6B;AAWtDC,yBAAa,EAAEgqC,cAAc,CAAChqC,aAXwB;AAYtDC,yBAAa,EAAE+pC,cAAc,CAAC/pC,aAZwB;AAatDC,sBAAU,EAAE8pC,cAAc,CAAC9pC,UAb2B;AActDxG,oBAAQ,EAAEswC,cAAc,CAACtwC,QAd6B;AAetD6Z,oBAAQ,EAAEy2B,cAAc,CAAC3tC,GAf6B;AAgBtDsgC,2BAAe,EAAEqN,cAAc,CAAC3pC,UAhBsB;AAiBtDi9B,6BAAiB,EAAE0M,cAAc,CAAC1pC,YAjBoB;AAkBtDH,qBAAS,EAAE6pC,cAAc,CAAC7pC,SAlB4B;AAmBtDC,0BAAc,EAAE4pC,cAAc,CAAC5pC;AAnBuB,WAA/B,CAA3B;AAqBA,cAAIgQ,OAAO,GAAG,KAAKw3B,YAAL,CAAkBjzB,QAAlB,EAA4B,KAAKjD,cAAjC,EAAiD82B,WAAW,CAACn+C,OAA7D,CAAd;AACA,iBAAO;AAAEijC,oBAAQ,EAAEA,QAAZ;AAAsBpiC,mBAAO,EAAE8+C,cAA/B;AAA+Cxc,gCAAoB,EAAEA,oBAArE;AAA2Fpd,mBAAO,EAAEA;AAApG,WAAP;AACH,SA9BD;;AA+BAg3B,2BAAmB,CAAC9sD,SAApB,CAA8BgwD,qBAA9B,GAAsD,UAAUhd,QAAV,EAAoBriC,WAApB,EAAiCsvC,cAAjC,EAAiDF,eAAjD,EAAkEC,sBAAlE,EAA0F;AAC5I,cAAIj3B,GAAG,GAAGL,eAAe,CAAC,CACtBvC,oBADsB,EAEtB6sB,QAAQ,CAAC4N,cAFa,EAGtBX,cAHsB,EAItBF,eAJsB,EAKtB/M,QAAQ,CAAC+M,eALa,EAMtBC,sBANsB,CAAD,CAAzB;AAQA,cAAIn3B,QAAQ,GAAG,uDAAS,uDAAS,uDAAS,uDAAS,uDAAS,uDAAS,EAAT,EAAa1L,oBAAb,CAAT,EAA6CkJ,0BAA7C,CAAT,EAAmFoB,wBAAnF,CAAT,EAAuHQ,oBAAvH,CAAT,EAAuJtX,WAAW,CAAC+pC,gBAAnK,CAAT,EAA+L/pC,WAAW,CAACgqC,cAA3M,CAAf;AACA,cAAI9qC,OAAO,GAAG,EAAd;AACA,cAAIggD,UAAU,GAAG,KAAK9B,uBAAtB;AACA,cAAI+B,cAAc,GAAG,KAAK9B,yBAA1B;AACA,cAAI+B,UAAU,GAAG,KAAjB;AACA,cAAIjnC,KAAK,GAAG,EAAZ;;AACA,eAAK,IAAI0Q,UAAT,IAAuBzQ,GAAvB,EAA4B;AACxB,gBAAIA,GAAG,CAACyQ,UAAD,CAAH,KAAoBq2B,UAAU,CAACr2B,UAAD,CAAlC,EAAgD;AAC5C3pB,qBAAO,CAAC2pB,UAAD,CAAP,GAAsBs2B,cAAc,CAACt2B,UAAD,CAApC;AACH,aAFD,MAGK;AACD,kBAAIzQ,GAAG,CAACyQ,UAAD,CAAH,KAAoB,KAAKE,2BAAL,CAAiCF,UAAjC,CAAxB,EAAsE;AAClE,oBAAIA,UAAU,IAAI,KAAKs0B,6BAAvB,EAAsD;AAAE;AACpDj+C,yBAAO,CAAC2pB,UAAD,CAAP,GAAsB,KAAKs0B,6BAAL,CAAmCt0B,UAAnC,CAAtB;AACH;AACJ,eAJD,MAKK,IAAI3Q,QAAQ,CAAC2Q,UAAD,CAAZ,EAA0B;AAC3B3pB,uBAAO,CAAC2pB,UAAD,CAAP,GAAsB3Q,QAAQ,CAAC2Q,UAAD,CAAR,CAAqBzQ,GAAG,CAACyQ,UAAD,CAAxB,CAAtB;AACH,eAFI,MAGA;AACD1Q,qBAAK,CAAC0Q,UAAD,CAAL,GAAoBzQ,GAAG,CAACyQ,UAAD,CAAvB;AACH;;AACDu2B,wBAAU,GAAG,IAAb;AACH;AACJ;;AACD,cAAIA,UAAJ,EAAgB;AACZ,iBAAKhC,uBAAL,GAA+BhlC,GAA/B;AACA,iBAAKilC,yBAAL,GAAiCn+C,OAAjC;AACH;;AACD,iBAAO;AACHmtC,sBAAU,EAAE,KAAK+Q,uBADd;AAEH2B,0BAAc,EAAE,KAAK1B,yBAFlB;AAGHllC,iBAAK,EAAEA;AAHJ,WAAP;AAKH,SA3CD;;AA4CA,eAAOgkC,mBAAP;AACH,OAxVwC,EAAzC;;AAyVA,eAASK,cAAT,CAAwB/yC,QAAxB,EAAkC61C,cAAlC,EAAkD5wC,qBAAlD,EAAyEmG,QAAzE,EAAmFxL,QAAnF,EAA6FrJ,WAA7F,EAA0Gg/C,mBAA1G,EAA+Hl2C,gBAA/H,EAAiJ;AAC7I,YAAIQ,MAAM,GAAG4oB,WAAW,CAACotB,cAAc,IAAIN,mBAAmB,CAACptB,WAAvC,EAAoDotB,mBAAmB,CAAC79C,GAAxE,CAAxB;AACA,eAAO,IAAI0uB,OAAJ,CAAY;AACf1nB,wBAAc,EAAE,SADD;AAEfsB,kBAAQ,EAAEA,QAFK;AAGfsmB,2BAAiB,EAAE/vB,WAAW,CAAC0pC,kBAHhB;AAIfpgC,gBAAM,EAAEA,MAJO;AAKfoF,+BAAqB,EAAEA,qBALR;AAMfmG,kBAAQ,EAAEA,QANK;AAOfxL,kBAAQ,EAAEA,QAPK;AAQfgD,sBAAY,EAAErM,WAAW,CAACqM,YARX;AASfvD,0BAAgB,EAAEA;AATH,SAAZ,CAAP;AAWH;;AACD,eAAS2zC,UAAT,CAAoBx8C,OAApB,EAA6BD,WAA7B,EAA0C;AACtC,YAAIu/C,UAAU,GAAGv/C,WAAW,CAACypC,YAAZ,CAAyBxpC,OAAO,CAAC8P,WAAjC,KAAiDk7B,aAAlE;AACA,eAAO,IAAIsU,UAAJ,CAAet/C,OAAf,CAAP;AACH;;AACD,eAASy8C,yBAAT,CAAmCjqD,KAAnC,EAA0C;AACtC,YAAI+sD,yBAAyB,GAAG/sD,KAAK,CAACglB,yBAAN,IAAmC64B,oBAAnE;AACA,eAAO,IAAIkP,yBAAJ,CAA8B/sD,KAA9B,CAAP;AACH;;AACD,eAASkqD,YAAT,CAAsBntD,IAAtB,EAA4Bi3B,cAA5B,EAA4CrnB,OAA5C,EAAqD;AACjD,eAAO,IAAIonB,OAAJ,CAAYh3B,IAAZ,EAAkBi3B,cAAlB,EAAkCrnB,OAAlC,CAAP;AACH;;AACD,eAASy9C,oBAAT,CAA8B1lC,YAA9B,EAA4C;AACxC,eAAO5Z,OAAO,CAAC4Z,YAAD,EAAe,UAAUoB,WAAV,EAAuB;AAAE,iBAAOA,WAAW,CAAC+D,EAAnB;AAAwB,SAAhE,CAAd;AACH;;AACD,eAASwgC,iBAAT,CAA2Bl8B,SAA3B,EAAsCu9B,iBAAtC,EAAyDC,eAAzD,EAA0E;AACtE,YAAI/+B,YAAY,GAAG;AAAE,cAAI8+B;AAAN,SAAnB;;AACA,aAAK,IAAI/hD,KAAT,IAAkBwkB,SAAlB,EAA6B;AACzB,cAAItgB,GAAG,GAAGsgB,SAAS,CAACxkB,KAAD,CAAnB;;AACA,cAAIkE,GAAG,CAAC7Q,QAAJ,IAAgB2uD,eAAe,CAAC99C,GAAG,CAAC7Q,QAAL,CAAnC,EAAmD;AAC/C4vB,wBAAY,CAACjjB,KAAD,CAAZ,GAAsBgiD,eAAe,CAAC99C,GAAG,CAAC7Q,QAAL,CAArC;AACH;AACJ;;AACD,eAAO4vB,YAAP;AACH;;AACD,eAASu9B,gBAAT,CAA0Bc,eAA1B,EAA2C;AACvC,YAAIz9C,OAAO,GAAGy9C,eAAe,CAACz9C,OAA9B;AACA,eAAO;AACHk+C,2BAAiB,EAAEjjC,aAAa,CAAC;AAC7B3Q,mBAAO,EAAEtK,OAAO,CAAC0R,YADY;AAE7B3C,oBAAQ,EAAE/O,OAAO,CAAC+O,QAFW;AAG7BqL,yBAAa,EAAEpa,OAAO,CAAC2R,kBAHM;AAI7B0I,4BAAgB,EAAEra,OAAO,CAAC4R,qBAJG;AAK7B0I,sBAAU,EAAEta,OAAO,CAAC8R,eALS;AAM7ByI,mBAAO,EAAE,OAAOva,OAAO,CAAC6R,YAAf,KAAgC,SAAhC,GAA4C7R,OAAO,CAAC6R,YAApD,GAAmE7U,SAN/C;AAO7Bwd,iBAAK,EAAExa,OAAO,CAAC+R,UAPc;AAQ7B4I,2BAAe,EAAE3a,OAAO,CAACgS,oBARI;AAS7B4I,uBAAW,EAAE5a,OAAO,CAACiS,gBATQ;AAU7B4I,qBAAS,EAAE7a,OAAO,CAACkS,cAVU;AAW7BwI,iBAAK,EAAE1a,OAAO,CAACmS;AAXc,WAAD,EAY7BsrC,eAZ6B,CAD7B;AAcH9X,yBAAe,EAAE1qB,aAAa,CAAC;AAC3BX,sBAAU,EAAEta,OAAO,CAACwS,gBADO;AAE3B+H,mBAAO,EAAE,OAAOva,OAAO,CAACyS,aAAf,KAAiC,SAAjC,GAA6CzS,OAAO,CAACyS,aAArD,GAAqEzV,SAFnD;AAG3Bwd,iBAAK,EAAExa,OAAO,CAAC0S;AAHY,WAAD,EAI3B+qC,eAJ2B;AAd3B,SAAP;AAoBH;;AACD,eAASK,gBAAT,CAA0Bl0B,KAA1B,EAAiC16B,OAAjC,EAA0C;AACtC,aAAK,IAAIuO,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAGrS,OAAO,CAAC6Q,WAAR,CAAoB6oC,cAA1C,EAA0DnrC,EAAE,GAAG8D,EAAE,CAAC3P,MAAlE,EAA0E6L,EAAE,EAA5E,EAAgF;AAC5E,cAAI+hD,aAAa,GAAGj+C,EAAE,CAAC9D,EAAD,CAAtB;;AACA,cAAI+hD,aAAa,CAAC51B,KAAD,CAAjB,EAA0B;AACtB,mBAAO,IAAP;AACH;AACJ;;AACD,eAAO,KAAP;AACH;;AACD,eAASkzB,yBAAT,CAAmCW,eAAnC,EAAoD;AAChD,eAAOtqB,kBAAkB,CAACsqB,eAAe,CAACz9C,OAAhB,CAAwBiR,aAAzB,EAAwCwsC,eAAxC,CAAzB;AACH;;AACD,eAASuB,kBAAT,CAA4Bh/C,OAA5B,EAAqCy/C,QAArC,EAA+C;AAC3C,aAAK,IAAI72B,UAAT,IAAuB5oB,OAAvB,EAAgC;AAC5BopB,iBAAO,CAACC,IAAR,CAAa,qBAAqBT,UAArB,GAAkC,GAAlC,IACR62B,QAAQ,GAAG,gBAAgBA,QAAhB,GAA2B,GAA9B,GAAoC,EADpC,CAAb;AAEH;AACJ,O,CAED;;;AACA,UAAIC,oBAAoB;AAAG;AAAe,gBAAU7f,MAAV,EAAkB;AACxD,gEAAU6f,oBAAV,EAAgC7f,MAAhC;;AACA,iBAAS6f,oBAAT,CAA8BltD,KAA9B,EAAqC;AACjC,cAAImT,KAAK,GAAGk6B,MAAM,CAACxuC,IAAP,CAAY,IAAZ,EAAkBmB,KAAlB,KAA4B,IAAxC;;AACAmT,eAAK,CAACg6C,UAAN,GAAmB,UAAUtC,IAAV,EAAgB;AAC/B,gBAAI,CAAC13C,KAAK,CAACi6C,WAAX,EAAwB;AAAE;AACtB;AACAj6C,mBAAK,CAACikB,KAAN,GAAcyzB,IAAd,CAFoB,CAEA;AACvB,aAHD,MAIK;AACD13C,mBAAK,CAACk6C,QAAN,CAAexC,IAAf;AACH;AACJ,WARD;;AASA13C,eAAK,CAACi6C,WAAN,GAAoB,IAAI1D,mBAAJ,CAAwB;AACxC/M,2BAAe,EAAE38C,KAAK,CAAC28C,eADiB;AAExChqB,uBAAW,EAAE3yB,KAAK,CAAC2yB,WAFqB;AAGxCy5B,kBAAM,EAAEj5C,KAAK,CAACg6C;AAH0B,WAAxB,CAApB;AAKA,iBAAOh6C,KAAP;AACH;;AACD+5C,4BAAoB,CAACtwD,SAArB,CAA+Bs9C,MAA/B,GAAwC,YAAY;AAChD,iBAAO,KAAKl6C,KAAL,CAAWJ,QAAX,CAAoB,KAAKw3B,KAAzB,CAAP;AACH,SAFD;;AAGA81B,4BAAoB,CAACtwD,SAArB,CAA+Bs+C,kBAA/B,GAAoD,UAAUoS,SAAV,EAAqB;AACrE,cAAIC,kBAAkB,GAAG,KAAKvtD,KAAL,CAAW28C,eAApC;;AACA,cAAI4Q,kBAAkB,KAAKD,SAAS,CAAC3Q,eAArC,EAAsD;AAAE;AACpD,iBAAKyQ,WAAL,CAAiB7B,YAAjB,CAA8BgC,kBAA9B;AACH;AACJ,SALD;;AAMA,eAAOL,oBAAP;AACH,OA9ByC,CA8BxC,kDA9BwC,CAA1C,C,CAgCA;;AACA;AACA;AACA;AACA;;;AACA,eAASM,WAAT,CAAqBxtD,KAArB,EAA4B+M,MAA5B,EAAoC;AAChC,eAAO4f,eAAe,CAAC3sB,KAAK,CAACqN,UAAP,EAAmBrN,KAAK,CAAC4sB,YAAzB,EAAuC5sB,KAAK,CAACk0B,WAAN,CAAkBC,WAAzD,EAAsEpnB,MAAM,GAAG/M,KAAK,CAACsa,gBAAT,GAA4B,IAAxG,CAAf,CAA6HuT,EAApI;AACH;;AAED,UAAI4/B,iBAAiB;AAAG;AAAe,kBAAY;AAC/C,iBAASA,iBAAT,CAA2Bl5C,YAA3B,EAAyC;AACrC,eAAKA,YAAL,GAAoBA,YAApB;AACH;;AACD,eAAOk5C,iBAAP;AACH,OALsC,EAAvC;;AAOA,UAAIC,WAAW;AAAG;AAAe,kBAAY;AACzC,iBAASA,WAAT,CAAqBh1B,QAArB,EAA+B;AAC3B,eAAK5T,SAAL,GAAiB4T,QAAQ,CAAC5T,SAA1B;AACH;;AACD4oC,mBAAW,CAAC9wD,SAAZ,CAAsBy+C,OAAtB,GAAgC,YAAY,CAC3C,CADD;;AAEA,eAAOqS,WAAP;AACH,OAPgC,EAAjC;;AAQA,eAASC,wBAAT,CAAkC7oC,SAAlC,EAA6CliB,KAA7C,EAAoD;AAChD,eAAO;AACHkiB,mBAAS,EAAEA,SADR;AAEHjnB,YAAE,EAAE+E,KAAK,CAAC/E,EAFP;AAGH+vD,wBAAc,EAAEhrD,KAAK,CAACgrD,cAAN,IAAwB,IAAxB,GAA+BhrD,KAAK,CAACgrD,cAArC,GAAsD;AAHnE,SAAP;AAKH;;AACD,eAASC,0BAAT,CAAoCn1B,QAApC,EAA8C;AAC1C,YAAI3pB,EAAJ;;AACA,eAAOA,EAAE,GAAG,EAAL,EACHA,EAAE,CAAC2pB,QAAQ,CAAC5T,SAAT,CAAmB0wB,GAApB,CAAF,GAA6B9c,QAD1B,EAEH3pB,EAFJ;AAGH,O,CACD;;;AACA,UAAI++C,wBAAwB,GAAG,EAA/B;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,UAAIC,eAAe;AAAG;AAAe,kBAAY;AAC7C,iBAASA,eAAT,CAAyBlwD,EAAzB,EAA6BI,QAA7B,EAAuC;AACnC,eAAKm0B,OAAL,GAAe,IAAIgY,OAAJ,EAAf;AACH;;AACD2jB,uBAAe,CAACnxD,SAAhB,CAA0By+C,OAA1B,GAAoC,YAAY,CAC/C,CADD;;AAEA0S,uBAAe,CAACnxD,SAAhB,CAA0BoxD,kBAA1B,GAA+C,UAAUC,IAAV,EAAgB,CAC3D;AACH,SAFD;;AAGAF,uBAAe,CAACnxD,SAAhB,CAA0BsxD,oBAA1B,GAAiD,UAAUD,IAAV,EAAgB,CAC7D;AACH,SAFD;;AAGAF,uBAAe,CAACnxD,SAAhB,CAA0BuxD,oBAA1B,GAAiD,UAAUF,IAAV,EAAgB,CAC7D;AACH,SAFD;;AAGA,eAAOF,eAAP;AACH,OAhBoC,EAArC,C,CAkBA;AACA;;;AACA,UAAIK,MAAM,GAAG,EAAb;AAEA;AACA;AACA;AACA;;AACA,UAAIC,kBAAkB,GAAG;AACrB7tB,iBAAS,EAAE3xB,cADU;AAErB5B,gBAAQ,EAAE4B,cAFW;AAGrBmiC,cAAM,EAAE91B,OAHa;AAIrBle,gBAAQ,EAAEiF;AAJW,OAAzB;;AAMA,eAASqsD,aAAT,CAAuB3oC,GAAvB,EAA4B;AACxB,YAAI5W,EAAE,GAAGyW,WAAW,CAACG,GAAD,EAAM0oC,kBAAN,CAApB;AAAA,YAA+C5hD,OAAO,GAAGsC,EAAE,CAACtC,OAA5D;AAAA,YAAqEiZ,KAAK,GAAG3W,EAAE,CAAC2W,KAAhF;;AACA,eAAO;AACH8a,mBAAS,EAAE/zB,OAAO,CAAC+zB,SAAR,IAAqB,IAD7B;AAEHvzB,kBAAQ,EAAER,OAAO,CAACQ,QAAR,IAAoB,IAF3B;AAGH+jC,gBAAM,EAAEvkC,OAAO,CAACukC,MAAR,IAAkB,IAAlB,GAAyBvkC,OAAO,CAACukC,MAAjC,GAA0C,IAH/C;AAIHh0C,kBAAQ,EAAEyP,OAAO,CAACzP,QAJf;AAKHuxD,uBAAa,EAAE7oC;AALZ,SAAP;AAOH;;AAED,UAAI8oC,cAAc;AAAG;AAAe,gBAAUnhB,MAAV,EAAkB;AAClD,gEAAUmhB,cAAV,EAA0BnhB,MAA1B;;AACA,iBAASmhB,cAAT,GAA0B;AACtB,iBAAOnhB,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDu7C,sBAAc,CAAC5xD,SAAf,CAAyBs9C,MAAzB,GAAkC,YAAY;AAC1C,cAAI/mC,KAAK,GAAG,IAAZ;;AACA,cAAIvT,QAAQ,GAAG,KAAKI,KAAL,CAAWyuD,YAAX,CAAwB//C,GAAxB,CAA4B,UAAUggD,WAAV,EAAuB;AAAE,mBAAOv7C,KAAK,CAACw7C,iBAAN,CAAwBD,WAAxB,CAAP;AAA8C,WAAnG,CAAf;AACA,iBAAO,uDAAcnlD,KAAd,CAAoB,KAAK,CAAzB,EAA4B,6DAAe,CAAC,KAAD,EAAQ;AAAE0e,qBAAS,EAAE;AAAb,WAAR,CAAf,EAA2DroB,QAA3D,CAA5B,CAAP;AACH,SAJD;;AAKA4uD,sBAAc,CAAC5xD,SAAf,CAAyB+xD,iBAAzB,GAA6C,UAAUD,WAAV,EAAuB;AAChE,cAAI1uD,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAIkmC,KAAK,GAAG,KAAKxpC,OAAL,CAAawpC,KAAzB;AACA,cAAItmC,QAAQ,GAAG,EAAf;AACA,cAAIgvD,aAAa,GAAG,IAApB;;AACA,eAAK,IAAI3jD,EAAE,GAAG,CAAT,EAAY4jD,aAAa,GAAGH,WAAjC,EAA8CzjD,EAAE,GAAG4jD,aAAa,CAACzvD,MAAjE,EAAyE6L,EAAE,EAA3E,EAA+E;AAC3E,gBAAI6jD,MAAM,GAAGD,aAAa,CAAC5jD,EAAD,CAA1B;AACA,gBAAIkjC,UAAU,GAAG2gB,MAAM,CAAC3gB,UAAxB;AAAA,gBAAoCuV,WAAW,GAAGoL,MAAM,CAACpL,WAAzD;AAAA,gBAAsEp/B,UAAU,GAAGwqC,MAAM,CAACxqC,UAA1F;AAAA,gBAAsGq/B,UAAU,GAAGmL,MAAM,CAACnL,UAA1H;;AACA,gBAAIxV,UAAU,KAAK,OAAnB,EAA4B;AACxBygB,2BAAa,GAAG,KAAhB;AACAhvD,sBAAQ,CAACL,IAAT,CAAc,+DAAc,IAAd,EAAoB;AAAE0oB,yBAAS,EAAE;AAAb,eAApB,EAAuDjoB,KAAK,CAACkpB,KAA7D,CAAd;AACH,aAHD,MAIK;AACD,kBAAI6lC,SAAS,GAAGpL,UAAU,GAAG;AAAE,8BAAcxV;AAAhB,eAAH,GAAkC,EAA5D;AACA,kBAAI6gB,aAAa,GAAG,CAAC,QAAQ7gB,UAAR,GAAqB,SAAtB,EAAiCjI,KAAK,CAACC,QAAN,CAAe,QAAf,CAAjC,CAApB;;AACA,kBAAIgI,UAAU,KAAKnuC,KAAK,CAACivD,YAAzB,EAAuC;AACnCD,6BAAa,CAACzvD,IAAd,CAAmB2mC,KAAK,CAACC,QAAN,CAAe,cAAf,CAAnB;AACH;;AACD,kBAAIJ,UAAU,GAAI,CAAC/lC,KAAK,CAACkvD,cAAP,IAAyB/gB,UAAU,KAAK,OAAzC,IACZ,CAACnuC,KAAK,CAACmvD,aAAP,IAAwBhhB,UAAU,KAAK,MAD3B,IAEZ,CAACnuC,KAAK,CAACovD,aAAP,IAAwBjhB,UAAU,KAAK,MAF5C;AAGAvuC,sBAAQ,CAACL,IAAT,CAAc,+DAAc,QAAd,EAAwB,uDAAS;AAAE8vD,wBAAQ,EAAEtpB,UAAZ;AAAwB9d,yBAAS,EAAE+mC,aAAa,CAAC72C,IAAd,CAAmB,GAAnB,CAAnC;AAA4Dm3C,uBAAO,EAAE5L,WAArE;AAAkF3mD,oBAAI,EAAE;AAAxF,eAAT,EAA6GgyD,SAA7G,CAAxB,EAAiJzqC,UAAU,KAAKq/B,UAAU,GAAG,+DAAc,MAAd,EAAsB;AAAE17B,yBAAS,EAAE07B;AAAb,eAAtB,CAAH,GAAsD,EAArE,CAA3J,CAAd;AACH;AACJ;;AACD,cAAI/jD,QAAQ,CAACR,MAAT,GAAkB,CAAtB,EAAyB;AACrB,gBAAImwD,cAAc,GAAIX,aAAa,IAAI1oB,KAAK,CAACC,QAAN,CAAe,aAAf,CAAlB,IAAoD,EAAzE;AACA,mBAAO,uDAAc58B,KAAd,CAAoB,KAAK,CAAzB,EAA4B,6DAAe,CAAC,KAAD,EAAQ;AAAE0e,uBAAS,EAAEsnC;AAAb,aAAR,CAAf,EAAuD3vD,QAAvD,CAA5B,CAAP;AACH;;AACD,iBAAOA,QAAQ,CAAC,CAAD,CAAf;AACH,SA7BD;;AA8BA,eAAO4uD,cAAP;AACH,OAzCmC,CAyClCzd,aAzCkC,CAApC;;AA2CA,UAAIye,OAAO;AAAG;AAAe,gBAAUniB,MAAV,EAAkB;AAC3C,gEAAUmiB,OAAV,EAAmBniB,MAAnB;;AACA,iBAASmiB,OAAT,GAAmB;AACf,iBAAOniB,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDu8C,eAAO,CAAC5yD,SAAR,CAAkBs9C,MAAlB,GAA2B,YAAY;AACnC,cAAInrC,EAAE,GAAG,KAAK/O,KAAd;AAAA,cAAqByvD,KAAK,GAAG1gD,EAAE,CAAC0gD,KAAhC;AAAA,cAAuCC,cAAc,GAAG3gD,EAAE,CAAC2gD,cAA3D;AACA,cAAIC,QAAQ,GAAG,KAAf;AACA,cAAIC,YAAJ;AACA,cAAIC,UAAJ;AACA,cAAIC,aAAa,GAAGL,KAAK,CAACzsC,MAA1B;;AACA,cAAIysC,KAAK,CAACtuB,IAAV,EAAgB;AACZwuB,oBAAQ,GAAG,IAAX;AACAC,wBAAY,GAAGH,KAAK,CAACtuB,IAArB;AACH,WAHD,MAIK;AACDyuB,wBAAY,GAAGH,KAAK,CAACthD,KAArB;AACH;;AACD,cAAIshD,KAAK,CAACruB,KAAV,EAAiB;AACbuuB,oBAAQ,GAAG,IAAX;AACAE,sBAAU,GAAGJ,KAAK,CAACruB,KAAnB;AACH,WAHD,MAIK;AACDyuB,sBAAU,GAAGJ,KAAK,CAACrhD,GAAnB;AACH;;AACD,cAAI8W,UAAU,GAAG,CACbwqC,cAAc,IAAI,EADL,EAEb,YAFa,EAGbC,QAAQ,GAAG,gBAAH,GAAsB,EAHjB,CAAjB;AAKA,iBAAQ,+DAAc,KAAd,EAAqB;AAAE1nC,qBAAS,EAAE/C,UAAU,CAAC/M,IAAX,CAAgB,GAAhB;AAAb,WAArB,EACJ,KAAK43C,aAAL,CAAmB,OAAnB,EAA4BH,YAAY,IAAI,EAA5C,CADI,EAEJ,KAAKG,aAAL,CAAmB,QAAnB,EAA6BD,aAAa,IAAI,EAA9C,CAFI,EAGJ,KAAKC,aAAL,CAAmB,KAAnB,EAA0BF,UAAU,IAAI,EAAxC,CAHI,CAAR;AAIH,SA7BD;;AA8BAL,eAAO,CAAC5yD,SAAR,CAAkBmzD,aAAlB,GAAkC,UAAUllD,GAAV,EAAe4jD,YAAf,EAA6B;AAC3D,cAAIzuD,KAAK,GAAG,KAAKA,KAAjB;AACA,iBAAQ,+DAAcwuD,cAAd,EAA8B;AAAE3jD,eAAG,EAAEA,GAAP;AAAY4jD,wBAAY,EAAEA,YAA1B;AAAwCvlC,iBAAK,EAAElpB,KAAK,CAACkpB,KAArD;AAA4D+lC,wBAAY,EAAEjvD,KAAK,CAACivD,YAAhF;AAA8FC,0BAAc,EAAElvD,KAAK,CAACkvD,cAApH;AAAoIC,yBAAa,EAAEnvD,KAAK,CAACmvD,aAAzJ;AAAwKC,yBAAa,EAAEpvD,KAAK,CAACovD;AAA7L,WAA9B,CAAR;AACH,SAHD;;AAIA,eAAOI,OAAP;AACH,OAxC4B,CAwC3Bze,aAxC2B,CAA7B,C,CA0CA;;;AACA,UAAIif,aAAa;AAAG;AAAe,gBAAU3iB,MAAV,EAAkB;AACjD,gEAAU2iB,aAAV,EAAyB3iB,MAAzB;;AACA,iBAAS2iB,aAAT,GAAyB;AACrB,cAAI78C,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAACikB,KAAN,GAAc;AACV64B,0BAAc,EAAE;AADN,WAAd;;AAGA98C,eAAK,CAAC+8C,QAAN,GAAiB,UAAUryD,EAAV,EAAc;AAC3BsV,iBAAK,CAACtV,EAAN,GAAWA,EAAX;AACAozC,kBAAM,CAAC99B,KAAK,CAACnT,KAAN,CAAYi6C,KAAb,EAAoBp8C,EAApB,CAAN;;AACAsV,iBAAK,CAACg9C,oBAAN;AACH,WAJD;;AAKAh9C,eAAK,CAACi9C,YAAN,GAAqB,YAAY;AAC7Bj9C,iBAAK,CAACg9C,oBAAN;AACH,WAFD;;AAGA,iBAAOh9C,KAAP;AACH;;AACD68C,qBAAa,CAACpzD,SAAd,CAAwBs9C,MAAxB,GAAiC,YAAY;AACzC,cAAInrC,EAAE,GAAG,IAAT;AAAA,cAAe/O,KAAK,GAAG+O,EAAE,CAAC/O,KAA1B;AAAA,cAAiCo3B,KAAK,GAAGroB,EAAE,CAACqoB,KAA5C;;AACA,cAAItb,WAAW,GAAG9b,KAAK,CAAC8b,WAAxB;AACA,cAAIoJ,UAAU,GAAG,CACb,iBADa,EAEZpJ,WAAW,IAAI9b,KAAK,CAACqwD,MAArB,IAA+BrwD,KAAK,CAACke,MAAtC,GACM,wBADN,CAC+B;AAD/B,YAEM,yBAJO,CAAjB;AAMA,cAAIA,MAAM,GAAG,EAAb;AACA,cAAI4qB,aAAa,GAAG,EAApB;;AACA,cAAIhtB,WAAJ,EAAiB;AACb,gBAAIsb,KAAK,CAAC64B,cAAN,KAAyB,IAA7B,EAAmC;AAC/B/xC,oBAAM,GAAGkZ,KAAK,CAAC64B,cAAN,GAAuBn0C,WAAhC;AACH,aAFD,MAGK;AACD;AACA;AACA;AACA;AACAgtB,2BAAa,GAAI,IAAIhtB,WAAL,GAAoB,GAApB,GAA0B,GAA1C;AACH;AACJ,WAXD,MAYK;AACDoC,kBAAM,GAAGle,KAAK,CAACke,MAAN,IAAgB,EAAzB;AACH;;AACD,iBAAQ,+DAAc,KAAd,EAAqB;AAAEgzB,eAAG,EAAE,KAAKgf,QAAZ;AAAsBZ,mBAAO,EAAEtvD,KAAK,CAACsvD,OAArC;AAA8CrnC,qBAAS,EAAE/C,UAAU,CAAC/M,IAAX,CAAgB,GAAhB,CAAzD;AAA+E9X,iBAAK,EAAE;AAAE6d,oBAAM,EAAEA,MAAV;AAAkB4qB,2BAAa,EAAEA;AAAjC;AAAtF,WAArB,EAA+J9oC,KAAK,CAACJ,QAArK,CAAR;AACH,SA3BD;;AA4BAowD,qBAAa,CAACpzD,SAAd,CAAwBo+C,iBAAxB,GAA4C,YAAY;AACpD,eAAKt+C,OAAL,CAAauzC,gBAAb,CAA8B,KAAKmgB,YAAnC;AACH,SAFD;;AAGAJ,qBAAa,CAACpzD,SAAd,CAAwBu+C,oBAAxB,GAA+C,YAAY;AACvD,eAAKz+C,OAAL,CAAawzC,mBAAb,CAAiC,KAAKkgB,YAAtC;AACH,SAFD;;AAGAJ,qBAAa,CAACpzD,SAAd,CAAwBuzD,oBAAxB,GAA+C,YAAY;AACvD,cAAI,KAAKtyD,EAAL,IAAW;AACX,eAAKmC,KAAL,CAAW8b,WADf,CAC2B;AAD3B,YAEE;AACE,mBAAKuxC,QAAL,CAAc;AAAE4C,8BAAc,EAAE,KAAKpyD,EAAL,CAAQ0pC;AAA1B,eAAd;AACH;AACJ,SAND;;AAOA,eAAOyoB,aAAP;AACH,OA3DkC,CA2DjCjf,aA3DiC,CAAnC;AA6DA;AACA;AACA;;;AACA,UAAIuf,aAAa;AAAG;AAAe,gBAAUjjB,MAAV,EAAkB;AACjD,gEAAUijB,aAAV,EAAyBjjB,MAAzB;;AACA,iBAASijB,aAAT,CAAuB53B,QAAvB,EAAiC;AAC7B,cAAIvlB,KAAK,GAAGk6B,MAAM,CAACxuC,IAAP,CAAY,IAAZ,EAAkB65B,QAAlB,KAA+B,IAA3C;;AACAvlB,eAAK,CAACo9C,cAAN,GAAuB,UAAU/vD,EAAV,EAAcgwD,KAAd,EAAqB;AACxC,gBAAI1rC,SAAS,GAAG3R,KAAK,CAAC2R,SAAtB;AACA,gBAAIpoB,OAAO,GAAGooB,SAAS,CAACpoB,OAAxB;AACA,gBAAIsxB,GAAG,GAAGE,QAAQ,CAACsiC,KAAD,CAAlB;;AACA,gBAAIxiC,GAAG,IAAI;AACPlJ,qBAAS,CAACixB,gBAAV,CAA2Bv1C,EAAE,CAACI,MAA9B,CADJ,EAC2C;AACvC;AACA;AACA,kBAAI6vD,eAAe,GAAGzyD,cAAc,CAACwC,EAAE,CAACI,MAAJ,EAAY,sBAAZ,CAApC;AACA,kBAAIlD,GAAG,GAAG+yD,eAAe,GAAGA,eAAe,CAAC5rD,aAAhB,CAA8B,SAA9B,EAAyC6rD,IAA5C,GAAmD,EAA5E;AACAh0D,qBAAO,CAAC01B,OAAR,CAAgBC,OAAhB,CAAwB,YAAxB,EAAsC;AAClCx0B,kBAAE,EAAE2yD,KAD8B;AAElC72B,qBAAK,EAAE,IAAIT,QAAJ,CAAapU,SAAS,CAACpoB,OAAvB,EAAgCsxB,GAAG,CAACY,UAAJ,CAAe/gB,GAA/C,EAAoDmgB,GAAG,CAACY,UAAJ,CAAejhB,QAAnE,CAF2B;AAGlC4kB,uBAAO,EAAE/xB,EAHyB;AAIlCiyB,oBAAI,EAAE/1B,OAAO,CAACg2B;AAJoB,eAAtC;;AAMA,kBAAIh1B,GAAG,IAAI,CAAC8C,EAAE,CAACmwD,gBAAf,EAAiC;AAC7B/oB,sBAAM,CAACgpB,QAAP,CAAgBF,IAAhB,GAAuBhzD,GAAvB;AACH;AACJ;AACJ,WApBD;;AAqBAyV,eAAK,CAACkoC,OAAN,GAAgBx6C,gBAAgB,CAAC63B,QAAQ,CAAC76B,EAAV,EAAc,OAAd,EAAuB,WAAvB,EAAoC;AACpEsV,eAAK,CAACo9C,cAD0B,CAAhC;AAEA,iBAAOp9C,KAAP;AACH;;AACD,eAAOm9C,aAAP;AACH,OA9BkC,CA8BjC5C,WA9BiC,CAAnC;AAgCA;AACA;AACA;AACA;;;AACA,UAAImD,aAAa;AAAG;AAAe,gBAAUxjB,MAAV,EAAkB;AACjD,gEAAUwjB,aAAV,EAAyBxjB,MAAzB;;AACA,iBAASwjB,aAAT,CAAuBn4B,QAAvB,EAAiC;AAC7B,cAAIvlB,KAAK,GAAGk6B,MAAM,CAACxuC,IAAP,CAAY,IAAZ,EAAkB65B,QAAlB,KAA+B,IAA3C,CAD6B,CAE7B;;;AACAvlB,eAAK,CAAC29C,mBAAN,GAA4B,UAAUjzD,EAAV,EAAc;AACtC,gBAAIA,EAAE,KAAKsV,KAAK,CAAC49C,YAAjB,EAA+B;AAC3B59C,mBAAK,CAAC69C,cAAN,CAAqB,IAArB,EAA2B79C,KAAK,CAAC49C,YAAjC;AACH;AACJ,WAJD;;AAKA59C,eAAK,CAAC89C,cAAN,GAAuB,UAAUzwD,EAAV,EAAcgwD,KAAd,EAAqB;AACxC,gBAAItiC,QAAQ,CAACsiC,KAAD,CAAZ,EAAqB;AAAE;AACnBr9C,mBAAK,CAAC49C,YAAN,GAAqBP,KAArB;;AACAr9C,mBAAK,CAAC+9C,YAAN,CAAmB,iBAAnB,EAAsC1wD,EAAtC,EAA0CgwD,KAA1C;AACH;AACJ,WALD;;AAMAr9C,eAAK,CAAC69C,cAAN,GAAuB,UAAUxwD,EAAV,EAAcgwD,KAAd,EAAqB;AACxC,gBAAIr9C,KAAK,CAAC49C,YAAV,EAAwB;AACpB59C,mBAAK,CAAC49C,YAAN,GAAqB,IAArB;;AACA59C,mBAAK,CAAC+9C,YAAN,CAAmB,iBAAnB,EAAsC1wD,EAAtC,EAA0CgwD,KAA1C;AACH;AACJ,WALD;;AAMAr9C,eAAK,CAACg+C,oBAAN,GAA6BjwD,uBAAuB,CAACw3B,QAAQ,CAAC76B,EAAV,EAAc,WAAd,EAA2B;AAC/EsV,eAAK,CAAC89C,cAD8C,EAC9B99C,KAAK,CAAC69C,cADwB,CAApD;AAEA,iBAAO79C,KAAP;AACH;;AACD09C,qBAAa,CAACj0D,SAAd,CAAwBy+C,OAAxB,GAAkC,YAAY;AAC1C,eAAK8V,oBAAL;AACH,SAFD;;AAGAN,qBAAa,CAACj0D,SAAd,CAAwBs0D,YAAxB,GAAuC,UAAUE,YAAV,EAAwB5wD,EAAxB,EAA4BgwD,KAA5B,EAAmC;AACtE,cAAI1rC,SAAS,GAAG,KAAKA,SAArB;AACA,cAAIpoB,OAAO,GAAGooB,SAAS,CAACpoB,OAAxB;AACA,cAAIsxB,GAAG,GAAGE,QAAQ,CAACsiC,KAAD,CAAlB;;AACA,cAAI,CAAChwD,EAAD,IAAOskB,SAAS,CAACixB,gBAAV,CAA2Bv1C,EAAE,CAACI,MAA9B,CAAX,EAAkD;AAC9ClE,mBAAO,CAAC01B,OAAR,CAAgBC,OAAhB,CAAwB++B,YAAxB,EAAsC;AAClCvzD,gBAAE,EAAE2yD,KAD8B;AAElC72B,mBAAK,EAAE,IAAIT,QAAJ,CAAax8B,OAAb,EAAsBsxB,GAAG,CAACY,UAAJ,CAAe/gB,GAArC,EAA0CmgB,GAAG,CAACY,UAAJ,CAAejhB,QAAzD,CAF2B;AAGlC4kB,qBAAO,EAAE/xB,EAHyB;AAIlCiyB,kBAAI,EAAE/1B,OAAO,CAACg2B;AAJoB,aAAtC;AAMH;AACJ,SAZD;;AAaA,eAAOm+B,aAAP;AACH,OA3CkC,CA2CjCnD,WA3CiC,CAAnC;;AA6CA,UAAI2D,eAAe;AAAG;AAAe,gBAAUhkB,MAAV,EAAkB;AACnD,gEAAUgkB,eAAV,EAA2BhkB,MAA3B;;AACA,iBAASgkB,eAAT,GAA2B;AACvB,cAAIl+C,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAACw8B,gBAAN,GAAyBj9B,OAAO,CAACi9B,gBAAD,CAAhC;AACAx8B,eAAK,CAACm+C,yBAAN,GAAkC5+C,OAAO,CAAC4+C,yBAAD,CAAzC;AACAn+C,eAAK,CAACo+C,iBAAN,GAA0B7+C,OAAO,CAAC6+C,iBAAD,CAAjC;AACAp+C,eAAK,CAACq+C,kBAAN,GAA2B/wD,sBAAsB,CAAC,iBAAD,EAAoB0S,KAAK,CAACs+C,mBAAN,CAA0BvN,IAA1B,CAA+B/wC,KAA/B,CAApB,CAAjD;AACAA,eAAK,CAACu+C,SAAN,GAAkB,4DAAlB;AACAv+C,eAAK,CAACw+C,SAAN,GAAkB,4DAAlB;AACAx+C,eAAK,CAACy+C,iBAAN,GAA0B,EAA1B,CARuB,CASvB;AACA;;AACAz+C,eAAK,CAAC48B,4BAAN,GAAqC,UAAUjrB,SAAV,EAAqB+sC,aAArB,EAAoC;AACrE,gBAAIn5B,QAAQ,GAAGi1B,wBAAwB,CAAC7oC,SAAD,EAAY+sC,aAAZ,CAAvC;AACA,gBAAIC,oBAAoB,GAAG,CACvBxB,aADuB,EAEvBO,aAFuB,CAA3B;AAIA,gBAAIkB,kBAAkB,GAAGD,oBAAoB,CAACzoD,MAArB,CAA4B8J,KAAK,CAACnT,KAAN,CAAYuN,WAAZ,CAAwBupC,qBAApD,CAAzB;AACA,gBAAIkb,YAAY,GAAGD,kBAAkB,CAACrjD,GAAnB,CAAuB,UAAUujD,mBAAV,EAA+B;AAAE,qBAAO,IAAIA,mBAAJ,CAAwBv5B,QAAxB,CAAP;AAA2C,aAAnG,CAAnB;AACAvlB,iBAAK,CAACy+C,iBAAN,CAAwB9sC,SAAS,CAAC0wB,GAAlC,IAAyCwc,YAAzC;AACAlE,oCAAwB,CAAChpC,SAAS,CAAC0wB,GAAX,CAAxB,GAA0C9c,QAA1C;AACH,WAVD;;AAWAvlB,eAAK,CAAC68B,8BAAN,GAAuC,UAAUlrB,SAAV,EAAqB;AACxD,iBAAK,IAAI7Z,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAGoE,KAAK,CAACy+C,iBAAN,CAAwB9sC,SAAS,CAAC0wB,GAAlC,CAAtB,EAA8DvqC,EAAE,GAAG8D,EAAE,CAAC3P,MAAtE,EAA8E6L,EAAE,EAAhF,EAAoF;AAChF,kBAAIinD,QAAQ,GAAGnjD,EAAE,CAAC9D,EAAD,CAAjB;AACAinD,sBAAQ,CAAC7W,OAAT;AACH;;AACD,mBAAOloC,KAAK,CAACy+C,iBAAN,CAAwB9sC,SAAS,CAAC0wB,GAAlC,CAAP;AACA,mBAAOsY,wBAAwB,CAAChpC,SAAS,CAAC0wB,GAAX,CAA/B;AACH,WAPD,CAtBuB,CA8BvB;AACA;;;AACAriC,eAAK,CAACg/C,YAAN,GAAqB,IAAIrK,aAAJ,CAAkB,YAAY;AAC/C30C,iBAAK,CAACnT,KAAN,CAAYoyB,OAAZ,CAAoBC,OAApB,CAA4B,SAA5B,EAAuC,IAAvC,EAD+C,CACD;;;AAC9Clf,iBAAK,CAACnT,KAAN,CAAYoyB,OAAZ,CAAoBC,OAApB,CAA4B,cAA5B,EAA4C;AAAEI,kBAAI,EAAEtf,KAAK,CAACnT,KAAN,CAAY0yB;AAApB,aAA5C;AACH,WAHoB,CAArB;;AAIAvf,eAAK,CAAC0K,kBAAN,GAA2B,UAAUrd,EAAV,EAAc;AACrC,gBAAIgN,OAAO,GAAG2F,KAAK,CAACnT,KAAN,CAAYwN,OAA1B;;AACA,gBAAIA,OAAO,CAACqQ,kBAAR,IACArd,EAAE,CAACI,MAAH,KAAcgnC,MADlB,CACyB;AADzB,cAEE;AACEz0B,qBAAK,CAACg/C,YAAN,CAAmBhjB,OAAnB,CAA2B3hC,OAAO,CAACsQ,iBAAnC;AACH;AACJ,WAPD;;AAQA,iBAAO3K,KAAP;AACH;AACD;AACJ;AACA;;;AACIk+C,uBAAe,CAACz0D,SAAhB,CAA0Bs9C,MAA1B,GAAmC,YAAY;AAC3C,cAAIl6C,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAIw3B,aAAa,GAAGx3B,KAAK,CAACw3B,aAA1B;AAAA,cAAyChqB,OAAO,GAAGxN,KAAK,CAACwN,OAAzD;AACA,cAAI4kD,YAAY,GAAG,KAAKb,iBAAL,CAAuBvxD,KAAK,CAAC4vC,QAA7B,EAAuC5vC,KAAK,CAACk0B,WAA7C,EAA0Dl0B,KAAK,CAAC8vC,oBAAhE,EAAsF9vC,KAAK,CAACu1B,WAA5F,EAAyGK,MAAM,CAAC51B,KAAK,CAACwN,OAAN,CAAcmR,GAAf,EAAoB3e,KAAK,CAAC2M,OAA1B,CAA/G,EAAmJ;AACtK3M,eAAK,CAACi0B,SADa,CAAnB;AAEA,cAAIo+B,SAAS,GAAG,KAAhB;AACA,cAAItzC,UAAU,GAAG,EAAjB;AACA,cAAIuzC,eAAJ;;AACA,cAAItyD,KAAK,CAACuyD,YAAN,IAAsBvyD,KAAK,CAACwyD,QAAhC,EAA0C;AACtCzzC,sBAAU,GAAG,EAAb;AACH,WAFD,MAGK,IAAIvR,OAAO,CAAC0Q,MAAR,IAAkB,IAAtB,EAA4B;AAC7Bm0C,qBAAS,GAAG,IAAZ;AACH,WAFI,MAGA,IAAI7kD,OAAO,CAAC2Q,aAAR,IAAyB,IAA7B,EAAmC;AACpCY,sBAAU,GAAGvR,OAAO,CAAC2Q,aAArB;AACH,WAFI,MAGA;AACDm0C,2BAAe,GAAG9rD,IAAI,CAAC4O,GAAL,CAAS5H,OAAO,CAACsO,WAAjB,EAA8B,GAA9B,CAAlB,CADC,CACqD;AACzD;;AACD,cAAI22C,WAAW,GAAG,KAAK9iB,gBAAL,CAAsB3vC,KAAK,CAAC4vC,QAA5B,EAAsC5vC,KAAK,CAAC0yB,OAA5C,EAAqD1yB,KAAK,CAACwN,OAA3D,EAAoExN,KAAK,CAAC8vC,oBAA1E,EAAgG9vC,KAAK,CAAC2M,OAAtG,EAA+G3M,KAAK,CAACkmC,KAArH,EAA4HlmC,KAAK,CAACuN,WAAlI,EAA+IvN,KAAK,CAAClD,QAArJ,EAA+JkD,KAAK,CAACg0B,cAArK,EAAqLh0B,KAAK,CAACoyB,OAA3L,EAAoMpyB,KAAK,CAAC2yB,WAA1M,EAAuN,KAAKod,4BAA5N,EAA0P,KAAKC,8BAA/P,CAAlB;AACA,iBAAQ,+DAAcN,eAAe,CAACgjB,QAA9B,EAAwC;AAAErhD,iBAAK,EAAEohD;AAAT,WAAxC,EACJj7B,aAAa,CAAC3c,aAAd,IAAgC,+DAAc20C,OAAd,EAAuB,uDAAS;AAAEte,eAAG,EAAE,KAAKwgB,SAAZ;AAAuBhC,0BAAc,EAAE,mBAAvC;AAA4DD,iBAAK,EAAEj4B,aAAa,CAAC3c;AAAjF,WAAT,EAA2Gu3C,YAA3G,CAAvB,CAD5B,EAEJ,+DAAcpC,aAAd,EAA6B;AAAEK,kBAAM,EAAEgC,SAAV;AAAqBn0C,kBAAM,EAAEa,UAA7B;AAAyCjD,uBAAW,EAAEw2C,eAAtD;AAAuEhD,mBAAO,EAAE,KAAKkC;AAArF,WAA7B,EACI,KAAKmB,UAAL,CAAgB3yD,KAAhB,CADJ,EAEI,KAAK4yD,kBAAL,EAFJ,CAFI,EAKJp7B,aAAa,CAAC1c,aAAd,IAAgC,+DAAc00C,OAAd,EAAuB,uDAAS;AAAEte,eAAG,EAAE,KAAKygB,SAAZ;AAAuBjC,0BAAc,EAAE,mBAAvC;AAA4DD,iBAAK,EAAEj4B,aAAa,CAAC1c;AAAjF,WAAT,EAA2Gs3C,YAA3G,CAAvB,CAL5B,CAAR;AAMH,SA3BD;;AA4BAf,uBAAe,CAACz0D,SAAhB,CAA0Bo+C,iBAA1B,GAA8C,YAAY;AACtD,cAAIh7C,KAAK,GAAG,KAAKA,KAAjB;AACA,eAAK+2C,oBAAL,GAA4B/2C,KAAK,CAACuN,WAAN,CAAkBwpC,oBAAlB,CACvBroC,GADuB,CACnB,UAAUmkD,wBAAV,EAAoC;AAAE,mBAAO,IAAIA,wBAAJ,CAA6B7yD,KAA7B,CAAP;AAA6C,WADhE,CAA5B;AAEA4nC,gBAAM,CAAC5mC,gBAAP,CAAwB,QAAxB,EAAkC,KAAK6c,kBAAvC;AACA,cAAI25B,eAAe,GAAGx3C,KAAK,CAACuN,WAAN,CAAkBiqC,eAAxC;;AACA,eAAK,IAAIv3C,QAAT,IAAqBu3C,eAArB,EAAsC;AAClCA,2BAAe,CAACv3C,QAAD,CAAf,CAA0BD,KAAK,CAACC,QAAD,CAA/B,EAA2CD,KAA3C;AACH;AACJ,SATD;;AAUAqxD,uBAAe,CAACz0D,SAAhB,CAA0Bs+C,kBAA1B,GAA+C,UAAUoS,SAAV,EAAqB;AAChE,cAAIttD,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAIw3C,eAAe,GAAGx3C,KAAK,CAACuN,WAAN,CAAkBiqC,eAAxC;;AACA,eAAK,IAAIv3C,QAAT,IAAqBu3C,eAArB,EAAsC;AAClC,gBAAIx3C,KAAK,CAACC,QAAD,CAAL,KAAoBqtD,SAAS,CAACrtD,QAAD,CAAjC,EAA6C;AACzCu3C,6BAAe,CAACv3C,QAAD,CAAf,CAA0BD,KAAK,CAACC,QAAD,CAA/B,EAA2CD,KAA3C;AACH;AACJ;AACJ,SARD;;AASAqxD,uBAAe,CAACz0D,SAAhB,CAA0Bu+C,oBAA1B,GAAiD,YAAY;AACzDvT,gBAAM,CAAC3mC,mBAAP,CAA2B,QAA3B,EAAqC,KAAK4c,kBAA1C;AACA,eAAKs0C,YAAL,CAAkBpJ,KAAlB;;AACA,eAAK,IAAI99C,EAAE,GAAG,CAAT,EAAY8D,EAAE,GAAG,KAAKgoC,oBAA3B,EAAiD9rC,EAAE,GAAG8D,EAAE,CAAC3P,MAAzD,EAAiE6L,EAAE,EAAnE,EAAuE;AACnE,gBAAIg6B,WAAW,GAAGl2B,EAAE,CAAC9D,EAAD,CAApB;AACAg6B,uBAAW,CAACoW,OAAZ;AACH;;AACD,eAAKr7C,KAAL,CAAWoyB,OAAX,CAAmBC,OAAnB,CAA2B,UAA3B;AACH,SARD;;AASAg/B,uBAAe,CAACz0D,SAAhB,CAA0B60D,mBAA1B,GAAgD,UAAUjxD,EAAV,EAAcsyD,QAAd,EAAwB;AACpE,cAAI/jD,EAAE,GAAG,KAAK/O,KAAd;AAAA,cAAqB2M,OAAO,GAAGoC,EAAE,CAACpC,OAAlC;AAAA,cAA2Ca,OAAO,GAAGuB,EAAE,CAACvB,OAAxD;AAAA,cAAiEmlB,WAAW,GAAG5jB,EAAE,CAAC4jB,WAAlF;AACA,cAAIogC,cAAc,GAAGD,QAAQ,CAACE,YAAT,CAAsB,cAAtB,CAArB;AACAD,wBAAc,GAAGA,cAAc,GAAGzsB,IAAI,CAACx5B,KAAL,CAAWimD,cAAX,CAAH,GAAgC,EAA/D;AACA,cAAIt9B,UAAU,GAAG9oB,OAAO,CAAC6e,YAAR,CAAqBunC,cAAc,CAACrqD,IAApC,CAAjB;AACA,cAAIuuB,QAAQ,GAAG87B,cAAc,CAACh2D,IAA9B;AACA,cAAIk2D,YAAY,GAAGh8B,QAAQ,KAAK,KAAb,GAAqBzpB,OAAO,CAACwM,eAA7B,GACfid,QAAQ,KAAK,MAAb,GAAsBzpB,OAAO,CAAC0M,gBAA9B,GAAiD,IADrD;;AAEA,cAAI,OAAO+4C,YAAP,KAAwB,UAA5B,EAAwC;AACpCA,wBAAY,CAACp0D,IAAb,CAAkB8zB,WAAlB,EAA+BhmB,OAAO,CAACglB,MAAR,CAAe8D,UAAf,CAA/B,EAA2Dj1B,EAA3D;AACH,WAFD,MAGK;AACD,gBAAI,OAAOyyD,YAAP,KAAwB,QAA5B,EAAsC;AAClCh8B,sBAAQ,GAAGg8B,YAAX;AACH;;AACDtgC,uBAAW,CAACwE,MAAZ,CAAmB1B,UAAnB,EAA+BwB,QAA/B;AACH;AACJ,SAjBD;;AAkBAo6B,uBAAe,CAACz0D,SAAhB,CAA0Bg2D,kBAA1B,GAA+C,YAAY;AACvD,cAAI5yD,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAIJ,QAAQ,GAAGI,KAAK,CAACuN,WAAN,CAAkBqpC,oBAAlB,CAAuCloC,GAAvC,CAA2C,UAAUkkD,kBAAV,EAA8B;AAAE,mBAAOA,kBAAkB,CAAC5yD,KAAD,CAAzB;AAAmC,WAA9G,CAAf;AACA,iBAAO,uDAAcuJ,KAAd,CAAoB,KAAK,CAAzB,EAA4B,6DAAe,CAAC,iDAAD,EAAW,EAAX,CAAf,EAA+B3J,QAA/B,CAA5B,CAAP;AACH,SAJD;;AAKAyxD,uBAAe,CAACz0D,SAAhB,CAA0B+1D,UAA1B,GAAuC,UAAU3yD,KAAV,EAAiB;AACpD,cAAIuN,WAAW,GAAGvN,KAAK,CAACuN,WAAxB;AACA,cAAIqiC,QAAQ,GAAG5vC,KAAK,CAAC4vC,QAArB;AACA,cAAI2M,SAAS,GAAG;AACZroB,uBAAW,EAAEl0B,KAAK,CAACk0B,WADP;AAEZzV,yBAAa,EAAEze,KAAK,CAACye,aAFT;AAGZpR,sBAAU,EAAErN,KAAK,CAACmrD,oBAHN;AAIZv+B,wBAAY,EAAE5sB,KAAK,CAAC4sB,YAJR;AAKZkM,yBAAa,EAAE94B,KAAK,CAAC84B,aALT;AAMZ2L,0BAAc,EAAEzkC,KAAK,CAACykC,cANV;AAOZP,qBAAS,EAAElkC,KAAK,CAACkkC,SAPL;AAQZE,uBAAW,EAAEpkC,KAAK,CAACokC,WARP;AASZmuB,wBAAY,EAAEvyD,KAAK,CAACuyD,YATR;AAUZC,oBAAQ,EAAExyD,KAAK,CAACwyD;AAVJ,WAAhB;AAYA,cAAI1jC,YAAY,GAAG,KAAKwiC,yBAAL,CAA+B/jD,WAAW,CAACkpC,qBAA3C,CAAnB;;AACA,eAAK,IAAIxrC,EAAE,GAAG,CAAT,EAAY+jB,cAAc,GAAGF,YAAlC,EAAgD7jB,EAAE,GAAG+jB,cAAc,CAAC5vB,MAApE,EAA4E6L,EAAE,EAA9E,EAAkF;AAC9E,gBAAIgkB,WAAW,GAAGD,cAAc,CAAC/jB,EAAD,CAAhC;AACA,mEAASsxC,SAAT,EAAoBttB,WAAW,CAAC6D,SAAZ,CAAsBypB,SAAtB,EAAiCv8C,KAAjC,CAApB;AACH;;AACD,cAAIkzD,aAAa,GAAGtjB,QAAQ,CAAC9qB,SAA7B;AACA,iBAAQ,+DAAcouC,aAAd,EAA6B,uDAAS,EAAT,EAAa3W,SAAb,CAA7B,CAAR;AACH,SAtBD;;AAuBA,eAAO8U,eAAP;AACH,OA1JoC,CA0JnCjhB,aA1JmC,CAArC;;AA2JA,eAASmhB,iBAAT,CAA2B3hB,QAA3B,EAAqC1b,WAArC,EAAkD4b,oBAAlD,EAAwEva,WAAxE,EAAqF5W,GAArF,EAA0FuK,KAA1F,EAAiG;AAC7F;AACA,YAAIiqC,SAAS,GAAGrjB,oBAAoB,CAACsO,KAArB,CAA2Bz/B,GAA3B,EAAgCnU,SAAhC,EAA2C,KAA3C,CAAhB,CAF6F,CAE1B;;AACnE,YAAI4oD,QAAQ,GAAGtjB,oBAAoB,CAACiO,SAArB,CAA+B7pB,WAA/B,EAA4CqB,WAA5C,EAAyD,KAAzD,CAAf;AACA,YAAI89B,QAAQ,GAAGvjB,oBAAoB,CAACuO,SAArB,CAA+BnqB,WAA/B,EAA4CqB,WAA5C,EAAyD,KAAzD,CAAf;AACA,eAAO;AACHrM,eAAK,EAAEA,KADJ;AAEH+lC,sBAAY,EAAErf,QAAQ,CAAC7yC,IAFpB;AAGHmyD,wBAAc,EAAEiE,SAAS,CAACzU,OAAV,IAAqB,CAACjyB,mBAAmB,CAACyH,WAAW,CAACE,YAAb,EAA2BzV,GAA3B,CAHtD;AAIHwwC,uBAAa,EAAEiE,QAAQ,CAAC1U,OAJrB;AAKH0Q,uBAAa,EAAEiE,QAAQ,CAAC3U;AALrB,SAAP;AAOH,O,CACD;AACA;;;AACA,eAAS4S,yBAAT,CAAmCgC,UAAnC,EAA+C;AAC3C,eAAOA,UAAU,CAAC5kD,GAAX,CAAe,UAAU6kD,QAAV,EAAoB;AAAE,iBAAO,IAAIA,QAAJ,EAAP;AAAwB,SAA7D,CAAP;AACH;;AAED,UAAIC,YAAY;AAAG;AAAe,gBAAUnmB,MAAV,EAAkB;AAChD,gEAAUmmB,YAAV,EAAwBnmB,MAAxB;;AACA,iBAASmmB,YAAT,GAAwB;AACpB,cAAIrgD,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAACikB,KAAN,GAAc;AACVo7B,oBAAQ,EAAE;AADA,WAAd;;AAGAr/C,eAAK,CAACsgD,iBAAN,GAA0B,YAAY;AAClCtgD,iBAAK,CAACk6C,QAAN,CAAe;AAAEmF,sBAAQ,EAAE;AAAZ,aAAf;AACH,WAFD;;AAGAr/C,eAAK,CAACugD,gBAAN,GAAyB,YAAY;AACjCvgD,iBAAK,CAACk6C,QAAN,CAAe;AAAEmF,sBAAQ,EAAE;AAAZ,aAAf;AACH,WAFD;;AAGA,iBAAOr/C,KAAP;AACH;;AACDqgD,oBAAY,CAAC52D,SAAb,CAAuBs9C,MAAvB,GAAgC,YAAY;AACxC,cAAIl6C,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAIwN,OAAO,GAAGxN,KAAK,CAACwN,OAApB;AACA,cAAIglD,QAAQ,GAAG,KAAKp7B,KAAL,CAAWo7B,QAA1B;AACA,cAAID,YAAY,GAAGC,QAAQ,IAAIhlD,OAAO,CAAC0Q,MAAR,KAAmB,MAA/B,IAAyC1Q,OAAO,CAAC2Q,aAAR,KAA0B,MAAtF;AACA,cAAID,MAAM,GAAI,CAACq0C,YAAD,IAAiB/kD,OAAO,CAAC0Q,MAAR,IAAkB,IAApC,GAA4C1Q,OAAO,CAAC0Q,MAApD,GAA6D,EAA1E;AACA,cAAIgH,UAAU,GAAG,CACb,IADa,EAEbstC,QAAQ,GAAG,gBAAH,GAAsB,iBAFjB,EAGb,kBAAkBhlD,OAAO,CAACyK,SAHb,EAIbjY,KAAK,CAACkmC,KAAN,CAAYC,QAAZ,CAAqB,MAArB,CAJa,CAAjB;;AAMA,cAAI,CAAChE,qBAAqB,EAA1B,EAA8B;AAC1Bjd,sBAAU,CAAC3lB,IAAX,CAAgB,gBAAhB;AACH;;AACD,iBAAOS,KAAK,CAACJ,QAAN,CAAeslB,UAAf,EAA2BhH,MAA3B,EAAmCq0C,YAAnC,EAAiDC,QAAjD,CAAP;AACH,SAhBD;;AAiBAgB,oBAAY,CAAC52D,SAAb,CAAuBo+C,iBAAvB,GAA2C,YAAY;AACnD,cAAI5oB,OAAO,GAAG,KAAKpyB,KAAL,CAAWoyB,OAAzB;AACAA,iBAAO,CAACqE,EAAR,CAAW,cAAX,EAA2B,KAAKg9B,iBAAhC;AACArhC,iBAAO,CAACqE,EAAR,CAAW,aAAX,EAA0B,KAAKi9B,gBAA/B;AACH,SAJD;;AAKAF,oBAAY,CAAC52D,SAAb,CAAuBu+C,oBAAvB,GAA8C,YAAY;AACtD,cAAI/oB,OAAO,GAAG,KAAKpyB,KAAL,CAAWoyB,OAAzB;AACAA,iBAAO,CAAC0E,GAAR,CAAY,cAAZ,EAA4B,KAAK28B,iBAAjC;AACArhC,iBAAO,CAAC0E,GAAR,CAAY,aAAZ,EAA2B,KAAK48B,gBAAhC;AACH,SAJD;;AAKA,eAAOF,YAAP;AACH,OA3CiC,CA2ChCziB,aA3CgC,CAAlC,C,CA6CA;;;AACA,eAAS4iB,2BAAT,CAAqCC,oBAArC,EAA2DjpC,MAA3D,EAAmE;AAC/D;AACA;AACA,YAAI,CAACipC,oBAAD,IAAyBjpC,MAAM,GAAG,EAAtC,EAA0C;AACtC,iBAAO7Q,eAAe,CAAC;AAAErF,mBAAO,EAAE;AAAX,WAAD,CAAtB,CADsC,CACQ;AACjD;;AACD,YAAIkW,MAAM,GAAG,CAAb,EAAgB;AACZ,iBAAO7Q,eAAe,CAAC;AAAErF,mBAAO,EAAE,OAAX;AAAoBpF,iBAAK,EAAE,SAA3B;AAAsCC,eAAG,EAAE,SAA3C;AAAsD+E,sBAAU,EAAE;AAAlE,WAAD,CAAtB,CADY,CACsF;AACrG;;AACD,eAAOyF,eAAe,CAAC;AAAErF,iBAAO,EAAE;AAAX,SAAD,CAAtB,CAT+D,CASlB;AAChD;;AAED,UAAIo/C,UAAU,GAAG,oBAAjB,C,CAAuC;;AACvC,eAASC,WAAT,CAAqB3Z,SAArB,EAAgC;AAC5B,eAAOA,SAAS,CAAC0J,IAAjB;AACH;;AAED,UAAIkQ,aAAa;AAAG;AAAe,gBAAU1mB,MAAV,EAAkB;AACjD,gEAAU0mB,aAAV,EAAyB1mB,MAAzB;;AACA,iBAAS0mB,aAAT,GAAyB;AACrB,iBAAO1mB,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD8gD,qBAAa,CAACn3D,SAAd,CAAwBs9C,MAAxB,GAAiC,YAAY;AACzC,cAAInrC,EAAE,GAAG,KAAKrS,OAAd;AAAA,cAAuBiQ,OAAO,GAAGoC,EAAE,CAACpC,OAApC;AAAA,cAA6Ca,OAAO,GAAGuB,EAAE,CAACvB,OAA1D;AAAA,cAAmE04B,KAAK,GAAGn3B,EAAE,CAACm3B,KAA9E;AAAA,cAAqFxT,OAAO,GAAG3jB,EAAE,CAAC2jB,OAAlG;AACA,cAAI1yB,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAI0I,IAAI,GAAG1I,KAAK,CAAC0I,IAAjB;AAAA,cAAuBwrB,WAAW,GAAGl0B,KAAK,CAACk0B,WAA3C;AACA,cAAI8/B,OAAO,GAAGluB,WAAW,CAACp9B,IAAD,EAAO1I,KAAK,CAAC8vB,UAAb,EAAyB,IAAzB,EAA+BoE,WAA/B,CAAzB;AACA,cAAIhP,UAAU,GAAG,CAAC2uC,UAAD,EAAaxqD,MAAb,CAAoB48B,gBAAgB,CAAC+tB,OAAD,EAAU9tB,KAAV,CAApC,CAAjB;AACA,cAAI2d,IAAI,GAAGl3C,OAAO,CAAChP,MAAR,CAAe+K,IAAf,EAAqB1I,KAAK,CAACob,eAA3B,CAAX,CANyC,CAOzC;;AACA,cAAI64C,YAAY,GAAIzmD,OAAO,CAACgU,QAAR,IAAoB,CAACwyC,OAAO,CAACjuB,UAA7B,IAA2C/lC,KAAK,CAACk0D,MAAN,GAAe,CAA3D,GACb;AAAE,4BAAgB7tB,gBAAgB,CAAC39B,IAAD,CAAlC;AAA0CyrD,oBAAQ,EAAE;AAApD,WADa,GAEb,EAFN;AAGA,cAAIha,SAAS,GAAG,uDAAS,uDAAS,uDAAS;AAAEzxC,gBAAI,EAAEiE,OAAO,CAACglB,MAAR,CAAejpB,IAAf,CAAR;AAA8B+pB,gBAAI,EAAEC;AAApC,WAAT,EAAwD1yB,KAAK,CAACo0D,cAA9D,CAAT,EAAwF;AAAEvQ,gBAAI,EAAEA;AAAR,WAAxF,CAAT,EAAkHmQ,OAAlH,CAAhB;AACA,iBAAQ,+DAAcla,UAAd,EAA0B;AAAEK,qBAAS,EAAEA,SAAb;AAAwBj1B,sBAAU,EAAE1X,OAAO,CAAC6N,mBAA5C;AAAiE8J,mBAAO,EAAE3X,OAAO,CAAC8N,gBAAlF;AAAoGg/B,0BAAc,EAAEwZ,WAApH;AAAiI1uC,oBAAQ,EAAE5X,OAAO,CAAC+N,iBAAnJ;AAAsK8J,uBAAW,EAAE7X,OAAO,CAACgO;AAA3L,WAA1B,EAA6O,UAAUu+B,SAAV,EAAqBmC,gBAArB,EAAuC1B,UAAvC,EAAmDC,YAAnD,EAAiE;AAAE,mBAAQ,+DAAc,IAAd,EAAoB,uDAAS;AAAEvJ,iBAAG,EAAE6I,SAAP;AAAkB9xB,uBAAS,EAAE/C,UAAU,CAAC7b,MAAX,CAAkB6yC,gBAAlB,EAAoC/jC,IAApC,CAAyC,GAAzC,CAA7B;AAA4E,2BAAa,CAAC67C,OAAO,CAACjuB,UAAT,GAAsBn0B,eAAe,CAAClJ,IAAD,CAArC,GAA8C8B,SAAvI;AAAkJ6pD,qBAAO,EAAEr0D,KAAK,CAACq0D;AAAjK,aAAT,EAAqLr0D,KAAK,CAACs0D,cAA3L,CAApB,EAC5T,+DAAc,KAAd,EAAqB;AAAErsC,uBAAS,EAAE;AAAb,aAArB,EAAgE,CAAC+rC,OAAO,CAACjuB,UAAT,IAAwB,+DAAc,GAAd,EAAmB,uDAAS;AAAEmL,iBAAG,EAAEsJ,UAAP;AAAmBvyB,uBAAS,EAAE,CAC1I,4BAD0I,EAE1IjoB,KAAK,CAACu0D,QAAN,GAAiB,WAAjB,GAA+B,EAF2G,EAG5Ip8C,IAH4I,CAGvI,GAHuI;AAA9B,aAAT,EAGxF87C,YAHwF,CAAnB,EAGtDxZ,YAHsD,CAAxF,CAD4T,CAAR;AAI9P,WAJlD,CAAR;AAKH,SAjBD;;AAkBA,eAAOsZ,aAAP;AACH,OAxBkC,CAwBjChjB,aAxBiC,CAAnC;;AA0BA,UAAIyjB,YAAY;AAAG;AAAe,gBAAUnnB,MAAV,EAAkB;AAChD,gEAAUmnB,YAAV,EAAwBnnB,MAAxB;;AACA,iBAASmnB,YAAT,GAAwB;AACpB,iBAAOnnB,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDuhD,oBAAY,CAAC53D,SAAb,CAAuBs9C,MAAvB,GAAgC,YAAY;AACxC,cAAIl6C,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAI+O,EAAE,GAAG,KAAKrS,OAAd;AAAA,cAAuBiQ,OAAO,GAAGoC,EAAE,CAACpC,OAApC;AAAA,cAA6Cu5B,KAAK,GAAGn3B,EAAE,CAACm3B,KAAxD;AAAA,cAA+DxT,OAAO,GAAG3jB,EAAE,CAAC2jB,OAA5E;AAAA,cAAqFllB,OAAO,GAAGuB,EAAE,CAACvB,OAAlG;AACA,cAAI9E,IAAI,GAAGnD,OAAO,CAAC,IAAI4D,IAAJ,CAAS,SAAT,CAAD,EAAsBnJ,KAAK,CAAC0H,GAA5B,CAAlB,CAHwC,CAGY;;AACpD,cAAI44B,QAAQ,GAAG;AACX54B,eAAG,EAAE1H,KAAK,CAAC0H,GADA;AAEXq+B,sBAAU,EAAE,KAFD;AAGX7V,oBAAQ,EAAE,KAHC;AAIXD,kBAAM,EAAE,KAJG;AAKXE,mBAAO,EAAE,KALE;AAMX6V,mBAAO,EAAE;AANE,WAAf;AAQA,cAAI9gB,UAAU,GAAG,CAAC2uC,UAAD,EAAaxqD,MAAb,CAAoB48B,gBAAgB,CAAC3F,QAAD,EAAW4F,KAAX,CAApC,EAAuDlmC,KAAK,CAACy0D,eAAN,IAAyB,EAAhF,CAAjB;AACA,cAAI5Q,IAAI,GAAGl3C,OAAO,CAAChP,MAAR,CAAe+K,IAAf,EAAqB1I,KAAK,CAACob,eAA3B,CAAX;AACA,cAAI++B,SAAS,GAAG,uDAAS,uDAAS,uDAAS,uDAAS;AAAE;AAClDzxC,gBAAI,EAAEA;AAD0C,WAAT,EACzB43B,QADyB,CAAT,EACL;AAAE7N,gBAAI,EAAEC;AAAR,WADK,CAAT,EACwB1yB,KAAK,CAACo0D,cAD9B,CAAT,EACwD;AAAEvQ,gBAAI,EAAEA;AAAR,WADxD,CAAhB;AAEA,iBAAQ,+DAAc/J,UAAd,EAA0B;AAAEK,qBAAS,EAAEA,SAAb;AAAwBj1B,sBAAU,EAAE1X,OAAO,CAAC6N,mBAA5C;AAAiE8J,mBAAO,EAAE3X,OAAO,CAAC8N,gBAAlF;AAAoGg/B,0BAAc,EAAEwZ,WAApH;AAAiI1uC,oBAAQ,EAAE5X,OAAO,CAAC+N,iBAAnJ;AAAsK8J,uBAAW,EAAE7X,OAAO,CAACgO;AAA3L,WAA1B,EAA6O,UAAUu+B,SAAV,EAAqBmC,gBAArB,EAAuC1B,UAAvC,EAAmDC,YAAnD,EAAiE;AAAE,mBAAQ,+DAAc,IAAd,EAAoB,uDAAS;AAAEvJ,iBAAG,EAAE6I,SAAP;AAAkB9xB,uBAAS,EAAE/C,UAAU,CAAC7b,MAAX,CAAkB6yC,gBAAlB,EAAoC/jC,IAApC,CAAyC,GAAzC,CAA7B;AAA4Ek8C,qBAAO,EAAEr0D,KAAK,CAACq0D;AAA3F,aAAT,EAA+Gr0D,KAAK,CAACs0D,cAArH,CAApB,EAC5T,+DAAc,KAAd,EAAqB;AAAErsC,uBAAS,EAAE;AAAb,aAArB,EACI,+DAAc,GAAd,EAAmB;AAAEA,uBAAS,EAAE,CACxB,4BADwB,EAExBjoB,KAAK,CAACu0D,QAAN,GAAiB,WAAjB,GAA+B,EAFP,EAG1Bp8C,IAH0B,CAGrB,GAHqB,CAAb;AAGF+4B,iBAAG,EAAEsJ;AAHH,aAAnB,EAGoCC,YAHpC,CADJ,CAD4T,CAAR;AAKzP,WALvD,CAAR;AAMH,SAtBD;;AAuBA,eAAO+Z,YAAP;AACH,OA7BiC,CA6BhCzjB,aA7BgC,CAAlC;;AA+BA,UAAI2jB,QAAQ;AAAG;AAAe,gBAAUrnB,MAAV,EAAkB;AAC5C,gEAAUqnB,QAAV,EAAoBrnB,MAApB;;AACA,iBAASqnB,QAAT,CAAkB10D,KAAlB,EAAyBtD,OAAzB,EAAkC;AAC9B,cAAIyW,KAAK,GAAGk6B,MAAM,CAACxuC,IAAP,CAAY,IAAZ,EAAkBmB,KAAlB,EAAyBtD,OAAzB,KAAqC,IAAjD;;AACAyW,eAAK,CAACwhD,cAAN,GAAuB/+B,MAAM,CAACl5B,OAAO,CAAC8Q,OAAR,CAAgBmR,GAAjB,EAAsBjiB,OAAO,CAACiQ,OAA9B,CAA7B;AACAwG,eAAK,CAACyhD,mBAAN,GAA4B,IAAIzrD,IAAJ,GAAWtD,OAAX,EAA5B;AACAsN,eAAK,CAACikB,KAAN,GAAcjkB,KAAK,CAAC0hD,aAAN,GAAsB/hB,YAApC;AACA,iBAAO3/B,KAAP;AACH;;AACDuhD,gBAAQ,CAAC93D,SAAT,CAAmBs9C,MAAnB,GAA4B,YAAY;AACpC,cAAInrC,EAAE,GAAG,IAAT;AAAA,cAAe/O,KAAK,GAAG+O,EAAE,CAAC/O,KAA1B;AAAA,cAAiCo3B,KAAK,GAAGroB,EAAE,CAACqoB,KAA5C;;AACA,iBAAOp3B,KAAK,CAACJ,QAAN,CAAew3B,KAAK,CAACrH,OAArB,EAA8BqH,KAAK,CAACtH,UAApC,CAAP;AACH,SAHD;;AAIA4kC,gBAAQ,CAAC93D,SAAT,CAAmBo+C,iBAAnB,GAAuC,YAAY;AAC/C,eAAKwN,UAAL;AACH,SAFD;;AAGAkM,gBAAQ,CAAC93D,SAAT,CAAmBs+C,kBAAnB,GAAwC,UAAUoS,SAAV,EAAqB;AACzD,cAAIA,SAAS,CAACx+C,IAAV,KAAmB,KAAK9O,KAAL,CAAW8O,IAAlC,EAAwC;AACpC,iBAAKw5C,YAAL;AACA,iBAAKE,UAAL;AACH;AACJ,SALD;;AAMAkM,gBAAQ,CAAC93D,SAAT,CAAmBu+C,oBAAnB,GAA0C,YAAY;AAClD,eAAKmN,YAAL;AACH,SAFD;;AAGAoM,gBAAQ,CAAC93D,SAAT,CAAmBi4D,aAAnB,GAAmC,YAAY;AAC3C,cAAI9lD,EAAE,GAAG,IAAT;AAAA,cAAe/O,KAAK,GAAG+O,EAAE,CAAC/O,KAA1B;AAAA,cAAiCtD,OAAO,GAAGqS,EAAE,CAACrS,OAA9C;;AACA,cAAIo4D,YAAY,GAAGtvD,KAAK,CAAC,KAAKmvD,cAAN,EAAsB,IAAIxrD,IAAJ,GAAWtD,OAAX,KAAuB,KAAK+uD,mBAAlD,CAAxB;AACA,cAAIG,gBAAgB,GAAGr4D,OAAO,CAACiQ,OAAR,CAAgBsxB,OAAhB,CAAwB62B,YAAxB,EAAsC90D,KAAK,CAAC8O,IAA5C,CAAvB;AACA,cAAIkmD,aAAa,GAAGt4D,OAAO,CAACiQ,OAAR,CAAgBtK,GAAhB,CAAoB0yD,gBAApB,EAAsClmD,cAAc,CAAC,CAAD,EAAI7O,KAAK,CAAC8O,IAAV,CAApD,CAApB;AACA,cAAImmD,MAAM,GAAGD,aAAa,CAACnvD,OAAd,KAA0BivD,YAAY,CAACjvD,OAAb,EAAvC,CAL2C,CAM3C;AACA;;AACAovD,gBAAM,GAAGzuD,IAAI,CAACwB,GAAL,CAAS,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAA1B,EAA8BitD,MAA9B,CAAT;AACA,iBAAO;AACHniB,wBAAY,EAAE;AAAE/iB,qBAAO,EAAEglC,gBAAX;AAA6BjlC,wBAAU,EAAEolC,aAAa,CAACH,gBAAD;AAAtD,aADX;AAEHxkB,qBAAS,EAAE;AAAExgB,qBAAO,EAAEilC,aAAX;AAA0BllC,wBAAU,EAAEolC,aAAa,CAACF,aAAD;AAAnD,aAFR;AAGHC,kBAAM,EAAEA;AAHL,WAAP;AAKH,SAdD;;AAeAP,gBAAQ,CAAC93D,SAAT,CAAmB4rD,UAAnB,GAAgC,YAAY;AACxC,cAAIr1C,KAAK,GAAG,IAAZ;;AACA,cAAIpE,EAAE,GAAG,KAAK8lD,aAAL,EAAT;AAAA,cAA+BtkB,SAAS,GAAGxhC,EAAE,CAACwhC,SAA9C;AAAA,cAAyD0kB,MAAM,GAAGlmD,EAAE,CAACkmD,MAArE;;AACA,eAAK9M,SAAL,GAAiBK,UAAU,CAAC,YAAY;AACpCr1C,iBAAK,CAACk6C,QAAN,CAAe9c,SAAf,EAA0B,YAAY;AAClCp9B,mBAAK,CAACq1C,UAAN;AACH,aAFD;AAGH,WAJ0B,EAIxByM,MAJwB,CAA3B;AAKH,SARD;;AASAP,gBAAQ,CAAC93D,SAAT,CAAmB0rD,YAAnB,GAAkC,YAAY;AAC1C,cAAI,KAAKH,SAAT,EAAoB;AAChBG,wBAAY,CAAC,KAAKH,SAAN,CAAZ;AACH;AACJ,SAJD;;AAKAuM,gBAAQ,CAAC5jB,WAAT,GAAuBpB,eAAvB;AACA,eAAOglB,QAAP;AACH,OAxD6B,CAwD5B,kDAxD4B,CAA9B;;AAyDA,eAASQ,aAAT,CAAuBxsD,IAAvB,EAA6B;AACzB,YAAIyF,KAAK,GAAGhI,UAAU,CAACuC,IAAD,CAAtB;AACA,YAAI0F,GAAG,GAAG7I,OAAO,CAAC4I,KAAD,EAAQ,CAAR,CAAjB;AACA,eAAO;AAAEA,eAAK,EAAEA,KAAT;AAAgBC,aAAG,EAAEA;AAArB,SAAP;AACH;;AAED,UAAI+mD,SAAS;AAAG;AAAe,gBAAU9nB,MAAV,EAAkB;AAC7C,gEAAU8nB,SAAV,EAAqB9nB,MAArB;;AACA,iBAAS8nB,SAAT,GAAqB;AACjB,cAAIhiD,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAACiiD,wBAAN,GAAiC1iD,OAAO,CAAC0iD,wBAAD,CAAxC;AACA,iBAAOjiD,KAAP;AACH;;AACDgiD,iBAAS,CAACv4D,SAAV,CAAoBs9C,MAApB,GAA6B,YAAY;AACrC,cAAIx9C,OAAO,GAAG,KAAKA,OAAnB;AACA,cAAIqS,EAAE,GAAG,KAAK/O,KAAd;AAAA,cAAqBq1D,KAAK,GAAGtmD,EAAE,CAACsmD,KAAhC;AAAA,cAAuCnhC,WAAW,GAAGnlB,EAAE,CAACmlB,WAAxD;AAAA,cAAqE0/B,oBAAoB,GAAG7kD,EAAE,CAAC6kD,oBAA/F;AAAA,cAAqH0B,WAAW,GAAGvmD,EAAE,CAACumD,WAAtI;AACA,cAAIl6C,eAAe,GAAG,KAAKg6C,wBAAL,CAA8B14D,OAAO,CAAC8Q,OAAR,CAAgB4N,eAA9C,EAA+Dw4C,oBAA/D,EAAqFyB,KAAK,CAACj2D,MAA3F,CAAtB;AACA,iBAAQ,+DAAcs1D,QAAd,EAAwB;AAAE5lD,gBAAI,EAAE;AAAR,WAAxB,EAAyC,UAAUihB,OAAV,EAAmBD,UAAnB,EAA+B;AAAE,mBAAQ,+DAAc,IAAd,EAAoB,IAApB,EACtFwlC,WAAW,IAAIA,WAAW,CAAC,KAAD,CAD4D,EAEtFD,KAAK,CAAC3mD,GAAN,CAAU,UAAUhG,IAAV,EAAgB;AAAE,qBAAQkrD,oBAAoB,GAAI,+DAAcG,aAAd,EAA6B;AAAElpD,mBAAG,EAAEnC,IAAI,CAAC+I,WAAL,EAAP;AAA2B/I,oBAAI,EAAEA,IAAjC;AAAuCwrB,2BAAW,EAAEA,WAApD;AAAiEpE,0BAAU,EAAEA,UAA7E;AAAyFokC,sBAAM,EAAEmB,KAAK,CAACj2D,MAAvG;AAA+Ggc,+BAAe,EAAEA;AAAhI,eAA7B,CAAJ,GAAwL,+DAAco5C,YAAd,EAA4B;AAAE3pD,mBAAG,EAAEnC,IAAI,CAACF,SAAL,EAAP;AAAyBd,mBAAG,EAAEgB,IAAI,CAACF,SAAL,EAA9B;AAAgD4S,+BAAe,EAAEA;AAAjE,eAA5B,CAApN;AAAwU,aAApW,CAFsF,CAAR;AAE4R,WAFtW,CAAR;AAGH,SAPD;;AAQA,eAAO+5C,SAAP;AACH,OAhB8B,CAgB7BpkB,aAhB6B,CAA/B;;AAiBA,eAASqkB,wBAAT,CAAkCG,cAAlC,EAAkD3B,oBAAlD,EAAwE4B,OAAxE,EAAiF;AAC7E,eAAOD,cAAc,IAAI5B,2BAA2B,CAACC,oBAAD,EAAuB4B,OAAvB,CAApD;AACH;;AAED,UAAIC,cAAc;AAAG;AAAe,kBAAY;AAC5C,iBAASA,cAAT,CAAwB7rD,KAAxB,EAA+BkmC,oBAA/B,EAAqD;AACjD,cAAIpnC,IAAI,GAAGkB,KAAK,CAACuE,KAAjB;AACA,cAAIC,GAAG,GAAGxE,KAAK,CAACwE,GAAhB;AACA,cAAIsnD,OAAO,GAAG,EAAd;AACA,cAAIL,KAAK,GAAG,EAAZ;AACA,cAAIM,QAAQ,GAAG,CAAC,CAAhB;;AACA,iBAAOjtD,IAAI,GAAG0F,GAAd,EAAmB;AAAE;AACjB,gBAAI0hC,oBAAoB,CAAC0P,WAArB,CAAiC92C,IAAjC,CAAJ,EAA4C;AACxCgtD,qBAAO,CAACn2D,IAAR,CAAao2D,QAAQ,GAAG,GAAxB,EADwC,CACV;AACjC,aAFD,MAGK;AACDA,sBAAQ,IAAI,CAAZ;AACAD,qBAAO,CAACn2D,IAAR,CAAao2D,QAAb;AACAN,mBAAK,CAAC91D,IAAN,CAAWmJ,IAAX;AACH;;AACDA,gBAAI,GAAGnD,OAAO,CAACmD,IAAD,EAAO,CAAP,CAAd;AACH;;AACD,eAAK2sD,KAAL,GAAaA,KAAb;AACA,eAAKK,OAAL,GAAeA,OAAf;AACA,eAAKE,GAAL,GAAWP,KAAK,CAACj2D,MAAjB;AACH;;AACDq2D,sBAAc,CAAC74D,SAAf,CAAyBi5D,UAAzB,GAAsC,UAAUjsD,KAAV,EAAiB;AACnD,cAAIksD,UAAU,GAAG,KAAKC,eAAL,CAAqBnsD,KAAK,CAACuE,KAA3B,CAAjB,CADmD,CACC;;AACpD,cAAI6nD,SAAS,GAAG,KAAKD,eAAL,CAAqBxwD,OAAO,CAACqE,KAAK,CAACwE,GAAP,EAAY,CAAC,CAAb,CAA5B,CAAhB,CAFmD,CAEW;;AAC9D,cAAI6nD,iBAAiB,GAAGzvD,IAAI,CAAC4O,GAAL,CAAS,CAAT,EAAY0gD,UAAZ,CAAxB;AACA,cAAII,gBAAgB,GAAG1vD,IAAI,CAACwB,GAAL,CAAS,KAAK4tD,GAAL,GAAW,CAApB,EAAuBI,SAAvB,CAAvB,CAJmD,CAKnD;;AACAC,2BAAiB,GAAGzvD,IAAI,CAAC2vD,IAAL,CAAUF,iBAAV,CAApB,CANmD,CAMD;;AAClDC,0BAAgB,GAAG1vD,IAAI,CAAC6B,KAAL,CAAW6tD,gBAAX,CAAnB,CAPmD,CAOF;;AACjD,cAAID,iBAAiB,IAAIC,gBAAzB,EAA2C;AACvC,mBAAO;AACHJ,wBAAU,EAAEG,iBADT;AAEHD,uBAAS,EAAEE,gBAFR;AAGH3oC,qBAAO,EAAEuoC,UAAU,KAAKG,iBAHrB;AAIHzoC,mBAAK,EAAEwoC,SAAS,KAAKE;AAJlB,aAAP;AAMH;;AACD,iBAAO,IAAP;AACH,SAjBD,CAtB4C,CAwC5C;AACA;AACA;AACA;AACA;;;AACAT,sBAAc,CAAC74D,SAAf,CAAyBm5D,eAAzB,GAA2C,UAAUrtD,IAAV,EAAgB;AACvD,cAAIgtD,OAAO,GAAG,KAAKA,OAAnB;AACA,cAAIU,SAAS,GAAG5vD,IAAI,CAAC6B,KAAL,CAAWzC,QAAQ,CAAC,KAAKyvD,KAAL,CAAW,CAAX,CAAD,EAAgB3sD,IAAhB,CAAnB,CAAhB;;AACA,cAAI0tD,SAAS,GAAG,CAAhB,EAAmB;AACf,mBAAOV,OAAO,CAAC,CAAD,CAAP,GAAa,CAApB;AACH;;AACD,cAAIU,SAAS,IAAIV,OAAO,CAACt2D,MAAzB,EAAiC;AAC7B,mBAAOs2D,OAAO,CAACA,OAAO,CAACt2D,MAAR,GAAiB,CAAlB,CAAP,GAA8B,CAArC;AACH;;AACD,iBAAOs2D,OAAO,CAACU,SAAD,CAAd;AACH,SAVD;;AAWA,eAAOX,cAAP;AACH,OAzDmC,EAApC;;AA2DA,UAAIY,aAAa;AAAG;AAAe,kBAAY;AAC3C,iBAASA,aAAT,CAAuBC,SAAvB,EAAkCC,YAAlC,EAAgD;AAC5C,cAAIlB,KAAK,GAAGiB,SAAS,CAACjB,KAAtB;AACA,cAAImB,UAAJ;AACA,cAAIp0C,QAAJ;AACA,cAAIq0C,MAAJ;;AACA,cAAIF,YAAJ,EAAkB;AACd;AACAn0C,oBAAQ,GAAGizC,KAAK,CAAC,CAAD,CAAL,CAAS7sD,SAAT,EAAX;;AACA,iBAAKguD,UAAU,GAAG,CAAlB,EAAqBA,UAAU,GAAGnB,KAAK,CAACj2D,MAAxC,EAAgDo3D,UAAU,IAAI,CAA9D,EAAiE;AAC7D,kBAAInB,KAAK,CAACmB,UAAD,CAAL,CAAkBhuD,SAAlB,OAAkC4Z,QAAtC,EAAgD;AAC5C;AACH;AACJ;;AACDq0C,kBAAM,GAAGjwD,IAAI,CAAC2vD,IAAL,CAAUd,KAAK,CAACj2D,MAAN,GAAeo3D,UAAzB,CAAT;AACH,WATD,MAUK;AACDC,kBAAM,GAAG,CAAT;AACAD,sBAAU,GAAGnB,KAAK,CAACj2D,MAAnB;AACH;;AACD,eAAKq3D,MAAL,GAAcA,MAAd;AACA,eAAKvC,MAAL,GAAcsC,UAAd;AACA,eAAKF,SAAL,GAAiBA,SAAjB;AACA,eAAKI,KAAL,GAAa,KAAKC,UAAL,EAAb;AACA,eAAKC,WAAL,GAAmB,KAAKC,gBAAL,EAAnB;AACH;;AACDR,qBAAa,CAACz5D,SAAd,CAAwB+5D,UAAxB,GAAqC,YAAY;AAC7C,cAAIG,IAAI,GAAG,EAAX;;AACA,eAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAKN,MAA7B,EAAqCM,GAAG,IAAI,CAA5C,EAA+C;AAC3C,gBAAIL,KAAK,GAAG,EAAZ;;AACA,iBAAK,IAAIM,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAK9C,MAA7B,EAAqC8C,GAAG,IAAI,CAA5C,EAA+C;AAC3CN,mBAAK,CAACn3D,IAAN,CAAW,KAAK03D,SAAL,CAAeF,GAAf,EAAoBC,GAApB,CAAX;AACH;;AACDF,gBAAI,CAACv3D,IAAL,CAAUm3D,KAAV;AACH;;AACD,iBAAOI,IAAP;AACH,SAVD;;AAWAT,qBAAa,CAACz5D,SAAd,CAAwBq6D,SAAxB,GAAoC,UAAUF,GAAV,EAAeC,GAAf,EAAoB;AACpD,cAAItuD,IAAI,GAAG,KAAK4tD,SAAL,CAAejB,KAAf,CAAqB0B,GAAG,GAAG,KAAK7C,MAAX,GAAoB8C,GAAzC,CAAX;AACA,iBAAO;AACHnsD,eAAG,EAAEnC,IAAI,CAAC+I,WAAL,EADF;AAEH/I,gBAAI,EAAEA;AAFH,WAAP;AAIH,SAND;;AAOA2tD,qBAAa,CAACz5D,SAAd,CAAwBi6D,gBAAxB,GAA2C,YAAY;AACnD,cAAIxB,KAAK,GAAG,EAAZ;;AACA,eAAK,IAAI2B,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAK9C,MAA7B,EAAqC8C,GAAG,IAAI,CAA5C,EAA+C;AAC3C3B,iBAAK,CAAC91D,IAAN,CAAW,KAAKm3D,KAAL,CAAW,CAAX,EAAcM,GAAd,EAAmBtuD,IAA9B;AACH;;AACD,iBAAO2sD,KAAP;AACH,SAND;;AAOAgB,qBAAa,CAACz5D,SAAd,CAAwBi5D,UAAxB,GAAqC,UAAUjsD,KAAV,EAAiB;AAClD,cAAIsqD,MAAM,GAAG,KAAKA,MAAlB;AACA,cAAIgD,SAAS,GAAG,KAAKZ,SAAL,CAAeT,UAAf,CAA0BjsD,KAA1B,CAAhB;AACA,cAAI0kB,IAAI,GAAG,EAAX;;AACA,cAAI4oC,SAAJ,EAAe;AACX,gBAAIpB,UAAU,GAAGoB,SAAS,CAACpB,UAA3B;AAAA,gBAAuCE,SAAS,GAAGkB,SAAS,CAAClB,SAA7D;AACA,gBAAImB,KAAK,GAAGrB,UAAZ;;AACA,mBAAOqB,KAAK,IAAInB,SAAhB,EAA2B;AACvB,kBAAIe,GAAG,GAAGvwD,IAAI,CAAC6B,KAAL,CAAW8uD,KAAK,GAAGjD,MAAnB,CAAV;AACA,kBAAIkD,SAAS,GAAG5wD,IAAI,CAACwB,GAAL,CAAS,CAAC+uD,GAAG,GAAG,CAAP,IAAY7C,MAArB,EAA6B8B,SAAS,GAAG,CAAzC,CAAhB;AACA1nC,kBAAI,CAAC/uB,IAAL,CAAU;AACNw3D,mBAAG,EAAEA,GADC;AAENM,wBAAQ,EAAEF,KAAK,GAAGjD,MAFZ;AAGNoD,uBAAO,EAAE,CAACF,SAAS,GAAG,CAAb,IAAkBlD,MAHrB;AAIN3mC,uBAAO,EAAE2pC,SAAS,CAAC3pC,OAAV,IAAqB4pC,KAAK,KAAKrB,UAJlC;AAKNtoC,qBAAK,EAAE0pC,SAAS,CAAC1pC,KAAV,IAAoB4pC,SAAS,GAAG,CAAb,KAAoBpB;AALxC,eAAV;AAOAmB,mBAAK,GAAGC,SAAR;AACH;AACJ;;AACD,iBAAO9oC,IAAP;AACH,SArBD;;AAsBA,eAAO+nC,aAAP;AACH,OA1EkC,EAAnC;;AA4EA,UAAIkB,MAAM;AAAG;AAAe,kBAAY;AACpC,iBAASA,MAAT,GAAkB;AACd,eAAKC,kBAAL,GAA0B9kD,OAAO,CAAC,KAAK+kD,mBAAN,CAAjC;AACA,eAAKC,kBAAL,GAA0BhlD,OAAO,CAAC,KAAKilD,cAAN,CAAjC;AACA,eAAKhrC,eAAL,GAAuBja,OAAO,CAAC,KAAKklD,gBAAN,CAA9B;AACA,eAAKC,cAAL,GAAsBnlD,OAAO,CAAC,KAAKolD,iBAAN,CAA7B;AACA,eAAKC,gBAAL,GAAwBrlD,OAAO,CAAC,KAAKolD,iBAAN,CAA/B;AACA,eAAKE,kBAAL,GAA0B,KAA1B,CANc,CAMmB;AACpC;;AACDT,cAAM,CAAC36D,SAAP,CAAiBq7D,UAAjB,GAA8B,UAAUj4D,KAAV,EAAiBk0B,WAAjB,EAA8B5Z,gBAA9B,EAAgD5d,OAAhD,EAAyD;AACnF,cAAIw7D,SAAS,GAAG,EAAhB;;AACA,eAAK,IAAIjtD,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGgI,SAAS,CAAC7T,MAAhC,EAAwC6L,EAAE,EAA1C,EAA8C;AAC1CitD,qBAAS,CAACjtD,EAAE,GAAG,CAAN,CAAT,GAAoBgI,SAAS,CAAChI,EAAD,CAA7B;AACH;;AACD,cAAI2hB,YAAY,GAAG5sB,KAAK,CAAC4sB,YAAzB;AACA,cAAIurC,SAAS,GAAG,KAAKxrC,eAAL,CAAqBpjB,KAArB,CAA2B,IAA3B,EAAiC,6DAAe,CAACvJ,KAAK,CAACqN,UAAP,EAAmBuf,YAAnB,EAAiCsH,WAAjC,EAA8C5Z,gBAA9C,CAAf,EAAgF49C,SAAhF,CAAjC,CAAhB;AACA,iBAAO;AACHE,6BAAiB,EAAE,KAAKV,kBAAL,CAAwBnuD,KAAxB,CAA8B,IAA9B,EAAoC,6DAAe,CAACvJ,KAAK,CAAC84B,aAAP,EAAsBlM,YAAtB,EAAoClwB,OAApC,CAAf,EAA6Dw7D,SAA7D,CAApC,CADhB;AAEHG,4BAAgB,EAAE,KAAKb,kBAAL,CAAwBjuD,KAAxB,CAA8B,IAA9B,EAAoC,6DAAe,CAACvJ,KAAK,CAACye,aAAP,EAAsByV,WAAtB,EAAmC5Z,gBAAnC,EAAqD5d,OAArD,CAAf,EAA8Ew7D,SAA9E,CAApC,CAFf;AAGHI,uBAAW,EAAEH,SAAS,CAACtqC,EAHpB;AAIH0qC,uBAAW,EAAEJ,SAAS,CAACvqC,EAJpB;AAKHsW,qBAAS,EAAE,KAAK2zB,cAAL,CAAoBtuD,KAApB,CAA0B,IAA1B,EAAgC,6DAAe,CAACvJ,KAAK,CAACkkC,SAAP,EAAkBtX,YAAlB,EAAgCsH,WAAhC,EAA6C5Z,gBAA7C,CAAf,EAA+E49C,SAA/E,CAAhC,CALR;AAMH9zB,uBAAW,EAAE,KAAK2zB,gBAAL,CAAsBxuD,KAAtB,CAA4B,IAA5B,EAAkC,6DAAe,CAACvJ,KAAK,CAACokC,WAAP,EAAoBxX,YAApB,EAAkCsH,WAAlC,EAA+C5Z,gBAA/C,CAAf,EAAiF49C,SAAjF,CAAlC,CANV;AAOHzzB,0BAAc,EAAEzkC,KAAK,CAACykC;AAPnB,WAAP,CAPmF,CAehF;AACN,SAhBD;;AAiBA8yB,cAAM,CAAC36D,SAAP,CAAiB47D,YAAjB,GAAgC,WAAU;AAC1C9vD,YADgC,EAC1BhM,OAD0B,EACjB;AACX,cAAIw7D,SAAS,GAAG,EAAhB;;AACA,eAAK,IAAIjtD,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGgI,SAAS,CAAC7T,MAAhC,EAAwC6L,EAAE,EAA1C,EAA8C;AAC1CitD,qBAAS,CAACjtD,EAAE,GAAG,CAAN,CAAT,GAAoBgI,SAAS,CAAChI,EAAD,CAA7B;AACH;;AACD,iBAAO,KAAK0sD,cAAL,CAAoBpuD,KAApB,CAA0B,IAA1B,EAAgC,6DAAe,CAAC;AAAEK,iBAAK,EAAE;AAAEuE,mBAAK,EAAEzF,IAAT;AAAe0F,iBAAG,EAAE5I,KAAK,CAACkD,IAAD,EAAO,CAAP;AAAzB,aAAT;AAA+CqE,kBAAM,EAAE;AAAvD,WAAD,EAClD,EADkD,EAElDrQ,OAFkD,CAAf,EAEzBw7D,SAFyB,CAAhC,CAAP;AAGH,SATD;;AAUAX,cAAM,CAAC36D,SAAP,CAAiB66D,mBAAjB,GAAuC,UAAUh5C,aAAV,EAAyByV,WAAzB,EAAsC5Z,gBAAtC,EAAwD5d,OAAxD,EAAiE;AACpG,cAAIw7D,SAAS,GAAG,EAAhB;;AACA,eAAK,IAAIjtD,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGgI,SAAS,CAAC7T,MAAhC,EAAwC6L,EAAE,EAA1C,EAA8C;AAC1CitD,qBAAS,CAACjtD,EAAE,GAAG,CAAN,CAAT,GAAoBgI,SAAS,CAAChI,EAAD,CAA7B;AACH;;AACD,cAAI,CAACwT,aAAL,EAAoB;AAChB,mBAAO,EAAP;AACH;;AACD,iBAAO,KAAKm5C,gBAAL,CAAsBruD,KAAtB,CAA4B,IAA5B,EAAkC,6DAAe,CAAC6D,eAAe,CAACqR,aAAD,EAAgBg6C,kBAAkB,CAACvkC,WAAD,EAAchZ,OAAO,CAACZ,gBAAD,CAArB,CAAlC,EAA4E5d,OAA5E,CAAhB,EACpD,EADoD,EAEpDw3B,WAFoD,EAGpD5Z,gBAHoD,CAAf,EAGlB49C,SAHkB,CAAlC,EAG4BtqC,EAHnC;AAIH,SAZD;;AAaA2pC,cAAM,CAAC36D,SAAP,CAAiBg7D,gBAAjB,GAAoC,UAAUvqD,UAAV,EAAsBuf,YAAtB,EAAoCsH,WAApC,EAAiD5Z,gBAAjD,EAAmE;AACnG,cAAI49C,SAAS,GAAG,EAAhB;;AACA,eAAK,IAAIjtD,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGgI,SAAS,CAAC7T,MAAhC,EAAwC6L,EAAE,EAA1C,EAA8C;AAC1CitD,qBAAS,CAACjtD,EAAE,GAAG,CAAN,CAAT,GAAoBgI,SAAS,CAAChI,EAAD,CAA7B;AACH;;AACD,cAAIoC,UAAJ,EAAgB;AACZ,gBAAIqrD,QAAQ,GAAG/rC,eAAe,CAACtf,UAAD,EAAauf,YAAb,EAA2B6rC,kBAAkB,CAACvkC,WAAD,EAAchZ,OAAO,CAACZ,gBAAD,CAArB,CAA7C,EAAuFA,gBAAvF,CAA9B;AACA,mBAAO;AACHsT,gBAAE,EAAE,KAAK+qC,gBAAL,CAAsBD,QAAQ,CAAC9qC,EAA/B,EAAmCsqC,SAAnC,CADD;AAEHrqC,gBAAE,EAAE,KAAK8qC,gBAAL,CAAsBD,QAAQ,CAAC7qC,EAA/B,EAAmCqqC,SAAnC;AAFD,aAAP;AAIH;;AACD,iBAAO;AAAEtqC,cAAE,EAAE,EAAN;AAAUC,cAAE,EAAE;AAAd,WAAP;AACH,SAbD;;AAcA0pC,cAAM,CAAC36D,SAAP,CAAiBk7D,iBAAjB,GAAqC,UAAU7yB,WAAV,EAAuBrY,YAAvB,EAAqCsH,WAArC,EAAkD5Z,gBAAlD,EAAoE;AACrG,cAAI49C,SAAS,GAAG,EAAhB;;AACA,eAAK,IAAIjtD,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGgI,SAAS,CAAC7T,MAAhC,EAAwC6L,EAAE,EAA1C,EAA8C;AAC1CitD,qBAAS,CAACjtD,EAAE,GAAG,CAAN,CAAT,GAAoBgI,SAAS,CAAChI,EAAD,CAA7B;AACH;;AACD,cAAI,CAACg6B,WAAL,EAAkB;AACd,mBAAO,IAAP;AACH;;AACD,cAAIyzB,QAAQ,GAAG/rC,eAAe,CAACsY,WAAW,CAACK,aAAb,EAA4B1Y,YAA5B,EAA0C6rC,kBAAkB,CAACvkC,WAAD,EAAchZ,OAAO,CAACZ,gBAAD,CAArB,CAA5D,EAAsGA,gBAAtG,CAA9B;AACA,iBAAO;AACHgU,gBAAI,EAAE,KAAKqqC,gBAAL,CAAsBD,QAAQ,CAAC7qC,EAA/B,EAAmCqqC,SAAnC,CADH;AAEHU,6BAAiB,EAAE3zB,WAAW,CAACG,cAAZ,CAA2B13B,SAF3C;AAGH+3B,mBAAO,EAAER,WAAW,CAACQ;AAHlB,WAAP;AAKH,SAdD;;AAeA8xB,cAAM,CAAC36D,SAAP,CAAiB+6D,cAAjB,GAAkC,UAAU3lC,QAAV,EAAoBpF,YAApB,EAAkClwB,OAAlC,EAA2C;AACzE,cAAIw7D,SAAS,GAAG,EAAhB;;AACA,eAAK,IAAIjtD,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGgI,SAAS,CAAC7T,MAAhC,EAAwC6L,EAAE,EAA1C,EAA8C;AAC1CitD,qBAAS,CAACjtD,EAAE,GAAG,CAAN,CAAT,GAAoBgI,SAAS,CAAChI,EAAD,CAA7B;AACH;;AACD,cAAI,CAAC+mB,QAAL,EAAe;AACX,mBAAO,EAAP;AACH;;AACD,cAAIpD,UAAU,GAAGmD,mBAAmB,CAACC,QAAD,EAAWpF,YAAX,EAAyBlwB,OAAzB,CAApC;AACA,cAAI4xB,IAAI,GAAG,KAAKunC,UAAL,CAAgBtsD,KAAhB,CAAsB,IAAtB,EAA4B,6DAAe,CAACyoB,QAAQ,CAACpoB,KAAV,CAAf,EAAiCsuD,SAAjC,CAA5B,CAAX;;AACA,eAAK,IAAInpD,EAAE,GAAG,CAAT,EAAY8pD,MAAM,GAAGvqC,IAA1B,EAAgCvf,EAAE,GAAG8pD,MAAM,CAACz5D,MAA5C,EAAoD2P,EAAE,EAAtD,EAA0D;AACtD,gBAAIif,GAAG,GAAG6qC,MAAM,CAAC9pD,EAAD,CAAhB;AACAif,eAAG,CAACY,UAAJ,GAAiBA,UAAjB;AACH;;AACD,iBAAON,IAAP;AACH,SAfD;AAgBA;AACJ;AACA;;;AACIipC,cAAM,CAAC36D,SAAP,CAAiB+7D,gBAAjB,GAAoC,UAAUG,WAAV,EAAuBZ,SAAvB,EAAkC;AAClE,cAAI5pC,IAAI,GAAG,EAAX;;AACA,eAAK,IAAIrjB,EAAE,GAAG,CAAT,EAAY8tD,aAAa,GAAGD,WAAjC,EAA8C7tD,EAAE,GAAG8tD,aAAa,CAAC35D,MAAjE,EAAyE6L,EAAE,EAA3E,EAA+E;AAC3E,gBAAI2jB,UAAU,GAAGmqC,aAAa,CAAC9tD,EAAD,CAA9B;AACAqjB,gBAAI,CAAC/uB,IAAL,CAAUgK,KAAV,CAAgB+kB,IAAhB,EAAsB,KAAK0qC,eAAL,CAAqBpqC,UAArB,EAAiCspC,SAAjC,CAAtB;AACH;;AACD,iBAAO5pC,IAAP;AACH,SAPD;AAQA;AACJ;AACA;;;AACIipC,cAAM,CAAC36D,SAAP,CAAiBo8D,eAAjB,GAAmC,UAAUpqC,UAAV,EAAsBspC,SAAtB,EAAiC;AAChE,cAAIrsC,SAAS,GAAG+C,UAAU,CAAChlB,KAA3B,CADgE,CAEhE;;AACA,cAAI,KAAKouD,kBAAL,IAA2BppC,UAAU,CAAC/E,EAAX,CAAc/R,OAAd,KAA0B,WAAzD,EAAsE;AAClE+T,qBAAS,GAAG;AACR1d,mBAAK,EAAE0d,SAAS,CAAC1d,KADT;AAERC,iBAAG,EAAE7I,OAAO,CAACsmB,SAAS,CAAC1d,KAAX,EAAkB,CAAlB;AAFJ,aAAZ;AAIH;;AACD,cAAImgB,IAAI,GAAG,KAAKunC,UAAL,CAAgBtsD,KAAhB,CAAsB,IAAtB,EAA4B,6DAAe,CAACsiB,SAAD,CAAf,EAA4BqsC,SAA5B,CAA5B,CAAX;;AACA,eAAK,IAAIjtD,EAAE,GAAG,CAAT,EAAYguD,MAAM,GAAG3qC,IAA1B,EAAgCrjB,EAAE,GAAGguD,MAAM,CAAC75D,MAA5C,EAAoD6L,EAAE,EAAtD,EAA0D;AACtD,gBAAI+iB,GAAG,GAAGirC,MAAM,CAAChuD,EAAD,CAAhB;AACA+iB,eAAG,CAACY,UAAJ,GAAiBA,UAAjB;AACAZ,eAAG,CAACT,OAAJ,GAAcqB,UAAU,CAACrB,OAAX,IAAsBS,GAAG,CAACT,OAAxC;AACAS,eAAG,CAACR,KAAJ,GAAYoB,UAAU,CAACpB,KAAX,IAAoBQ,GAAG,CAACR,KAApC;AACH;;AACD,iBAAOc,IAAP;AACH,SAjBD;;AAkBA,eAAOipC,MAAP;AACH,OA/H2B,EAA5B;AAgIA;AACA;AACA;AACA;AACA;;;AACA,eAASkB,kBAAT,CAA4BvkC,WAA5B,EAAyCglC,iBAAzC,EAA4D;AACxD,YAAItvD,KAAK,GAAGsqB,WAAW,CAACC,WAAxB;;AACA,YAAI+kC,iBAAJ,EAAuB;AACnB,iBAAOtvD,KAAP;AACH;;AACD,eAAO;AACHuE,eAAK,EAAE3I,KAAK,CAACoE,KAAK,CAACuE,KAAP,EAAc+lB,WAAW,CAAC1Z,WAAZ,CAAwB9T,YAAtC,CADT;AAEH0H,aAAG,EAAE5I,KAAK,CAACoE,KAAK,CAACwE,GAAP,EAAY8lB,WAAW,CAACzZ,WAAZ,CAAwB/T,YAAxB,GAAuC,KAAnD;AAFP,SAAP;AAIH;;AAED,UAAIyyD,iBAAiB,GAAG,oBAAxB;;AACA,UAAIC,QAAQ;AAAG;AAAe,gBAAU/rB,MAAV,EAAkB;AAC5C,gEAAU+rB,QAAV,EAAoB/rB,MAApB;;AACA,iBAAS+rB,QAAT,GAAoB;AAChB,cAAIjmD,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAAC+8C,QAAN,GAAiB,UAAUryD,EAAV,EAAc;AAC3BsV,iBAAK,CAACtV,EAAN,GAAWA,EAAX;AACAozC,kBAAM,CAAC99B,KAAK,CAACnT,KAAN,CAAYi6C,KAAb,EAAoBp8C,EAApB,CAAN;AACH,WAHD;;AAIA,iBAAOsV,KAAP;AACH;;AACDimD,gBAAQ,CAACx8D,SAAT,CAAmBs9C,MAAnB,GAA4B,YAAY;AACpC,cAAIl6C,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAIqwD,MAAM,GAAGrwD,KAAK,CAACqwD,MAAnB;AAAA,cAA2BgJ,gBAAgB,GAAGr5D,KAAK,CAACq5D,gBAApD;AACA,cAAIC,UAAU,GAAGjJ,MAAM,IAAIgJ,gBAA3B;AACA,cAAIpxC,SAAS,GAAG,CAAC,aAAD,CAAhB;;AACA,cAAIooC,MAAJ,EAAY;AACR,gBAAIgJ,gBAAJ,EAAsB;AAClBpxC,uBAAS,CAAC1oB,IAAV,CAAe,6BAAf;AACH,aAFD,MAGK;AACD0oB,uBAAS,CAAC1oB,IAAV,CAAe,oBAAf;AACH;AACJ;;AACD,iBAAQ,+DAAc,KAAd,EAAqB;AAAE2xC,eAAG,EAAE,KAAKgf,QAAZ;AAAsBjoC,qBAAS,EAAEA,SAAS,CAAC9P,IAAV,CAAe,GAAf,CAAjC;AAAsD9X,iBAAK,EAAE;AAClFypC,uBAAS,EAAE9pC,KAAK,CAAC8pC,SADiE;AAElFD,uBAAS,EAAE7pC,KAAK,CAAC6pC,SAFiE;AAGlF1I,kBAAI,EAAGm4B,UAAU,IAAI,EAAEt5D,KAAK,CAACu5D,YAAN,IAAsB,CAAxB,CAAf,IAA8C,EAH8B;AAIlFn4B,mBAAK,EAAGk4B,UAAU,IAAI,EAAEt5D,KAAK,CAACw5D,aAAN,IAAuB,CAAzB,CAAf,IAA+C,EAJ4B;AAKlFl4B,oBAAM,EAAGg4B,UAAU,IAAI,EAAEt5D,KAAK,CAACy5D,cAAN,IAAwB,CAA1B,CAAf,IAAgD,EAL0B;AAMlFC,wBAAU,EAAG,CAACJ,UAAD,IAAe,EAAEt5D,KAAK,CAACu5D,YAAN,IAAsB,CAAxB,CAAhB,IAA+C,EANuB;AAOlFI,yBAAW,EAAG,CAACL,UAAD,IAAe,EAAEt5D,KAAK,CAACw5D,aAAN,IAAuB,CAAzB,CAAhB,IAAgD,EAPqB;AAQlF7vB,0BAAY,EAAG,CAAC2vB,UAAD,IAAe,EAAEt5D,KAAK,CAACy5D,cAAN,IAAwB,CAA1B,CAAhB,IAAiD,EARmB;AASlFG,uBAAS,EAAE55D,KAAK,CAAC45D,SAAN,IAAmB;AAToD;AAA7D,WAArB,EAUC55D,KAAK,CAACJ,QAVP,CAAR;AAWH,SAxBD;;AAyBAw5D,gBAAQ,CAACx8D,SAAT,CAAmBi9D,eAAnB,GAAqC,YAAY;AAC7C,cAAIV,iBAAiB,CAAC74D,IAAlB,CAAuB,KAAKN,KAAL,CAAW8pC,SAAlC,CAAJ,EAAkD;AAC9C,mBAAO,KAAP;AACH,WAH4C,CAI7C;AACA;AACA;;;AACA,cAAIjsC,EAAE,GAAG,KAAKA,EAAd;AACA,cAAIi8D,eAAe,GAAG,KAAKj8D,EAAL,CAAQmH,qBAAR,GAAgCC,KAAhC,GAAwC,KAAK80D,kBAAL,EAA9D;AACA,cAAIn6D,QAAQ,GAAG/B,EAAE,CAAC+B,QAAlB;;AACA,eAAK,IAAIT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGS,QAAQ,CAACR,MAA7B,EAAqCD,CAAC,IAAI,CAA1C,EAA6C;AACzC,gBAAI66D,OAAO,GAAGp6D,QAAQ,CAACT,CAAD,CAAtB;;AACA,gBAAI66D,OAAO,CAACh1D,qBAAR,GAAgCC,KAAhC,GAAwC60D,eAA5C,EAA6D;AACzD,qBAAO,IAAP;AACH;AACJ;;AACD,iBAAO,KAAP;AACH,SAjBD;;AAkBAV,gBAAQ,CAACx8D,SAAT,CAAmBq9D,eAAnB,GAAqC,YAAY;AAC7C,cAAId,iBAAiB,CAAC74D,IAAlB,CAAuB,KAAKN,KAAL,CAAW6pC,SAAlC,CAAJ,EAAkD;AAC9C,mBAAO,KAAP;AACH,WAH4C,CAI7C;AACA;AACA;;;AACA,cAAIhsC,EAAE,GAAG,KAAKA,EAAd;AACA,cAAIq8D,gBAAgB,GAAG,KAAKr8D,EAAL,CAAQmH,qBAAR,GAAgCkZ,MAAhC,GAAyC,KAAKi8C,kBAAL,EAAhE;AACA,cAAIv6D,QAAQ,GAAG/B,EAAE,CAAC+B,QAAlB;;AACA,eAAK,IAAIT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGS,QAAQ,CAACR,MAA7B,EAAqCD,CAAC,IAAI,CAA1C,EAA6C;AACzC,gBAAI66D,OAAO,GAAGp6D,QAAQ,CAACT,CAAD,CAAtB;;AACA,gBAAI66D,OAAO,CAACh1D,qBAAR,GAAgCkZ,MAAhC,GAAyCg8C,gBAA7C,EAA+D;AAC3D,qBAAO,IAAP;AACH;AACJ;;AACD,iBAAO,KAAP;AACH,SAjBD;;AAkBAd,gBAAQ,CAACx8D,SAAT,CAAmBu9D,kBAAnB,GAAwC,YAAY;AAChD,cAAIhB,iBAAiB,CAAC74D,IAAlB,CAAuB,KAAKN,KAAL,CAAW8pC,SAAlC,CAAJ,EAAkD;AAC9C,mBAAO,CAAP;AACH;;AACD,iBAAO,KAAKjsC,EAAL,CAAQ8kC,YAAR,GAAuB,KAAK9kC,EAAL,CAAQypC,YAAtC,CAJgD,CAII;AACvD,SALD;;AAMA8xB,gBAAQ,CAACx8D,SAAT,CAAmBm9D,kBAAnB,GAAwC,YAAY;AAChD,cAAIZ,iBAAiB,CAAC74D,IAAlB,CAAuB,KAAKN,KAAL,CAAW6pC,SAAlC,CAAJ,EAAkD;AAC9C,mBAAO,CAAP;AACH;;AACD,iBAAO,KAAKhsC,EAAL,CAAQ0pC,WAAR,GAAsB,KAAK1pC,EAAL,CAAQ2pC,WAArC,CAJgD,CAIE;AACrD,SALD;;AAMA,eAAO4xB,QAAP;AACH,OApF6B,CAoF5BroB,aApF4B,CAA9B;AAsFA;AACA;AACA;AACA;;;AACA,UAAIqpB,MAAM;AAAG;AAAe,kBAAY;AACpC,iBAASA,MAAT,CAAgBC,cAAhB,EAAgC;AAC5B,cAAIlnD,KAAK,GAAG,IAAZ;;AACA,eAAKknD,cAAL,GAAsBA,cAAtB;AACA,eAAKC,UAAL,GAAkB,EAAlB;AACA,eAAKC,MAAL,GAAc,EAAd;AACA,eAAKC,WAAL,GAAmB,EAAnB;;AACA,eAAKC,WAAL,GAAmB,UAAUr6D,GAAV,EAAeyK,GAAf,EAAoB;AACnC,gBAAIkE,EAAE,GAAGoE,KAAT;AAAA,gBAAgBonD,MAAM,GAAGxrD,EAAE,CAACwrD,MAA5B;AAAA,gBAAoCD,UAAU,GAAGvrD,EAAE,CAACurD,UAApD;AACA,gBAAII,OAAO,GAAG,KAAd;AACA,gBAAIC,KAAK,GAAG,KAAZ;;AACA,gBAAIv6D,GAAG,KAAK,IAAZ,EAAkB;AACd;AACAs6D,qBAAO,GAAI7vD,GAAG,IAAIyvD,UAAlB;AACAA,wBAAU,CAACzvD,GAAD,CAAV,GAAkBzK,GAAlB;AACAm6D,oBAAM,CAAC1vD,GAAD,CAAN,GAAc,CAAC0vD,MAAM,CAAC1vD,GAAD,CAAN,IAAe,CAAhB,IAAqB,CAAnC;AACA8vD,mBAAK,GAAG,IAAR;AACH,aAND,MAOK;AACDJ,oBAAM,CAAC1vD,GAAD,CAAN,IAAe,CAAf;;AACA,kBAAI,CAAC0vD,MAAM,CAAC1vD,GAAD,CAAX,EAAkB;AACd,uBAAOyvD,UAAU,CAACzvD,GAAD,CAAjB;AACA,uBAAOsI,KAAK,CAACqnD,WAAN,CAAkB3vD,GAAlB,CAAP;AACA6vD,uBAAO,GAAG,IAAV;AACH;AACJ;;AACD,gBAAIvnD,KAAK,CAACknD,cAAV,EAA0B;AACtB,kBAAIK,OAAJ,EAAa;AACTvnD,qBAAK,CAACknD,cAAN,CAAqB,IAArB,EAA2Bp4D,MAAM,CAAC4I,GAAD,CAAjC;AACH;;AACD,kBAAI8vD,KAAJ,EAAW;AACPxnD,qBAAK,CAACknD,cAAN,CAAqBj6D,GAArB,EAA0B6B,MAAM,CAAC4I,GAAD,CAAhC;AACH;AACJ;AACJ,WA3BD;AA4BH;;AACDuvD,cAAM,CAACx9D,SAAP,CAAiBg+D,SAAjB,GAA6B,UAAU/vD,GAAV,EAAe;AACxC,cAAIsI,KAAK,GAAG,IAAZ;;AACA,cAAI0nD,WAAW,GAAG,KAAKL,WAAL,CAAiB3vD,GAAjB,CAAlB;;AACA,cAAI,CAACgwD,WAAL,EAAkB;AACdA,uBAAW,GAAG,KAAKL,WAAL,CAAiB3vD,GAAjB,IAAwB,UAAUzK,GAAV,EAAe;AACjD+S,mBAAK,CAACsnD,WAAN,CAAkBr6D,GAAlB,EAAuB6B,MAAM,CAAC4I,GAAD,CAA7B;AACH,aAFD;AAGH;;AACD,iBAAOgwD,WAAP;AACH,SATD,CApCoC,CA8CpC;AACA;AACA;;;AACAT,cAAM,CAACx9D,SAAP,CAAiBk+D,OAAjB,GAA2B,UAAU1uD,UAAV,EAAsBC,QAAtB,EAAgCC,IAAhC,EAAsC;AAC7D,iBAAOH,eAAe,CAAC,KAAKmuD,UAAN,EAAkBluD,UAAlB,EAA8BC,QAA9B,EAAwCC,IAAxC,CAAtB;AACH,SAFD;;AAGA8tD,cAAM,CAACx9D,SAAP,CAAiBm+D,MAAjB,GAA0B,YAAY;AAClC,iBAAOzvD,iBAAiB,CAAC,KAAKgvD,UAAN,CAAxB;AACH,SAFD;;AAGA,eAAOF,MAAP;AACH,OAxD2B,EAA5B;;AA0DA,eAASY,kBAAT,CAA4BC,QAA5B,EAAsC;AAClC,YAAIC,WAAW,GAAGp8D,YAAY,CAACm8D,QAAD,EAAW,uBAAX,CAA9B;AACA,YAAIE,YAAY,GAAG,CAAnB;;AACA,aAAK,IAAIlwD,EAAE,GAAG,CAAT,EAAYmwD,aAAa,GAAGF,WAAjC,EAA8CjwD,EAAE,GAAGmwD,aAAa,CAACh8D,MAAjE,EAAyE6L,EAAE,EAA3E,EAA+E;AAC3E,cAAIowD,UAAU,GAAGD,aAAa,CAACnwD,EAAD,CAA9B;AACAkwD,sBAAY,GAAG30D,IAAI,CAAC4O,GAAL,CAAS+lD,YAAT,EAAuBz2D,wBAAwB,CAAC22D,UAAD,CAA/C,CAAf;AACH;;AACD,eAAO70D,IAAI,CAAC2vD,IAAL,CAAUgF,YAAV,CAAP,CAPkC,CAOF;AACnC;;AACD,eAASG,yBAAT,CAAmCt7D,KAAnC,EAA0Cu7D,aAA1C,EAAyD;AACrD,eAAOv7D,KAAK,CAACqwD,MAAN,IAAgBkL,aAAa,CAAClL,MAArC,CADqD,CACR;AAChD;;AACD,eAASmL,kBAAT,CAA4Bx7D,KAA5B,EAAmCu7D,aAAnC,EAAkD;AAC9C,eAAOA,aAAa,CAAC3B,SAAd,IAA2B,IAA3B,IAAmC;AACtC0B,iCAAyB,CAACt7D,KAAD,EAAQu7D,aAAR,CAD7B,CAD8C,CAEO;AACxD,O,CACD;;;AACA,eAASE,kBAAT,CAA4BF,aAA5B,EAA2CG,WAA3C,EAAwD3X,GAAxD,EAA6D;AACzD,YAAI9lC,UAAU,GAAG8lC,GAAG,CAAC9lC,UAArB;AACA,YAAIkH,OAAO,GAAG,OAAOu2C,WAAW,CAACv2C,OAAnB,KAA+B,UAA/B,GACVu2C,WAAW,CAACv2C,OAAZ,CAAoB4+B,GAApB,CADU,GAEV,+DAAc,OAAd,EAAuB;AACnB97B,mBAAS,EAAE,CACPyzC,WAAW,CAACC,cADL,EAEPJ,aAAa,CAACK,cAAd,GAA+B,0BAA/B,GAA4D,EAFrD,EAGTzjD,IAHS,CAGJ,GAHI,CADQ;AAKnB9X,eAAK,EAAE;AACHw7D,oBAAQ,EAAE9X,GAAG,CAAC+X,aADX;AAEH72D,iBAAK,EAAE8+C,GAAG,CAACvc,WAFR;AAGHtpB,kBAAM,EAAED,UAAU,GAAG8lC,GAAG,CAACzc,YAAP,GAAsB;AAHrC;AALY,SAAvB,EAUGyc,GAAG,CAACgY,iBAVP,EAU0B,+DAAc,OAAd,EAAuB,EAAvB,EAA2B,OAAOL,WAAW,CAACM,UAAnB,KAAkC,UAAlC,GAA+CN,WAAW,CAACM,UAAZ,CAAuBjY,GAAvB,CAA/C,GAA6E2X,WAAW,CAACM,UAApH,CAV1B,CAFJ;AAaA,eAAO72C,OAAP;AACH;;AACD,eAAS82C,eAAT,CAAyBC,KAAzB,EAAgCC,KAAhC,EAAuC;AACnC,eAAO7pD,aAAa,CAAC4pD,KAAD,EAAQC,KAAR,EAAe3wD,YAAf,CAApB;AACH;;AACD,eAAS4wD,mBAAT,CAA6BC,IAA7B,EAAmCC,WAAnC,EAAgD;AAC5C,YAAIC,QAAQ,GAAG,EAAf;AACA;AACJ;AACA;AACA;AACA;;AACI,aAAK,IAAItxD,EAAE,GAAG,CAAT,EAAYuxD,MAAM,GAAGH,IAA1B,EAAgCpxD,EAAE,GAAGuxD,MAAM,CAACp9D,MAA5C,EAAoD6L,EAAE,EAAtD,EAA0D;AACtD,cAAIwxD,QAAQ,GAAGD,MAAM,CAACvxD,EAAD,CAArB;AACA,cAAI+lB,IAAI,GAAGyrC,QAAQ,CAACzrC,IAAT,IAAiB,CAA5B;;AACA,eAAK,IAAI7xB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6xB,IAApB,EAA0B7xB,CAAC,IAAI,CAA/B,EAAkC;AAC9Bo9D,oBAAQ,CAACh9D,IAAT,CAAc,+DAAc,KAAd,EAAqB;AAAEc,mBAAK,EAAE;AACpC4E,qBAAK,EAAEw3D,QAAQ,CAACx3D,KAAT,KAAmB,QAAnB,GAA8By3D,mBAAmB,CAACJ,WAAD,CAAjD,GAAkEG,QAAQ,CAACx3D,KAAT,IAAkB,EADvD;AAEpC42D,wBAAQ,EAAEY,QAAQ,CAACZ,QAAT,IAAqB;AAFK;AAAT,aAArB,CAAd;AAIH;AACJ;;AACD,eAAO,uDAActyD,KAAd,CAAoB,KAAK,CAAzB,EAA4B,6DAAe,CAAC,UAAD,EAAa,EAAb,CAAf,EAAiCgzD,QAAjC,CAA5B,CAAP;AACH;;AACD,eAASG,mBAAT,CAA6BJ,WAA7B,EAA0C;AACtC;AACJ;AACI,eAAOA,WAAW,IAAI,IAAf,GAAsB,CAAtB,GAA0BA,WAAjC;AACH;;AACD,eAASK,cAAT,CAAwBN,IAAxB,EAA8B;AAC1B,aAAK,IAAIpxD,EAAE,GAAG,CAAT,EAAY2xD,MAAM,GAAGP,IAA1B,EAAgCpxD,EAAE,GAAG2xD,MAAM,CAACx9D,MAA5C,EAAoD6L,EAAE,EAAtD,EAA0D;AACtD,cAAI+rD,GAAG,GAAG4F,MAAM,CAAC3xD,EAAD,CAAhB;;AACA,cAAI+rD,GAAG,CAAC/xD,KAAJ,KAAc,QAAlB,EAA4B;AACxB,mBAAO,IAAP;AACH;AACJ;;AACD,eAAO,KAAP;AACH;;AACD,eAAS43D,uBAAT,CAAiCxM,MAAjC,EAAyC3zD,OAAzC,EAAkD;AAC9C,YAAIwoB,UAAU,GAAG,CACb,eADa,EAEbxoB,OAAO,CAACwpC,KAAR,CAAcC,QAAd,CAAuB,OAAvB,CAFa,CAAjB;;AAIA,YAAIkqB,MAAJ,EAAY;AACRnrC,oBAAU,CAAC3lB,IAAX,CAAgB,sBAAhB;AACH;;AACD,eAAO2lB,UAAP;AACH;;AACD,eAAS43C,oBAAT,CAA8BvB,aAA9B,EAA6CwB,eAA7C,EAA8D;AAC1D,YAAI73C,UAAU,GAAG,CACb,uBADa,EAEb,2BAA2Bq2C,aAAa,CAACx+D,IAF5B,EAGbw+D,aAAa,CAACtzC,SAHD,CAAjB;;AAKA,YAAI80C,eAAe,IAAIxB,aAAa,CAAClL,MAAjC,IAA2CkL,aAAa,CAAC3B,SAAd,IAA2B,IAA1E,EAAgF;AAC5E10C,oBAAU,CAAC3lB,IAAX,CAAgB,8BAAhB;AACH;;AACD,YAAIg8D,aAAa,CAAChH,QAAlB,EAA4B;AACxBrvC,oBAAU,CAAC3lB,IAAX,CAAgB,8BAAhB;AACH;;AACD,eAAO2lB,UAAP;AACH;;AACD,eAAS83C,gBAAT,CAA0BjZ,GAA1B,EAA+B;AAC3B,eAAQ,+DAAc,KAAd,EAAqB;AAAE97B,mBAAS,EAAE,2BAAb;AAA0C5nB,eAAK,EAAE;AACtE4E,iBAAK,EAAE8+C,GAAG,CAACvc,WAD2D;AAEtEq0B,oBAAQ,EAAE9X,GAAG,CAAC+X;AAFwD;AAAjD,SAArB,CAAR;AAIH;;AACD,eAASmB,oBAAT,CAA8BzvD,OAA9B,EAAuC;AACnC,YAAIqR,iBAAiB,GAAGrR,OAAO,CAACqR,iBAAhC;;AACA,YAAIA,iBAAiB,IAAI,IAArB,IAA6BA,iBAAiB,KAAK,MAAvD,EAA+D;AAC3DA,2BAAiB,GAAGrR,OAAO,CAAC0Q,MAAR,KAAmB,MAAnB,IAA6B1Q,OAAO,CAACuR,UAAR,KAAuB,MAAxE;AACH;;AACD,eAAOF,iBAAP;AACH;;AACD,eAASq+C,wBAAT,CAAkC1vD,OAAlC,EAA2C;AACvC,YAAIsR,qBAAqB,GAAGtR,OAAO,CAACsR,qBAApC;;AACA,YAAIA,qBAAqB,IAAI,IAAzB,IAAiCA,qBAAqB,KAAK,MAA/D,EAAuE;AACnEA,+BAAqB,GAAGtR,OAAO,CAAC0Q,MAAR,KAAmB,MAAnB,IAA6B1Q,OAAO,CAACuR,UAAR,KAAuB,MAA5E;AACH;;AACD,eAAOD,qBAAP;AACH;;AAED,UAAIq+C,gBAAgB;AAAG;AAAe,gBAAU9vB,MAAV,EAAkB;AACpD,gEAAU8vB,gBAAV,EAA4B9vB,MAA5B;;AACA,iBAAS8vB,gBAAT,GAA4B;AACxB,cAAIhqD,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAACiqD,WAAN,GAAoB1qD,OAAO,CAAC,UAAU1O,CAAV,EAAa;AAAE,mBAAOA,CAAP;AAAW,WAA3B,EAA6Bi4D,eAA7B,CAA3B,CAFwB,CAEkD;AAC1E;;AACA9oD,eAAK,CAACipD,mBAAN,GAA4B1pD,OAAO,CAAC0pD,mBAAD,CAAnC;AACAjpD,eAAK,CAACkqD,YAAN,GAAqB,IAAIjD,MAAJ,EAArB;AACAjnD,eAAK,CAACmqD,cAAN,GAAuB,IAAIlD,MAAJ,CAAWjnD,KAAK,CAACoqD,iBAAN,CAAwBrZ,IAAxB,CAA6B/wC,KAA7B,CAAX,CAAvB;AACAA,eAAK,CAACikB,KAAN,GAAc;AACVklC,uBAAW,EAAE,IADH;AAEVkB,4BAAgB,EAAE,KAFR;AAGVC,gCAAoB,EAAE,EAHZ;AAIVC,iCAAqB,EAAE;AAJb,WAAd,CAPwB,CAaxB;;AACAvqD,eAAK,CAACwqD,YAAN,GAAqB,YAAY;AAC7BxqD,iBAAK,CAACk6C,QAAN,CAAe,uDAAS;AAAEiP,yBAAW,EAAEnpD,KAAK,CAAC6nD,kBAAN;AAAf,aAAT,EAAsD7nD,KAAK,CAACyqD,mBAAN,EAAtD,CAAf;AACH,WAFD;;AAGA,iBAAOzqD,KAAP;AACH;;AACDgqD,wBAAgB,CAACvgE,SAAjB,CAA2Bs9C,MAA3B,GAAoC,YAAY;AAC5C,cAAInrC,EAAE,GAAG,IAAT;AAAA,cAAe/O,KAAK,GAAG+O,EAAE,CAAC/O,KAA1B;AAAA,cAAiCo3B,KAAK,GAAGroB,EAAE,CAACqoB,KAA5C;AAAA,cAAmD16B,OAAO,GAAGqS,EAAE,CAACrS,OAAhE;;AACA,cAAImhE,cAAc,GAAG79D,KAAK,CAAC89D,QAAN,IAAkB,EAAvC;AACA,cAAIzB,IAAI,GAAG,KAAKe,WAAL,CAAiBp9D,KAAK,CAACq8D,IAAvB,CAAX;AACA,cAAI0B,iBAAiB,GAAG,KAAK3B,mBAAL,CAAyBC,IAAzB,EAA+BjlC,KAAK,CAACklC,WAArC,CAAxB;AACA,cAAIp3C,UAAU,GAAG23C,uBAAuB,CAAC78D,KAAK,CAACqwD,MAAP,EAAe3zD,OAAf,CAAxC,CAL4C,CAM5C;;AACA,cAAIshE,SAAS,GAAGH,cAAc,CAACz+D,MAA/B;AACA,cAAI6+D,OAAO,GAAG,CAAd;AACA,cAAIC,aAAJ;AACA,cAAIC,gBAAgB,GAAG,EAAvB;AACA,cAAIC,gBAAgB,GAAG,EAAvB;AACA,cAAIC,gBAAgB,GAAG,EAAvB;;AACA,iBAAOJ,OAAO,GAAGD,SAAV,IAAuB,CAACE,aAAa,GAAGL,cAAc,CAACI,OAAD,CAA/B,EAA0ClhE,IAA1C,KAAmD,QAAjF,EAA2F;AACvFohE,4BAAgB,CAAC5+D,IAAjB,CAAsB,KAAKwwD,aAAL,CAAmBmO,aAAnB,EAAkCH,iBAAlC,CAAtB;AACAE,mBAAO,IAAI,CAAX;AACH;;AACD,iBAAOA,OAAO,GAAGD,SAAV,IAAuB,CAACE,aAAa,GAAGL,cAAc,CAACI,OAAD,CAA/B,EAA0ClhE,IAA1C,KAAmD,MAAjF,EAAyF;AACrFqhE,4BAAgB,CAAC7+D,IAAjB,CAAsB,KAAKwwD,aAAL,CAAmBmO,aAAnB,EAAkCH,iBAAlC,CAAtB;AACAE,mBAAO,IAAI,CAAX;AACH;;AACD,iBAAOA,OAAO,GAAGD,SAAV,IAAuB,CAACE,aAAa,GAAGL,cAAc,CAACI,OAAD,CAA/B,EAA0ClhE,IAA1C,KAAmD,QAAjF,EAA2F;AACvFshE,4BAAgB,CAAC9+D,IAAjB,CAAsB,KAAKwwD,aAAL,CAAmBmO,aAAnB,EAAkCH,iBAAlC,CAAtB;AACAE,mBAAO,IAAI,CAAX;AACH,WAxB2C,CAyB5C;AACA;AACA;AACA;;;AACA,cAAIK,OAAO,GAAG,CAACn8B,qBAAqB,EAApC;AACA,iBAAO,+DAAc,OAAd,EAAuB;AAC1Bla,qBAAS,EAAE/C,UAAU,CAAC/M,IAAX,CAAgB,GAAhB,CADe;AAE1B9X,iBAAK,EAAE;AAAE6d,oBAAM,EAAEle,KAAK,CAACke;AAAhB;AAFmB,WAAvB,EAGJhD,OAAO,CAAC,CAACojD,OAAD,IAAYH,gBAAgB,CAAC/+D,MAA9B,CAAP,IAAgD,uDAAcmK,KAAd,CAAoB,KAAK,CAAzB,EAA4B,6DAAe,CAAC,OAAD,EAAU,EAAV,CAAf,EAA8B40D,gBAA9B,CAA5B,CAH5C,EAG0HjjD,OAAO,CAAC,CAACojD,OAAD,IAAYF,gBAAgB,CAACh/D,MAA9B,CAAP,IAAgD,uDAAcmK,KAAd,CAAoB,KAAK,CAAzB,EAA4B,6DAAe,CAAC,OAAD,EAAU,EAAV,CAAf,EAA8B60D,gBAA9B,CAA5B,CAH1K,EAGwPljD,OAAO,CAAC,CAACojD,OAAD,IAAYD,gBAAgB,CAACj/D,MAA9B,CAAP,IAAgD,uDAAcmK,KAAd,CAAoB,KAAK,CAAzB,EAA4B,6DAAe,CAAC,OAAD,EAAU,EAAV,CAAf,EAA8B80D,gBAA9B,CAA5B,CAHxS,EAGsXC,OAAO,IAAI,uDAAc/0D,KAAd,CAAoB,KAAK,CAAzB,EAA4B,6DAAe,CAAC,OAAD,EAAU,EAAV,CAAf,EAA8B40D,gBAA9B,EAAgDC,gBAAhD,EAAkEC,gBAAlE,CAA5B,CAHjY,CAAP;AAIH,SAlCD;;AAmCAlB,wBAAgB,CAACvgE,SAAjB,CAA2BmzD,aAA3B,GAA2C,UAAUwL,aAAV,EAAyBwC,iBAAzB,EAA4C;AACnF,cAAI,kBAAkBxC,aAAtB,EAAqC;AACjC,mBAAQ,+DAAc,iDAAd,EAAwB;AAAE1wD,iBAAG,EAAE0wD,aAAa,CAAC1wD;AAArB,aAAxB,EAAoD0wD,aAAa,CAACgD,YAAlE,CAAR;AACH;;AACD,iBAAQ,+DAAc,IAAd,EAAoB;AAAE1zD,eAAG,EAAE0wD,aAAa,CAAC1wD,GAArB;AAA0Bod,qBAAS,EAAE60C,oBAAoB,CAACvB,aAAD,EAAgB,KAAKv7D,KAAL,CAAWqwD,MAA3B,CAApB,CAAuDl4C,IAAvD,CAA4D,GAA5D;AAArC,WAApB,EAA6H,KAAKqmD,aAAL,CAAmBjD,aAAnB,EAAkCwC,iBAAlC,EAAqDxC,aAAa,CAACkD,KAAnE,CAA7H,CAAR;AACH,SALD;;AAMAtB,wBAAgB,CAACvgE,SAAjB,CAA2B4hE,aAA3B,GAA2C,UAAUjD,aAAV,EAAyBwC,iBAAzB,EAA4CrC,WAA5C,EAAyD;AAChG,cAAI,kBAAkBA,WAAtB,EAAmC;AAC/B,mBAAOA,WAAW,CAAC6C,YAAnB;AACH;;AACD,cAAIv+D,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAI+O,EAAE,GAAG,KAAKqoB,KAAd;AAAA,cAAqBomC,gBAAgB,GAAGzuD,EAAE,CAACyuD,gBAA3C;AAAA,cAA6DC,oBAAoB,GAAG1uD,EAAE,CAAC0uD,oBAAvF;AAAA,cAA6GC,qBAAqB,GAAG3uD,EAAE,CAAC2uD,qBAAxI;AACA,cAAIzD,eAAe,GAAGuB,kBAAkB,CAACx7D,KAAD,EAAQu7D,aAAR,CAAxC,CANgG,CAMhC;;AAChE,cAAImD,QAAQ,GAAGpD,yBAAyB,CAACt7D,KAAD,EAAQu7D,aAAR,CAAxC,CAPgG,CAQhG;AACA;;AACA,cAAI1xB,SAAS,GAAG,CAAC7pC,KAAK,CAACqwD,MAAP,GAAgB,SAAhB,GACZmN,gBAAgB,GAAG,QAAH,GACZ,CAACvD,eAAD,GAAmB,QAAnB,GACI,MAHZ;AAIA,cAAI0E,UAAU,GAAGpD,aAAa,CAAC1wD,GAA/B;AACA,cAAIsa,OAAO,GAAGs2C,kBAAkB,CAACF,aAAD,EAAgBG,WAAhB,EAA6B;AACzDK,6BAAiB,EAAEgC,iBADsC;AAEzDjC,yBAAa,EAAE,EAF0C;AAGzDt0B,uBAAW,EAAEi2B,oBAAoB,CAACkB,UAAD,CAApB,KAAqCn0D,SAArC,GAAiDizD,oBAAoB,CAACkB,UAAD,CAArE,GAAoF,IAHxC;AAIzDr3B,wBAAY,EAAEo2B,qBAAqB,CAACiB,UAAD,CAArB,KAAsCn0D,SAAtC,GAAkDkzD,qBAAqB,CAACiB,UAAD,CAAvE,GAAsF,IAJ3C;AAKzD1gD,sBAAU,EAAEs9C,aAAa,CAACt9C,UAL+B;AAMzD29C,0BAAc,EAAE,KANyC;AAOzDgD,0BAAc,EAAE,EAPyC;AAQzDC,iCAAqB,EAAE,iCAAY,CAAG;AARmB,WAA7B,CAAhC;AAUA,iBAAQ,+DAAc,IAAd,EAAoB;AAAE3tB,eAAG,EAAEwqB,WAAW,CAACzhB;AAAnB,WAApB,EACJ,+DAAc,KAAd,EAAqB;AAAEhyB,qBAAS,EAAE,yBAAyBy2C,QAAQ,GAAG,6BAAH,GAAmC,EAApE;AAAb,WAArB,EACI,+DAActF,QAAd,EAAwB;AAAEloB,eAAG,EAAE,KAAKmsB,YAAL,CAAkBzC,SAAlB,CAA4B+D,UAA5B,CAAP;AAAgD1kB,iBAAK,EAAE,KAAKqjB,cAAL,CAAoB1C,SAApB,CAA8B+D,UAA9B,CAAvD;AAAkG90B,qBAAS,EAAEA,SAA7G;AAAwHC,qBAAS,EAAE,CAAC9pC,KAAK,CAACqwD,MAAP,GAAgB,SAAhB,GAA4B;AAAS;AAAxK;AAA+LuJ,qBAAS,EAAE2B,aAAa,CAAC3B,SAAxN;AAAmOvJ,kBAAM,EAAEqO,QAA3O;AAAqPrF,4BAAgB,CAAC;AAAD,cACvR;AADkB,WAAxB,EACcl0C,OADd,CADJ,CADI,CAAR;AAIH,SA7BD;;AA8BAg4C,wBAAgB,CAACvgE,SAAjB,CAA2B2gE,iBAA3B,GAA+C,UAAUuB,UAAV,EAAsBj0D,GAAtB,EAA2B;AACtE,cAAIk0D,OAAO,GAAGC,eAAe,CAAC,KAAKh/D,KAAL,CAAW89D,QAAZ,EAAsBjzD,GAAtB,CAA7B;;AACA,cAAIk0D,OAAJ,EAAa;AACT9tB,kBAAM,CAAC8tB,OAAO,CAACN,KAAR,CAAcQ,aAAf,EAA8BH,UAA9B,CAAN;AACH;AACJ,SALD;;AAMA3B,wBAAgB,CAACvgE,SAAjB,CAA2Bo+C,iBAA3B,GAA+C,YAAY;AACvD,eAAK2iB,YAAL;AACA,eAAKjhE,OAAL,CAAauzC,gBAAb,CAA8B,KAAK0tB,YAAnC;AACH,SAHD;;AAIAR,wBAAgB,CAACvgE,SAAjB,CAA2Bs+C,kBAA3B,GAAgD,YAAY;AACxD;AACA,eAAKyiB,YAAL;AACH,SAHD;;AAIAR,wBAAgB,CAACvgE,SAAjB,CAA2Bu+C,oBAA3B,GAAkD,YAAY;AAC1D,eAAKz+C,OAAL,CAAawzC,mBAAb,CAAiC,KAAKytB,YAAtC;AACH,SAFD;;AAGAR,wBAAgB,CAACvgE,SAAjB,CAA2Bo+D,kBAA3B,GAAgD,YAAY;AACxD,iBAAO2B,cAAc,CAAC,KAAK38D,KAAL,CAAWq8D,IAAZ,CAAd,GACDrB,kBAAkB,CAAC,KAAKsC,cAAL,CAAoBvC,MAApB,EAAD,CADjB,GAED,CAFN;AAGH,SAJD;;AAKAoC,wBAAgB,CAACvgE,SAAjB,CAA2BghE,mBAA3B,GAAiD,YAAY;AACzD,cAAIsB,cAAc,GAAGh4B,kBAAkB,EAAvC;;AACA,cAAIn4B,EAAE,GAAG,IAAT;AAAA,cAAesuD,YAAY,GAAGtuD,EAAE,CAACsuD,YAAjC;AAAA,cAA+CC,cAAc,GAAGvuD,EAAE,CAACuuD,cAAnE;;AACA,cAAIE,gBAAgB,GAAG,KAAvB;AACA,cAAIC,oBAAoB,GAAG,EAA3B;AACA,cAAIC,qBAAqB,GAAG,EAA5B;;AACA,eAAK,IAAIiB,UAAT,IAAuBtB,YAAY,CAAC/C,UAApC,EAAgD;AAC5C,gBAAI6E,QAAQ,GAAG9B,YAAY,CAAC/C,UAAb,CAAwBqE,UAAxB,CAAf;;AACA,gBAAIQ,QAAQ,IAAIA,QAAQ,CAAClF,eAAT,EAAhB,EAA4C;AACxCuD,8BAAgB,GAAG,IAAnB;AACA;AACH;AACJ;;AACD,eAAK,IAAIvyD,EAAE,GAAG,CAAT,EAAY+vB,EAAE,GAAG,KAAKh7B,KAAL,CAAW89D,QAAjC,EAA2C7yD,EAAE,GAAG+vB,EAAE,CAAC57B,MAAnD,EAA2D6L,EAAE,EAA7D,EAAiE;AAC7D,gBAAI8zD,OAAO,GAAG/jC,EAAE,CAAC/vB,EAAD,CAAhB;AACA,gBAAI0zD,UAAU,GAAGI,OAAO,CAACl0D,GAAzB;AACA,gBAAIi0D,UAAU,GAAGxB,cAAc,CAAChD,UAAf,CAA0BqE,UAA1B,CAAjB;;AACA,gBAAIG,UAAJ,EAAgB;AACZ,kBAAIM,SAAS,GAAGN,UAAU,CAAChhE,UAA3B,CADY,CAC2B;;AACvC2/D,kCAAoB,CAACkB,UAAD,CAApB,GAAmCn4D,IAAI,CAAC6B,KAAL,CAAW+2D,SAAS,CAACp6D,qBAAV,GAAkCC,KAAlC,IAA2Cu4D,gBAAgB,GACnG0B,cAAc,CAACt3D,CADoF,CAClF;AADkF,gBAEnG,CAFwC,CAAX,CAAnC;AAGA81D,mCAAqB,CAACiB,UAAD,CAArB,GAAoCn4D,IAAI,CAAC6B,KAAL,CAAW+2D,SAAS,CAACp6D,qBAAV,GAAkCkZ,MAA7C,CAApC;AACH;AACJ;;AACD,iBAAO;AAAEs/C,4BAAgB,EAAEA,gBAApB;AAAsCC,gCAAoB,EAAEA,oBAA5D;AAAkFC,iCAAqB,EAAEA;AAAzG,WAAP;AACH,SA1BD;;AA2BA,eAAOP,gBAAP;AACH,OA9IqC,CA8IpCpsB,aA9IoC,CAAtC;;AA+IAosB,sBAAgB,CAACtsB,gBAAjB,CAAkC;AAC9B4sB,4BAAoB,EAAEjyD,YADQ;AAE9BkyD,6BAAqB,EAAElyD;AAFO,OAAlC;;AAIA,eAASwzD,eAAT,CAAyBlB,QAAzB,EAAmCjzD,GAAnC,EAAwC;AACpC,aAAK,IAAII,EAAE,GAAG,CAAT,EAAYo0D,UAAU,GAAGvB,QAA9B,EAAwC7yD,EAAE,GAAGo0D,UAAU,CAACjgE,MAAxD,EAAgE6L,EAAE,EAAlE,EAAsE;AAClE,cAAI8zD,OAAO,GAAGM,UAAU,CAACp0D,EAAD,CAAxB;;AACA,cAAI8zD,OAAO,CAACl0D,GAAR,KAAgBA,GAApB,EAAyB;AACrB,mBAAOk0D,OAAP;AACH;AACJ;;AACD,eAAO,IAAP;AACH;;AAED,UAAIO,SAAS;AAAG;AAAe,gBAAUjyB,MAAV,EAAkB;AAC7C,gEAAUiyB,SAAV,EAAqBjyB,MAArB;;AACA,iBAASiyB,SAAT,GAAqB;AACjB,cAAInsD,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAAC8mC,KAAN,GAAc,4DAAd;AACA,iBAAO9mC,KAAP;AACH;;AACDmsD,iBAAS,CAAC1iE,SAAV,CAAoBs9C,MAApB,GAA6B,YAAY;AACrC,cAAInrC,EAAE,GAAG,IAAT;AAAA,cAAe/O,KAAK,GAAG+O,EAAE,CAAC/O,KAA1B;AAAA,cAAiCtD,OAAO,GAAGqS,EAAE,CAACrS,OAA9C;;AACA,cAAI8Q,OAAO,GAAG9Q,OAAO,CAAC8Q,OAAtB;AACA,cAAIwgB,GAAG,GAAGhuB,KAAK,CAACguB,GAAhB;AACA,cAAIY,UAAU,GAAGZ,GAAG,CAACY,UAArB;AACA,cAAI/E,EAAE,GAAG+E,UAAU,CAAC/E,EAApB;AACA,cAAIswB,SAAS,GAAG;AACZxgB,iBAAK,EAAE,IAAIT,QAAJ,CAAax8B,OAAb,EAAsBkyB,UAAU,CAAC/gB,GAAjC,EAAsC+gB,UAAU,CAACjhB,QAAjD,CADK;AAEZ8kB,gBAAI,EAAE/1B,OAAO,CAACg2B,OAFF;AAGZ6sC,oBAAQ,EAAEv/D,KAAK,CAACu/D,QAHJ;AAIZl3C,qBAAS,EAAEwB,EAAE,CAACxB,SAJF;AAKZF,2BAAe,EAAE0B,EAAE,CAAC1B,eALR;AAMZC,uBAAW,EAAEyB,EAAE,CAACzB,WANJ;AAOZkI,uBAAW,EAAE,CAACtwB,KAAK,CAACw/D,eAAP,IAA0B3wC,mBAAmB,CAACb,GAAD,EAAMtxB,OAAN,CAP9C;AAQZ6zB,4BAAgB,EAAE,CAACvwB,KAAK,CAACy/D,eAAP,IAA0BvwC,wBAAwB,CAAClB,GAAD,EAAMtxB,OAAN,CARxD;AASZ8zB,0BAAc,EAAE,CAACxwB,KAAK,CAACy/D,eAAP,IAA0BtwC,sBAAsB,CAACnB,GAAD,CATpD;AAUZqC,oBAAQ,EAAEnV,OAAO,CAAClb,KAAK,CAACywB,UAAN,IAAoBzwB,KAAK,CAAC0wB,UAA1B,IAAwC1wB,KAAK,CAAC0/D,eAA/C,CAVL;AAWZnyC,mBAAO,EAAErS,OAAO,CAAC8S,GAAG,CAACT,OAAL,CAXJ;AAYZC,iBAAK,EAAEtS,OAAO,CAAC8S,GAAG,CAACR,KAAL,CAZF;AAaZyC,kBAAM,EAAE/U,OAAO,CAAClb,KAAK,CAACiwB,MAAP,CAbH;AAcZC,oBAAQ,EAAEhV,OAAO,CAAClb,KAAK,CAACkwB,QAAP,CAdL;AAeZC,mBAAO,EAAEjV,OAAO,CAAClb,KAAK,CAACmwB,OAAP,CAfJ;AAgBZQ,sBAAU,EAAEzV,OAAO,CAAClb,KAAK,CAAC2wB,UAAP,CAhBP;AAiBZF,sBAAU,EAAEvV,OAAO,CAAClb,KAAK,CAACywB,UAAP,CAjBP;AAkBZC,sBAAU,EAAExV,OAAO,CAAClb,KAAK,CAAC0wB,UAAP;AAlBP,WAAhB;AAoBA,cAAIivC,kBAAkB,GAAGvvC,kBAAkB,CAAC+pB,SAAD,CAAlB,CAA8B9wC,MAA9B,CAAqCwgB,EAAE,CAAC3E,UAAxC,CAAzB;AACA,iBAAQ,+DAAc40B,UAAd,EAA0B;AAAEK,qBAAS,EAAEA,SAAb;AAAwBj1B,sBAAU,EAAE1X,OAAO,CAACoS,eAA5C;AAA6DuF,mBAAO,EAAE3X,OAAO,CAACqS,YAA9E;AAA4Fy6B,0BAAc,EAAEt6C,KAAK,CAACs6C,cAAlH;AAAkIl1B,oBAAQ,EAAE5X,OAAO,CAACsS,aAApJ;AAAmKuF,uBAAW,EAAE7X,OAAO,CAACuS,gBAAxL;AAA0Mk6B,iBAAK,EAAE,KAAKA;AAAtN,WAA1B,EAAyP,UAAUF,SAAV,EAAqBmC,gBAArB,EAAuC1B,UAAvC,EAAmDC,YAAnD,EAAiE;AAAE,mBAAOz6C,KAAK,CAACJ,QAAN,CAAem6C,SAAf,EAA0B4lB,kBAAkB,CAACt2D,MAAnB,CAA0B6yC,gBAA1B,CAA1B,EAAuE1B,UAAvE,EAAmFC,YAAnF,EAAiGN,SAAjG,CAAP;AAAqH,WAAjb,CAAR;AACH,SA5BD;;AA6BAmlB,iBAAS,CAAC1iE,SAAV,CAAoBo+C,iBAApB,GAAwC,YAAY;AAChDjtB,kBAAQ,CAAC,KAAKksB,KAAL,CAAW9I,OAAZ,EAAqB,KAAKnxC,KAAL,CAAWguB,GAAhC,CAAR;AACH,SAFD;AAGA;AACJ;AACA;;;AACIsxC,iBAAS,CAAC1iE,SAAV,CAAoBs+C,kBAApB,GAAyC,UAAUoS,SAAV,EAAqB;AAC1D,cAAIt/B,GAAG,GAAG,KAAKhuB,KAAL,CAAWguB,GAArB;;AACA,cAAIA,GAAG,KAAKs/B,SAAS,CAACt/B,GAAtB,EAA2B;AACvBD,oBAAQ,CAAC,KAAKksB,KAAL,CAAW9I,OAAZ,EAAqBnjB,GAArB,CAAR;AACH;AACJ,SALD;;AAMA,eAAOsxC,SAAP;AACH,OAjD8B,CAiD7BvuB,aAjD6B,CAA/B,C,CAmDA;;;AACA,UAAI6uB,aAAa;AAAG;AAAe,gBAAUvyB,MAAV,EAAkB;AACjD,gEAAUuyB,aAAV,EAAyBvyB,MAAzB;;AACA,iBAASuyB,aAAT,GAAyB;AACrB,iBAAOvyB,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD2sD,qBAAa,CAAChjE,SAAd,CAAwBs9C,MAAxB,GAAiC,YAAY;AACzC,cAAInrC,EAAE,GAAG,IAAT;AAAA,cAAe/O,KAAK,GAAG+O,EAAE,CAAC/O,KAA1B;AAAA,cAAiCtD,OAAO,GAAGqS,EAAE,CAACrS,OAA9C;;AACA,cAAIsxB,GAAG,GAAGhuB,KAAK,CAACguB,GAAhB;AACA,cAAIqB,UAAU,GAAG3yB,OAAO,CAAC8Q,OAAR,CAAgBiU,eAAhB,IAAmCzhB,KAAK,CAAC6/D,iBAA1D;AACA,cAAIN,QAAQ,GAAGnwC,gBAAgB,CAACpB,GAAD,EAAMqB,UAAN,EAAkB3yB,OAAlB,EAA2BsD,KAAK,CAACsvB,uBAAjC,EAA0DtvB,KAAK,CAACuvB,sBAAhE,CAA/B;AACA,iBAAQ,+DAAc+vC,SAAd,EAAyB;AAAEtxC,eAAG,EAAEA,GAAP;AAAYuxC,oBAAQ,EAAEA,QAAtB;AAAgCC,2BAAe,EAAEx/D,KAAK,CAACw/D,eAAvD;AAAwEC,2BAAe,EAAEz/D,KAAK,CAACy/D,eAA/F;AAAgHnlB,0BAAc,EAAEt6C,KAAK,CAACs6C,cAAN,IAAwBS,kBAAxJ;AAA4KtqB,sBAAU,EAAEzwB,KAAK,CAACywB,UAA9L;AAA0MC,sBAAU,EAAE1wB,KAAK,CAAC0wB,UAA5N;AAAwOgvC,2BAAe,EAAE1/D,KAAK,CAAC0/D,eAA/P;AAAgR/uC,sBAAU,EAAE3wB,KAAK,CAAC2wB,UAAlS;AAA8SV,kBAAM,EAAEjwB,KAAK,CAACiwB,MAA5T;AAAoUC,oBAAQ,EAAElwB,KAAK,CAACkwB,QAApV;AAA8VC,mBAAO,EAAEnwB,KAAK,CAACmwB;AAA7W,WAAzB,EAAiZ,UAAU4pB,SAAV,EAAqB70B,UAArB,EAAiCs1B,UAAjC,EAA6CC,YAA7C,EAA2DN,SAA3D,EAAsE;AAAE,mBAAQ,+DAAc,GAAd,EAAmB,uDAAS;AAAElyB,uBAAS,EAAEjoB,KAAK,CAACy0D,eAAN,CAAsBprD,MAAtB,CAA6B6b,UAA7B,EAAyC/M,IAAzC,CAA8C,GAA9C,CAAb;AAAiE9X,mBAAK,EAAE;AACrkB+nB,2BAAW,EAAE+xB,SAAS,CAAC/xB,WAD8iB;AAErkBD,+BAAe,EAAEgyB,SAAS,CAAChyB;AAF0iB,eAAxE;AAG9f+oB,iBAAG,EAAE6I;AAHyf,aAAT,EAGne+lB,iBAAiB,CAAC9xC,GAAD,CAHkd,CAAnB,EAIre,+DAAc,KAAd,EAAqB;AAAE/F,uBAAS,EAAE,eAAb;AAA8BipB,iBAAG,EAAEsJ,UAAnC;AAA+Cn6C,mBAAK,EAAE;AAAE6nB,qBAAK,EAAEiyB,SAAS,CAAC9xB;AAAnB;AAAtD,aAArB,EAA6GoyB,YAA7G,CAJqe,EAKreN,SAAS,CAAC5pB,gBAAV,IACI,+DAAc,KAAd,EAAqB;AAAEtI,uBAAS,EAAE;AAAb,aAArB,CANie,EAOrekyB,SAAS,CAAC3pB,cAAV,IACI,+DAAc,KAAd,EAAqB;AAAEvI,uBAAS,EAAE;AAAb,aAArB,CARie,CAAR;AAQxY,WARjF,CAAR;AASH,SAdD;;AAeA,eAAO23C,aAAP;AACH,OArBkC,CAqBjC7uB,aArBiC,CAAnC;;AAsBA,eAASgK,kBAAT,CAA4BglB,UAA5B,EAAwC;AACpC,eAAQ,+DAAc,KAAd,EAAqB;AAAE93C,mBAAS,EAAE;AAAb,SAArB,EACJ83C,UAAU,CAACR,QAAX,IAAwB,+DAAc,KAAd,EAAqB;AAAEt3C,mBAAS,EAAE;AAAb,SAArB,EAAqD83C,UAAU,CAACR,QAAhE,CADpB,EAEJ,+DAAc,KAAd,EAAqB;AAAEt3C,mBAAS,EAAE;AAAb,SAArB,EACI,+DAAc,KAAd,EAAqB;AAAEA,mBAAS,EAAE;AAAb,SAArB,EAAgE83C,UAAU,CAACpmC,KAAX,CAAiBzQ,KAAjB,IAA0B,+DAAc,iDAAd,EAAwB,IAAxB,EAA8B,MAA9B,CAA1F,CADJ,CAFI,CAAR;AAIH;;AACD,eAAS42C,iBAAT,CAA2B9xC,GAA3B,EAAgC;AAC5B,YAAItwB,GAAG,GAAGswB,GAAG,CAACY,UAAJ,CAAe/gB,GAAf,CAAmBnQ,GAA7B;AACA,eAAOA,GAAG,GAAG;AAAEgzD,cAAI,EAAEhzD;AAAR,SAAH,GAAmB,EAA7B;AACH;;AAED,UAAIsiE,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAUhgE,KAAV,EAAiB;AAAE,eAAQ,+DAAc0vC,eAAe,CAACkL,QAA9B,EAAwC,IAAxC,EAA8C,UAAUl+C,OAAV,EAAmB;AAC/G,cAAI8Q,OAAO,GAAG9Q,OAAO,CAAC8Q,OAAtB;AACA,cAAI2sC,SAAS,GAAG;AACZ8lB,kBAAM,EAAEjgE,KAAK,CAACigE,MADF;AAEZv3D,gBAAI,EAAEhM,OAAO,CAACiQ,OAAR,CAAgBglB,MAAhB,CAAuB3xB,KAAK,CAAC0I,IAA7B,CAFM;AAGZ+pB,gBAAI,EAAE/1B,OAAO,CAACg2B;AAHF,WAAhB;AAKA,iBAAQ,+DAAconB,UAAd,EAA0B;AAAEK,qBAAS,EAAEA,SAAb;AAAwBj1B,sBAAU,EAAE1X,OAAO,CAACoP,sBAA5C;AAAoEuI,mBAAO,EAAE3X,OAAO,CAACqP,mBAArF;AAA0GuI,oBAAQ,EAAE5X,OAAO,CAACsP,oBAA5H;AAAkJuI,uBAAW,EAAE7X,OAAO,CAACuP;AAAvK,WAA1B,EAA4N/c,KAAK,CAACJ,QAAlO,CAAR;AACH,SARiD,CAAR;AAQpC,OARN;;AAUA,UAAIsgE,cAAc,GAAGpmD,eAAe,CAAC;AAAExK,WAAG,EAAE;AAAP,OAAD,CAApC;;AACA,UAAI6wD,cAAc;AAAG;AAAe,gBAAU9yB,MAAV,EAAkB;AAClD,gEAAU8yB,cAAV,EAA0B9yB,MAA1B;;AACA,iBAAS8yB,cAAT,GAA0B;AACtB,iBAAO9yB,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDktD,sBAAc,CAACvjE,SAAf,CAAyBs9C,MAAzB,GAAkC,YAAY;AAC1C,cAAInrC,EAAE,GAAG,IAAT;AAAA,cAAe/O,KAAK,GAAG+O,EAAE,CAAC/O,KAA1B;AAAA,cAAiCtD,OAAO,GAAGqS,EAAE,CAACrS,OAA9C;;AACA,cAAI8Q,OAAO,GAAG9Q,OAAO,CAAC8Q,OAAtB;AACA,cAAI2sC,SAAS,GAAGimB,sBAAsB,CAAC;AACnC13D,gBAAI,EAAE1I,KAAK,CAAC0I,IADuB;AAEnCwrB,uBAAW,EAAEl0B,KAAK,CAACk0B,WAFgB;AAGnCpE,sBAAU,EAAE9vB,KAAK,CAAC8vB,UAHiB;AAInCuwC,yBAAa,EAAErgE,KAAK,CAACqgE,aAJc;AAKnCC,sBAAU,EAAEtgE,KAAK,CAACo0D,cALiB;AAMnC1hC,mBAAO,EAAEh2B,OAAO,CAACg2B,OANkB;AAOnC/lB,mBAAO,EAAEjQ,OAAO,CAACiQ;AAPkB,WAAD,CAAtC;AASA,iBAAQ,+DAAc0tC,WAAd,EAA2B;AAAEF,qBAAS,EAAEA,SAAb;AAAwBh1B,mBAAO,EAAE3X,OAAO,CAACkO,cAAzC;AAAyD4+B,0BAAc,EAAEt6C,KAAK,CAACs6C;AAA/E,WAA3B,EAA4Ht6C,KAAK,CAACJ,QAAlI,CAAR;AACH,SAbD;;AAcA,eAAOugE,cAAP;AACH,OApBmC,CAoBlCpvB,aApBkC,CAApC;;AAqBA,eAASqvB,sBAAT,CAAgCz6C,GAAhC,EAAqC;AACjC,YAAIjd,IAAI,GAAGid,GAAG,CAACjd,IAAf;AAAA,YAAqBiE,OAAO,GAAGgZ,GAAG,CAAChZ,OAAnC;AACA,YAAIqnD,OAAO,GAAGluB,WAAW,CAACp9B,IAAD,EAAOid,GAAG,CAACmK,UAAX,EAAuB,IAAvB,EAA6BnK,GAAG,CAACuO,WAAjC,CAAzB;AACA,eAAO,uDAAS,uDAAS,uDAAS;AAAExrB,cAAI,EAAEiE,OAAO,CAACglB,MAAR,CAAejpB,IAAf,CAAR;AAA8B+pB,cAAI,EAAE9M,GAAG,CAAC+M;AAAxC,SAAT,EAA4DshC,OAA5D,CAAT,EAA+E;AAAEuM,uBAAa,EAAE56C,GAAG,CAAC06C,aAAJ,GAAoB1zD,OAAO,CAAChP,MAAR,CAAe+K,IAAf,EAAqBw3D,cAArB,CAApB,GAA2D;AAA5E,SAA/E,CAAT,EAA2Kv6C,GAAG,CAAC26C,UAA/K,CAAP;AACH;;AAED,UAAIE,WAAW;AAAG;AAAe,gBAAUnzB,MAAV,EAAkB;AAC/C,gEAAUmzB,WAAV,EAAuBnzB,MAAvB;;AACA,iBAASmzB,WAAT,GAAuB;AACnB,cAAIrtD,KAAK,GAAGk6B,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAC9jC,KAAP,CAAa,IAAb,EAAmB0J,SAAnB,CAAnB,IAAoD,IAAhE;;AACAE,eAAK,CAACstD,eAAN,GAAwBvtD,aAAa,CAACktD,sBAAD,CAArC;AACAjtD,eAAK,CAACunC,mBAAN,GAA4BkB,wBAAwB,EAApD;AACA,iBAAOzoC,KAAP;AACH;;AACDqtD,mBAAW,CAAC5jE,SAAZ,CAAsBs9C,MAAtB,GAA+B,YAAY;AACvC,cAAInrC,EAAE,GAAG,IAAT;AAAA,cAAe/O,KAAK,GAAG+O,EAAE,CAAC/O,KAA1B;AAAA,cAAiCtD,OAAO,GAAGqS,EAAE,CAACrS,OAA9C;;AACA,cAAI8Q,OAAO,GAAG9Q,OAAO,CAAC8Q,OAAtB;AACA,cAAI2sC,SAAS,GAAG,KAAKsmB,eAAL,CAAqB;AACjC/3D,gBAAI,EAAE1I,KAAK,CAAC0I,IADqB;AAEjCwrB,uBAAW,EAAEl0B,KAAK,CAACk0B,WAFc;AAGjCpE,sBAAU,EAAE9vB,KAAK,CAAC8vB,UAHe;AAIjCuwC,yBAAa,EAAErgE,KAAK,CAACqgE,aAJY;AAKjCC,sBAAU,EAAEtgE,KAAK,CAACo0D,cALe;AAMjC1hC,mBAAO,EAAEh2B,OAAO,CAACg2B,OANgB;AAOjC/lB,mBAAO,EAAEjQ,OAAO,CAACiQ;AAPgB,WAArB,CAAhB;AASA,cAAIuY,UAAU,GAAG+gB,gBAAgB,CAACkU,SAAD,EAAYz9C,OAAO,CAACwpC,KAApB,CAAhB,CAA2C78B,MAA3C,CAAkD8wC,SAAS,CAACpU,UAAV,GAC7D,EAD6D,CAC1D;AAD0D,YAE7D,KAAK2U,mBAAL,CAAyBltC,OAAO,CAACiO,iBAAjC,EAAoD0+B,SAApD,CAFW,CAAjB;AAGA,cAAIumB,SAAS,GAAGvmB,SAAS,CAACpU,UAAV,GAAuB,EAAvB,GAA4B;AACxC,yBAAan0B,eAAe,CAAC5R,KAAK,CAAC0I,IAAP;AADY,WAA5C;AAGA,iBAAQ,+DAAc0xC,SAAd,EAAyB;AAAED,qBAAS,EAAEA,SAAb;AAAwB/0B,oBAAQ,EAAE5X,OAAO,CAACmO,eAA1C;AAA2D0J,uBAAW,EAAE7X,OAAO,CAACoO,kBAAhF;AAAoGq+B,iBAAK,EAAEj6C,KAAK,CAACi6C;AAAjH,WAAzB,EAAmJ,UAAUF,SAAV,EAAqB;AAAE,mBAAO/5C,KAAK,CAACJ,QAAN,CAAem6C,SAAf,EAA0B70B,UAA1B,EAAsCw7C,SAAtC,EAAiDvmB,SAAS,CAACpU,UAA3D,CAAP;AAAgF,WAA1P,CAAR;AACH,SAnBD;;AAoBA,eAAOy6B,WAAP;AACH,OA7BgC,CA6B/BzvB,aA7B+B,CAAjC;;AA+BA,eAAS4vB,UAAT,CAAoBC,QAApB,EAA8B;AAC1B,eAAQ,+DAAc,KAAd,EAAqB;AAAE34C,mBAAS,EAAE,QAAQ24C;AAArB,SAArB,CAAR;AACH;;AACD,UAAIC,OAAO,GAAG,SAAVA,OAAU,CAAU7gE,KAAV,EAAiB;AAAE,eAAQ,+DAAcs/D,SAAd,EAAyB;AAAEhlB,wBAAc,EAAEwmB,oBAAlB;AAAwC9yC,aAAG,EAAEhuB,KAAK,CAACguB;AAAI;AAAvD;AAA+EuxC,kBAAQ,EAAE,EAAzF;AAA6FC,yBAAe,EAAE,IAA9G;AAAoHC,yBAAe,EAAE,IAArI;AAA2IhvC,oBAAU,EAAE,KAAvJ;AAA8JC,oBAAU,EAAE,KAA1K;AAAiLgvC,yBAAe,EAAE,KAAlM;AAAyM/uC,oBAAU,EAAE,KAArN;AAA4NV,gBAAM,EAAEjwB,KAAK,CAACiwB,MAA1O;AAAkPC,kBAAQ,EAAElwB,KAAK,CAACkwB,QAAlQ;AAA4QC,iBAAO,EAAEnwB,KAAK,CAACmwB;AAA3R,SAAzB,EAA+T,UAAU4pB,SAAV,EAAqB70B,UAArB,EAAiCs1B,UAAjC,EAA6CC,YAA7C,EAA2DN,SAA3D,EAAsE;AAAE,iBAAQ,+DAAc,KAAd,EAAqB;AAAEjJ,eAAG,EAAE6I,SAAP;AAAkB9xB,qBAAS,EAAE,CAAC,aAAD,EAAgB5e,MAAhB,CAAuB6b,UAAvB,EAAmC/M,IAAnC,CAAwC,GAAxC,CAA7B;AAA2E9X,iBAAK,EAAE;AACvhB8nB,6BAAe,EAAEgyB,SAAS,CAAChyB;AAD4f;AAAlF,WAArB,EAE/asyB,YAF+a,CAAR;AAEtZ,SAFe,CAAR;AAEF,OAF/B;;AAGA,eAASqmB,oBAAT,CAA8B9gE,KAA9B,EAAqC;AACjC,YAAIkpB,KAAK,GAAGlpB,KAAK,CAAC25B,KAAN,CAAYzQ,KAAxB;AACA,eAAOA,KAAK,IAAK,+DAAc,KAAd,EAAqB;AAAEjB,mBAAS,EAAE;AAAb,SAArB,EAAsDjoB,KAAK,CAAC25B,KAAN,CAAYzQ,KAAlE,CAAjB;AACH;;AAED,UAAI63C,cAAc,GAAG,SAAjBA,cAAiB,CAAU/gE,KAAV,EAAiB;AAAE,eAAQ,+DAAc0vC,eAAe,CAACkL,QAA9B,EAAwC,IAAxC,EAA8C,UAAUl+C,OAAV,EAAmB;AAC7G,cAAIiQ,OAAO,GAAGjQ,OAAO,CAACiQ,OAAtB;AAAA,cAA+Ba,OAAO,GAAG9Q,OAAO,CAAC8Q,OAAjD;AACA,cAAI9E,IAAI,GAAG1I,KAAK,CAAC0I,IAAjB;AACA,cAAI/K,MAAM,GAAG6P,OAAO,CAAC4Q,gBAAR,IAA4Bpe,KAAK,CAACghE,aAA/C;AACA,cAAInpD,GAAG,GAAGlL,OAAO,CAACgK,iBAAR,CAA0BjO,IAA1B,CAAV,CAJ6G,CAIlE;;AAC3C,cAAIm7C,IAAI,GAAGl3C,OAAO,CAAChP,MAAR,CAAe+K,IAAf,EAAqB/K,MAArB,CAAX;AACA,cAAIw8C,SAAS,GAAG;AAAEtiC,eAAG,EAAEA,GAAP;AAAYgsC,gBAAI,EAAEA,IAAlB;AAAwBn7C,gBAAI,EAAEA;AAA9B,WAAhB;AACA,iBAAQ,+DAAcoxC,UAAd,EAA0B;AAAEK,qBAAS,EAAEA,SAAb;AAAwBj1B,sBAAU,EAAE1X,OAAO,CAAC2O,oBAA5C;AAAkEgJ,mBAAO,EAAE3X,OAAO,CAAC4O,iBAAnF;AAAsGk+B,0BAAc,EAAE2mB,aAAtH;AAAqI77C,oBAAQ,EAAE5X,OAAO,CAAC6O,kBAAvJ;AAA2KgJ,uBAAW,EAAE7X,OAAO,CAAC8O;AAAhM,WAA1B,EAAmPtc,KAAK,CAACJ,QAAzP,CAAR;AACH,SAR+C,CAAR;AAQlC,OARN;;AASA,eAASqhE,aAAT,CAAuBlB,UAAvB,EAAmC;AAC/B,eAAOA,UAAU,CAAClc,IAAlB;AACH,O,CAED;AACA;;;AACA,UAAIqd,OAAO,GAAG,OAAd,C,CAAuB;AAGvB;;;;;;;;;;;;;;;;;AChtRA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAIz8D,CAAJ;AAAA,UAAM08D,CAAN;AAAA,UAAQC,CAAR;AAAA,UAAUjiE,CAAV;AAAA,UAAYkiE,CAAZ;AAAA,UAAcC,CAAd;AAAA,UAAgBC,CAAC,GAAC,EAAlB;AAAA,UAAqBC,CAAC,GAAC,EAAvB;AAAA,UAA0BC,CAAC,GAAC,mEAA5B;;AAAgG,eAAS/yC,CAAT,CAAWjqB,CAAX,EAAa08D,CAAb,EAAe;AAAC,aAAI,IAAIC,CAAR,IAAaD,CAAb;AAAe18D,WAAC,CAAC28D,CAAD,CAAD,GAAKD,CAAC,CAACC,CAAD,CAAN;AAAf;;AAAyB,eAAO38D,CAAP;AAAS;;AAAA,eAASJ,CAAT,CAAWI,CAAX,EAAa;AAAC,YAAI08D,CAAC,GAAC18D,CAAC,CAAC3G,UAAR;AAAmBqjE,SAAC,IAAEA,CAAC,CAACpjE,WAAF,CAAc0G,CAAd,CAAH;AAAoB;;AAAA,eAAST,CAAT,CAAWS,CAAX,EAAa08D,CAAb,EAAeC,CAAf,EAAiB;AAAC,YAAIjiE,CAAJ;AAAA,YAAMkiE,CAAN;AAAA,YAAQC,CAAR;AAAA,YAAUC,CAAC,GAACtuD,SAAZ;AAAA,YAAsBuuD,CAAC,GAAC,EAAxB;;AAA2B,aAAIF,CAAJ,IAASH,CAAT;AAAW,mBAAOG,CAAP,GAASniE,CAAC,GAACgiE,CAAC,CAACG,CAAD,CAAZ,GAAgB,SAAOA,CAAP,GAASD,CAAC,GAACF,CAAC,CAACG,CAAD,CAAZ,GAAgBE,CAAC,CAACF,CAAD,CAAD,GAAKH,CAAC,CAACG,CAAD,CAAtC;AAAX;;AAAqD,YAAGruD,SAAS,CAAC7T,MAAV,GAAiB,CAApB,EAAsB,KAAIgiE,CAAC,GAAC,CAACA,CAAD,CAAF,EAAME,CAAC,GAAC,CAAZ,EAAcA,CAAC,GAACruD,SAAS,CAAC7T,MAA1B,EAAiCkiE,CAAC,EAAlC;AAAqCF,WAAC,CAAC7hE,IAAF,CAAOgiE,CAAC,CAACD,CAAD,CAAR;AAArC;AAAkD,YAAG,QAAMF,CAAN,KAAUI,CAAC,CAAC5hE,QAAF,GAAWwhE,CAArB,GAAwB,cAAY,OAAO38D,CAAnB,IAAsB,QAAMA,CAAC,CAACi9D,YAAzD,EAAsE,KAAIJ,CAAJ,IAAS78D,CAAC,CAACi9D,YAAX;AAAwB,eAAK,CAAL,KAASF,CAAC,CAACF,CAAD,CAAV,KAAgBE,CAAC,CAACF,CAAD,CAAD,GAAK78D,CAAC,CAACi9D,YAAF,CAAeJ,CAAf,CAArB;AAAxB;AAAgE,eAAOK,CAAC,CAACl9D,CAAD,EAAG+8D,CAAH,EAAKriE,CAAL,EAAOkiE,CAAP,EAAS,IAAT,CAAR;AAAuB;;AAAA,eAASM,CAAT,CAAWR,CAAX,EAAaC,CAAb,EAAejiE,CAAf,EAAiBkiE,CAAjB,EAAmBC,CAAnB,EAAqB;AAAC,YAAIC,CAAC,GAAC;AAACxkE,cAAI,EAACokE,CAAN;AAAQnhE,eAAK,EAACohE,CAAd;AAAgBv2D,aAAG,EAAC1L,CAApB;AAAsB+xC,aAAG,EAACmwB,CAA1B;AAA4BO,aAAG,EAAC,IAAhC;AAAqCC,YAAE,EAAC,IAAxC;AAA6CC,aAAG,EAAC,CAAjD;AAAmDC,aAAG,EAAC,IAAvD;AAA4DC,aAAG,EAAC,KAAK,CAArE;AAAuEC,aAAG,EAAC,IAA3E;AAAgFC,aAAG,EAAC,IAApF;AAAyFC,qBAAW,EAAC,KAAK,CAA1G;AAA4GC,aAAG,EAAC,QAAMd,CAAN,GAAQ,EAAE78D,CAAC,CAAC29D,GAAZ,GAAgBd;AAAhI,SAAN;AAAyI,eAAO,QAAM78D,CAAC,CAAC49D,KAAR,IAAe59D,CAAC,CAAC49D,KAAF,CAAQd,CAAR,CAAf,EAA0BA,CAAjC;AAAmC;;AAAA,eAASe,CAAT,GAAY;AAAC,eAAM;AAACnxB,iBAAO,EAAC;AAAT,SAAN;AAAqB;;AAAA,eAASvpC,CAAT,CAAWnD,CAAX,EAAa;AAAC,eAAOA,CAAC,CAAC7E,QAAT;AAAkB;;AAAA,eAAS2iE,CAAT,CAAW99D,CAAX,EAAa08D,CAAb,EAAe;AAAC,aAAKnhE,KAAL,GAAWyE,CAAX,EAAa,KAAK/H,OAAL,GAAaykE,CAA1B;AAA4B;;AAAA,eAASv6D,CAAT,CAAWnC,CAAX,EAAa08D,CAAb,EAAe;AAAC,YAAG,QAAMA,CAAT,EAAW,OAAO18D,CAAC,CAACo9D,EAAF,GAAKj7D,CAAC,CAACnC,CAAC,CAACo9D,EAAH,EAAMp9D,CAAC,CAACo9D,EAAF,CAAKD,GAAL,CAAShpD,OAAT,CAAiBnU,CAAjB,IAAoB,CAA1B,CAAN,GAAmC,IAA1C;;AAA+C,aAAI,IAAI28D,CAAR,EAAUD,CAAC,GAAC18D,CAAC,CAACm9D,GAAF,CAAMxiE,MAAlB,EAAyB+hE,CAAC,EAA1B;AAA6B,cAAG,SAAOC,CAAC,GAAC38D,CAAC,CAACm9D,GAAF,CAAMT,CAAN,CAAT,KAAoB,QAAMC,CAAC,CAACW,GAA/B,EAAmC,OAAOX,CAAC,CAACW,GAAT;AAAhE;;AAA6E,eAAM,cAAY,OAAOt9D,CAAC,CAAC1H,IAArB,GAA0B6J,CAAC,CAACnC,CAAD,CAA3B,GAA+B,IAArC;AAA0C;;AAAA,eAAS+9D,CAAT,CAAW/9D,CAAX,EAAa;AAAC,YAAI08D,CAAJ,EAAMC,CAAN;;AAAQ,YAAG,SAAO38D,CAAC,GAACA,CAAC,CAACo9D,EAAX,KAAgB,QAAMp9D,CAAC,CAACw9D,GAA3B,EAA+B;AAAC,eAAIx9D,CAAC,CAACs9D,GAAF,GAAMt9D,CAAC,CAACw9D,GAAF,CAAMQ,IAAN,GAAW,IAAjB,EAAsBtB,CAAC,GAAC,CAA5B,EAA8BA,CAAC,GAAC18D,CAAC,CAACm9D,GAAF,CAAMxiE,MAAtC,EAA6C+hE,CAAC,EAA9C;AAAiD,gBAAG,SAAOC,CAAC,GAAC38D,CAAC,CAACm9D,GAAF,CAAMT,CAAN,CAAT,KAAoB,QAAMC,CAAC,CAACW,GAA/B,EAAmC;AAACt9D,eAAC,CAACs9D,GAAF,GAAMt9D,CAAC,CAACw9D,GAAF,CAAMQ,IAAN,GAAWrB,CAAC,CAACW,GAAnB;AAAuB;AAAM;AAAlH;;AAAkH,iBAAOS,CAAC,CAAC/9D,CAAD,CAAR;AAAY;AAAC;;AAAA,eAASi+D,CAAT,CAAWvB,CAAX,EAAa;AAAC,SAAC,CAACA,CAAC,CAACa,GAAH,KAASb,CAAC,CAACa,GAAF,GAAM,CAAC,CAAhB,KAAoBZ,CAAC,CAAC7hE,IAAF,CAAO4hE,CAAP,CAApB,IAA+B,CAACl9D,CAAC,CAAC0+D,GAAF,EAAhC,IAAyCtB,CAAC,KAAG58D,CAAC,CAACm+D,iBAAhD,KAAoE,CAAC,CAACvB,CAAC,GAAC58D,CAAC,CAACm+D,iBAAL,KAAyBzjE,CAA1B,EAA6B8E,CAA7B,CAApE;AAAoG;;AAAA,eAASA,CAAT,GAAY;AAAC,aAAI,IAAIQ,CAAR,EAAUR,CAAC,CAAC0+D,GAAF,GAAMvB,CAAC,CAAChiE,MAAlB;AAA0BqF,WAAC,GAAC28D,CAAC,CAACt1C,IAAF,CAAO,UAASrnB,CAAT,EAAW08D,CAAX,EAAa;AAAC,mBAAO18D,CAAC,CAAC29D,GAAF,CAAMN,GAAN,GAAUX,CAAC,CAACiB,GAAF,CAAMN,GAAvB;AAA2B,WAAhD,CAAF,EAAoDV,CAAC,GAAC,EAAtD,EAAyD38D,CAAC,CAACo+D,IAAF,CAAO,UAASp+D,CAAT,EAAW;AAAC,gBAAI08D,CAAJ,EAAMC,CAAN,EAAQjiE,CAAR,EAAUkiE,CAAV,EAAYC,CAAZ,EAAcC,CAAd;AAAgB98D,aAAC,CAACu9D,GAAF,KAAQV,CAAC,GAAC,CAACD,CAAC,GAAC,CAACF,CAAC,GAAC18D,CAAH,EAAM29D,GAAT,EAAcL,GAAhB,EAAoB,CAACR,CAAC,GAACJ,CAAC,CAAC2B,GAAL,MAAY1B,CAAC,GAAC,EAAF,EAAK,CAACjiE,CAAC,GAACuvB,CAAC,CAAC,EAAD,EAAI2yC,CAAJ,CAAJ,EAAYe,GAAZ,GAAgBf,CAAC,CAACe,GAAF,GAAM,CAA3B,EAA6BW,CAAC,CAACxB,CAAD,EAAGF,CAAH,EAAKliE,CAAL,EAAOgiE,CAAC,CAAC6B,GAAT,EAAa,KAAK,CAAL,KAASzB,CAAC,CAAC0B,eAAxB,EAAwC,QAAM5B,CAAC,CAACa,GAAR,GAAY,CAACZ,CAAD,CAAZ,GAAgB,IAAxD,EAA6DF,CAA7D,EAA+D,QAAME,CAAN,GAAQ16D,CAAC,CAACy6D,CAAD,CAAT,GAAaC,CAA5E,EAA8ED,CAAC,CAACa,GAAhF,CAA9B,EAAmHgB,CAAC,CAAC9B,CAAD,EAAGC,CAAH,CAApH,EAA0HA,CAAC,CAACU,GAAF,IAAOT,CAAP,IAAUkB,CAAC,CAACnB,CAAD,CAAjJ,CAA5B;AAAmL,WAAtN,CAAzD;AAA1B;AAA2S;;AAAA,eAASj8D,CAAT,CAAWX,CAAX,EAAa08D,CAAb,EAAeC,CAAf,EAAiBjiE,CAAjB,EAAmBkiE,CAAnB,EAAqBC,CAArB,EAAuBG,CAAvB,EAAyB/yC,CAAzB,EAA2BrqB,CAA3B,EAA6BL,CAA7B,EAA+B;AAAC,YAAIs+D,CAAJ;AAAA,YAAMC,CAAN;AAAA,YAAQC,CAAR;AAAA,YAAUE,CAAV;AAAA,YAAYz+D,CAAZ;AAAA,YAAcmB,CAAd;AAAA,YAAgByC,CAAhB;AAAA,YAAkBs7D,CAAC,GAAChkE,CAAC,IAAEA,CAAC,CAACyiE,GAAL,IAAUJ,CAA9B;AAAA,YAAgC4B,CAAC,GAACD,CAAC,CAAC/jE,MAApC;;AAA2C,aAAIgiE,CAAC,CAACQ,GAAF,GAAM,EAAN,EAASU,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACnB,CAAC,CAAC/hE,MAArB,EAA4BkjE,CAAC,EAA7B;AAAgC,cAAG,SAAOI,CAAC,GAACtB,CAAC,CAACQ,GAAF,CAAMU,CAAN,IAAS,SAAOI,CAAC,GAACvB,CAAC,CAACmB,CAAD,CAAV,KAAgB,aAAW,OAAOI,CAAlC,GAAoC,IAApC,GAAyC,YAAU,OAAOA,CAAjB,IAAoB,YAAU,OAAOA,CAArC,IAAwC,YAAU,OAAOA,CAAzD,GAA2Df,CAAC,CAAC,IAAD,EAAMe,CAAN,EAAQ,IAAR,EAAa,IAAb,EAAkBA,CAAlB,CAA5D,GAAiFz/D,KAAK,CAACC,OAAN,CAAcw/D,CAAd,IAAiBf,CAAC,CAAC/5D,CAAD,EAAG;AAAChI,oBAAQ,EAAC8iE;AAAV,WAAH,EAAgB,IAAhB,EAAqB,IAArB,EAA0B,IAA1B,CAAlB,GAAkDA,CAAC,CAACZ,GAAF,GAAM,CAAN,GAAQH,CAAC,CAACe,CAAC,CAAC3lE,IAAH,EAAQ2lE,CAAC,CAAC1iE,KAAV,EAAgB0iE,CAAC,CAAC73D,GAAlB,EAAsB,IAAtB,EAA2B63D,CAAC,CAACN,GAA7B,CAAT,GAA2CM,CAAzO,CAAH,EAA+O;AAAC,gBAAGA,CAAC,CAACb,EAAF,GAAKT,CAAL,EAAOsB,CAAC,CAACZ,GAAF,GAAMV,CAAC,CAACU,GAAF,GAAM,CAAnB,EAAqB,UAAQU,CAAC,GAACW,CAAC,CAACb,CAAD,CAAX,KAAiBE,CAAC,IAAEE,CAAC,CAAC73D,GAAF,IAAO23D,CAAC,CAAC33D,GAAZ,IAAiB63D,CAAC,CAAC3lE,IAAF,KAASylE,CAAC,CAACzlE,IAArE,EAA0EomE,CAAC,CAACb,CAAD,CAAD,GAAK,KAAK,CAAV,CAA1E,KAA2F,KAAIC,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACa,CAAV,EAAYb,CAAC,EAAb,EAAgB;AAAC,kBAAG,CAACC,CAAC,GAACW,CAAC,CAACZ,CAAD,CAAJ,KAAUG,CAAC,CAAC73D,GAAF,IAAO23D,CAAC,CAAC33D,GAAnB,IAAwB63D,CAAC,CAAC3lE,IAAF,KAASylE,CAAC,CAACzlE,IAAtC,EAA2C;AAAComE,iBAAC,CAACZ,CAAD,CAAD,GAAK,KAAK,CAAV;AAAY;AAAM;;AAAAC,eAAC,GAAC,IAAF;AAAO;AAAAO,aAAC,CAACt+D,CAAD,EAAGi+D,CAAH,EAAKF,CAAC,GAACA,CAAC,IAAEjB,CAAV,EAAYF,CAAZ,EAAcC,CAAd,EAAgBG,CAAhB,EAAkB/yC,CAAlB,EAAoBrqB,CAApB,EAAsBL,CAAtB,CAAD,EAA0BC,CAAC,GAACy+D,CAAC,CAACX,GAA9B,EAAkC,CAACQ,CAAC,GAACG,CAAC,CAACxxB,GAAL,KAAWsxB,CAAC,CAACtxB,GAAF,IAAOqxB,CAAlB,KAAsB16D,CAAC,KAAGA,CAAC,GAAC,EAAL,CAAD,EAAU26D,CAAC,CAACtxB,GAAF,IAAOrpC,CAAC,CAACtI,IAAF,CAAOijE,CAAC,CAACtxB,GAAT,EAAa,IAAb,EAAkBwxB,CAAlB,CAAjB,EAAsC76D,CAAC,CAACtI,IAAF,CAAOgjE,CAAP,EAASG,CAAC,CAACT,GAAF,IAAOh+D,CAAhB,EAAkBy+D,CAAlB,CAA5D,CAAlC,EAAoH,QAAMz+D,CAAN,IAAS,QAAMmB,CAAN,KAAUA,CAAC,GAACnB,CAAZ,GAAe,cAAY,OAAOy+D,CAAC,CAAC3lE,IAArB,IAA2B,QAAM2lE,CAAC,CAACd,GAAnC,IAAwCc,CAAC,CAACd,GAAF,KAAQY,CAAC,CAACZ,GAAlD,GAAsDc,CAAC,CAACV,GAAF,GAAM39D,CAAC,GAACg/D,CAAC,CAACX,CAAD,EAAGr+D,CAAH,EAAKI,CAAL,CAA/D,GAAuEJ,CAAC,GAACgjC,CAAC,CAAC5iC,CAAD,EAAGi+D,CAAH,EAAKF,CAAL,EAAOW,CAAP,EAASl/D,CAAT,EAAWI,CAAX,CAAzF,EAAuGL,CAAC,IAAE,aAAWo9D,CAAC,CAACrkE,IAAhB,GAAqB,cAAY,OAAOqkE,CAAC,CAACrkE,IAArB,KAA4BqkE,CAAC,CAACY,GAAF,GAAM39D,CAAlC,CAArB,GAA0DI,CAAC,CAAC4M,KAAF,GAAQ,EAAlL,IAAsLhN,CAAC,IAAEm+D,CAAC,CAACT,GAAF,IAAO19D,CAAV,IAAaA,CAAC,CAACvG,UAAF,IAAc2G,CAA3B,KAA+BJ,CAAC,GAACuC,CAAC,CAAC47D,CAAD,CAAlC,CAA1S;AAAiV;AAAlxB;;AAAkxB,aAAIpB,CAAC,CAACW,GAAF,GAAM38D,CAAN,EAAQk9D,CAAC,GAACc,CAAd,EAAgBd,CAAC,EAAjB;AAAqB,kBAAMa,CAAC,CAACb,CAAD,CAAP,KAAa,cAAY,OAAOlB,CAAC,CAACrkE,IAArB,IAA2B,QAAMomE,CAAC,CAACb,CAAD,CAAD,CAAKP,GAAtC,IAA2CoB,CAAC,CAACb,CAAD,CAAD,CAAKP,GAAL,IAAUX,CAAC,CAACY,GAAvD,KAA6DZ,CAAC,CAACY,GAAF,GAAMp7D,CAAC,CAACzH,CAAD,EAAGmjE,CAAC,GAAC,CAAL,CAApE,GAA6EgB,CAAC,CAACH,CAAC,CAACb,CAAD,CAAF,EAAMa,CAAC,CAACb,CAAD,CAAP,CAA3F;AAArB;;AAA6H,YAAGz6D,CAAH,EAAK,KAAIy6D,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACz6D,CAAC,CAACzI,MAAZ,EAAmBkjE,CAAC,EAApB;AAAuBiB,WAAC,CAAC17D,CAAC,CAACy6D,CAAD,CAAF,EAAMz6D,CAAC,CAAC,EAAEy6D,CAAH,CAAP,EAAaz6D,CAAC,CAAC,EAAEy6D,CAAH,CAAd,CAAD;AAAvB;AAA6C;;AAAA,eAASe,CAAT,CAAW5+D,CAAX,EAAa08D,CAAb,EAAeC,CAAf,EAAiB;AAAC,YAAIjiE,CAAJ,EAAMkiE,CAAN;;AAAQ,aAAIliE,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACsF,CAAC,CAACm9D,GAAF,CAAMxiE,MAAhB,EAAuBD,CAAC,EAAxB;AAA2B,WAACkiE,CAAC,GAAC58D,CAAC,CAACm9D,GAAF,CAAMziE,CAAN,CAAH,MAAekiE,CAAC,CAACQ,EAAF,GAAKp9D,CAAL,EAAO08D,CAAC,GAAC,cAAY,OAAOE,CAAC,CAACtkE,IAArB,GAA0BsmE,CAAC,CAAChC,CAAD,EAAGF,CAAH,EAAKC,CAAL,CAA3B,GAAmC/5B,CAAC,CAAC+5B,CAAD,EAAGC,CAAH,EAAKA,CAAL,EAAO58D,CAAC,CAACm9D,GAAT,EAAaP,CAAC,CAACU,GAAf,EAAmBZ,CAAnB,CAA5D;AAA3B;;AAA8G,eAAOA,CAAP;AAAS;;AAAA,eAASt5D,CAAT,CAAWpD,CAAX,EAAa08D,CAAb,EAAe;AAAC,eAAOA,CAAC,GAACA,CAAC,IAAE,EAAL,EAAQ,QAAM18D,CAAN,IAAS,aAAW,OAAOA,CAA3B,KAA+BxB,KAAK,CAACC,OAAN,CAAcuB,CAAd,IAAiBA,CAAC,CAACo+D,IAAF,CAAO,UAASp+D,CAAT,EAAW;AAACoD,WAAC,CAACpD,CAAD,EAAG08D,CAAH,CAAD;AAAO,SAA1B,CAAjB,GAA6CA,CAAC,CAAC5hE,IAAF,CAAOkF,CAAP,CAA5E,CAAR,EAA+F08D,CAAtG;AAAwG;;AAAA,eAAS95B,CAAT,CAAW5iC,CAAX,EAAa08D,CAAb,EAAeC,CAAf,EAAiBjiE,CAAjB,EAAmBkiE,CAAnB,EAAqBC,CAArB,EAAuB;AAAC,YAAIC,CAAJ,EAAMC,CAAN,EAAQC,CAAR;AAAU,YAAG,KAAK,CAAL,KAASN,CAAC,CAACa,GAAd,EAAkBT,CAAC,GAACJ,CAAC,CAACa,GAAJ,EAAQb,CAAC,CAACa,GAAF,GAAM,KAAK,CAAnB,CAAlB,KAA4C,IAAG,QAAMZ,CAAN,IAASC,CAAC,IAAEC,CAAZ,IAAe,QAAMD,CAAC,CAACvjE,UAA1B,EAAqC2G,CAAC,EAAC,IAAG,QAAM68D,CAAN,IAASA,CAAC,CAACxjE,UAAF,KAAe2G,CAA3B,EAA6BA,CAAC,CAAC+9B,WAAF,CAAc6+B,CAAd,GAAiBE,CAAC,GAAC,IAAnB,CAA7B,KAAyD;AAAC,eAAIC,CAAC,GAACF,CAAF,EAAIG,CAAC,GAAC,CAAV,EAAY,CAACD,CAAC,GAACA,CAAC,CAACgC,WAAL,KAAmB/B,CAAC,GAACtiE,CAAC,CAACC,MAAnC,EAA0CqiE,CAAC,IAAE,CAA7C;AAA+C,gBAAGD,CAAC,IAAEH,CAAN,EAAQ,MAAM58D,CAAN;AAAvD;;AAA+DA,WAAC,CAACg/D,YAAF,CAAepC,CAAf,EAAiBC,CAAjB,GAAoBC,CAAC,GAACD,CAAtB;AAAwB;AAAA,eAAO,KAAK,CAAL,KAASC,CAAT,GAAWA,CAAX,GAAaF,CAAC,CAACmC,WAAtB;AAAkC;;AAAA,eAASL,CAAT,CAAW1+D,CAAX,EAAa08D,CAAb,EAAeC,CAAf,EAAiBjiE,CAAjB,EAAmBkiE,CAAnB,EAAqB;AAAC,YAAIC,CAAJ;;AAAM,aAAIA,CAAJ,IAASF,CAAT;AAAW,yBAAaE,CAAb,IAAgB,UAAQA,CAAxB,IAA2BA,CAAC,IAAIH,CAAhC,IAAmCuC,CAAC,CAACj/D,CAAD,EAAG68D,CAAH,EAAK,IAAL,EAAUF,CAAC,CAACE,CAAD,CAAX,EAAeniE,CAAf,CAApC;AAAX;;AAAiE,aAAImiE,CAAJ,IAASH,CAAT;AAAWE,WAAC,IAAE,cAAY,OAAOF,CAAC,CAACG,CAAD,CAAvB,IAA4B,eAAaA,CAAzC,IAA4C,UAAQA,CAApD,IAAuD,YAAUA,CAAjE,IAAoE,cAAYA,CAAhF,IAAmFF,CAAC,CAACE,CAAD,CAAD,KAAOH,CAAC,CAACG,CAAD,CAA3F,IAAgGoC,CAAC,CAACj/D,CAAD,EAAG68D,CAAH,EAAKH,CAAC,CAACG,CAAD,CAAN,EAAUF,CAAC,CAACE,CAAD,CAAX,EAAeniE,CAAf,CAAjG;AAAX;AAA8H;;AAAA,eAASikE,CAAT,CAAW3+D,CAAX,EAAa08D,CAAb,EAAeC,CAAf,EAAiB;AAAC,gBAAMD,CAAC,CAAC,CAAD,CAAP,GAAW18D,CAAC,CAACk/D,WAAF,CAAcxC,CAAd,EAAgBC,CAAhB,CAAX,GAA8B38D,CAAC,CAAC08D,CAAD,CAAD,GAAK,QAAMC,CAAN,GAAQ,EAAR,GAAW,YAAU,OAAOA,CAAjB,IAAoBK,CAAC,CAACnhE,IAAF,CAAO6gE,CAAP,CAApB,GAA8BC,CAA9B,GAAgCA,CAAC,GAAC,IAAhF;AAAqF;;AAAA,eAASsC,CAAT,CAAWj/D,CAAX,EAAa08D,CAAb,EAAeC,CAAf,EAAiBjiE,CAAjB,EAAmBkiE,CAAnB,EAAqB;AAAC,YAAIC,CAAJ;;AAAM78D,SAAC,EAAC,IAAG,YAAU08D,CAAb;AAAe,cAAG,YAAU,OAAOC,CAApB,EAAsB38D,CAAC,CAACpE,KAAF,CAAQujE,OAAR,GAAgBxC,CAAhB,CAAtB,KAA4C;AAAC,gBAAG,YAAU,OAAOjiE,CAAjB,KAAqBsF,CAAC,CAACpE,KAAF,CAAQujE,OAAR,GAAgBzkE,CAAC,GAAC,EAAvC,GAA2CA,CAA9C,EAAgD,KAAIgiE,CAAJ,IAAShiE,CAAT;AAAWiiE,eAAC,IAAED,CAAC,IAAIC,CAAR,IAAWgC,CAAC,CAAC3+D,CAAC,CAACpE,KAAH,EAAS8gE,CAAT,EAAW,EAAX,CAAZ;AAAX;AAAsC,gBAAGC,CAAH,EAAK,KAAID,CAAJ,IAASC,CAAT;AAAWjiE,eAAC,IAAEiiE,CAAC,CAACD,CAAD,CAAD,KAAOhiE,CAAC,CAACgiE,CAAD,CAAX,IAAgBiC,CAAC,CAAC3+D,CAAC,CAACpE,KAAH,EAAS8gE,CAAT,EAAWC,CAAC,CAACD,CAAD,CAAZ,CAAjB;AAAX;AAA6C;AAApM,eAAyM,IAAG,QAAMA,CAAC,CAAC,CAAD,CAAP,IAAY,QAAMA,CAAC,CAAC,CAAD,CAAtB,EAA0BG,CAAC,GAACH,CAAC,MAAIA,CAAC,GAACA,CAAC,CAACzvD,OAAF,CAAU,UAAV,EAAqB,EAArB,CAAN,CAAH,EAAmCyvD,CAAC,GAACA,CAAC,CAAC0C,WAAF,MAAkBp/D,CAAlB,GAAoB08D,CAAC,CAAC0C,WAAF,GAAgB5jC,KAAhB,CAAsB,CAAtB,CAApB,GAA6CkhC,CAAC,CAAClhC,KAAF,CAAQ,CAAR,CAAlF,EAA6Fx7B,CAAC,CAAC08D,CAAF,KAAM18D,CAAC,CAAC08D,CAAF,GAAI,EAAV,CAA7F,EAA2G18D,CAAC,CAAC08D,CAAF,CAAIA,CAAC,GAACG,CAAN,IAASF,CAApH,EAAsHA,CAAC,GAACjiE,CAAC,IAAEsF,CAAC,CAACzD,gBAAF,CAAmBmgE,CAAnB,EAAqBG,CAAC,GAACwC,CAAD,GAAGC,CAAzB,EAA2BzC,CAA3B,CAAJ,GAAkC78D,CAAC,CAACxD,mBAAF,CAAsBkgE,CAAtB,EAAwBG,CAAC,GAACwC,CAAD,GAAGC,CAA5B,EAA8BzC,CAA9B,CAAzJ,CAA1B,KAAyN,IAAG,8BAA4BH,CAA/B,EAAiC;AAAC,cAAGE,CAAH,EAAKF,CAAC,GAACA,CAAC,CAACzvD,OAAF,CAAU,YAAV,EAAuB,GAAvB,EAA4BA,OAA5B,CAAoC,QAApC,EAA6C,GAA7C,CAAF,CAAL,KAA8D,IAAG,WAASyvD,CAAT,IAAY,WAASA,CAArB,IAAwB,WAASA,CAAjC,IAAoC,eAAaA,CAAjD,IAAoD,eAAaA,CAAjE,IAAoEA,CAAC,IAAI18D,CAA5E,EAA8E,IAAG;AAACA,aAAC,CAAC08D,CAAD,CAAD,GAAK,QAAMC,CAAN,GAAQ,EAAR,GAAWA,CAAhB;AAAkB,kBAAM38D,CAAN;AAAQ,WAA9B,CAA8B,OAAMA,CAAN,EAAQ,CAAE;AAAA,wBAAY,OAAO28D,CAAnB,KAAuB,QAAMA,CAAN,KAAU,CAAC,CAAD,KAAKA,CAAL,IAAQ,QAAMD,CAAC,CAAC,CAAD,CAAP,IAAY,QAAMA,CAAC,CAAC,CAAD,CAArC,IAA0C18D,CAAC,CAACu/D,YAAF,CAAe7C,CAAf,EAAiBC,CAAjB,CAA1C,GAA8D38D,CAAC,CAACw/D,eAAF,CAAkB9C,CAAlB,CAArF;AAA2G;AAAC;;AAAA,eAAS4C,CAAT,CAAW5C,CAAX,EAAa;AAAC,aAAKA,CAAL,CAAOA,CAAC,CAACpkE,IAAF,GAAO,CAAC,CAAf,EAAkB0H,CAAC,CAACk1B,KAAF,GAAQl1B,CAAC,CAACk1B,KAAF,CAAQwnC,CAAR,CAAR,GAAmBA,CAArC;AAAwC;;AAAA,eAAS2C,CAAT,CAAW3C,CAAX,EAAa;AAAC,aAAKA,CAAL,CAAOA,CAAC,CAACpkE,IAAF,GAAO,CAAC,CAAf,EAAkB0H,CAAC,CAACk1B,KAAF,GAAQl1B,CAAC,CAACk1B,KAAF,CAAQwnC,CAAR,CAAR,GAAmBA,CAArC;AAAwC;;AAAA,eAAS4B,CAAT,CAAW5B,CAAX,EAAaC,CAAb,EAAejiE,CAAf,EAAiBkiE,CAAjB,EAAmBC,CAAnB,EAAqBC,CAArB,EAAuBC,CAAvB,EAAyBC,CAAzB,EAA2Bp9D,CAA3B,EAA6B;AAAC,YAAIL,CAAJ;AAAA,YAAM29D,CAAN;AAAA,YAAQW,CAAR;AAAA,YAAU17D,CAAV;AAAA,YAAY47D,CAAZ;AAAA,YAAcE,CAAd;AAAA,YAAgBz+D,CAAhB;AAAA,YAAkBo/D,CAAlB;AAAA,YAAoBx7D,CAApB;AAAA,YAAsBw/B,CAAtB;AAAA,YAAwB87B,CAAxB;AAAA,YAA0BC,CAAC,GAAChC,CAAC,CAACrkE,IAA9B;;AAAmC,YAAG,KAAK,CAAL,KAASqkE,CAAC,CAACe,WAAd,EAA0B,OAAO,IAAP;AAAY,gBAAMhjE,CAAC,CAAC+iE,GAAR,KAAc79D,CAAC,GAAClF,CAAC,CAAC+iE,GAAJ,EAAQT,CAAC,GAACL,CAAC,CAACW,GAAF,GAAM5iE,CAAC,CAAC4iE,GAAlB,EAAsBX,CAAC,CAACc,GAAF,GAAM,IAA5B,EAAiCX,CAAC,GAAC,CAACE,CAAD,CAAjD,GAAsD,CAACz9D,CAAC,GAACS,CAAC,CAACq9D,GAAL,KAAW99D,CAAC,CAACo9D,CAAD,CAAlE;;AAAsE,YAAG;AAAC38D,WAAC,EAAC,IAAG,cAAY,OAAO2+D,CAAtB,EAAwB;AAAC,gBAAGC,CAAC,GAACjC,CAAC,CAACphE,KAAJ,EAAU6H,CAAC,GAAC,CAAC7D,CAAC,GAACo/D,CAAC,CAACtyB,WAAL,KAAmBuwB,CAAC,CAACr9D,CAAC,CAACi+D,GAAH,CAAhC,EAAwC56B,CAAC,GAACrjC,CAAC,GAAC6D,CAAC,GAACA,CAAC,CAAC7H,KAAF,CAAQqR,KAAT,GAAerN,CAAC,CAAC69D,EAAnB,GAAsBR,CAAjE,EAAmEliE,CAAC,CAAC8iE,GAAF,GAAMh+D,CAAC,GAAC,CAAC09D,CAAC,GAACP,CAAC,CAACa,GAAF,GAAM9iE,CAAC,CAAC8iE,GAAX,EAAgBJ,EAAhB,GAAmBF,CAAC,CAACuC,GAA7B,IAAkC,eAAcd,CAAd,IAAiBA,CAAC,CAACxmE,SAAF,CAAYs9C,MAA7B,GAAoCknB,CAAC,CAACa,GAAF,GAAMN,CAAC,GAAC,IAAIyB,CAAJ,CAAMC,CAAN,EAAQh8B,CAAR,CAA5C,IAAwD+5B,CAAC,CAACa,GAAF,GAAMN,CAAC,GAAC,IAAIY,CAAJ,CAAMc,CAAN,EAAQh8B,CAAR,CAAR,EAAmBs6B,CAAC,CAACQ,WAAF,GAAciB,CAAjC,EAAmCzB,CAAC,CAACznB,MAAF,GAASiqB,CAApG,GAAuGt8D,CAAC,IAAEA,CAAC,CAACyf,GAAF,CAAMq6C,CAAN,CAA1G,EAAmHA,CAAC,CAAC3hE,KAAF,GAAQqjE,CAA3H,EAA6H1B,CAAC,CAACvqC,KAAF,KAAUuqC,CAAC,CAACvqC,KAAF,GAAQ,EAAlB,CAA7H,EAAmJuqC,CAAC,CAACjlE,OAAF,GAAU2qC,CAA7J,EAA+Js6B,CAAC,CAACqB,GAAF,GAAM3B,CAArK,EAAuKiB,CAAC,GAACX,CAAC,CAACK,GAAF,GAAM,CAAC,CAAhL,EAAkLL,CAAC,CAACO,GAAF,GAAM,EAA1N,CAAnE,EAAiS,QAAMP,CAAC,CAACyC,GAAR,KAAczC,CAAC,CAACyC,GAAF,GAAMzC,CAAC,CAACvqC,KAAtB,CAAjS,EAA8T,QAAMgsC,CAAC,CAACiB,wBAAR,KAAmC1C,CAAC,CAACyC,GAAF,IAAOzC,CAAC,CAACvqC,KAAT,KAAiBuqC,CAAC,CAACyC,GAAF,GAAM11C,CAAC,CAAC,EAAD,EAAIizC,CAAC,CAACyC,GAAN,CAAxB,GAAoC11C,CAAC,CAACizC,CAAC,CAACyC,GAAH,EAAOhB,CAAC,CAACiB,wBAAF,CAA2BhB,CAA3B,EAA6B1B,CAAC,CAACyC,GAA/B,CAAP,CAAxE,CAA9T,EAAmbx9D,CAAC,GAAC+6D,CAAC,CAAC3hE,KAAvb,EAA6bwiE,CAAC,GAACb,CAAC,CAACvqC,KAAjc,EAAuckrC,CAA1c,EAA4c,QAAMc,CAAC,CAACiB,wBAAR,IAAkC,QAAM1C,CAAC,CAAC2C,kBAA1C,IAA8D3C,CAAC,CAAC2C,kBAAF,EAA9D,EAAqF,QAAM3C,CAAC,CAAC3mB,iBAAR,IAA2B2mB,CAAC,CAACO,GAAF,CAAM3iE,IAAN,CAAWoiE,CAAC,CAAC3mB,iBAAb,CAAhH,CAA5c,KAAgmB;AAAC,kBAAG,QAAMooB,CAAC,CAACiB,wBAAR,IAAkChB,CAAC,KAAGz8D,CAAtC,IAAyC,QAAM+6D,CAAC,CAAC4C,yBAAjD,IAA4E5C,CAAC,CAAC4C,yBAAF,CAA4BlB,CAA5B,EAA8Bh8B,CAA9B,CAA5E,EAA6G,CAACs6B,CAAC,CAACI,GAAH,IAAQ,QAAMJ,CAAC,CAACtxB,qBAAhB,IAAuC,CAAC,CAAD,KAAKsxB,CAAC,CAACtxB,qBAAF,CAAwBgzB,CAAxB,EAA0B1B,CAAC,CAACyC,GAA5B,EAAgC/8B,CAAhC,CAA5C,IAAgF+5B,CAAC,CAACgB,GAAF,KAAQjjE,CAAC,CAACijE,GAA1M,EAA8M;AAACT,iBAAC,CAAC3hE,KAAF,GAAQqjE,CAAR,EAAU1B,CAAC,CAACvqC,KAAF,GAAQuqC,CAAC,CAACyC,GAApB,EAAwBhD,CAAC,CAACgB,GAAF,KAAQjjE,CAAC,CAACijE,GAAV,KAAgBT,CAAC,CAACK,GAAF,GAAM,CAAC,CAAvB,CAAxB,EAAkDL,CAAC,CAACS,GAAF,GAAMhB,CAAxD,EAA0DA,CAAC,CAACW,GAAF,GAAM5iE,CAAC,CAAC4iE,GAAlE,EAAsEX,CAAC,CAACQ,GAAF,GAAMziE,CAAC,CAACyiE,GAA9E,EAAkFR,CAAC,CAACQ,GAAF,CAAM//D,OAAN,CAAc,UAAS4C,CAAT,EAAW;AAACA,mBAAC,KAAGA,CAAC,CAACo9D,EAAF,GAAKT,CAAR,CAAD;AAAY,iBAAtC,CAAlF,EAA0HO,CAAC,CAACO,GAAF,CAAM9iE,MAAN,IAAcoiE,CAAC,CAACjiE,IAAF,CAAOoiE,CAAP,CAAxI;AAAkJ,sBAAMl9D,CAAN;AAAQ;;AAAA,sBAAMk9D,CAAC,CAAC6C,mBAAR,IAA6B7C,CAAC,CAAC6C,mBAAF,CAAsBnB,CAAtB,EAAwB1B,CAAC,CAACyC,GAA1B,EAA8B/8B,CAA9B,CAA7B,EAA8D,QAAMs6B,CAAC,CAACzmB,kBAAR,IAA4BymB,CAAC,CAACO,GAAF,CAAM3iE,IAAN,CAAW,YAAU;AAACoiE,iBAAC,CAACzmB,kBAAF,CAAqBt0C,CAArB,EAAuB47D,CAAvB,EAAyBE,CAAzB;AAA4B,eAAlD,CAA1F;AAA8I;AAAAf,aAAC,CAACjlE,OAAF,GAAU2qC,CAAV,EAAYs6B,CAAC,CAAC3hE,KAAF,GAAQqjE,CAApB,EAAsB1B,CAAC,CAACvqC,KAAF,GAAQuqC,CAAC,CAACyC,GAAhC,EAAoC,CAACpgE,CAAC,GAACS,CAAC,CAACk+D,GAAL,KAAW3+D,CAAC,CAACo9D,CAAD,CAAhD,EAAoDO,CAAC,CAACK,GAAF,GAAM,CAAC,CAA3D,EAA6DL,CAAC,CAACS,GAAF,GAAMhB,CAAnE,EAAqEO,CAAC,CAACmB,GAAF,GAAM3B,CAA3E,EAA6En9D,CAAC,GAAC29D,CAAC,CAACznB,MAAF,CAASynB,CAAC,CAAC3hE,KAAX,EAAiB2hE,CAAC,CAACvqC,KAAnB,EAAyBuqC,CAAC,CAACjlE,OAA3B,CAA/E,EAAmHilE,CAAC,CAACvqC,KAAF,GAAQuqC,CAAC,CAACyC,GAA7H,EAAiI,QAAMzC,CAAC,CAAC8C,eAAR,KAA0BpD,CAAC,GAAC3yC,CAAC,CAACA,CAAC,CAAC,EAAD,EAAI2yC,CAAJ,CAAF,EAASM,CAAC,CAAC8C,eAAF,EAAT,CAA7B,CAAjI,EAA6LnC,CAAC,IAAE,QAAMX,CAAC,CAAC+C,uBAAX,KAAqChC,CAAC,GAACf,CAAC,CAAC+C,uBAAF,CAA0B99D,CAA1B,EAA4B47D,CAA5B,CAAvC,CAA7L,EAAoQW,CAAC,GAAC,QAAMn/D,CAAN,IAASA,CAAC,CAACjH,IAAF,KAAS6K,CAAlB,IAAqB,QAAM5D,CAAC,CAAC6G,GAA7B,GAAiC7G,CAAC,CAAChE,KAAF,CAAQJ,QAAzC,GAAkDoE,CAAxT,EAA0ToB,CAAC,CAAC+7D,CAAD,EAAGl+D,KAAK,CAACC,OAAN,CAAcigE,CAAd,IAAiBA,CAAjB,GAAmB,CAACA,CAAD,CAAtB,EAA0B/B,CAA1B,EAA4BjiE,CAA5B,EAA8BkiE,CAA9B,EAAgCC,CAAhC,EAAkCC,CAAlC,EAAoCC,CAApC,EAAsCC,CAAtC,EAAwCp9D,CAAxC,CAA3T,EAAsWs9D,CAAC,CAACc,IAAF,GAAOrB,CAAC,CAACW,GAA/W,EAAmXX,CAAC,CAACc,GAAF,GAAM,IAAzX,EAA8XP,CAAC,CAACO,GAAF,CAAM9iE,MAAN,IAAcoiE,CAAC,CAACjiE,IAAF,CAAOoiE,CAAP,CAA5Y,EAAsZ19D,CAAC,KAAG09D,CAAC,CAACuC,GAAF,GAAMvC,CAAC,CAACE,EAAF,GAAK,IAAd,CAAvZ,EAA2aF,CAAC,CAACI,GAAF,GAAM,CAAC,CAAlb;AAAob,WAAriD,MAA0iD,QAAMR,CAAN,IAASH,CAAC,CAACgB,GAAF,KAAQjjE,CAAC,CAACijE,GAAnB,IAAwBhB,CAAC,CAACQ,GAAF,GAAMziE,CAAC,CAACyiE,GAAR,EAAYR,CAAC,CAACW,GAAF,GAAM5iE,CAAC,CAAC4iE,GAA5C,IAAiDX,CAAC,CAACW,GAAF,GAAMziE,CAAC,CAACH,CAAC,CAAC4iE,GAAH,EAAOX,CAAP,EAASjiE,CAAT,EAAWkiE,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiBC,CAAjB,EAAmBn9D,CAAnB,CAAxD;;AAA8E,WAACL,CAAC,GAACS,CAAC,CAACkgE,MAAL,KAAc3gE,CAAC,CAACo9D,CAAD,CAAf;AAAmB,SAAjpD,CAAipD,OAAMD,CAAN,EAAQ;AAACC,WAAC,CAACgB,GAAF,GAAM,IAAN,EAAW,CAAC/9D,CAAC,IAAE,QAAMk9D,CAAV,MAAeH,CAAC,CAACW,GAAF,GAAMN,CAAN,EAAQL,CAAC,CAACc,GAAF,GAAM,CAAC,CAAC79D,CAAhB,EAAkBk9D,CAAC,CAACA,CAAC,CAAC3oD,OAAF,CAAU6oD,CAAV,CAAD,CAAD,GAAgB,IAAjD,CAAX,EAAkEh9D,CAAC,CAACs9D,GAAF,CAAMZ,CAAN,EAAQC,CAAR,EAAUjiE,CAAV,CAAlE;AAA+E;AAAC;;AAAA,eAAS+jE,CAAT,CAAW/B,CAAX,EAAaC,CAAb,EAAe;AAAC38D,SAAC,CAACw9D,GAAF,IAAOx9D,CAAC,CAACw9D,GAAF,CAAMb,CAAN,EAAQD,CAAR,CAAP,EAAkBA,CAAC,CAAC0B,IAAF,CAAO,UAASzB,CAAT,EAAW;AAAC,cAAG;AAACD,aAAC,GAACC,CAAC,CAACc,GAAJ,EAAQd,CAAC,CAACc,GAAF,GAAM,EAAd,EAAiBf,CAAC,CAAC0B,IAAF,CAAO,UAASp+D,CAAT,EAAW;AAACA,eAAC,CAAC5F,IAAF,CAAOuiE,CAAP;AAAU,aAA7B,CAAjB;AAAgD,WAApD,CAAoD,OAAMD,CAAN,EAAQ;AAAC18D,aAAC,CAACs9D,GAAF,CAAMZ,CAAN,EAAQC,CAAC,CAACgB,GAAV;AAAe;AAAC,SAAhG,CAAlB;AAAoH;;AAAA,eAAS9iE,CAAT,CAAWmF,CAAX,EAAa08D,CAAb,EAAeC,CAAf,EAAiBjiE,CAAjB,EAAmBkiE,CAAnB,EAAqBC,CAArB,EAAuBG,CAAvB,EAAyB/yC,CAAzB,EAA2B;AAAC,YAAI1qB,CAAJ;AAAA,YAAM29D,CAAN;AAAA,YAAQW,CAAR;AAAA,YAAU16D,CAAV;AAAA,YAAY26D,CAAC,GAACnB,CAAC,CAACphE,KAAhB;AAAA,YAAsB4G,CAAC,GAACu6D,CAAC,CAACnhE,KAA1B;AAAA,YAAgCwiE,CAAC,GAACrB,CAAC,CAACpkE,IAApC;AAAA,YAAyC2lE,CAAC,GAAC,CAA3C;AAA6C,YAAG,UAAQF,CAAR,KAAYnB,CAAC,GAAC,CAAC,CAAf,GAAkB,QAAMC,CAA3B,EAA6B,OAAKoB,CAAC,GAACpB,CAAC,CAACliE,MAAT,EAAgBsjE,CAAC,EAAjB;AAAoB,cAAG,CAAC1+D,CAAC,GAACs9D,CAAC,CAACoB,CAAD,CAAJ,MAAW1+D,CAAC,KAAGS,CAAJ,KAAQ+9D,CAAC,GAACx+D,CAAC,CAAC4gE,SAAF,IAAapC,CAAd,GAAgB,KAAGx+D,CAAC,CAACxF,QAA9B,CAAX,CAAH,EAAuD;AAACiG,aAAC,GAACT,CAAF,EAAIs9D,CAAC,CAACoB,CAAD,CAAD,GAAK,IAAT;AAAc;AAAM;AAAhG;;AAAgG,YAAG,QAAMj+D,CAAT,EAAW;AAAC,cAAG,SAAO+9D,CAAV,EAAY,OAAOrkE,QAAQ,CAAC0mE,cAAT,CAAwBj+D,CAAxB,CAAP;AAAkCnC,WAAC,GAAC48D,CAAC,GAACljE,QAAQ,CAAC2mE,eAAT,CAAyB,4BAAzB,EAAsDtC,CAAtD,CAAD,GAA0DrkE,QAAQ,CAACkkC,aAAT,CAAuBmgC,CAAvB,EAAyB57D,CAAC,CAACm+D,EAAF,IAAMn+D,CAA/B,CAA7D,EAA+F06D,CAAC,GAAC,IAAjG,EAAsG5yC,CAAC,GAAC,CAAC,CAAzG;AAA2G;;AAAA,YAAG,SAAO8zC,CAAV,EAAYD,CAAC,KAAG37D,CAAJ,IAAO8nB,CAAC,IAAEjqB,CAAC,CAAComD,IAAF,KAASjkD,CAAnB,KAAuBnC,CAAC,CAAComD,IAAF,GAAOjkD,CAA9B,EAAZ,KAAiD;AAAC,cAAG06D,CAAC,GAACA,CAAC,IAAEE,CAAC,CAACvhC,KAAF,CAAQphC,IAAR,CAAa4F,CAAC,CAAC9E,UAAf,CAAL,EAAgCgiE,CAAC,GAAC,CAACY,CAAC,GAACnB,CAAC,CAACphE,KAAF,IAASuhE,CAAZ,EAAeyD,uBAAjD,EAAyE1C,CAAC,GAAC17D,CAAC,CAACo+D,uBAA7E,EAAqG,CAACt2C,CAAzG,EAA2G;AAAC,gBAAG,QAAM4yC,CAAT,EAAW,KAAIiB,CAAC,GAAC,EAAF,EAAK36D,CAAC,GAAC,CAAX,EAAaA,CAAC,GAACnD,CAAC,CAACwgE,UAAF,CAAa7lE,MAA5B,EAAmCwI,CAAC,EAApC;AAAuC26D,eAAC,CAAC99D,CAAC,CAACwgE,UAAF,CAAar9D,CAAb,EAAgBzH,IAAjB,CAAD,GAAwBsE,CAAC,CAACwgE,UAAF,CAAar9D,CAAb,EAAgByJ,KAAxC;AAAvC;AAAqF,aAACixD,CAAC,IAAEX,CAAJ,MAASW,CAAC,KAAGX,CAAC,IAAEW,CAAC,CAAC4C,MAAF,IAAUvD,CAAC,CAACuD,MAAf,IAAuB5C,CAAC,CAAC4C,MAAF,KAAWzgE,CAAC,CAAC89B,SAAvC,CAAD,KAAqD99B,CAAC,CAAC89B,SAAF,GAAY+/B,CAAC,IAAEA,CAAC,CAAC4C,MAAL,IAAa,EAA9E,CAAT;AAA4F;;AAAA,cAAG/B,CAAC,CAAC1+D,CAAD,EAAGmC,CAAH,EAAK27D,CAAL,EAAOlB,CAAP,EAAS3yC,CAAT,CAAD,EAAa4zC,CAAhB,EAAkBnB,CAAC,CAACS,GAAF,GAAM,EAAN,CAAlB,KAAgC,IAAGc,CAAC,GAACvB,CAAC,CAACnhE,KAAF,CAAQJ,QAAV,EAAmBwF,CAAC,CAACX,CAAD,EAAGxB,KAAK,CAACC,OAAN,CAAcw/D,CAAd,IAAiBA,CAAjB,GAAmB,CAACA,CAAD,CAAtB,EAA0BvB,CAA1B,EAA4BC,CAA5B,EAA8BjiE,CAA9B,EAAgCkiE,CAAC,IAAE,oBAAkBmB,CAArD,EAAuDlB,CAAvD,EAAyDG,CAAzD,EAA2Dh9D,CAAC,CAACuiC,UAA7D,EAAwEtY,CAAxE,CAApB,EAA+F,QAAM4yC,CAAxG,EAA0G,KAAIoB,CAAC,GAACpB,CAAC,CAACliE,MAAR,EAAesjE,CAAC,EAAhB;AAAoB,oBAAMpB,CAAC,CAACoB,CAAD,CAAP,IAAYr+D,CAAC,CAACi9D,CAAC,CAACoB,CAAD,CAAF,CAAb;AAApB;AAAwCh0C,WAAC,KAAG,WAAU9nB,CAAV,IAAa,KAAK,CAAL,MAAU87D,CAAC,GAAC97D,CAAC,CAACyK,KAAd,CAAb,KAAoCqxD,CAAC,KAAGj+D,CAAC,CAAC4M,KAAN,IAAa,eAAamxD,CAAb,IAAgB,CAACE,CAAlE,KAAsEgB,CAAC,CAACj/D,CAAD,EAAG,OAAH,EAAWi+D,CAAX,EAAaH,CAAC,CAAClxD,KAAf,EAAqB,CAAC,CAAtB,CAAvE,EAAgG,aAAYzK,CAAZ,IAAe,KAAK,CAAL,MAAU87D,CAAC,GAAC97D,CAAC,CAACu+D,OAAd,CAAf,IAAuCzC,CAAC,KAAGj+D,CAAC,CAAC0gE,OAA7C,IAAsDzB,CAAC,CAACj/D,CAAD,EAAG,SAAH,EAAai+D,CAAb,EAAeH,CAAC,CAAC4C,OAAjB,EAAyB,CAAC,CAA1B,CAA1J,CAAD;AAAyL;AAAA,eAAO1gE,CAAP;AAAS;;AAAA,eAAS8+D,CAAT,CAAWpC,CAAX,EAAaC,CAAb,EAAejiE,CAAf,EAAiB;AAAC,YAAG;AAAC,wBAAY,OAAOgiE,CAAnB,GAAqBA,CAAC,CAACC,CAAD,CAAtB,GAA0BD,CAAC,CAAChwB,OAAF,GAAUiwB,CAApC;AAAsC,SAA1C,CAA0C,OAAMD,CAAN,EAAQ;AAAC18D,WAAC,CAACs9D,GAAF,CAAMZ,CAAN,EAAQhiE,CAAR;AAAW;AAAC;;AAAA,eAASmkE,CAAT,CAAWnC,CAAX,EAAaC,CAAb,EAAejiE,CAAf,EAAiB;AAAC,YAAIkiE,CAAJ,EAAMC,CAAN,EAAQC,CAAR;;AAAU,YAAG98D,CAAC,CAAC2gE,OAAF,IAAW3gE,CAAC,CAAC2gE,OAAF,CAAUjE,CAAV,CAAX,EAAwB,CAACE,CAAC,GAACF,CAAC,CAACjwB,GAAL,MAAYmwB,CAAC,CAAClwB,OAAF,IAAWkwB,CAAC,CAAClwB,OAAF,KAAYgwB,CAAC,CAACY,GAAzB,IAA8BwB,CAAC,CAAClC,CAAD,EAAG,IAAH,EAAQD,CAAR,CAA3C,CAAxB,EAA+EjiE,CAAC,IAAE,cAAY,OAAOgiE,CAAC,CAACpkE,IAAxB,KAA+BoC,CAAC,GAAC,SAAOmiE,CAAC,GAACH,CAAC,CAACY,GAAX,CAAjC,CAA/E,EAAiIZ,CAAC,CAACY,GAAF,GAAMZ,CAAC,CAACa,GAAF,GAAM,KAAK,CAAlJ,EAAoJ,SAAOX,CAAC,GAACF,CAAC,CAACc,GAAX,CAAvJ,EAAuK;AAAC,cAAGZ,CAAC,CAAClmB,oBAAL,EAA0B,IAAG;AAACkmB,aAAC,CAAClmB,oBAAF;AAAyB,WAA7B,CAA6B,OAAMgmB,CAAN,EAAQ;AAAC18D,aAAC,CAACs9D,GAAF,CAAMZ,CAAN,EAAQC,CAAR;AAAW;AAAAC,WAAC,CAACoB,IAAF,GAAOpB,CAAC,CAACyB,GAAF,GAAM,IAAb;AAAkB;;AAAA,YAAGzB,CAAC,GAACF,CAAC,CAACS,GAAP,EAAW,KAAIL,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACF,CAAC,CAACjiE,MAAZ,EAAmBmiE,CAAC,EAApB;AAAuBF,WAAC,CAACE,CAAD,CAAD,IAAM+B,CAAC,CAACjC,CAAC,CAACE,CAAD,CAAF,EAAMH,CAAN,EAAQjiE,CAAR,CAAP;AAAvB;AAAyC,gBAAMmiE,CAAN,IAASj9D,CAAC,CAACi9D,CAAD,CAAV;AAAc;;AAAA,eAAS6C,CAAT,CAAW1/D,CAAX,EAAa08D,CAAb,EAAeC,CAAf,EAAiB;AAAC,eAAO,KAAKe,WAAL,CAAiB19D,CAAjB,EAAmB28D,CAAnB,CAAP;AAA6B;;AAAA,eAASiE,CAAT,CAAWlE,CAAX,EAAaC,CAAb,EAAejiE,CAAf,EAAiB;AAAC,YAAIkiE,CAAJ,EAAMC,CAAN,EAAQG,CAAR;AAAUh9D,SAAC,CAACo9D,EAAF,IAAMp9D,CAAC,CAACo9D,EAAF,CAAKV,CAAL,EAAOC,CAAP,CAAN,EAAgBE,CAAC,GAAC,CAACD,CAAC,GAAC,cAAY,OAAOliE,CAAtB,IAAyB,IAAzB,GAA8BA,CAAC,IAAEA,CAAC,CAACyiE,GAAL,IAAUR,CAAC,CAACQ,GAA5D,EAAgEH,CAAC,GAAC,EAAlE,EAAqEsB,CAAC,CAAC3B,CAAD,EAAGD,CAAC,GAAC,CAAC,CAACE,CAAD,IAAIliE,CAAJ,IAAOiiE,CAAR,EAAWQ,GAAX,GAAe59D,CAAC,CAAC4D,CAAD,EAAG,IAAH,EAAQ,CAACu5D,CAAD,CAAR,CAArB,EAAkCG,CAAC,IAAEC,CAArC,EAAuCA,CAAvC,EAAyC,KAAK,CAAL,KAASH,CAAC,CAAC6B,eAApD,EAAoE,CAAC5B,CAAD,IAAIliE,CAAJ,GAAM,CAACA,CAAD,CAAN,GAAUmiE,CAAC,GAAC,IAAD,GAAMF,CAAC,CAACp6B,UAAF,GAAaw6B,CAAC,CAACvhC,KAAF,CAAQphC,IAAR,CAAauiE,CAAC,CAACzhE,UAAf,CAAb,GAAwC,IAA7H,EAAkI8hE,CAAlI,EAAoI,CAACJ,CAAD,IAAIliE,CAAJ,GAAMA,CAAN,GAAQmiE,CAAC,GAACA,CAAC,CAACS,GAAH,GAAOX,CAAC,CAACp6B,UAAtJ,EAAiKq6B,CAAjK,CAAtE,EAA0O6B,CAAC,CAACzB,CAAD,EAAGN,CAAH,CAA3O;AAAiP;;AAAA,eAASmE,CAAT,CAAW7gE,CAAX,EAAa08D,CAAb,EAAe;AAACkE,SAAC,CAAC5gE,CAAD,EAAG08D,CAAH,EAAKmE,CAAL,CAAD;AAAS;;AAAA,eAASC,CAAT,CAAW9gE,CAAX,EAAa08D,CAAb,EAAeC,CAAf,EAAiB;AAAC,YAAIjiE,CAAJ;AAAA,YAAMkiE,CAAN;AAAA,YAAQC,CAAR;AAAA,YAAUC,CAAC,GAACtuD,SAAZ;AAAA,YAAsBuuD,CAAC,GAAC9yC,CAAC,CAAC,EAAD,EAAIjqB,CAAC,CAACzE,KAAN,CAAzB;;AAAsC,aAAIshE,CAAJ,IAASH,CAAT;AAAW,mBAAOG,CAAP,GAASniE,CAAC,GAACgiE,CAAC,CAACG,CAAD,CAAZ,GAAgB,SAAOA,CAAP,GAASD,CAAC,GAACF,CAAC,CAACG,CAAD,CAAZ,GAAgBE,CAAC,CAACF,CAAD,CAAD,GAAKH,CAAC,CAACG,CAAD,CAAtC;AAAX;;AAAqD,YAAGruD,SAAS,CAAC7T,MAAV,GAAiB,CAApB,EAAsB,KAAIgiE,CAAC,GAAC,CAACA,CAAD,CAAF,EAAME,CAAC,GAAC,CAAZ,EAAcA,CAAC,GAACruD,SAAS,CAAC7T,MAA1B,EAAiCkiE,CAAC,EAAlC;AAAqCF,WAAC,CAAC7hE,IAAF,CAAOgiE,CAAC,CAACD,CAAD,CAAR;AAArC;AAAkD,eAAO,QAAMF,CAAN,KAAUI,CAAC,CAAC5hE,QAAF,GAAWwhE,CAArB,GAAwBO,CAAC,CAACl9D,CAAC,CAAC1H,IAAH,EAAQykE,CAAR,EAAUriE,CAAC,IAAEsF,CAAC,CAACoG,GAAf,EAAmBw2D,CAAC,IAAE58D,CAAC,CAACysC,GAAxB,EAA4B,IAA5B,CAAhC;AAAkE;;AAAA,eAASs0B,CAAT,CAAW/gE,CAAX,EAAa08D,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC;AAACa,aAAG,EAACd,CAAC,GAAC,SAAOG,CAAC,EAAf;AAAkBO,YAAE,EAACp9D,CAArB;AAAuBm2C,kBAAQ,EAAC,kBAASn2C,CAAT,EAAW08D,CAAX,EAAa;AAAC,mBAAO18D,CAAC,CAAC7E,QAAF,CAAWuhE,CAAX,CAAP;AAAqB,WAAnE;AAAoEzO,kBAAQ,EAAC,kBAASjuD,CAAT,EAAW;AAAC,gBAAI28D,CAAJ,EAAMjiE,CAAN;AAAQ,mBAAO,KAAKslE,eAAL,KAAuBrD,CAAC,GAAC,EAAF,EAAK,CAACjiE,CAAC,GAAC,EAAH,EAAOgiE,CAAP,IAAU,IAAf,EAAoB,KAAKsD,eAAL,GAAqB,YAAU;AAAC,qBAAOtlE,CAAP;AAAS,aAA7D,EAA8D,KAAKkxC,qBAAL,GAA2B,UAAS5rC,CAAT,EAAW;AAAC,mBAAKzE,KAAL,CAAWqR,KAAX,KAAmB5M,CAAC,CAAC4M,KAArB,IAA4B+vD,CAAC,CAACyB,IAAF,CAAOH,CAAP,CAA5B;AAAsC,aAA3I,EAA4I,KAAKp7C,GAAL,GAAS,UAAS7iB,CAAT,EAAW;AAAC28D,eAAC,CAAC7hE,IAAF,CAAOkF,CAAP;AAAU,kBAAI08D,CAAC,GAAC18D,CAAC,CAAC02C,oBAAR;;AAA6B12C,eAAC,CAAC02C,oBAAF,GAAuB,YAAU;AAACimB,iBAAC,CAAC/uD,MAAF,CAAS+uD,CAAC,CAACxoD,OAAF,CAAUnU,CAAV,CAAT,EAAsB,CAAtB,GAAyB08D,CAAC,IAAEA,CAAC,CAACtiE,IAAF,CAAO4F,CAAP,CAA5B;AAAsC,eAAxE;AAAyE,aAAxS,GAA0SA,CAAC,CAAC7E,QAAnT;AAA4T;AAA7Z,SAAN;AAAqa,eAAOwhE,CAAC,CAAC1O,QAAF,CAAWmP,EAAX,GAAcT,CAAC,CAACxmB,QAAF,CAAW9J,WAAX,GAAuBswB,CAA5C;AAA8C;;AAAA38D,OAAC,GAAC;AAACs9D,WAAG,EAAC,aAASt9D,CAAT,EAAW08D,CAAX,EAAa;AAAC,eAAI,IAAIC,CAAJ,EAAMjiE,CAAN,EAAQkiE,CAAZ,EAAcF,CAAC,GAACA,CAAC,CAACU,EAAlB;AAAsB,gBAAG,CAACT,CAAC,GAACD,CAAC,CAACc,GAAL,KAAW,CAACb,CAAC,CAACS,EAAjB,EAAoB,IAAG;AAAC,kBAAG,CAAC1iE,CAAC,GAACiiE,CAAC,CAACe,WAAL,KAAmB,QAAMhjE,CAAC,CAACsmE,wBAA3B,KAAsDrE,CAAC,CAAC/T,QAAF,CAAWluD,CAAC,CAACsmE,wBAAF,CAA2BhhE,CAA3B,CAAX,GAA0C48D,CAAC,GAACD,CAAC,CAACY,GAApG,GAAyG,QAAMZ,CAAC,CAACsE,iBAAR,KAA4BtE,CAAC,CAACsE,iBAAF,CAAoBjhE,CAApB,GAAuB48D,CAAC,GAACD,CAAC,CAACY,GAAvD,CAAzG,EAAqKX,CAAxK,EAA0K,OAAOD,CAAC,CAAC8C,GAAF,GAAM9C,CAAb;AAAe,aAA7L,CAA6L,OAAMD,CAAN,EAAQ;AAAC18D,eAAC,GAAC08D,CAAF;AAAI;AAApP;;AAAoP,gBAAM18D,CAAN;AAAQ,SAA/Q;AAAgR29D,WAAG,EAAC;AAApR,OAAF,EAAyRjB,CAAC,GAAC,WAAS18D,CAAT,EAAW;AAAC,eAAO,QAAMA,CAAN,IAAS,KAAK,CAAL,KAASA,CAAC,CAAC09D,WAA3B;AAAuC,OAA9U,EAA+UI,CAAC,CAAC3lE,SAAF,CAAYywD,QAAZ,GAAqB,UAAS5oD,CAAT,EAAW08D,CAAX,EAAa;AAAC,YAAIC,CAAJ;AAAMA,SAAC,GAAC,QAAM,KAAKgD,GAAX,IAAgB,KAAKA,GAAL,KAAW,KAAKhtC,KAAhC,GAAsC,KAAKgtC,GAA3C,GAA+C,KAAKA,GAAL,GAAS11C,CAAC,CAAC,EAAD,EAAI,KAAK0I,KAAT,CAA3D,EAA2E,cAAY,OAAO3yB,CAAnB,KAAuBA,CAAC,GAACA,CAAC,CAACiqB,CAAC,CAAC,EAAD,EAAI0yC,CAAJ,CAAF,EAAS,KAAKphE,KAAd,CAA1B,CAA3E,EAA2HyE,CAAC,IAAEiqB,CAAC,CAAC0yC,CAAD,EAAG38D,CAAH,CAA/H,EAAqI,QAAMA,CAAN,IAAS,KAAK29D,GAAd,KAAoBjB,CAAC,IAAE,KAAKe,GAAL,CAAS3iE,IAAT,CAAc4hE,CAAd,CAAH,EAAoBuB,CAAC,CAAC,IAAD,CAAzC,CAArI;AAAsL,OAA9iB,EAA+iBH,CAAC,CAAC3lE,SAAF,CAAY+oE,WAAZ,GAAwB,UAASlhE,CAAT,EAAW;AAAC,aAAK29D,GAAL,KAAW,KAAKL,GAAL,GAAS,CAAC,CAAV,EAAYt9D,CAAC,IAAE,KAAKy9D,GAAL,CAAS3iE,IAAT,CAAckF,CAAd,CAAf,EAAgCi+D,CAAC,CAAC,IAAD,CAA5C;AAAoD,OAAvoB,EAAwoBH,CAAC,CAAC3lE,SAAF,CAAYs9C,MAAZ,GAAmBtyC,CAA3pB,EAA6pBw5D,CAAC,GAAC,EAA/pB,EAAkqBjiE,CAAC,GAAC,cAAY,OAAOymE,OAAnB,GAA2BA,OAAO,CAAChpE,SAAR,CAAkButC,IAAlB,CAAuB+Z,IAAvB,CAA4B0hB,OAAO,CAACC,OAAR,EAA5B,CAA3B,GAA0Erd,UAA9uB,EAAyvBvkD,CAAC,CAAC0+D,GAAF,GAAM,CAA/vB,EAAiwBrB,CAAC,GAAC,CAAnwB,C,CACl4R;;;;;;;;;;;;;;;;;ACDA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,S,CAAA;;;AACA,UAAI,OAAOwE,gBAAP,KAA4B,WAAhC,EAA6C;AACzC,cAAM,IAAI/gE,KAAJ,CAAU,oFAAV,CAAN;AACH;;AACD,UAAIghE,SAAS,GAAGD,gBAAgB,CAACC,SAAjC;AACA,UAAI1jC,aAAa,GAAGyjC,gBAAgB,CAACzjC,aAArC;AACA,UAAI6X,MAAM,GAAG4rB,gBAAgB,CAAC5rB,MAA9B;AACA,UAAI0gB,SAAS,GAAGkL,gBAAgB,CAAClL,SAAjC;AACA,UAAIoL,QAAQ,GAAGF,gBAAgB,CAACE,QAAhC;AACA,UAAIC,aAAa,GAAGH,gBAAgB,CAACG,aAArC;AACA,UAAIC,UAAU,GAAGJ,gBAAgB,CAACI,UAAlC;AACA,UAAIC,sBAAsB,GAAGL,gBAAgB,CAACK,sBAA9C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCDaC,UAAU;AACnB,4BACYC,YADZ,EAEYC,MAFZ,EAGYC,qBAHZ,EAGwD;AAAA;;AAF5C,eAAAF,YAAA,GAAAA,YAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,qBAAA,GAAAA,qBAAA;AAEX;;AANkB;AAAA;AAAA,iBAOnB,qBAAYC,KAAZ,EAA2CpvC,KAA3C,EAAuE;AACnE,gBAAMqvC,WAAW,GAAG,KAAKF,qBAAL,CAA2BG,gBAA/C;;AACA,gBAAID,WAAJ,EAAiB;AACb,kBAAIE,gBAAgB,GAAG,EAAvB;;AACA,kBAAI;AACAA,gCAAgB,GAAGF,WAAW,CAACG,IAA/B;AACH,eAFD,CAEE,OAAOC,EAAP,EAAW,CAAG;;AAChB,sBAAQF,gBAAR;AACI,qBAAK,yDAAKG,MAAV;AACI,sBAAI,CAACL,WAAW,CAACM,UAAjB,EAA6B;AACzB,wBAAI,CAACN,WAAW,CAACO,+BAAjB,EAAkD;AAC9C,2BAAKV,MAAL,CAAYW,QAAZ,CAAqB,CAAC,SAAD,CAArB;AACA,2BAAKZ,YAAL,CAAkBvkB,KAAlB,CAAwB,8DAAxB,EAAwF,IAAxF;AACA,6BAAO,KAAP;AACH,qBAJD,MAIO;AACH;AACA,2BAAKukB,YAAL,CAAkBvkB,KAAlB,CAAwB,yDAAxB,EAAmF,IAAnF;AACA,6BAAO,IAAP;AACH;AACJ;;AACD;;AACJ,qBAAK,yDAAKolB,QAAV;AACI,sBAAI,CAACT,WAAW,CAACM,UAAjB,EAA6B;AACzB,4BAAQ3vC,KAAK,CAAC15B,GAAd;AACI,2BAAK,mBAAL;AACI;AACA;;AACJ;AACI,6BAAK2oE,YAAL,CAAkBvkB,KAAlB,CAAwB,oKAAxB,EAA8L,IAA9L;AACA,6BAAKwkB,MAAL,CAAYW,QAAZ,CAAqB,CAAC,mBAAD,CAArB;AACA,+BAAO,KAAP;AACA;AARR;AAUH;;AACD;AA3BR,eALa,CAkCb;;;AACA,kBAAIT,KAAK,CAAC3b,IAAN,CAAWsc,KAAX,IAAoBX,KAAK,CAAC3b,IAAN,CAAWsc,KAAX,CAAiBvuD,OAAjB,CAAyB+tD,gBAAzB,MAA+C,CAAC,CAAxE,EAA2E;AACvE;AACA;AACA,qBAAKL,MAAL,CAAYW,QAAZ,CAAqB,CAAC,GAAD,CAArB;AACA,uBAAO,KAAP;AACH,eAxCY,CAyCb;;;AACA,qBAAO,IAAP;AACH,aA7CkE,CA8CnE;;;AACA,iBAAKX,MAAL,CAAYW,QAAZ,CAAqB,CAAC,QAAD,CAArB,EAAiC;AAAEG,yBAAW,EAAE;AAAEC,yBAAS,EAAEjwC,KAAK,CAAC15B;AAAnB;AAAf,aAAjC;AACA,mBAAO,KAAP;AACH;AAxDkB;;AAAA;AAAA,S;;;;gBALd;;gBAJmE;;gBAGnE;;;;AAMI0oE,gBAAU,6DAHtB,iEAAW;AACRkB,kBAAU,EAAE;AADJ,OAAX,CAGsB,E,+EAEO,6D,EACN,sD,EACe,6F,EAJhB,GAAVlB,UAAU,CAAV;;;;;;;;;;;;;;;;ACVb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;A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A;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AA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","file":"default~borrower-borrower-module~lender-lender-module-es5.js","sourcesContent":["/*!\nFullCalendar v5.5.1\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArrays, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0),\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekText);\n    }\n    else if (display === 'short') {\n        parts.push(weekText, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMinHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []),\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    if (displayEventTime && !eventDef.allDay && (seg.isStart || seg.isEnd)) {\n        var segStart = startOverride || (seg.isStart ? eventInstance.range.start : (seg.start || seg.eventRange.range.start));\n        var segEnd = endOverride || (seg.isEnd ? eventInstance.range.end : (seg.end || seg.eventRange.range.end));\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo,\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArrays([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }),\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES' });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4,\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours',\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nfunction buildNavLinkData(date, type) {\n    if (type === void 0) { type = 'day'; }\n    return JSON.stringify({\n        date: formatDayString(date),\n        type: type,\n    });\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return (this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]);\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime));\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, context) {\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, context) {\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Validation\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isInteractionValid = function (interaction) {\n        var dateProfile = this.props.dateProfile; // HACK\n        var instances = interaction.mutatedEvents.instances;\n        if (dateProfile) { // HACK for MorePopover\n            for (var instanceId in instances) {\n                if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n                    return false;\n                }\n            }\n        }\n        return isInteractionValid(interaction, this.context);\n    };\n    DateComponent.prototype.isDateSelectionValid = function (selection) {\n        var dateProfile = this.props.dateProfile; // HACK\n        if (dateProfile && // HACK for MorePopover\n            !rangeContainsRange(dateProfile.validRange, selection.range)) {\n            return false;\n        }\n        return isDateSelectionValid(selection, this.context);\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-daygrid-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        eventResizeJoinTransforms: input.eventResizeJoinTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        eventResizeJoinTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        eventResizeJoinTransforms: hooks0.eventResizeJoinTransforms.concat(hooks1.eventResizeJoinTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var _a = this, props = _a.props, customContentInfo = _a.customContentInfo;\n        var rawVal = props.content;\n        var innerContent = normalizeContent(rawVal, props.hookProps);\n        var innerContentVDom = null;\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        if (innerContent !== undefined) { // we allow custom content handlers to return nothing\n            if (customContentInfo) {\n                customContentInfo.contentVal = innerContent[customContentInfo.contentKey];\n            }\n            else if (typeof innerContent === 'object') {\n                // look for a prop that would indicate a custom content handler is needed\n                for (var contentKey in contentTypeHandlers) {\n                    if (innerContent[contentKey] !== undefined) {\n                        var stuff = contentTypeHandlers[contentKey]();\n                        customContentInfo = this.customContentInfo = __assign({ contentKey: contentKey, contentVal: innerContent[contentKey] }, stuff);\n                        break;\n                    }\n                }\n            }\n            if (customContentInfo) {\n                innerContentVDom = []; // signal that something was specified\n            }\n            else {\n                innerContentVDom = innerContent; // assume a [p]react vdom node. use it\n            }\n        }\n        return innerContentVDom;\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) {\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            if (!currentDateProfile.activeRange ||\n                !rangeContainsMarker(currentDateProfile.currentRange, action.dateMarker) // don't move if date already in view\n            ) {\n                return dateProfileGenerator.build(action.dateMarker);\n            }\n            break;\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var viewsWithButtons = [];\n    var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    return { headerToolbar: headerToolbar, footerToolbar: footerToolbar, viewsWithButtons: viewsWithButtons };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons); });\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    return sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target);\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]);\n            //            ^ everything else is considered default\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n    })); });\n}\n\nvar eventSourceDef = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef$2 = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef$2],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData,\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: function () { return ({ render: injectHtml }); },\n            domNodes: function () { return ({ render: injectDomNodes }); },\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction injectHtml(el, html) {\n    el.innerHTML = html;\n}\nfunction injectDomNodes(el, domNodes) {\n    var oldNodes = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n    var newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n    if (!isArraysEqual(oldNodes, newNodes)) {\n        for (var _i = 0, newNodes_1 = newNodes; _i < newNodes_1.length; _i++) {\n            var newNode = newNodes_1[_i];\n            el.appendChild(newNode);\n        }\n        oldNodes.forEach(removeElement);\n    }\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (!rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArrays(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\" }, props.title));\n            }\n            else {\n                var ariaAttrs = buttonIcon ? { 'aria-label': buttonName } : {};\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (buttonName === props.activeButton) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                children.push(createElement(\"button\", __assign({ disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick, type: \"button\" }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArrays(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var centerContent = model.center;\n        if (model.left) {\n            forceLtr = true;\n            startContent = model.left;\n        }\n        else {\n            startContent = model.start;\n        }\n        if (model.right) {\n            forceLtr = true;\n            endContent = model.right;\n        }\n        else {\n            endContent = model.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive',\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { ref: this.handleEl, onClick: props.onClick, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.handleNavLinkClick = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.headerToolbar && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.headerToolbar }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick: this.handleNavLinkClick },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footerToolbar && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footerToolbar }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl) {\n        var _a = this.props, dateEnv = _a.dateEnv, options = _a.options, calendarApi = _a.calendarApi;\n        var navLinkOptions = anchorEl.getAttribute('data-navlink');\n        navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n        var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n        var viewType = navLinkOptions.type;\n        var customAction = viewType === 'day' ? options.navLinkDayClick :\n            viewType === 'week' ? options.navLinkWeekClick : null;\n        if (typeof customAction === 'function') {\n            customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n        }\n        else {\n            if (typeof customAction === 'string') {\n                viewType = customAction;\n            }\n            calendarApi.zoomTo(dateMarker, viewType);\n        }\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArrays([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n            ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", null,\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArrays([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArrays([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArrays([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArrays([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArrays([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArrays([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArrays([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArrays([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArrays([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5),\n    };\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '',\n            },\n        }, arg.tableColGroupNode, createElement('tbody', {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArrays(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className,\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        return createElement('table', {\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArrays(['thead', {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArrays(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArrays(['tfoot', {}], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArrays(['tbody', {}], headSectionNodes, bodySectionNodes, footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: scrollerClientWidths[sectionKey] !== undefined ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        });\n        return (createElement(\"td\", { ref: chunkConfig.elRef },\n            createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content))));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent$1, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent$1(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner$1, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner$1(innerProps) {\n    return innerProps.text;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.5.1'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, buildClassNameNormalizer, buildEventApis, buildEventRangeKey, buildHashFromArray, buildNavLinkData, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElSeg, getEventClassNames, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, globalLocales, globalPlugins, greatestDurationDenominator, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, isArraysEqual, isColPropsEqual, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","var n,l,u,i,t,o,r={},f=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(n,l){for(var u in l)n[u]=l[u];return n}function s(n){var l=n.parentNode;l&&l.removeChild(n)}function a(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return v(n,f,i,t,null)}function v(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function h(){return{current:null}}function y(n){return n.children}function p(n,l){this.props=n,this.context=l}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!b.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(b)}function b(){for(var n;b.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=c({},t)).__v=t.__v+1,I(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?d(t):o,t.__h),T(u,t),t.__e!=o&&_(t)))})}function m(n,l,u,i,t,o,e,c,s,a){var h,p,_,k,b,m,w,A=i&&i.__k||f,P=A.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(y,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[h])||_&&k.key==_.key&&k.type===_.type)A[h]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null}I(n,k,_=_||r,t,o,e,c,s,a),b=k.__e,(p=k.ref)&&_.ref!=p&&(w||(w=[]),_.ref&&w.push(_.ref,null,k),w.push(p,k.__c||b,k)),null!=b?(null==m&&(m=b),\"function\"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g(k,s,n):s=x(n,k,_,A,b,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&_.__e==s&&s.parentNode!=n&&(s=d(_))}for(u.__e=m,h=P;h--;)null!=A[h]&&(\"function\"==typeof u.type&&null!=A[h].__e&&A[h].__e==u.__d&&(u.__d=d(i,h+1)),L(A[h],A[h]));if(w)for(h=0;h<w.length;h++)z(w[h],w[++h],w[++h])}function g(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?g(t,l,u):x(u,t,t,n.__k,t.__e,l));return l}function w(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){w(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||e.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?H:$,o):n.removeEventListener(l,o?H:$,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function $(l){this.l[l.type+!1](n.event?n.event(l):l)}function H(l){this.l[l.type+!0](n.event?n.event(l):l)}function I(l,u,i,t,o,r,f,e,s){var a,v,h,d,_,k,b,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(s=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?b=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=M),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=c({},v.__s)),c(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),v.__h.length&&f.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=c(c({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,s),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),b&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=j(i.__e,u,i,t,o,r,f,s);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(s||null!=r)&&(u.__e=e,u.__h=!!s,r[r.indexOf(e)]=null),n.__e(l,u,i)}}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function j(n,l,u,i,t,o,e,c){var a,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if(\"svg\"===_&&(t=!0),null!=o)for(;k<o.length;k++)if((a=o[k])&&(a===n||(_?a.localName==_:3==a.nodeType))){n=a,o[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",_):document.createElement(_,d.is&&d),o=null,c=!1}if(null===_)p===d||c&&n.data===d||(n.data=d);else{if(o=o&&f.slice.call(n.childNodes),v=(p=u.props||r).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"))}if(A(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,m(n,Array.isArray(k)?k:[k],l,u,i,t&&\"foreignObject\"!==_,o,e,n.firstChild,c),null!=o)for(k=o.length;k--;)null!=o[k]&&s(o[k]);c||(\"value\"in d&&void 0!==(k=d.value)&&(k!==n.value||\"progress\"===_&&!k)&&C(n,\"value\",k,p.value,!1),\"checked\"in d&&void 0!==(k=d.checked)&&k!==n.checked&&C(n,\"checked\",k,p.checked,!1))}return n}function z(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||z(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&s(o)}function M(n,l,u){return this.constructor(n,u)}function N(l,u,i){var t,o,e;n.__&&n.__(l,u),o=(t=\"function\"==typeof i)?null:i&&i.__k||u.__k,e=[],I(u,l=(!t&&i||u).__k=a(y,null,[l]),o||r,r,void 0!==u.ownerSVGElement,!t&&i?[i]:o?null:u.firstChild?f.slice.call(u.childNodes):null,e,!t&&i?i:o?o.__e:u.firstChild,t),T(e,l)}function O(n,l){N(n,l,O)}function S(n,l,u){var i,t,o,r=arguments,f=c({},n.props);for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function q(n,l){var u={__c:l=\"__cC\"+o++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n},__v:0},l=function(n){return null!=n&&void 0===n.constructor},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),\"function\"==typeof n&&(n=n(c({},u),this.props)),n&&c(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},p.prototype.render=y,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,o=0;export{N as render,O as hydrate,a as createElement,a as h,y as Fragment,h as createRef,l as isValidElement,p as Component,S as cloneElement,q as createContext,w as toChildArray,n as options};\n//# sourceMappingURL=preact.module.js.map\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n\nexport { Component, Fragment, createContext, createElement, createRef, flushToDom, render, unmountComponentAtNode };\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { Role } from 'src/app/models/role';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { AlertService } from 'src/app/services';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class RolesGuard implements CanActivate {\r\n    constructor(\r\n        private alertService: AlertService,\r\n        private router: Router,\r\n        private authenticationService: AuthenticationService\r\n    ) {\r\n    }\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n        const currentUser = this.authenticationService.currentUserValue;\r\n        if (currentUser) {\r\n            let _currentUserRole = '';\r\n            try {\r\n                _currentUserRole = currentUser.role;\r\n            } catch (ex) { }\r\n            switch (_currentUserRole) {\r\n                case Role.Lender:\r\n                    if (!currentUser.isVerified) {\r\n                        if (!currentUser.isRegisteredAllowed2EditProfile) {\r\n                            this.router.navigate(['/logout']);\r\n                            this.alertService.error(\"Approval is still pending. We will notify you when approved.\", true);\r\n                            return false;\r\n                        } else {\r\n                            //this.router.navigate(['/profile']);\r\n                            this.alertService.error(\"Approval is still pending. Please update required data.\", true);\r\n                            return true;\r\n                        }\r\n                    }\r\n                    break;\r\n                case Role.Borrower:\r\n                    if (!currentUser.isVerified) {\r\n                        switch (state.url) {\r\n                            case '/borrower/profile':\r\n                                //NO Action here\r\n                                break;\r\n                            default:\r\n                                this.alertService.error(\"Your account approval is pending. Please upload educational/work documents and complete your profile to expedite the approval process. Ignore if already uploaded.\", true);\r\n                                this.router.navigate(['/borrower/profile']);\r\n                                return false;\r\n                                break;\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            // check if route is restricted by role\r\n            if (route.data.roles && route.data.roles.indexOf(_currentUserRole) === -1) {\r\n                // role not authorised so redirect to home page\r\n                //alert('1')\r\n                this.router.navigate(['/']);\r\n                return false;\r\n            }\r\n            // authorised so return true\t\r\n            return true;\r\n        }\r\n        // not logged in so redirect to login page with the return url\r\n        this.router.navigate(['/login'], { queryParams: { returnUrl: state.url } });\r\n        return false;\r\n    }\r\n\r\n}\r\n","export default \"\\n/* classes attached to <body> */\\n\\n.fc-not-allowed,\\n.fc-not-allowed .fc-event { /* override events' custom cursors */\\n  cursor: not-allowed;\\n}\\n\\n.fc-unselectable {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n  -webkit-touch-callout: none;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\n.fc {\\n  /* layout of immediate children */\\n  display: flex;\\n  flex-direction: column;\\n\\n  font-size: 1em\\n}\\n\\n.fc,\\n  .fc *,\\n  .fc *:before,\\n  .fc *:after {\\n    box-sizing: border-box;\\n  }\\n\\n.fc table {\\n    border-collapse: collapse;\\n    border-spacing: 0;\\n    font-size: 1em; /* normalize cross-browser */\\n  }\\n\\n.fc th {\\n    text-align: center;\\n  }\\n\\n.fc th,\\n  .fc td {\\n    vertical-align: top;\\n    padding: 0;\\n  }\\n\\n.fc a[data-navlink] {\\n    cursor: pointer;\\n  }\\n\\n.fc a[data-navlink]:hover {\\n    text-decoration: underline;\\n  }\\n\\n.fc-direction-ltr {\\n  direction: ltr;\\n  text-align: left;\\n}\\n\\n.fc-direction-rtl {\\n  direction: rtl;\\n  text-align: right;\\n}\\n\\n.fc-theme-standard td,\\n  .fc-theme-standard th {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n  }\\n\\n/* for FF, which doesn't expand a 100% div within a table cell. use absolute positioning */\\n\\n/* inner-wrappers are responsible for being absolute */\\n\\n/* TODO: best place for this? */\\n\\n.fc-liquid-hack td,\\n  .fc-liquid-hack th {\\n    position: relative;\\n  }\\n\\n@font-face {\\n  font-family: 'fcicons';\\n  src: url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n\\n.fc-icon {\\n  /* added for fc */\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  text-align: center;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n\\n  /* use !important to prevent issues with browser extensions that change fonts */\\n  font-family: 'fcicons' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n\\n  /* Better Font Rendering =========== */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.fc-icon-chevron-left:before {\\n  content: \\\"\\\\e900\\\";\\n}\\n\\n.fc-icon-chevron-right:before {\\n  content: \\\"\\\\e901\\\";\\n}\\n\\n.fc-icon-chevrons-left:before {\\n  content: \\\"\\\\e902\\\";\\n}\\n\\n.fc-icon-chevrons-right:before {\\n  content: \\\"\\\\e903\\\";\\n}\\n\\n.fc-icon-minus-square:before {\\n  content: \\\"\\\\e904\\\";\\n}\\n\\n.fc-icon-plus-square:before {\\n  content: \\\"\\\\e905\\\";\\n}\\n\\n.fc-icon-x:before {\\n  content: \\\"\\\\e906\\\";\\n}\\n\\n/*\\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\\n\\nThese styles only apply when the standard-theme is activated.\\nWhen it's NOT activated, the fc-button classes won't even be in the DOM.\\n*/\\n\\n.fc {\\n\\n  /* reset */\\n\\n}\\n\\n.fc .fc-button {\\n    border-radius: 0;\\n    overflow: visible;\\n    text-transform: none;\\n    margin: 0;\\n    font-family: inherit;\\n    font-size: inherit;\\n    line-height: inherit;\\n  }\\n\\n.fc .fc-button:focus {\\n    outline: 1px dotted;\\n    outline: 5px auto -webkit-focus-ring-color;\\n  }\\n\\n.fc .fc-button {\\n    -webkit-appearance: button;\\n  }\\n\\n.fc .fc-button:not(:disabled) {\\n    cursor: pointer;\\n  }\\n\\n.fc .fc-button::-moz-focus-inner {\\n    padding: 0;\\n    border-style: none;\\n  }\\n\\n.fc {\\n\\n  /* theme */\\n\\n}\\n\\n.fc .fc-button {\\n    display: inline-block;\\n    font-weight: 400;\\n    text-align: center;\\n    vertical-align: middle;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n            user-select: none;\\n    background-color: transparent;\\n    border: 1px solid transparent;\\n    padding: 0.4em 0.65em;\\n    font-size: 1em;\\n    line-height: 1.5;\\n    border-radius: 0.25em;\\n  }\\n\\n.fc .fc-button:hover {\\n    text-decoration: none;\\n  }\\n\\n.fc .fc-button:focus {\\n    outline: 0;\\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\\n  }\\n\\n.fc .fc-button:disabled {\\n    opacity: 0.65;\\n  }\\n\\n.fc {\\n\\n  /* \\\"primary\\\" coloring */\\n\\n}\\n\\n.fc .fc-button-primary {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #2C3E50;\\n    background-color: var(--fc-button-bg-color, #2C3E50);\\n    border-color: #2C3E50;\\n    border-color: var(--fc-button-border-color, #2C3E50);\\n  }\\n\\n.fc .fc-button-primary:hover {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #1e2b37;\\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\\n    border-color: #1a252f;\\n    border-color: var(--fc-button-hover-border-color, #1a252f);\\n  }\\n\\n.fc .fc-button-primary:disabled { /* not DRY */\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #2C3E50;\\n    background-color: var(--fc-button-bg-color, #2C3E50);\\n    border-color: #2C3E50;\\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\\n  }\\n\\n.fc .fc-button-primary:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n\\n.fc .fc-button-primary:not(:disabled):active,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #1a252f;\\n    background-color: var(--fc-button-active-bg-color, #1a252f);\\n    border-color: #151e27;\\n    border-color: var(--fc-button-active-border-color, #151e27);\\n  }\\n\\n.fc .fc-button-primary:not(:disabled):active:focus,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n\\n.fc {\\n\\n  /* icons within buttons */\\n\\n}\\n\\n.fc .fc-button .fc-icon {\\n    vertical-align: middle;\\n    font-size: 1.5em; /* bump up the size (but don't make it bigger than line-height of button, which is 1.5em also) */\\n  }\\n\\n.fc .fc-button-group {\\n    position: relative;\\n    display: inline-flex;\\n    vertical-align: middle;\\n  }\\n\\n.fc .fc-button-group > .fc-button {\\n    position: relative;\\n    flex: 1 1 auto;\\n  }\\n\\n.fc .fc-button-group > .fc-button:hover {\\n    z-index: 1;\\n  }\\n\\n.fc .fc-button-group > .fc-button:focus,\\n  .fc .fc-button-group > .fc-button:active,\\n  .fc .fc-button-group > .fc-button.fc-button-active {\\n    z-index: 1;\\n  }\\n\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\\n    margin-left: -1px;\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\\n    margin-right: -1px;\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n\\n.fc .fc-toolbar {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n  }\\n\\n.fc .fc-toolbar.fc-header-toolbar {\\n    margin-bottom: 1.5em;\\n  }\\n\\n.fc .fc-toolbar.fc-footer-toolbar {\\n    margin-top: 1.5em;\\n  }\\n\\n.fc .fc-toolbar-title {\\n    font-size: 1.75em;\\n    margin: 0;\\n  }\\n\\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\\n    margin-left: .75em; /* space between */\\n  }\\n\\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\\n    margin-right: .75em; /* space between */\\n  }\\n\\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\\n    flex-direction: row-reverse;\\n  }\\n\\n.fc .fc-scroller {\\n    -webkit-overflow-scrolling: touch;\\n    position: relative; /* for abs-positioned elements within */\\n  }\\n\\n.fc .fc-scroller-liquid {\\n    height: 100%;\\n  }\\n\\n.fc .fc-scroller-liquid-absolute {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    left: 0;\\n    bottom: 0;\\n  }\\n\\n.fc .fc-scroller-harness {\\n    position: relative;\\n    overflow: hidden;\\n    direction: ltr;\\n      /* hack for chrome computing the scroller's right/left wrong for rtl. undone below... */\\n      /* TODO: demonstrate in codepen */\\n  }\\n\\n.fc .fc-scroller-harness-liquid {\\n    height: 100%;\\n  }\\n\\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\\n    direction: rtl;\\n  }\\n\\n.fc-theme-standard .fc-scrollgrid {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\\n  }\\n\\n.fc .fc-scrollgrid,\\n    .fc .fc-scrollgrid table { /* all tables (self included) */\\n      width: 100%; /* because tables don't normally do this */\\n      table-layout: fixed;\\n    }\\n\\n.fc .fc-scrollgrid table { /* inner tables */\\n      border-top-style: hidden;\\n      border-left-style: hidden;\\n      border-right-style: hidden;\\n    }\\n\\n.fc .fc-scrollgrid {\\n\\n    border-collapse: separate;\\n    border-right-width: 0;\\n    border-bottom-width: 0;\\n\\n  }\\n\\n.fc .fc-scrollgrid-liquid {\\n    height: 100%;\\n  }\\n\\n.fc .fc-scrollgrid-section { /* a <tr> */\\n    height: 1px /* better than 0, for firefox */\\n\\n  }\\n\\n.fc .fc-scrollgrid-section > td {\\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\\n    }\\n\\n.fc .fc-scrollgrid-section table {\\n      height: 1px;\\n        /* for most browsers, if a height isn't set on the table, can't do liquid-height within cells */\\n        /* serves as a min-height. harmless */\\n    }\\n\\n.fc .fc-scrollgrid-section-liquid {\\n    height: auto\\n\\n  }\\n\\n.fc .fc-scrollgrid-section-liquid > td {\\n      height: 100%; /* better than `auto`, for firefox */\\n    }\\n\\n.fc .fc-scrollgrid-section > * {\\n    border-top-width: 0;\\n    border-left-width: 0;\\n  }\\n\\n.fc .fc-scrollgrid-section-header > *,\\n  .fc .fc-scrollgrid-section-footer > * {\\n    border-bottom-width: 0;\\n  }\\n\\n.fc .fc-scrollgrid-section-body table,\\n  .fc .fc-scrollgrid-section-footer table {\\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\\n  }\\n\\n.fc {\\n\\n  /* stickiness */\\n\\n}\\n\\n.fc .fc-scrollgrid-section-sticky > * {\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n    position: sticky;\\n    z-index: 2; /* TODO: var */\\n    /* TODO: box-shadow when sticking */\\n  }\\n\\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\\n    top: 0; /* because border-sharing causes a gap at the top */\\n      /* TODO: give safari -1. has bug */\\n  }\\n\\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\\n    bottom: 0; /* known bug: bottom-stickiness doesn't work in safari */\\n  }\\n\\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\\n    height: 1px; /* needs height to create scrollbars */\\n    margin-bottom: -1px;\\n  }\\n\\n.fc-sticky { /* no .fc wrap because used as child of body */\\n  position: sticky;\\n}\\n\\n.fc .fc-view-harness {\\n    flex-grow: 1; /* because this harness is WITHIN the .fc's flexbox */\\n    position: relative;\\n  }\\n\\n.fc {\\n\\n  /* when the harness controls the height, make the view liquid */\\n\\n}\\n\\n.fc .fc-view-harness-active > .fc-view {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n  }\\n\\n.fc .fc-col-header-cell-cushion {\\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\\n    padding: 2px 4px;\\n  }\\n\\n.fc .fc-bg-event,\\n  .fc .fc-non-business,\\n  .fc .fc-highlight {\\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n\\n.fc .fc-non-business {\\n    background: rgba(215, 215, 215, 0.3);\\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\\n  }\\n\\n.fc .fc-bg-event {\\n    background: rgb(143, 223, 130);\\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\\n    opacity: 0.3;\\n    opacity: var(--fc-bg-event-opacity, 0.3)\\n  }\\n\\n.fc .fc-bg-event .fc-event-title {\\n      margin: .5em;\\n      font-size: .85em;\\n      font-size: var(--fc-small-font-size, .85em);\\n      font-style: italic;\\n    }\\n\\n.fc .fc-highlight {\\n    background: rgba(188, 232, 241, 0.3);\\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\\n  }\\n\\n.fc .fc-cell-shaded,\\n  .fc .fc-day-disabled {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n\\n/* link resets */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\na.fc-event,\\na.fc-event:hover {\\n  text-decoration: none;\\n}\\n\\n/* cursor */\\n\\n.fc-event[href],\\n.fc-event.fc-event-draggable {\\n  cursor: pointer;\\n}\\n\\n/* event text content */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n.fc-event .fc-event-main {\\n    position: relative;\\n    z-index: 2;\\n  }\\n\\n/* dragging */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\\n    opacity: 0.75;\\n  }\\n\\n.fc-event-dragging.fc-event-selected { /* TOUCH */\\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\\n  }\\n\\n/* resizing */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n/* (subclasses should hone positioning for touch and non-touch) */\\n\\n.fc-event .fc-event-resizer {\\n    display: none;\\n    position: absolute;\\n    z-index: 4;\\n  }\\n\\n.fc-event:hover, /* MOUSE */\\n.fc-event-selected { /* TOUCH */\\n\\n}\\n\\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\\n    display: block;\\n  }\\n\\n.fc-event-selected .fc-event-resizer {\\n    border-radius: 4px;\\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\\n    border-width: 1px;\\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\\n    width: 8px;\\n    width: var(--fc-event-resizer-dot-total-width, 8px);\\n    height: 8px;\\n    height: var(--fc-event-resizer-dot-total-width, 8px);\\n    border-style: solid;\\n    border-color: inherit;\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff)\\n\\n    /* expand hit area */\\n\\n  }\\n\\n.fc-event-selected .fc-event-resizer:before {\\n      content: '';\\n      position: absolute;\\n      top: -20px;\\n      left: -20px;\\n      right: -20px;\\n      bottom: -20px;\\n    }\\n\\n/* selecting (always TOUCH) */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n.fc-event-selected {\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\\n\\n  /* expand hit area (subclasses should expand) */\\n\\n}\\n\\n.fc-event-selected:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    z-index: 3;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n\\n.fc-event-selected {\\n\\n  /* dimmer effect */\\n\\n}\\n\\n.fc-event-selected:after {\\n    content: \\\"\\\";\\n    background: rgba(0, 0, 0, 0.25);\\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\\n    position: absolute;\\n    z-index: 1;\\n\\n    /* assume there's a border on all sides. overcome it. */\\n    /* sometimes there's NOT a border, in which case the dimmer will go over */\\n    /* an adjacent border, which looks fine. */\\n    top: -1px;\\n    left: -1px;\\n    right: -1px;\\n    bottom: -1px;\\n  }\\n\\n/*\\nA HORIZONTAL event\\n*/\\n\\n.fc-h-event { /* allowed to be top-level */\\n  display: block;\\n  border: 1px solid #3788d8;\\n  border: 1px solid var(--fc-event-border-color, #3788d8);\\n  background-color: #3788d8;\\n  background-color: var(--fc-event-bg-color, #3788d8)\\n\\n}\\n\\n.fc-h-event .fc-event-main {\\n    color: #fff;\\n    color: var(--fc-event-text-color, #fff);\\n  }\\n\\n.fc-h-event .fc-event-main-frame {\\n    display: flex; /* for make fc-event-title-container expand */\\n  }\\n\\n.fc-h-event .fc-event-time {\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n\\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n  }\\n\\n.fc-h-event .fc-event-title {\\n    display: inline-block; /* need this to be sticky cross-browser */\\n    vertical-align: top; /* for not messing up line-height */\\n    left: 0;  /* for sticky */\\n    right: 0; /* for sticky */\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n\\n.fc-h-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n\\n/* adjust border and border-radius (if there is any) for non-start/end */\\n\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n  border-left-width: 0;\\n}\\n\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n  border-right-width: 0;\\n}\\n\\n/* resizers */\\n\\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\\n  top: 0;\\n  bottom: 0;\\n  width: 8px;\\n  width: var(--fc-event-resizer-thickness, 8px);\\n}\\n\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\\n  cursor: w-resize;\\n  left: -4px;\\n  left: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n}\\n\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\\n  cursor: e-resize;\\n  right: -4px;\\n  right: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n}\\n\\n/* resizers for TOUCH */\\n\\n.fc-h-event.fc-event-selected .fc-event-resizer {\\n  top: 50%;\\n  margin-top: -4px;\\n  margin-top: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\\n  left: -4px;\\n  left: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\\n  right: -4px;\\n  right: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,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QkFBZ0I7RUFDbEI7O0FBQ0Ysd0NBQXdDLGlEQUFpRDtJQUNyRixZQUFZO0lBQ1osY0FBYztJQUNkLFlBQVksRUFBRSxpREFBaUQ7RUFDakU7O0FBQ0Y7SUFDSSxxQkFBcUIsRUFBRSx5Q0FBeUM7SUFDaEUsbUJBQW1CLEVBQUUsbUNBQW1DO0lBQ3hELE9BQU8sR0FBRyxlQUFlO0lBQ3pCLFFBQVEsRUFBRSxlQUFlO0lBQ3pCLGVBQWUsRUFBRSxrQ0FBa0M7SUFDbkQsZ0JBQWdCO0VBQ2xCOztBQUNGO0lBQ0ksb0JBQW9CO0lBQ3BCLFVBQVU7SUFDVixhQUFhO0VBQ2Y7O0FBQ0Ysd0VBQXdFOztBQUN4RTs7RUFFRSx5QkFBeUI7RUFDekIsNEJBQTRCO0VBQzVCLG9CQUFvQjtBQUN0Qjs7QUFDQTs7RUFFRSwwQkFBMEI7RUFDMUIsNkJBQTZCO0VBQzdCLHFCQUFxQjtBQUN2Qjs7QUFDQSxhQUFhOztBQUNiO0VBQ0UsTUFBTTtFQUNOLFNBQVM7RUFDVCxVQUFVO0VBQ1YsNkNBQTZDO0FBQy9DOztBQUNBOztFQUVFLGdCQUFnQjtFQUNoQixVQUFVO0VBQ1YsdURBQXVEO0FBQ3pEOztBQUNBOztFQUVFLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gsd0RBQXdEO0FBQzFEOztBQUNBLHVCQUF1Qjs7QUFDdkI7RUFDRSxRQUFRO0VBQ1IsZ0JBQWdCO0VBQ2hCLG1FQUFtRTtBQUNyRTs7QUFDQTs7RUFFRSxVQUFVO0VBQ1YsNkRBQTZEO0FBQy9EOztBQUNBOztFQUVFLFdBQVc7RUFDWCw4REFBOEQ7QUFDaEUiLCJmaWxlIjoibWFpbi5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qIGNsYXNzZXMgYXR0YWNoZWQgdG8gPGJvZHk+ICovXG5cbi5mYy1ub3QtYWxsb3dlZCxcbi5mYy1ub3QtYWxsb3dlZCAuZmMtZXZlbnQgeyAvKiBvdmVycmlkZSBldmVudHMnIGN1c3RvbSBjdXJzb3JzICovXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XG59XG5cbi5mYy11bnNlbGVjdGFibGUge1xuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbn1cbi5mYyB7XG4gIC8qIGxheW91dCBvZiBpbW1lZGlhdGUgY2hpbGRyZW4gKi9cbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblxuICBmb250LXNpemU6IDFlbVxufVxuLmZjLFxuICAuZmMgKixcbiAgLmZjICo6YmVmb3JlLFxuICAuZmMgKjphZnRlciB7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuLmZjIHRhYmxlIHtcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgIGJvcmRlci1zcGFjaW5nOiAwO1xuICAgIGZvbnQtc2l6ZTogMWVtOyAvKiBub3JtYWxpemUgY3Jvc3MtYnJvd3NlciAqL1xuICB9XG4uZmMgdGgge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuLmZjIHRoLFxuICAuZmMgdGQge1xuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XG4gICAgcGFkZGluZzogMDtcbiAgfVxuLmZjIGFbZGF0YS1uYXZsaW5rXSB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG4uZmMgYVtkYXRhLW5hdmxpbmtdOmhvdmVyIHtcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgfVxuLmZjLWRpcmVjdGlvbi1sdHIge1xuICBkaXJlY3Rpb246IGx0cjtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cbi5mYy1kaXJlY3Rpb24tcnRsIHtcbiAgZGlyZWN0aW9uOiBydGw7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuLmZjLXRoZW1lLXN0YW5kYXJkIHRkLFxuICAuZmMtdGhlbWUtc3RhbmRhcmQgdGgge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZmMtYm9yZGVyLWNvbG9yLCAjZGRkKTtcbiAgfVxuLyogZm9yIEZGLCB3aGljaCBkb2Vzbid0IGV4cGFuZCBhIDEwMCUgZGl2IHdpdGhpbiBhIHRhYmxlIGNlbGwuIHVzZSBhYnNvbHV0ZSBwb3NpdGlvbmluZyAqL1xuLyogaW5uZXItd3JhcHBlcnMgYXJlIHJlc3BvbnNpYmxlIGZvciBiZWluZyBhYnNvbHV0ZSAqL1xuLyogVE9ETzogYmVzdCBwbGFjZSBmb3IgdGhpcz8gKi9cbi5mYy1saXF1aWQtaGFjayB0ZCxcbiAgLmZjLWxpcXVpZC1oYWNrIHRoIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cblxuQGZvbnQtZmFjZSB7XG4gIGZvbnQtZmFtaWx5OiAnZmNpY29ucyc7XG4gIHNyYzogdXJsKFwiZGF0YTphcHBsaWNhdGlvbi94LWZvbnQtdHRmO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LEFBRUFBQUFMQUlBQUF3QXdUMU12TWc4U0JmQUFBQUM4QUFBQVlHTnRZWEFYVnRLTkFBQUJIQUFBQUZSbllYTndBQUFBRUFBQUFYQUFBQUFJWjJ4NVpnWXlkeElBQUFGNEFBQUZOR2hsWVdRVUo3Y0lBQUFHckFBQUFEWm9hR1ZoQjIwRHpBQUFCdVFBQUFBa2FHMTBlQ0lBQmhRQUFBY0lBQUFBTEd4dlkyRUQ0QVU2QUFBSE5BQUFBQmh0WVhod0FBOEFqQUFBQjB3QUFBQWdibUZ0WlhzcjY5MEFBQWRzQUFBQmhuQnZjM1FBQXdBQUFBQUk5QUFBQUNBQUF3UEFBWkFBQlFBQUFwa0N6QUFBQUk4Q21RTE1BQUFCNndBekFRa0FBQUFBQUFBQUFBQUFBQUFBQUFBQkVBQUFBQUFBQUFBQUFBQUFBQUFBQUFCQUFBRHBCZ1BBLzhBQVFBUEFBRUFBQUFBQkFBQUFBQUFBQUFBQUFBQWdBQUFBQUFBREFBQUFBd0FBQUJ3QUFRQURBQUFBSEFBREFBRUFBQUFjQUFRQU9BQUFBQW9BQ0FBQ0FBSUFBUUFnNlFiLy9mLy9BQUFBQUFBZzZRRC8vZi8vQUFILzR4Y0VBQU1BQVFBQUFBQUFBQUFBQUFBQUFRQUIvLzhBRHdBQkFBQUFBQUFBQUFBQUFnQUFOemtCQUFBQUFBRUFBQUFBQUFBQUFBQUNBQUEzT1FFQUFBQUFBUUFBQUFBQUFBQUFBQUlBQURjNUFRQUFBQUFCQVdJQWpRS2VBc2tBRXdBQUpTYzNOalFuSmlJSEFRWVVGd0VXTWpjMk5DY0NudUxpRFEwTUpBei9BQTBOQVFBTUpBd05EY25pNGd3akRRd00vd0FOSXd6L0FBME5EQ01OQUFBQUFRRmlBSTBDbmdMSkFCTUFBQ1VCTmpRbkFTWWlCd1lVSHdFSEJoUVhGakkzQVo0QkFBME4vd0FNSkF3TkRlTGlEUTBNSkF5TkFRQU1JdzBCQUF3TURTTU00dUlOSXd3TkRRQUFBQUlBNGdDM0F4NENuZ0FUQUNjQUFDVW5OelkwSnlZaUR3RUdGQjhCRmpJM05qUW5JU2MzTmpRbkppSVBBUVlVSHdFV01qYzJOQ2NCODdlM0RRME1JdzNWRFEzVkRTTU1EUTBCSzdlM0RRME1KQXpWRFEzVkRDUU1EUTN6dUxjTUpBd05EZFVOSXd6V0RBd05Jd3k0dHd3a0RBME4xUTBqRE5ZTURBMGpEQUFBQWdEaUFMY0RIZ0tlQUJNQUp3QUFKVGMyTkM4QkppSUhCaFFmQVFjR0ZCY1dNamNoTnpZMEx3RW1JZ2NHRkI4QkJ3WVVGeFl5TndKSjFRME4xUTBqREEwTnQ3Y05EUXdqRGY3VjFRME4xUXdrREEwTnQ3Y05EUXdrRExmV0RDTU4xUTBORENRTXQ3Z01JdzBNRE5ZTUl3M1ZEUTBNSkF5M3VBd2pEUXdNQUFBREFGVUFBQU9yQTFVQU13Qm9BSGNBQUJNaUJnY09BUWNPQVFjT0FSVVJGQllYSGdFWEhnRVhIZ0V6SVRJMk56NEJOejRCTno0Qk5SRTBKaWN1QVNjdUFTY3VBU01GSVRJV0Z4NEJGeDRCRng0QkZSRVVCZ2NPQVFjT0FRY09BU01oSWlZbkxnRW5MZ0VuTGdFMUVUUTJOejRCTno0Qk56NEJNeE1oTWpZMU5DWWpJU0lHRlJRV005VU5HQXdMRlFrSkRnVUZCUVVGQlE0SkNSVUxEQmdOQWxZTkdBd0xGUWtKRGdVRkJRVUZCUTRKQ1JVTERCZ04vYW9DVmdRSUJBUUhBd01GQVFJQkFRSUJCUU1EQndRRUNBVDlxZ1FJQkFRSEF3TUZBUUlCQVFJQkJRTURCd1FFQ0FTQUFWWVJHUmtSL3FvUkdSa1JBMVVGQkFVT0NRa1ZEQXNaRGYyckRSa0xEQlVKQ0E0RkJRVUZCUVVPQ1FnVkRBc1pEUUpWRFJrTERCVUpDUTRGQkFWVkFnRUNCUU1DQndRRUNBWDlxd1FKQXdRSEF3TUZBUUlDQWdJQkJRTURCd1FEQ1FRQ1ZRVUlCQVFIQWdNRkFnRUMvb0FaRWhFWkdSRVNHUUFBQUFBREFGVUFBQU9yQTFVQU13Qm9BSWtBQUJNaUJnY09BUWNPQVFjT0FSVVJGQllYSGdFWEhnRVhIZ0V6SVRJMk56NEJOejRCTno0Qk5SRTBKaWN1QVNjdUFTY3VBU01GSVRJV0Z4NEJGeDRCRng0QkZSRVVCZ2NPQVFjT0FRY09BU01oSWlZbkxnRW5MZ0VuTGdFMUVUUTJOejRCTno0Qk56NEJNeE16RlJRV016STJQUUV6TWpZMU5DWXJBVFUwSmlNaUJoMEJJeUlHRlJRV005VU5HQXdMRlFrSkRnVUZCUVVGQlE0SkNSVUxEQmdOQWxZTkdBd0xGUWtKRGdVRkJRVUZCUTRKQ1JVTERCZ04vYW9DVmdRSUJBUUhBd01GQVFJQkFRSUJCUU1EQndRRUNBVDlxZ1FJQkFRSEF3TUZBUUlCQVFJQkJRTURCd1FFQ0FTQWdCa1NFaG1BRVJrWkVZQVpFaElaZ0JFWkdSRURWUVVFQlE0SkNSVU1DeGtOL2FzTkdRc01GUWtJRGdVRkJRVUZCUTRKQ0JVTUN4a05BbFVOR1FzTUZRa0pEZ1VFQlZVQ0FRSUZBd0lIQkFRSUJmMnJCQWtEQkFjREF3VUJBZ0lDQWdFRkF3TUhCQU1KQkFKVkJRZ0VCQWNDQXdVQ0FRTCtnSUFTR1JrU2dCa1NFUm1BRWhrWkVvQVpFUklaQUFBQkFPSUFqUU1lQXNrQUlBQUFFeGNIQmhRWEZqSS9BUmNXTWpjMk5DOEJOelkwSnlZaUR3RW5KaUlIQmhRWDR1TGlEUTBNSkF6aTRnd2tEQTBONHVJTkRRd2tET0xpRENRTURRMENqZUxpRFNNTURRM2g0UTBORENNTjR1SU1JdzBNRE9MaURBd05Jd3dBQUFBQkFBQUFBUUFBYTVuMHkxOFBQUFVBQ3dRQUFBQUFBTml2T1ZzQUFBQUEySzg1V3dBQUFBQURxd05WQUFBQUNBQUNBQUFBQUFBQUFBRUFBQVBBLzhBQUFBUUFBQUFBQUFPckFBRUFBQUFBQUFBQUFBQUFBQUFBQUFBTEJBQUFBQUFBQUFBQUFBQUFBZ0FBQUFRQUFXSUVBQUZpQkFBQTRnUUFBT0lFQUFCVkJBQUFWUVFBQU9JQUFBQUFBQW9BRkFBZUFFUUFhZ0NxQU9vQm5nSmtBcG9BQVFBQUFBc0FpZ0FEQUFBQUFBQUNBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQTRBcmdBQkFBQUFBQUFCQUFjQUFBQUJBQUFBQUFBQ0FBY0FZQUFCQUFBQUFBQURBQWNBTmdBQkFBQUFBQUFFQUFjQWRRQUJBQUFBQUFBRkFBc0FGUUFCQUFBQUFBQUdBQWNBU3dBQkFBQUFBQUFLQUJvQWlnQURBQUVFQ1FBQkFBNEFCd0FEQUFFRUNRQUNBQTRBWndBREFBRUVDUUFEQUE0QVBRQURBQUVFQ1FBRUFBNEFmQUFEQUFFRUNRQUZBQllBSUFBREFBRUVDUUFHQUE0QVVnQURBQUVFQ1FBS0FEUUFwR1pqYVdOdmJuTUFaZ0JqQUdrQVl3QnZBRzRBYzFabGNuTnBiMjRnTVM0d0FGWUFaUUJ5QUhNQWFRQnZBRzRBSUFBeEFDNEFNR1pqYVdOdmJuTUFaZ0JqQUdrQVl3QnZBRzRBYzJaamFXTnZibk1BWmdCakFHa0FZd0J2QUc0QWMxSmxaM1ZzWVhJQVVnQmxBR2NBZFFCc0FHRUFjbVpqYVdOdmJuTUFaZ0JqQUdrQVl3QnZBRzRBYzBadmJuUWdaMlZ1WlhKaGRHVmtJR0o1SUVsamIwMXZiMjR1QUVZQWJ3QnVBSFFBSUFCbkFHVUFiZ0JsQUhJQVlRQjBBR1VBWkFBZ0FHSUFlUUFnQUVrQVl3QnZBRTBBYndCdkFHNEFMZ0FBQUFNQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQT1cIikgZm9ybWF0KCd0cnVldHlwZScpO1xuICBmb250LXdlaWdodDogbm9ybWFsO1xuICBmb250LXN0eWxlOiBub3JtYWw7XG59XG5cbi5mYy1pY29uIHtcbiAgLyogYWRkZWQgZm9yIGZjICovXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgd2lkdGg6IDFlbTtcbiAgaGVpZ2h0OiAxZW07XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcblxuICAvKiB1c2UgIWltcG9ydGFudCB0byBwcmV2ZW50IGlzc3VlcyB3aXRoIGJyb3dzZXIgZXh0ZW5zaW9ucyB0aGF0IGNoYW5nZSBmb250cyAqL1xuICBmb250LWZhbWlseTogJ2ZjaWNvbnMnICFpbXBvcnRhbnQ7XG4gIHNwZWFrOiBub25lO1xuICBmb250LXN0eWxlOiBub3JtYWw7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIGZvbnQtdmFyaWFudDogbm9ybWFsO1xuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgbGluZS1oZWlnaHQ6IDE7XG5cbiAgLyogQmV0dGVyIEZvbnQgUmVuZGVyaW5nID09PT09PT09PT09ICovXG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xufVxuXG4uZmMtaWNvbi1jaGV2cm9uLWxlZnQ6YmVmb3JlIHtcbiAgY29udGVudDogXCJcXGU5MDBcIjtcbn1cblxuLmZjLWljb24tY2hldnJvbi1yaWdodDpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwMVwiO1xufVxuXG4uZmMtaWNvbi1jaGV2cm9ucy1sZWZ0OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXFxlOTAyXCI7XG59XG5cbi5mYy1pY29uLWNoZXZyb25zLXJpZ2h0OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXFxlOTAzXCI7XG59XG5cbi5mYy1pY29uLW1pbnVzLXNxdWFyZTpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwNFwiO1xufVxuXG4uZmMtaWNvbi1wbHVzLXNxdWFyZTpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwNVwiO1xufVxuXG4uZmMtaWNvbi14OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXFxlOTA2XCI7XG59XG4vKlxuTG90cyB0YWtlbiBmcm9tIEZsYXRseSAoTUlUKTogaHR0cHM6Ly9ib290c3dhdGNoLmNvbS80L2ZsYXRseS9ib290c3RyYXAuY3NzXG5cblRoZXNlIHN0eWxlcyBvbmx5IGFwcGx5IHdoZW4gdGhlIHN0YW5kYXJkLXRoZW1lIGlzIGFjdGl2YXRlZC5cbldoZW4gaXQncyBOT1QgYWN0aXZhdGVkLCB0aGUgZmMtYnV0dG9uIGNsYXNzZXMgd29uJ3QgZXZlbiBiZSBpbiB0aGUgRE9NLlxuKi9cbi5mYyB7XG5cbiAgLyogcmVzZXQgKi9cblxufVxuLmZjIC5mYy1idXR0b24ge1xuICAgIGJvcmRlci1yYWRpdXM6IDA7XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG4gICAgbWFyZ2luOiAwO1xuICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcbiAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcbiAgfVxuLmZjIC5mYy1idXR0b246Zm9jdXMge1xuICAgIG91dGxpbmU6IDFweCBkb3R0ZWQ7XG4gICAgb3V0bGluZTogNXB4IGF1dG8gLXdlYmtpdC1mb2N1cy1yaW5nLWNvbG9yO1xuICB9XG4uZmMgLmZjLWJ1dHRvbiB7XG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBidXR0b247XG4gIH1cbi5mYyAuZmMtYnV0dG9uOm5vdCg6ZGlzYWJsZWQpIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbi5mYyAuZmMtYnV0dG9uOjotbW96LWZvY3VzLWlubmVyIHtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGJvcmRlci1zdHlsZTogbm9uZTtcbiAgfVxuLmZjIHtcblxuICAvKiB0aGVtZSAqL1xuXG59XG4uZmMgLmZjLWJ1dHRvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBwYWRkaW5nOiAwLjRlbSAwLjY1ZW07XG4gICAgZm9udC1zaXplOiAxZW07XG4gICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICBib3JkZXItcmFkaXVzOiAwLjI1ZW07XG4gIH1cbi5mYyAuZmMtYnV0dG9uOmhvdmVyIHtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIH1cbi5mYyAuZmMtYnV0dG9uOmZvY3VzIHtcbiAgICBvdXRsaW5lOiAwO1xuICAgIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDQ0LCA2MiwgODAsIDAuMjUpO1xuICB9XG4uZmMgLmZjLWJ1dHRvbjpkaXNhYmxlZCB7XG4gICAgb3BhY2l0eTogMC42NTtcbiAgfVxuLmZjIHtcblxuICAvKiBcInByaW1hcnlcIiBjb2xvcmluZyAqL1xuXG59XG4uZmMgLmZjLWJ1dHRvbi1wcmltYXJ5IHtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBjb2xvcjogdmFyKC0tZmMtYnV0dG9uLXRleHQtY29sb3IsICNmZmYpO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMyQzNFNTA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWJnLWNvbG9yLCAjMkMzRTUwKTtcbiAgICBib3JkZXItY29sb3I6ICMyQzNFNTA7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1mYy1idXR0b24tYm9yZGVyLWNvbG9yLCAjMkMzRTUwKTtcbiAgfVxuLmZjIC5mYy1idXR0b24tcHJpbWFyeTpob3ZlciB7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgY29sb3I6IHZhcigtLWZjLWJ1dHRvbi10ZXh0LWNvbG9yLCAjZmZmKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWUyYjM3O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1ob3Zlci1iZy1jb2xvciwgIzFlMmIzNyk7XG4gICAgYm9yZGVyLWNvbG9yOiAjMWEyNTJmO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWhvdmVyLWJvcmRlci1jb2xvciwgIzFhMjUyZik7XG4gIH1cbi5mYyAuZmMtYnV0dG9uLXByaW1hcnk6ZGlzYWJsZWQgeyAvKiBub3QgRFJZICovXG4gICAgY29sb3I6ICNmZmY7XG4gICAgY29sb3I6IHZhcigtLWZjLWJ1dHRvbi10ZXh0LWNvbG9yLCAjZmZmKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMkMzRTUwO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1iZy1jb2xvciwgIzJDM0U1MCk7XG4gICAgYm9yZGVyLWNvbG9yOiAjMkMzRTUwO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWJvcmRlci1jb2xvciwgIzJDM0U1MCk7IC8qIG92ZXJyaWRlcyA6aG92ZXIgKi9cbiAgfVxuLmZjIC5mYy1idXR0b24tcHJpbWFyeTpmb2N1cyB7XG4gICAgYm94LXNoYWRvdzogMCAwIDAgMC4ycmVtIHJnYmEoNzYsIDkxLCAxMDYsIDAuNSk7XG4gIH1cbi5mYyAuZmMtYnV0dG9uLXByaW1hcnk6bm90KDpkaXNhYmxlZCk6YWN0aXZlLFxuICAuZmMgLmZjLWJ1dHRvbi1wcmltYXJ5Om5vdCg6ZGlzYWJsZWQpLmZjLWJ1dHRvbi1hY3RpdmUge1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1idXR0b24tdGV4dC1jb2xvciwgI2ZmZik7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFhMjUyZjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1idXR0b24tYWN0aXZlLWJnLWNvbG9yLCAjMWEyNTJmKTtcbiAgICBib3JkZXItY29sb3I6ICMxNTFlMjc7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1mYy1idXR0b24tYWN0aXZlLWJvcmRlci1jb2xvciwgIzE1MWUyNyk7XG4gIH1cbi5mYyAuZmMtYnV0dG9uLXByaW1hcnk6bm90KDpkaXNhYmxlZCk6YWN0aXZlOmZvY3VzLFxuICAuZmMgLmZjLWJ1dHRvbi1wcmltYXJ5Om5vdCg6ZGlzYWJsZWQpLmZjLWJ1dHRvbi1hY3RpdmU6Zm9jdXMge1xuICAgIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDc2LCA5MSwgMTA2LCAwLjUpO1xuICB9XG4uZmMge1xuXG4gIC8qIGljb25zIHdpdGhpbiBidXR0b25zICovXG5cbn1cbi5mYyAuZmMtYnV0dG9uIC5mYy1pY29uIHtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgIGZvbnQtc2l6ZTogMS41ZW07IC8qIGJ1bXAgdXAgdGhlIHNpemUgKGJ1dCBkb24ndCBtYWtlIGl0IGJpZ2dlciB0aGFuIGxpbmUtaGVpZ2h0IG9mIGJ1dHRvbiwgd2hpY2ggaXMgMS41ZW0gYWxzbykgKi9cbiAgfVxuLmZjIC5mYy1idXR0b24tZ3JvdXAge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b24ge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBmbGV4OiAxIDEgYXV0bztcbiAgfVxuLmZjIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uOmhvdmVyIHtcbiAgICB6LWluZGV4OiAxO1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246Zm9jdXMsXG4gIC5mYyAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbjphY3RpdmUsXG4gIC5mYyAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbi5mYy1idXR0b24tYWN0aXZlIHtcbiAgICB6LWluZGV4OiAxO1xuICB9XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbjpub3QoOmZpcnN0LWNoaWxkKSB7XG4gICAgbWFyZ2luLWxlZnQ6IC0xcHg7XG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDtcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwO1xuICB9XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbjpub3QoOmxhc3QtY2hpbGQpIHtcbiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDtcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246bm90KDpmaXJzdC1jaGlsZCkge1xuICAgIG1hcmdpbi1yaWdodDogLTFweDtcbiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDtcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246bm90KDpsYXN0LWNoaWxkKSB7XG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDtcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwO1xuICB9XG4uZmMgLmZjLXRvb2xiYXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cbi5mYyAuZmMtdG9vbGJhci5mYy1oZWFkZXItdG9vbGJhciB7XG4gICAgbWFyZ2luLWJvdHRvbTogMS41ZW07XG4gIH1cbi5mYyAuZmMtdG9vbGJhci5mYy1mb290ZXItdG9vbGJhciB7XG4gICAgbWFyZ2luLXRvcDogMS41ZW07XG4gIH1cbi5mYyAuZmMtdG9vbGJhci10aXRsZSB7XG4gICAgZm9udC1zaXplOiAxLjc1ZW07XG4gICAgbWFyZ2luOiAwO1xuICB9XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtdG9vbGJhciA+ICogPiA6bm90KDpmaXJzdC1jaGlsZCkge1xuICAgIG1hcmdpbi1sZWZ0OiAuNzVlbTsgLyogc3BhY2UgYmV0d2VlbiAqL1xuICB9XG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtdG9vbGJhciA+ICogPiA6bm90KDpmaXJzdC1jaGlsZCkge1xuICAgIG1hcmdpbi1yaWdodDogLjc1ZW07IC8qIHNwYWNlIGJldHdlZW4gKi9cbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXRvb2xiYXItbHRyIHsgLyogd2hlbiB0aGUgdG9vbGJhci1jaHVuayBwb3NpdGlvbmluZyBzeXN0ZW0gaXMgZXhwbGljaXRseSBsZWZ0LXRvLXJpZ2h0ICovXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xuICB9XG4uZmMgLmZjLXNjcm9sbGVyIHtcbiAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiBmb3IgYWJzLXBvc2l0aW9uZWQgZWxlbWVudHMgd2l0aGluICovXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZXItbGlxdWlkIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbi5mYyAuZmMtc2Nyb2xsZXItbGlxdWlkLWFic29sdXRlIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICB9XG4uZmMgLmZjLXNjcm9sbGVyLWhhcm5lc3Mge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGRpcmVjdGlvbjogbHRyO1xuICAgICAgLyogaGFjayBmb3IgY2hyb21lIGNvbXB1dGluZyB0aGUgc2Nyb2xsZXIncyByaWdodC9sZWZ0IHdyb25nIGZvciBydGwuIHVuZG9uZSBiZWxvdy4uLiAqL1xuICAgICAgLyogVE9ETzogZGVtb25zdHJhdGUgaW4gY29kZXBlbiAqL1xuICB9XG4uZmMgLmZjLXNjcm9sbGVyLWhhcm5lc3MtbGlxdWlkIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1zY3JvbGxlci1oYXJuZXNzID4gLmZjLXNjcm9sbGVyIHsgLyogdW5kbyBhYm92ZSBoYWNrICovXG4gICAgZGlyZWN0aW9uOiBydGw7XG4gIH1cbi5mYy10aGVtZS1zdGFuZGFyZCAuZmMtc2Nyb2xsZ3JpZCB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1mYy1ib3JkZXItY29sb3IsICNkZGQpOyAvKiBib290c3RyYXAgZG9lcyB0aGlzLiBtYXRjaCAqL1xuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQsXG4gICAgLmZjIC5mYy1zY3JvbGxncmlkIHRhYmxlIHsgLyogYWxsIHRhYmxlcyAoc2VsZiBpbmNsdWRlZCkgKi9cbiAgICAgIHdpZHRoOiAxMDAlOyAvKiBiZWNhdXNlIHRhYmxlcyBkb24ndCBub3JtYWxseSBkbyB0aGlzICovXG4gICAgICB0YWJsZS1sYXlvdXQ6IGZpeGVkO1xuICAgIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZCB0YWJsZSB7IC8qIGlubmVyIHRhYmxlcyAqL1xuICAgICAgYm9yZGVyLXRvcC1zdHlsZTogaGlkZGVuO1xuICAgICAgYm9yZGVyLWxlZnQtc3R5bGU6IGhpZGRlbjtcbiAgICAgIGJvcmRlci1yaWdodC1zdHlsZTogaGlkZGVuO1xuICAgIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZCB7XG5cbiAgICBib3JkZXItY29sbGFwc2U6IHNlcGFyYXRlO1xuICAgIGJvcmRlci1yaWdodC13aWR0aDogMDtcbiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAwO1xuXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1saXF1aWQge1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24geyAvKiBhIDx0cj4gKi9cbiAgICBoZWlnaHQ6IDFweCAvKiBiZXR0ZXIgdGhhbiAwLCBmb3IgZmlyZWZveCAqL1xuXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uID4gdGQge1xuICAgICAgaGVpZ2h0OiAxcHg7IC8qIG5lZWRzIGEgaGVpZ2h0IHNvIGlubmVyIGRpdiB3aXRoaW4gZ3Jvdy4gYmV0dGVyIHRoYW4gMCwgZm9yIGZpcmVmb3ggKi9cbiAgICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbiB0YWJsZSB7XG4gICAgICBoZWlnaHQ6IDFweDtcbiAgICAgICAgLyogZm9yIG1vc3QgYnJvd3NlcnMsIGlmIGEgaGVpZ2h0IGlzbid0IHNldCBvbiB0aGUgdGFibGUsIGNhbid0IGRvIGxpcXVpZC1oZWlnaHQgd2l0aGluIGNlbGxzICovXG4gICAgICAgIC8qIHNlcnZlcyBhcyBhIG1pbi1oZWlnaHQuIGhhcm1sZXNzICovXG4gICAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24tbGlxdWlkIHtcbiAgICBoZWlnaHQ6IGF1dG9cblxuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1saXF1aWQgPiB0ZCB7XG4gICAgICBoZWlnaHQ6IDEwMCU7IC8qIGJldHRlciB0aGFuIGBhdXRvYCwgZm9yIGZpcmVmb3ggKi9cbiAgICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbiA+ICoge1xuICAgIGJvcmRlci10b3Atd2lkdGg6IDA7XG4gICAgYm9yZGVyLWxlZnQtd2lkdGg6IDA7XG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWhlYWRlciA+ICosXG4gIC5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWZvb3RlciA+ICoge1xuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDA7XG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWJvZHkgdGFibGUsXG4gIC5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWZvb3RlciB0YWJsZSB7XG4gICAgYm9yZGVyLWJvdHRvbS1zdHlsZTogaGlkZGVuOyAvKiBoZWFkIGtlZXBzIGl0cyBib3R0b20gYm9yZGVyIHRobyAqL1xuICB9XG4uZmMge1xuXG4gIC8qIHN0aWNraW5lc3MgKi9cblxufVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24tc3RpY2t5ID4gKiB7XG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mYy1wYWdlLWJnLWNvbG9yLCAjZmZmKTtcbiAgICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gICAgcG9zaXRpb246IHN0aWNreTtcbiAgICB6LWluZGV4OiAyOyAvKiBUT0RPOiB2YXIgKi9cbiAgICAvKiBUT0RPOiBib3gtc2hhZG93IHdoZW4gc3RpY2tpbmcgKi9cbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24taGVhZGVyLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1zdGlja3kgPiAqIHtcbiAgICB0b3A6IDA7IC8qIGJlY2F1c2UgYm9yZGVyLXNoYXJpbmcgY2F1c2VzIGEgZ2FwIGF0IHRoZSB0b3AgKi9cbiAgICAgIC8qIFRPRE86IGdpdmUgc2FmYXJpIC0xLiBoYXMgYnVnICovXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWZvb3Rlci5mYy1zY3JvbGxncmlkLXNlY3Rpb24tc3RpY2t5ID4gKiB7XG4gICAgYm90dG9tOiAwOyAvKiBrbm93biBidWc6IGJvdHRvbS1zdGlja2luZXNzIGRvZXNuJ3Qgd29yayBpbiBzYWZhcmkgKi9cbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXN0aWNreS1zaGltIHsgLyogZm9yIGhvcml6b250YWwgc2Nyb2xsYmFyICovXG4gICAgaGVpZ2h0OiAxcHg7IC8qIG5lZWRzIGhlaWdodCB0byBjcmVhdGUgc2Nyb2xsYmFycyAqL1xuICAgIG1hcmdpbi1ib3R0b206IC0xcHg7XG4gIH1cbi5mYy1zdGlja3kgeyAvKiBubyAuZmMgd3JhcCBiZWNhdXNlIHVzZWQgYXMgY2hpbGQgb2YgYm9keSAqL1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG59XG4uZmMgLmZjLXZpZXctaGFybmVzcyB7XG4gICAgZmxleC1ncm93OiAxOyAvKiBiZWNhdXNlIHRoaXMgaGFybmVzcyBpcyBXSVRISU4gdGhlIC5mYydzIGZsZXhib3ggKi9cbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cbi5mYyB7XG5cbiAgLyogd2hlbiB0aGUgaGFybmVzcyBjb250cm9scyB0aGUgaGVpZ2h0LCBtYWtlIHRoZSB2aWV3IGxpcXVpZCAqL1xuXG59XG4uZmMgLmZjLXZpZXctaGFybmVzcy1hY3RpdmUgPiAuZmMtdmlldyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgfVxuLmZjIC5mYy1jb2wtaGVhZGVyLWNlbGwtY3VzaGlvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyAvKiB4LWJyb3dzZXIgZm9yIHdoZW4gc3RpY2t5ICh3aGVuIG11bHRpLXRpZXIgaGVhZGVyKSAqL1xuICAgIHBhZGRpbmc6IDJweCA0cHg7XG4gIH1cbi5mYyAuZmMtYmctZXZlbnQsXG4gIC5mYyAuZmMtbm9uLWJ1c2luZXNzLFxuICAuZmMgLmZjLWhpZ2hsaWdodCB7XG4gICAgLyogd2lsbCBhbHdheXMgaGF2ZSBhIGhhcm5lc3Mgd2l0aCBwb3NpdGlvbjpyZWxhdGl2ZS9hYnNvbHV0ZSwgc28gYWJzb2x1dGVseSBleHBhbmQgKi9cbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICB9XG4uZmMgLmZjLW5vbi1idXNpbmVzcyB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyMTUsIDIxNSwgMjE1LCAwLjMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLW5vbi1idXNpbmVzcy1jb2xvciwgcmdiYSgyMTUsIDIxNSwgMjE1LCAwLjMpKTtcbiAgfVxuLmZjIC5mYy1iZy1ldmVudCB7XG4gICAgYmFja2dyb3VuZDogcmdiKDE0MywgMjIzLCAxMzApO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLWJnLWV2ZW50LWNvbG9yLCByZ2IoMTQzLCAyMjMsIDEzMCkpO1xuICAgIG9wYWNpdHk6IDAuMztcbiAgICBvcGFjaXR5OiB2YXIoLS1mYy1iZy1ldmVudC1vcGFjaXR5LCAwLjMpXG4gIH1cbi5mYyAuZmMtYmctZXZlbnQgLmZjLWV2ZW50LXRpdGxlIHtcbiAgICAgIG1hcmdpbjogLjVlbTtcbiAgICAgIGZvbnQtc2l6ZTogLjg1ZW07XG4gICAgICBmb250LXNpemU6IHZhcigtLWZjLXNtYWxsLWZvbnQtc2l6ZSwgLjg1ZW0pO1xuICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgIH1cbi5mYyAuZmMtaGlnaGxpZ2h0IHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDE4OCwgMjMyLCAyNDEsIDAuMyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtaGlnaGxpZ2h0LWNvbG9yLCByZ2JhKDE4OCwgMjMyLCAyNDEsIDAuMykpO1xuICB9XG4uZmMgLmZjLWNlbGwtc2hhZGVkLFxuICAuZmMgLmZjLWRheS1kaXNhYmxlZCB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyMDgsIDIwOCwgMjA4LCAwLjMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLW5ldXRyYWwtYmctY29sb3IsIHJnYmEoMjA4LCAyMDgsIDIwOCwgMC4zKSk7XG4gIH1cbi8qIGxpbmsgcmVzZXRzICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5hLmZjLWV2ZW50LFxuYS5mYy1ldmVudDpob3ZlciB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cbi8qIGN1cnNvciAqL1xuLmZjLWV2ZW50W2hyZWZdLFxuLmZjLWV2ZW50LmZjLWV2ZW50LWRyYWdnYWJsZSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbi8qIGV2ZW50IHRleHQgY29udGVudCAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLmZjLWV2ZW50IC5mYy1ldmVudC1tYWluIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMjtcbiAgfVxuLyogZHJhZ2dpbmcgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi5mYy1ldmVudC1kcmFnZ2luZzpub3QoLmZjLWV2ZW50LXNlbGVjdGVkKSB7IC8qIE1PVVNFICovXG4gICAgb3BhY2l0eTogMC43NTtcbiAgfVxuLmZjLWV2ZW50LWRyYWdnaW5nLmZjLWV2ZW50LXNlbGVjdGVkIHsgLyogVE9VQ0ggKi9cbiAgICBib3gtc2hhZG93OiAwIDJweCA3cHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICB9XG4vKiByZXNpemluZyAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogKHN1YmNsYXNzZXMgc2hvdWxkIGhvbmUgcG9zaXRpb25pbmcgZm9yIHRvdWNoIGFuZCBub24tdG91Y2gpICovXG4uZmMtZXZlbnQgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDQ7XG4gIH1cbi5mYy1ldmVudDpob3ZlciwgLyogTU9VU0UgKi9cbi5mYy1ldmVudC1zZWxlY3RlZCB7IC8qIFRPVUNIICovXG5cbn1cbi5mYy1ldmVudDpob3ZlciAuZmMtZXZlbnQtcmVzaXplciwgLmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuLmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyIHtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYm9yZGVyLXJhZGl1czogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIDIpO1xuICAgIGJvcmRlci13aWR0aDogMXB4O1xuICAgIGJvcmRlci13aWR0aDogdmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtYm9yZGVyLXdpZHRoLCAxcHgpO1xuICAgIHdpZHRoOiA4cHg7XG4gICAgd2lkdGg6IHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItZG90LXRvdGFsLXdpZHRoLCA4cHgpO1xuICAgIGhlaWdodDogOHB4O1xuICAgIGhlaWdodDogdmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCk7XG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICBib3JkZXItY29sb3I6IGluaGVyaXQ7XG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mYy1wYWdlLWJnLWNvbG9yLCAjZmZmKVxuXG4gICAgLyogZXhwYW5kIGhpdCBhcmVhICovXG5cbiAgfVxuLmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyOmJlZm9yZSB7XG4gICAgICBjb250ZW50OiAnJztcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogLTIwcHg7XG4gICAgICBsZWZ0OiAtMjBweDtcbiAgICAgIHJpZ2h0OiAtMjBweDtcbiAgICAgIGJvdHRvbTogLTIwcHg7XG4gICAgfVxuLyogc2VsZWN0aW5nIChhbHdheXMgVE9VQ0gpICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4uZmMtZXZlbnQtc2VsZWN0ZWQge1xuICBib3gtc2hhZG93OiAwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpXG5cbiAgLyogZXhwYW5kIGhpdCBhcmVhIChzdWJjbGFzc2VzIHNob3VsZCBleHBhbmQpICovXG5cbn1cbi5mYy1ldmVudC1zZWxlY3RlZDpiZWZvcmUge1xuICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDM7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICB9XG4uZmMtZXZlbnQtc2VsZWN0ZWQge1xuXG4gIC8qIGRpbW1lciBlZmZlY3QgKi9cblxufVxuLmZjLWV2ZW50LXNlbGVjdGVkOmFmdGVyIHtcbiAgICBjb250ZW50OiBcIlwiO1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtZXZlbnQtc2VsZWN0ZWQtb3ZlcmxheS1jb2xvciwgcmdiYSgwLCAwLCAwLCAwLjI1KSk7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDE7XG5cbiAgICAvKiBhc3N1bWUgdGhlcmUncyBhIGJvcmRlciBvbiBhbGwgc2lkZXMuIG92ZXJjb21lIGl0LiAqL1xuICAgIC8qIHNvbWV0aW1lcyB0aGVyZSdzIE5PVCBhIGJvcmRlciwgaW4gd2hpY2ggY2FzZSB0aGUgZGltbWVyIHdpbGwgZ28gb3ZlciAqL1xuICAgIC8qIGFuIGFkamFjZW50IGJvcmRlciwgd2hpY2ggbG9va3MgZmluZS4gKi9cbiAgICB0b3A6IC0xcHg7XG4gICAgbGVmdDogLTFweDtcbiAgICByaWdodDogLTFweDtcbiAgICBib3R0b206IC0xcHg7XG4gIH1cbi8qXG5BIEhPUklaT05UQUwgZXZlbnRcbiovXG4uZmMtaC1ldmVudCB7IC8qIGFsbG93ZWQgdG8gYmUgdG9wLWxldmVsICovXG4gIGRpc3BsYXk6IGJsb2NrO1xuICBib3JkZXI6IDFweCBzb2xpZCAjMzc4OGQ4O1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1mYy1ldmVudC1ib3JkZXItY29sb3IsICMzNzg4ZDgpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzc4OGQ4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1ldmVudC1iZy1jb2xvciwgIzM3ODhkOClcblxufVxuLmZjLWgtZXZlbnQgLmZjLWV2ZW50LW1haW4ge1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1ldmVudC10ZXh0LWNvbG9yLCAjZmZmKTtcbiAgfVxuLmZjLWgtZXZlbnQgLmZjLWV2ZW50LW1haW4tZnJhbWUge1xuICAgIGRpc3BsYXk6IGZsZXg7IC8qIGZvciBtYWtlIGZjLWV2ZW50LXRpdGxlLWNvbnRhaW5lciBleHBhbmQgKi9cbiAgfVxuLmZjLWgtZXZlbnQgLmZjLWV2ZW50LXRpbWUge1xuICAgIG1heC13aWR0aDogMTAwJTsgLyogY2xpcCBvdmVyZmxvdyBvbiB0aGlzIGVsZW1lbnQgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG4uZmMtaC1ldmVudCAuZmMtZXZlbnQtdGl0bGUtY29udGFpbmVyIHsgLyogc2VydmVzIGFzIGEgY29udGFpbmVyIGZvciB0aGUgc3RpY2t5IGN1c2hpb24gKi9cbiAgICBmbGV4LWdyb3c6IDE7XG4gICAgZmxleC1zaHJpbms6IDE7XG4gICAgbWluLXdpZHRoOiAwOyAvKiBpbXBvcnRhbnQgZm9yIGFsbG93aW5nIHRvIHNocmluayBhbGwgdGhlIHdheSAqL1xuICB9XG4uZmMtaC1ldmVudCAuZmMtZXZlbnQtdGl0bGUge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsgLyogbmVlZCB0aGlzIHRvIGJlIHN0aWNreSBjcm9zcy1icm93c2VyICovXG4gICAgdmVydGljYWwtYWxpZ246IHRvcDsgLyogZm9yIG5vdCBtZXNzaW5nIHVwIGxpbmUtaGVpZ2h0ICovXG4gICAgbGVmdDogMDsgIC8qIGZvciBzdGlja3kgKi9cbiAgICByaWdodDogMDsgLyogZm9yIHN0aWNreSAqL1xuICAgIG1heC13aWR0aDogMTAwJTsgLyogY2xpcCBvdmVyZmxvdyBvbiB0aGlzIGVsZW1lbnQgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG4uZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZDpiZWZvcmUge1xuICAgIC8qIGV4cGFuZCBoaXQgYXJlYSAqL1xuICAgIHRvcDogLTEwcHg7XG4gICAgYm90dG9tOiAtMTBweDtcbiAgfVxuLyogYWRqdXN0IGJvcmRlciBhbmQgYm9yZGVyLXJhZGl1cyAoaWYgdGhlcmUgaXMgYW55KSBmb3Igbm9uLXN0YXJ0L2VuZCAqL1xuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWRheWdyaWQtYmxvY2stZXZlbnQ6bm90KC5mYy1ldmVudC1zdGFydCksXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtZGF5Z3JpZC1ibG9jay1ldmVudDpub3QoLmZjLWV2ZW50LWVuZCkge1xuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwO1xuICBib3JkZXItbGVmdC13aWR0aDogMDtcbn1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1kYXlncmlkLWJsb2NrLWV2ZW50Om5vdCguZmMtZXZlbnQtZW5kKSxcbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1kYXlncmlkLWJsb2NrLWV2ZW50Om5vdCguZmMtZXZlbnQtc3RhcnQpIHtcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwO1xuICBib3JkZXItcmlnaHQtd2lkdGg6IDA7XG59XG4vKiByZXNpemVycyAqL1xuLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICB0b3A6IDA7XG4gIGJvdHRvbTogMDtcbiAgd2lkdGg6IDhweDtcbiAgd2lkdGg6IHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpO1xufVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItc3RhcnQsXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtaC1ldmVudDpub3QoLmZjLWV2ZW50LXNlbGVjdGVkKSAuZmMtZXZlbnQtcmVzaXplci1lbmQge1xuICBjdXJzb3I6IHctcmVzaXplO1xuICBsZWZ0OiAtNHB4O1xuICBsZWZ0OiBjYWxjKHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpIC8gLTIpO1xufVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItZW5kLFxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItc3RhcnQge1xuICBjdXJzb3I6IGUtcmVzaXplO1xuICByaWdodDogLTRweDtcbiAgcmlnaHQ6IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci10aGlja25lc3MsIDhweCkgLyAtMik7XG59XG4vKiByZXNpemVycyBmb3IgVE9VQ0ggKi9cbi5mYy1oLWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyIHtcbiAgdG9wOiA1MCU7XG4gIG1hcmdpbi10b3A6IC00cHg7XG4gIG1hcmdpbi10b3A6IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCkgLyAtMik7XG59XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplci1zdGFydCxcbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1oLWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyLWVuZCB7XG4gIGxlZnQ6IC00cHg7XG4gIGxlZnQ6IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCkgLyAtMik7XG59XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplci1lbmQsXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplci1zdGFydCB7XG4gIHJpZ2h0OiAtNHB4O1xuICByaWdodDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIC0yKTtcbn1cbiJdfQ== */\";","import deepEqual from 'fast-deep-equal';\nimport { Component, ViewEncapsulation, ElementRef, Input, NgModule } from '@angular/core';\nimport { Calendar, globalPlugins } from '@fullcalendar/core';\nimport * as ɵngcc0 from '@angular/core';\nexport * from '@fullcalendar/core';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = Object.assign({}, val);\n        }\n    }\n    return val;\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n\nclass FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.optionSnapshot = {}; // for diffing only\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = this.options || {};\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        this.calendar = new Calendar(this.element.nativeElement, options);\n        this.calendar.render();\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = this.options || {};\n            const newProcessedOptions = {};\n            let anyChanges = false;\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            anyChanges = true;\n                            // trick FC into knowing about a nested change.\n                            // TODO: future versions won't need this.\n                            // can't use the previously-made deep copy because it blows away prototype-association.\n                            optionVal = shallowCopy(optionVal);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            anyChanges = true;\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions(newProcessedOptions);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    getApi() {\n        return this.calendar;\n    }\n}\nFullCalendarComponent.ɵfac = function FullCalendarComponent_Factory(t) { return new (t || FullCalendarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFullCalendarComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: FullCalendarComponent, selectors: [[\"full-calendar\"]], inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\" }, decls: 0, vars: 0, template: function FullCalendarComponent_Template(rf, ctx) { }, styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-moz-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-webkit-font-smoothing:antialiased;-webkit-user-select:none;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;speak:none;text-align:center;text-transform:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{-moz-user-select:none;-webkit-user-select:none;background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:hover{background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:disabled{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid{height:auto}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:2}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic;margin:.5em}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:#fff;background:var(--fc-page-bg-color,#fff);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px)/2);border-width:1px;height:8px;height:var(--fc-event-resizer-dot-total-width,8px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after{background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}:root{--fc-daygrid-event-dot-width:8px}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:fixed;top:0}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:#fff;background:var(--fc-page-bg-color,#fff);border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:2px 3px 0}.fc .fc-daygrid-more-link{cursor:pointer;position:relative;z-index:4}.fc .fc-daygrid-week-number{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover{z-index:8}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-event-harness{position:absolute}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-condensed .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-condensed .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-condensed .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-media-screen .fc-timegrid-event{bottom:1px;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-now-indicator-line{border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red);left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{align-items:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:\\\"\\\";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"], encapsulation: 2 });\nFullCalendarComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\nFullCalendarComponent.propDecorators = {\n    options: [{ type: Input }],\n    deepChangeDetection: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarComponent, [{\n        type: Component,\n        args: [{\n                selector: 'full-calendar',\n                template: '',\n                encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                ,\n                styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-moz-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-webkit-font-smoothing:antialiased;-webkit-user-select:none;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;speak:none;text-align:center;text-transform:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{-moz-user-select:none;-webkit-user-select:none;background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:hover{background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:disabled{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid{height:auto}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:2}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic;margin:.5em}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:#fff;background:var(--fc-page-bg-color,#fff);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px)/2);border-width:1px;height:8px;height:var(--fc-event-resizer-dot-total-width,8px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after{background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}:root{--fc-daygrid-event-dot-width:8px}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:fixed;top:0}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:#fff;background:var(--fc-page-bg-color,#fff);border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:2px 3px 0}.fc .fc-daygrid-more-link{cursor:pointer;position:relative;z-index:4}.fc .fc-daygrid-week-number{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover{z-index:8}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-event-harness{position:absolute}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-condensed .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-condensed .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-condensed .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-media-screen .fc-timegrid-event{bottom:1px;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-now-indicator-line{border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red);left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{align-items:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:\\\"\\\";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { options: [{\n            type: Input\n        }], deepChangeDetection: [{\n            type: Input\n        }] }); })();\n\nclass FullCalendarModule {\n    static registerPlugins(plugins) {\n        globalPlugins.push(...plugins);\n    }\n}\nFullCalendarModule.ɵfac = function FullCalendarModule_Factory(t) { return new (t || FullCalendarModule)(); };\nFullCalendarModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: FullCalendarModule });\nFullCalendarModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ imports: [[]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FullCalendarModule, { declarations: [FullCalendarComponent], exports: [FullCalendarComponent] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [FullCalendarComponent],\n                imports: [],\n                exports: [FullCalendarComponent]\n            }]\n    }], null, null); })();\n\n/*\n * Public API Surface of fullcalendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n\n//# sourceMappingURL=fullcalendar-angular.js.map","/*!\nFullCalendar v5.5.0\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, DateComponent, renderScrollShim, buildNavLinkData, DayCellContent, Fragment, BaseComponent, createFormatter, setRef, DayCellRoot, WeekNumberRoot, RenderHook, buildSegTimeText, EventRoot, StandardEvent, sortEventSegs, addDays, intersectRanges, RefMap, isPropsEqual, getSegMeta, buildEventRangeKey, BgEvent, renderFill, PositionCache, mapHash, DelayedRunner, applyStyle, memoize, NowTimer, EventApi, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArrays } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = this.context.options.navLinks\n            ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            setRef(_this.props.elRef, el);\n        };\n        _this.handleMoreLinkClick = function (ev) {\n            var props = _this.props;\n            if (props.onMoreClick) {\n                var allSegs = props.segsByEachCol;\n                var hiddenSegs = allSegs.filter(function (seg) { return props.segIsHidden[seg.eventRange.instance.instanceId]; });\n                props.onMoreClick({\n                    date: props.date,\n                    allSegs: allSegs,\n                    hiddenSegs: hiddenSegs,\n                    moreCnt: props.moreCnt,\n                    dayEl: _this.rootEl,\n                    ev: ev,\n                });\n            }\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var hookProps = {\n            num: props.moreCnt,\n            text: props.buildMoreLinkText(props.moreCnt),\n            view: viewApi,\n        };\n        var navLinkAttrs = options.navLinks\n            ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef, style: { paddingBottom: props.fgPaddingBottom } },\n                    props.fgContent,\n                    Boolean(props.moreCnt) && (createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(RenderHook, { hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"a\", { ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), onClick: _this.handleMoreLinkClick }, innerContent)); })))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\nTableCell.addPropsEquality({\n    onMoreClick: true,\n});\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nfunction computeFgSegPlacement(// for one row. TODO: print mode?\ncellModels, segs, dayMaxEvents, dayMaxEventRows, eventHeights, maxContentHeight, colCnt, eventOrderSpecs) {\n    var colPlacements = []; // if event spans multiple cols, its present in each col\n    var moreCnts = []; // by-col\n    var segIsHidden = {};\n    var segTops = {}; // always populated for each seg\n    var segMarginTops = {}; // simetimes populated for each seg\n    var moreTops = {};\n    var paddingBottoms = {}; // for each cell's inner-wrapper div\n    for (var i = 0; i < colCnt; i += 1) {\n        colPlacements.push([]);\n        moreCnts.push(0);\n    }\n    segs = sortEventSegs(segs, eventOrderSpecs);\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventHeights[instanceId + ':' + seg.firstCol];\n        placeSeg(seg, eventHeight || 0); // will keep colPlacements sorted by top\n    }\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        limitByMaxHeight(moreCnts, segIsHidden, colPlacements, maxContentHeight); // populates moreCnts/segIsHidden\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        limitByMaxEvents(moreCnts, segIsHidden, colPlacements, dayMaxEvents); // populates moreCnts/segIsHidden\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        limitByMaxRows(moreCnts, segIsHidden, colPlacements, dayMaxEventRows); // populates moreCnts/segIsHidden\n    }\n    // computes segTops/segMarginTops/moreTops/paddingBottoms\n    for (var col = 0; col < colCnt; col += 1) {\n        var placements = colPlacements[col];\n        var currentNonAbsBottom = 0;\n        var currentAbsHeight = 0;\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            var seg = placement.seg;\n            if (!segIsHidden[seg.eventRange.instance.instanceId]) {\n                segTops[seg.eventRange.instance.instanceId] = placement.top; // from top of container\n                if (seg.firstCol === seg.lastCol && seg.isStart && seg.isEnd) { // TODO: simpler way? NOT DRY\n                    segMarginTops[seg.eventRange.instance.instanceId] =\n                        placement.top - currentNonAbsBottom; // from previous seg bottom\n                    currentAbsHeight = 0;\n                    currentNonAbsBottom = placement.bottom;\n                }\n                else { // multi-col event, abs positioned\n                    currentAbsHeight = placement.bottom - currentNonAbsBottom;\n                }\n            }\n        }\n        if (currentAbsHeight) {\n            if (moreCnts[col]) {\n                moreTops[col] = currentAbsHeight;\n            }\n            else {\n                paddingBottoms[col] = currentAbsHeight;\n            }\n        }\n    }\n    function placeSeg(seg, segHeight) {\n        if (!tryPlaceSegAt(seg, segHeight, 0)) {\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                for (var _i = 0, _a = colPlacements[col]; _i < _a.length; _i++) { // will repeat multi-day segs!!!!!!! bad!!!!!!\n                    var placement = _a[_i];\n                    if (tryPlaceSegAt(seg, segHeight, placement.bottom)) {\n                        return;\n                    }\n                }\n            }\n        }\n    }\n    function tryPlaceSegAt(seg, segHeight, top) {\n        if (canPlaceSegAt(seg, segHeight, top)) {\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                var placements = colPlacements[col];\n                var insertionIndex = 0;\n                while (insertionIndex < placements.length &&\n                    top >= placements[insertionIndex].top) {\n                    insertionIndex += 1;\n                }\n                placements.splice(insertionIndex, 0, {\n                    seg: seg,\n                    top: top,\n                    bottom: top + segHeight,\n                });\n            }\n            return true;\n        }\n        return false;\n    }\n    function canPlaceSegAt(seg, segHeight, top) {\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            for (var _i = 0, _a = colPlacements[col]; _i < _a.length; _i++) {\n                var placement = _a[_i];\n                if (top < placement.bottom && top + segHeight > placement.top) { // collide?\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    // what does this do!?\n    for (var instanceIdAndFirstCol in eventHeights) {\n        if (!eventHeights[instanceIdAndFirstCol]) {\n            segIsHidden[instanceIdAndFirstCol.split(':')[0]] = true;\n        }\n    }\n    var segsByFirstCol = colPlacements.map(extractFirstColSegs); // operates on the sorted cols\n    var segsByEachCol = colPlacements.map(function (placements, col) {\n        var segsForCols = extractAllColSegs(placements);\n        segsForCols = resliceDaySegs(segsForCols, cellModels[col].date, col);\n        return segsForCols;\n    });\n    return {\n        segsByFirstCol: segsByFirstCol,\n        segsByEachCol: segsByEachCol,\n        segIsHidden: segIsHidden,\n        segTops: segTops,\n        segMarginTops: segMarginTops,\n        moreCnts: moreCnts,\n        moreTops: moreTops,\n        paddingBottoms: paddingBottoms,\n    };\n}\nfunction extractFirstColSegs(oneColPlacements, col) {\n    var segs = [];\n    for (var _i = 0, oneColPlacements_1 = oneColPlacements; _i < oneColPlacements_1.length; _i++) {\n        var placement = oneColPlacements_1[_i];\n        if (placement.seg.firstCol === col) {\n            segs.push(placement.seg);\n        }\n    }\n    return segs;\n}\nfunction extractAllColSegs(oneColPlacements) {\n    var segs = [];\n    for (var _i = 0, oneColPlacements_2 = oneColPlacements; _i < oneColPlacements_2.length; _i++) {\n        var placement = oneColPlacements_2[_i];\n        segs.push(placement.seg);\n    }\n    return segs;\n}\nfunction limitByMaxHeight(hiddenCnts, segIsHidden, colPlacements, maxContentHeight) {\n    limitEvents(hiddenCnts, segIsHidden, colPlacements, true, function (placement) { return placement.bottom <= maxContentHeight; });\n}\nfunction limitByMaxEvents(hiddenCnts, segIsHidden, colPlacements, dayMaxEvents) {\n    limitEvents(hiddenCnts, segIsHidden, colPlacements, false, function (placement, levelIndex) { return levelIndex < dayMaxEvents; });\n}\nfunction limitByMaxRows(hiddenCnts, segIsHidden, colPlacements, dayMaxEventRows) {\n    limitEvents(hiddenCnts, segIsHidden, colPlacements, true, function (placement, levelIndex) { return levelIndex < dayMaxEventRows; });\n}\n/*\npopulates the given hiddenCnts/segIsHidden, which are supplied empty.\nTODO: return them instead\n*/\nfunction limitEvents(hiddenCnts, segIsHidden, colPlacements, _moreLinkConsumesLevel, isPlacementInBounds) {\n    var colCnt = hiddenCnts.length;\n    var segIsVisible = {}; // TODO: instead, use segIsHidden with true/false?\n    var visibleColPlacements = []; // will mirror colPlacements\n    for (var col = 0; col < colCnt; col += 1) {\n        visibleColPlacements.push([]);\n    }\n    for (var col = 0; col < colCnt; col += 1) {\n        var placements = colPlacements[col];\n        var level = 0;\n        for (var _i = 0, placements_2 = placements; _i < placements_2.length; _i++) {\n            var placement = placements_2[_i];\n            if (isPlacementInBounds(placement, level)) {\n                recordVisible(placement);\n            }\n            else {\n                recordHidden(placement, level, _moreLinkConsumesLevel);\n            }\n            // only considered a level if the seg had height\n            if (placement.top !== placement.bottom) {\n                level += 1;\n            }\n        }\n    }\n    function recordVisible(placement) {\n        var seg = placement.seg;\n        var instanceId = seg.eventRange.instance.instanceId;\n        if (!segIsVisible[instanceId]) {\n            segIsVisible[instanceId] = true;\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                var destPlacements = visibleColPlacements[col];\n                var newPosition = 0;\n                // insert while keeping top sorted in each column\n                while (newPosition < destPlacements.length &&\n                    placement.top >= destPlacements[newPosition].top) {\n                    newPosition += 1;\n                }\n                destPlacements.splice(newPosition, 0, placement);\n            }\n        }\n    }\n    function recordHidden(placement, currentLevel, moreLinkConsumesLevel) {\n        var seg = placement.seg;\n        var instanceId = seg.eventRange.instance.instanceId;\n        if (!segIsHidden[instanceId]) {\n            segIsHidden[instanceId] = true;\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                hiddenCnts[col] += 1;\n                var hiddenCnt = hiddenCnts[col];\n                if (moreLinkConsumesLevel && hiddenCnt === 1 && currentLevel > 0) {\n                    var doomedLevel = currentLevel - 1;\n                    while (visibleColPlacements[col].length > doomedLevel) {\n                        recordHidden(visibleColPlacements[col].pop(), // removes\n                        visibleColPlacements[col].length, // will execute after the pop. will be the index of the removed placement\n                        false);\n                    }\n                }\n            }\n        }\n    }\n}\n// Given the events within an array of segment objects, reslice them to be in a single day\nfunction resliceDaySegs(segs, dayDate, colIndex) {\n    var dayStart = dayDate;\n    var dayEnd = addDays(dayStart, 1);\n    var dayRange = { start: dayStart, end: dayEnd };\n    var newSegs = [];\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        var eventRange = seg.eventRange;\n        var origRange = eventRange.range;\n        var slicedRange = intersectRanges(origRange, dayRange);\n        if (slicedRange) {\n            newSegs.push(__assign(__assign({}, seg), { firstCol: colIndex, lastCol: colIndex, eventRange: {\n                    def: eventRange.def,\n                    ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n                    instance: eventRange.instance,\n                    range: slicedRange,\n                }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() }));\n        }\n    }\n    return newSegs;\n}\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            segHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(props.cells, props.fgEventSegs, props.dayMaxEvents, props.dayMaxEventRows, state.segHeights, state.maxContentHeight, colCnt, context.options.eventOrder), paddingBottoms = _b.paddingBottoms, segsByFirstCol = _b.segsByFirstCol, segsByEachCol = _b.segsByEachCol, segIsHidden = _b.segIsHidden, segTops = _b.segTops, segMarginTops = _b.segMarginTops, moreCnts = _b.moreCnts, moreTops = _b.moreTops;\n        var selectedInstanceHash = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(segsByFirstCol[col], segIsHidden, segTops, segMarginTops, selectedInstanceHash, props.todayRange);\n                var mirrorFgNodes = _this.renderFgSegs(mirrorSegsByCol[col], {}, segTops, // use same tops as real rendering\n                {}, {}, props.todayRange, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, moreCnt: moreCnts[col], buildMoreLinkText: props.buildMoreLinkText, onMoreClick: function (arg) {\n                        props.onMoreClick(__assign(__assign({}, arg), { fromCol: col }));\n                    }, segIsHidden: segIsHidden, moreMarginTop: moreTops[col] /* rename */, segsByEachCol: segsByEachCol[col], fgPaddingBottom: paddingBottoms[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (segs, segIsHidden, // does NOT mean display:hidden\n    segTops, segMarginTops, selectedInstanceHash, todayRange, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isMirror = isDragging || isResizing || isDateSelecting;\n                var isSelected = selectedInstanceHash[instanceId];\n                var isInvisible = segIsHidden[instanceId] || isSelected;\n                // TODO: simpler way? NOT DRY\n                var isAbsolute = segIsHidden[instanceId] || isMirror || seg.firstCol !== seg.lastCol || !seg.isStart || !seg.isEnd;\n                var marginTop = void 0;\n                var top_1 = void 0;\n                var left = void 0;\n                var right = void 0;\n                if (isAbsolute) {\n                    top_1 = segTops[instanceId];\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                else {\n                    marginTop = segMarginTops[instanceId];\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: instanceId, \n                    // in print mode when in mult cols, could collide\n                    ref: isMirror ? null : this.segHarnessRefs.createRef(instanceId + ':' + seg.firstCol), style: {\n                        visibility: isInvisible ? 'hidden' : '',\n                        marginTop: marginTop || '',\n                        top: top_1 || '',\n                        left: left || '',\n                        right: right || '',\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n                var seg = segs_2[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArrays([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (props.clientWidth !== null) { // positioning ready?\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                segHeights: this.computeSegHeights(),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.computeSegHeights = function () {\n        return mapHash(this.segHarnessRefs.currentMap, function (eventHarnessEl) { return (eventHarnessEl.getBoundingClientRect().height); });\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addPropsEquality({\n    onMoreClick: true,\n});\nTableRow.addStateEquality({\n    segHeights: isPropsEqual,\n});\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar SCROLL_DEBOUNCE = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.repositioner = new DelayedRunner(_this.updateSize.bind(_this));\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMousedown = function (ev) {\n            var onClose = _this.props.onClose;\n            // only hide the popover if the click happened outside the popover\n            if (onClose && !_this.rootEl.contains(ev.target)) {\n                onClose();\n            }\n        };\n        _this.handleDocumentScroll = function () {\n            _this.repositioner.request(SCROLL_DEBOUNCE);\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var theme = this.context.theme;\n        var props = this.props;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return (createElement(\"div\", __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\" }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)));\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMousedown);\n        document.addEventListener('scroll', this.handleDocumentScroll);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMousedown);\n        document.removeEventListener('scroll', this.handleDocumentScroll);\n    };\n    // TODO: adjust on window resize\n    /*\n    NOTE: the popover is position:fixed, so coordinates are relative to the viewport\n    NOTE: the PARENT calls this as well, on window resize. we would have wanted to use the repositioner,\n          but need to ensure that all other components have updated size first (for alignmentEl)\n    */\n    Popover.prototype.updateSize = function () {\n        var _a = this.props, alignmentEl = _a.alignmentEl, topAlignmentEl = _a.topAlignmentEl;\n        var rootEl = this.rootEl;\n        if (!rootEl) {\n            return; // not sure why this was null, but we shouldn't let external components call updateSize() anyway\n        }\n        var dims = rootEl.getBoundingClientRect(); // only used for width,height\n        var alignment = alignmentEl.getBoundingClientRect();\n        var top = topAlignmentEl ? topAlignmentEl.getBoundingClientRect().top : alignment.top;\n        top = Math.min(top, window.innerHeight - dims.height - PADDING_FROM_VIEWPORT);\n        top = Math.max(top, PADDING_FROM_VIEWPORT);\n        var left;\n        if (this.context.isRtl) {\n            left = alignment.right - dims.width;\n        }\n        else {\n            left = alignment.left;\n        }\n        left = Math.min(left, window.innerWidth - dims.width - PADDING_FROM_VIEWPORT);\n        left = Math.max(left, PADDING_FROM_VIEWPORT);\n        applyStyle(rootEl, { top: top, left: left });\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var date = props.date, hiddenInstances = props.hiddenInstances, todayRange = props.todayRange, dateProfile = props.dateProfile, selectedInstanceId = props.selectedInstanceId;\n        var title = dateEnv.format(date, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: todayRange, elRef: this.rootElRef }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs, onClose: props.onCloseClick, alignmentEl: props.alignmentEl, topAlignmentEl: props.topAlignmentEl },\n            createElement(DayCellContent, { date: date, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.segs.map(function (seg) {\n                var instanceId = seg.eventRange.instance.instanceId;\n                return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                        visibility: hiddenInstances[instanceId] ? 'hidden' : '',\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === selectedInstanceId, defaultDisplayEventEnd: false }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === selectedInstanceId, defaultDisplayEventEnd: false }, getSegMeta(seg, todayRange))))));\n            }))); }));\n    };\n    MorePopover.prototype.positionToHit = function (positionLeft, positionTop, originEl) {\n        var rootEl = this.rootElRef.current;\n        if (!originEl || !rootEl) { // why?\n            return null;\n        }\n        var originRect = originEl.getBoundingClientRect();\n        var elRect = rootEl.getBoundingClientRect();\n        var newOriginLeft = elRect.left - originRect.left;\n        var newOriginTop = elRect.top - originRect.top;\n        var localLeft = positionLeft - newOriginLeft;\n        var localTop = positionTop - newOriginTop;\n        var date = this.props.date;\n        if ( // ugly way to detect intersection\n        localLeft >= 0 && localLeft < elRect.width &&\n            localTop >= 0 && localTop < elRect.height) {\n            return {\n                dateSpan: {\n                    allDay: true,\n                    range: { start: date, end: addDays(date, 1) },\n                },\n                dayEl: rootEl,\n                relativeRect: {\n                    left: newOriginLeft,\n                    top: newOriginTop,\n                    right: elRect.width,\n                    bottom: elRect.height,\n                },\n                layer: 1,\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.buildBuildMoreLinkText = memoize(buildBuildMoreLinkText);\n        _this.morePopoverRef = createRef();\n        _this.rowRefs = new RefMap();\n        _this.state = {\n            morePopoverState: null,\n        };\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            setRef(_this.props.elRef, rootEl);\n        };\n        // TODO: bad names \"more link click\" versus \"more click\"\n        _this.handleMoreLinkClick = function (arg) {\n            var context = _this.context;\n            var dateEnv = context.dateEnv;\n            var clickOption = context.options.moreLinkClick;\n            function segForPublic(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: dateEnv.toDate(range.start),\n                    end: dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof clickOption === 'function') {\n                clickOption = clickOption({\n                    date: dateEnv.toDate(arg.date),\n                    allDay: true,\n                    allSegs: arg.allSegs.map(segForPublic),\n                    hiddenSegs: arg.hiddenSegs.map(segForPublic),\n                    jsEvent: arg.ev,\n                    view: context.viewApi,\n                }); // hack to handle void\n            }\n            if (!clickOption || clickOption === 'popover') {\n                _this.setState({\n                    morePopoverState: __assign(__assign({}, arg), { currentFgEventSegs: _this.props.fgEventSegs, fromRow: arg.fromRow, fromCol: arg.fromCol }),\n                });\n            }\n            else if (typeof clickOption === 'string') { // a view name\n                context.calendarApi.zoomTo(arg.date, clickOption);\n            }\n        };\n        _this.handleMorePopoverClose = function () {\n            _this.setState({\n                morePopoverState: null,\n            });\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var morePopoverState = this.state.morePopoverState;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var buildMoreLinkText = this.buildBuildMoreLinkText(this.context.options.moreLinkText);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", null, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, buildMoreLinkText: buildMoreLinkText, onMoreClick: function (arg) {\n                            _this.handleMoreLinkClick(__assign(__assign({}, arg), { fromRow: row }));\n                        } })); }))),\n                (!props.forPrint && morePopoverState && morePopoverState.currentFgEventSegs === props.fgEventSegs) && (createElement(MorePopover, { ref: _this.morePopoverRef, date: morePopoverState.date, dateProfile: dateProfile, segs: morePopoverState.allSegs, alignmentEl: morePopoverState.dayEl, topAlignmentEl: rowCnt === 1 ? props.headerAlignElRef.current : null, onCloseClick: _this.handleMorePopoverClose, selectedInstanceId: props.eventSelection, hiddenInstances: // yuck\n                    (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                        (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                        {}, todayRange: todayRange })))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.positionToHit = function (leftPosition, topPosition) {\n        var morePopover = this.morePopoverRef.current;\n        var morePopoverHit = morePopover ? morePopover.positionToHit(leftPosition, topPosition, this.rootEl) : null;\n        var morePopoverState = this.state.morePopoverState;\n        if (morePopoverHit) {\n            return __assign({ row: morePopoverState.fromRow, col: morePopoverState.fromCol }, morePopoverHit);\n        }\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(leftPosition);\n        var row = rowPositions.topToIndex(topPosition);\n        if (row != null && col != null) {\n            return {\n                row: row,\n                col: col,\n                dateSpan: {\n                    range: this.getCellRange(row, col),\n                    allDay: true,\n                },\n                dayEl: this.getCellEl(row, col),\n                relativeRect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction buildBuildMoreLinkText(moreLinkTextInput) {\n    if (typeof moreLinkTextInput === 'function') {\n        return moreLinkTextInput;\n    }\n    return function (num) { return \"+\" + num + \" \" + moreLinkTextInput; };\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        _this.handleRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, { el: rootEl });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef, elRef: this.handleRootEl }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    DayTable.prototype.prepareHits = function () {\n        this.tableRef.current.prepareHits();\n    };\n    DayTable.prototype.queryHit = function (positionLeft, positionTop) {\n        var rawHit = this.tableRef.current.positionToHit(positionLeft, positionTop);\n        if (rawHit) {\n            return {\n                component: this,\n                dateSpan: rawHit.dateSpan,\n                dayEl: rawHit.dayEl,\n                rect: {\n                    left: rawHit.relativeRect.left,\n                    right: rawHit.relativeRect.right,\n                    top: rawHit.relativeRect.top,\n                    bottom: rawHit.relativeRect.bottom,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar OPTION_REFINERS = {\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","import { __extends } from 'tslib';\nimport { Component, createElement, render, createRef, Fragment, options, createContext as createContext$1 } from 'preact';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: Component,\n        createElement: createElement,\n        render: render,\n        createRef: createRef,\n        Fragment: Fragment,\n        createContext: createContext,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    options.debounceRendering = execCallbackSync;\n    render(createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(Component));\nfunction createContext(defaultValue) {\n    var ContextType = createContext$1(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    render(null, node);\n}\n","/*!\nFullCalendar v5.5.1\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","/*!\nFullCalendar v5.5.0\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, identity, eventTupleToStore, isInteractionValid, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body;\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches();\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function () {\n        return this.queryScrollEls().map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function () {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(document.querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl !== document) {\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    var dateProfile = component.context.getCurrentData().dateProfile;\n                    if (hit &&\n                        (\n                        // make sure the hit is within activeRange, meaning it's not a deal cell\n                        rangeContainsRange(dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                dragSelection = joinHitsIntoSelection(_this.hitDragging.initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                if (!dragSelection || !_this.component.isDateSelectionValid(dragSelection)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay$1(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var receivingComponent = hit.component;\n                receivingContext = receivingComponent.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!receivingComponent.isInteractionValid(interaction)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !document.querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.component.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.component.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.component.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.component.context.dateEnv, hit0.component === hit1.component ?\n        hit0.component.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range, context.pluginHooks.eventResizeJoinTransforms);\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!_this.component.isInteractionValid(interaction)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents,\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange, transforms) {\n    var dateEnv = hit0.component.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.component.largeUnit);\n    var props = {};\n    for (var _i = 0, transforms_1 = transforms; _i < transforms_1.length; _i++) {\n        var transform = transforms_1[_i];\n        var res = transform(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            props.startDelta = delta;\n            return props;\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        props.endDelta = delta;\n        return props;\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = pev.origEvent.target;\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.component.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.component.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector ?\n                document.querySelector(this.mirrorSelector) :\n                null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","export default \"\\n:root {\\n  --fc-daygrid-event-dot-width: 8px;\\n}\\n.fc .fc-popover {\\n    position: fixed;\\n    top: 0; /* for when not positioned yet */\\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\\n  }\\n.fc .fc-popover-header {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 3px 4px;\\n  }\\n.fc .fc-popover-title {\\n    margin: 0 2px;\\n  }\\n.fc .fc-popover-close {\\n    cursor: pointer;\\n    opacity: 0.65;\\n    font-size: 1.1em;\\n  }\\n.fc-theme-standard .fc-popover {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n  }\\n.fc-theme-standard .fc-popover-header {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n/* help things clear margins of inner content */\\n.fc-daygrid-day-frame,\\n.fc-daygrid-day-events,\\n.fc-daygrid-event-harness { /* for event top/bottom margins */\\n}\\n.fc-daygrid-day-frame:before, .fc-daygrid-day-events:before, .fc-daygrid-event-harness:before {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc-daygrid-day-frame:after, .fc-daygrid-day-events:after, .fc-daygrid-event-harness:after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc .fc-daygrid-body { /* a <div> that wraps the table */\\n    position: relative;\\n    z-index: 1; /* container inner z-index's because <tr>s can't do it */\\n  }\\n.fc .fc-daygrid-day.fc-day-today {\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: var(--fc-today-bg-color, rgba(255, 220, 40, 0.15));\\n    }\\n.fc .fc-daygrid-day-frame {\\n    position: relative;\\n    min-height: 100%; /* seems to work better than `height` because sets height after rows/cells naturally do it */\\n  }\\n.fc {\\n\\n  /* cell top */\\n\\n}\\n.fc .fc-daygrid-day-top {\\n    display: flex;\\n    flex-direction: row-reverse;\\n  }\\n.fc .fc-day-other .fc-daygrid-day-top {\\n    opacity: 0.3;\\n  }\\n.fc {\\n\\n  /* day number (within cell top) */\\n\\n}\\n.fc .fc-daygrid-day-number {\\n    position: relative;\\n    z-index: 4;\\n    padding: 4px;\\n  }\\n.fc {\\n\\n  /* event container */\\n\\n}\\n.fc .fc-daygrid-day-events {\\n    margin-top: 1px; /* needs to be margin, not padding, so that available cell height can be computed */\\n  }\\n.fc {\\n\\n  /* positioning for balanced vs natural */\\n\\n}\\n.fc .fc-daygrid-body-balanced .fc-daygrid-day-events {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n    }\\n.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events {\\n      position: relative; /* for containing abs positioned event harnesses */\\n      min-height: 2em; /* in addition to being a min-height during natural height, equalizes the heights a little bit */\\n    }\\n.fc .fc-daygrid-body-natural { /* can coexist with -unbalanced */\\n  }\\n.fc .fc-daygrid-body-natural .fc-daygrid-day-events {\\n      margin-bottom: 1em;\\n    }\\n.fc {\\n\\n  /* event harness */\\n\\n}\\n.fc .fc-daygrid-event-harness {\\n    position: relative;\\n  }\\n.fc .fc-daygrid-event-harness-abs {\\n    position: absolute;\\n    top: 0; /* fallback coords for when cannot yet be computed */\\n    left: 0; /* */\\n    right: 0; /* */\\n  }\\n.fc .fc-daygrid-bg-harness {\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n  }\\n.fc {\\n\\n  /* bg content */\\n\\n}\\n.fc .fc-daygrid-day-bg .fc-non-business { z-index: 1 }\\n.fc .fc-daygrid-day-bg .fc-bg-event { z-index: 2 }\\n.fc .fc-daygrid-day-bg .fc-highlight { z-index: 3 }\\n.fc {\\n\\n  /* events */\\n\\n}\\n.fc .fc-daygrid-event {\\n    z-index: 6;\\n    margin-top: 1px;\\n  }\\n.fc .fc-daygrid-event.fc-event-mirror {\\n    z-index: 7;\\n  }\\n.fc {\\n\\n  /* cell bottom (within day-events) */\\n\\n}\\n.fc .fc-daygrid-day-bottom {\\n    font-size: .85em;\\n    margin: 2px 3px 0;\\n  }\\n.fc .fc-daygrid-more-link {\\n    position: relative;\\n    z-index: 4;\\n    cursor: pointer;\\n  }\\n.fc {\\n\\n  /* week number (within frame) */\\n\\n}\\n.fc .fc-daygrid-week-number {\\n    position: absolute;\\n    z-index: 5;\\n    top: 0;\\n    padding: 2px;\\n    min-width: 1.5em;\\n    text-align: center;\\n    background-color: rgba(208, 208, 208, 0.3);\\n    background-color: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n    color: #808080;\\n    color: var(--fc-neutral-text-color, #808080);\\n  }\\n.fc {\\n\\n  /* popover */\\n\\n}\\n.fc .fc-more-popover {\\n    z-index: 8;\\n  }\\n.fc .fc-more-popover .fc-popover-body {\\n    min-width: 220px;\\n    padding: 10px;\\n  }\\n.fc-direction-ltr .fc-daygrid-event.fc-event-start,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-end {\\n  margin-left: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-event.fc-event-end,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-start {\\n  margin-right: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-week-number {\\n    left: 0;\\n    border-radius: 0 0 3px 0;\\n  }\\n.fc-direction-rtl .fc-daygrid-week-number {\\n    right: 0;\\n    border-radius: 0 0 0 3px;\\n  }\\n.fc-liquid-hack .fc-daygrid-day-frame {\\n    position: static; /* will cause inner absolute stuff to expand to <td> */\\n  }\\n.fc-daygrid-event { /* make root-level, because will be dragged-and-dropped outside of a component root */\\n  position: relative; /* for z-indexes assigned later */\\n  white-space: nowrap;\\n  border-radius: 3px; /* dot event needs this to when selected */\\n  font-size: .85em;\\n  font-size: var(--fc-small-font-size, .85em);\\n}\\n/* --- the rectangle (\\\"block\\\") style of event --- */\\n.fc-daygrid-block-event .fc-event-time {\\n    font-weight: bold;\\n  }\\n.fc-daygrid-block-event .fc-event-time,\\n  .fc-daygrid-block-event .fc-event-title {\\n    padding: 1px;\\n  }\\n/* --- the dot style of event --- */\\n.fc-daygrid-dot-event {\\n  display: flex;\\n  align-items: center;\\n  padding: 2px 0\\n\\n}\\n.fc-daygrid-dot-event .fc-event-title {\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n    overflow: hidden;\\n    font-weight: bold;\\n  }\\n.fc-daygrid-dot-event:hover,\\n  .fc-daygrid-dot-event.fc-event-mirror {\\n    background: rgba(0, 0, 0, 0.1);\\n  }\\n.fc-daygrid-dot-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n.fc-daygrid-event-dot { /* the actual dot */\\n  margin: 0 4px;\\n  box-sizing: content-box;\\n  width: 0;\\n  height: 0;\\n  border: 4px solid #3788d8;\\n  border: calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color, #3788d8);\\n  border-radius: 4px;\\n  border-radius: calc(var(--fc-daygrid-event-dot-width, 8px) / 2);\\n}\\n/* --- spacing between time and title --- */\\n.fc-direction-ltr .fc-daygrid-event .fc-event-time {\\n    margin-right: 3px;\\n  }\\n.fc-direction-rtl .fc-daygrid-event .fc-event-time {\\n    margin-left: 3px;\\n  }\\n\\n/*# sourceMappingURL=data:application/json;base64,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QUFnQixFQUFFLHNEQUFzRDtFQUMxRTtBQUNGLG9CQUFvQixxRkFBcUY7RUFDdkcsa0JBQWtCLEVBQUUsaUNBQWlDO0VBQ3JELG1CQUFtQjtFQUNuQixrQkFBa0IsRUFBRSwwQ0FBMEM7RUFDOUQsZ0JBQWdCO0VBQ2hCLDJDQUEyQztBQUM3QztBQUNBLG1EQUFtRDtBQUNuRDtJQUNJLGlCQUFpQjtFQUNuQjtBQUNGOztJQUVJLFlBQVk7RUFDZDtBQUNGLG1DQUFtQztBQUNuQztFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkI7O0FBRUY7QUFDQTtJQUNJLFlBQVk7SUFDWixjQUFjO0lBQ2QsWUFBWSxFQUFFLGlEQUFpRDtJQUMvRCxnQkFBZ0I7SUFDaEIsaUJBQWlCO0VBQ25CO0FBQ0Y7O0lBRUksOEJBQThCO0VBQ2hDO0FBQ0Y7SUFDSSxvQkFBb0I7SUFDcEIsVUFBVTtJQUNWLGFBQWE7RUFDZjtBQUNGLHdCQUF3QixtQkFBbUI7RUFDekMsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixRQUFRO0VBQ1IsU0FBUztFQUNULHlCQUF5QjtFQUN6QixvR0FBb0c7RUFDcEcsa0JBQWtCO0VBQ2xCLCtEQUErRDtBQUNqRTtBQUNBLDJDQUEyQztBQUMzQztJQUNJLGlCQUFpQjtFQUNuQjtBQUNGO0lBQ0ksZ0JBQWdCO0VBQ2xCIiwiZmlsZSI6Im1haW4uY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG46cm9vdCB7XG4gIC0tZmMtZGF5Z3JpZC1ldmVudC1kb3Qtd2lkdGg6IDhweDtcbn1cbi5mYyAuZmMtcG9wb3ZlciB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMDsgLyogZm9yIHdoZW4gbm90IHBvc2l0aW9uZWQgeWV0ICovXG4gICAgYm94LXNoYWRvdzogMCAycHggNnB4IHJnYmEoMCwwLDAsLjE1KTtcbiAgfVxuLmZjIC5mYy1wb3BvdmVyLWhlYWRlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBhZGRpbmc6IDNweCA0cHg7XG4gIH1cbi5mYyAuZmMtcG9wb3Zlci10aXRsZSB7XG4gICAgbWFyZ2luOiAwIDJweDtcbiAgfVxuLmZjIC5mYy1wb3BvdmVyLWNsb3NlIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgb3BhY2l0eTogMC42NTtcbiAgICBmb250LXNpemU6IDEuMWVtO1xuICB9XG4uZmMtdGhlbWUtc3RhbmRhcmQgLmZjLXBvcG92ZXIge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZmMtYm9yZGVyLWNvbG9yLCAjZGRkKTtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLXBhZ2UtYmctY29sb3IsICNmZmYpO1xuICB9XG4uZmMtdGhlbWUtc3RhbmRhcmQgLmZjLXBvcG92ZXItaGVhZGVyIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIwOCwgMjA4LCAyMDgsIDAuMyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtbmV1dHJhbC1iZy1jb2xvciwgcmdiYSgyMDgsIDIwOCwgMjA4LCAwLjMpKTtcbiAgfVxuLyogaGVscCB0aGluZ3MgY2xlYXIgbWFyZ2lucyBvZiBpbm5lciBjb250ZW50ICovXG4uZmMtZGF5Z3JpZC1kYXktZnJhbWUsXG4uZmMtZGF5Z3JpZC1kYXktZXZlbnRzLFxuLmZjLWRheWdyaWQtZXZlbnQtaGFybmVzcyB7IC8qIGZvciBldmVudCB0b3AvYm90dG9tIG1hcmdpbnMgKi9cbn1cbi5mYy1kYXlncmlkLWRheS1mcmFtZTpiZWZvcmUsIC5mYy1kYXlncmlkLWRheS1ldmVudHM6YmVmb3JlLCAuZmMtZGF5Z3JpZC1ldmVudC1oYXJuZXNzOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIGNsZWFyOiBib3RoO1xuICBkaXNwbGF5OiB0YWJsZTsgfVxuLmZjLWRheWdyaWQtZGF5LWZyYW1lOmFmdGVyLCAuZmMtZGF5Z3JpZC1kYXktZXZlbnRzOmFmdGVyLCAuZmMtZGF5Z3JpZC1ldmVudC1oYXJuZXNzOmFmdGVyIHtcbiAgY29udGVudDogXCJcIjtcbiAgY2xlYXI6IGJvdGg7XG4gIGRpc3BsYXk6IHRhYmxlOyB9XG4uZmMgLmZjLWRheWdyaWQtYm9keSB7IC8qIGEgPGRpdj4gdGhhdCB3cmFwcyB0aGUgdGFibGUgKi9cbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTsgLyogY29udGFpbmVyIGlubmVyIHotaW5kZXgncyBiZWNhdXNlIDx0cj5zIGNhbid0IGRvIGl0ICovXG4gIH1cbi5mYyAuZmMtZGF5Z3JpZC1kYXkuZmMtZGF5LXRvZGF5IHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyMjAsIDQwLCAwLjE1KTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZjLXRvZGF5LWJnLWNvbG9yLCByZ2JhKDI1NSwgMjIwLCA0MCwgMC4xNSkpO1xuICAgIH1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktZnJhbWUge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBtaW4taGVpZ2h0OiAxMDAlOyAvKiBzZWVtcyB0byB3b3JrIGJldHRlciB0aGFuIGBoZWlnaHRgIGJlY2F1c2Ugc2V0cyBoZWlnaHQgYWZ0ZXIgcm93cy9jZWxscyBuYXR1cmFsbHkgZG8gaXQgKi9cbiAgfVxuLmZjIHtcblxuICAvKiBjZWxsIHRvcCAqL1xuXG59XG4uZmMgLmZjLWRheWdyaWQtZGF5LXRvcCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XG4gIH1cbi5mYyAuZmMtZGF5LW90aGVyIC5mYy1kYXlncmlkLWRheS10b3Age1xuICAgIG9wYWNpdHk6IDAuMztcbiAgfVxuLmZjIHtcblxuICAvKiBkYXkgbnVtYmVyICh3aXRoaW4gY2VsbCB0b3ApICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktbnVtYmVyIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogNDtcbiAgICBwYWRkaW5nOiA0cHg7XG4gIH1cbi5mYyB7XG5cbiAgLyogZXZlbnQgY29udGFpbmVyICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktZXZlbnRzIHtcbiAgICBtYXJnaW4tdG9wOiAxcHg7IC8qIG5lZWRzIHRvIGJlIG1hcmdpbiwgbm90IHBhZGRpbmcsIHNvIHRoYXQgYXZhaWxhYmxlIGNlbGwgaGVpZ2h0IGNhbiBiZSBjb21wdXRlZCAqL1xuICB9XG4uZmMge1xuXG4gIC8qIHBvc2l0aW9uaW5nIGZvciBiYWxhbmNlZCB2cyBuYXR1cmFsICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1ib2R5LWJhbGFuY2VkIC5mYy1kYXlncmlkLWRheS1ldmVudHMge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgIH1cbi5mYyAuZmMtZGF5Z3JpZC1ib2R5LXVuYmFsYW5jZWQgLmZjLWRheWdyaWQtZGF5LWV2ZW50cyB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7IC8qIGZvciBjb250YWluaW5nIGFicyBwb3NpdGlvbmVkIGV2ZW50IGhhcm5lc3NlcyAqL1xuICAgICAgbWluLWhlaWdodDogMmVtOyAvKiBpbiBhZGRpdGlvbiB0byBiZWluZyBhIG1pbi1oZWlnaHQgZHVyaW5nIG5hdHVyYWwgaGVpZ2h0LCBlcXVhbGl6ZXMgdGhlIGhlaWdodHMgYSBsaXR0bGUgYml0ICovXG4gICAgfVxuLmZjIC5mYy1kYXlncmlkLWJvZHktbmF0dXJhbCB7IC8qIGNhbiBjb2V4aXN0IHdpdGggLXVuYmFsYW5jZWQgKi9cbiAgfVxuLmZjIC5mYy1kYXlncmlkLWJvZHktbmF0dXJhbCAuZmMtZGF5Z3JpZC1kYXktZXZlbnRzIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgICB9XG4uZmMge1xuXG4gIC8qIGV2ZW50IGhhcm5lc3MgKi9cblxufVxuLmZjIC5mYy1kYXlncmlkLWV2ZW50LWhhcm5lc3Mge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuLmZjIC5mYy1kYXlncmlkLWV2ZW50LWhhcm5lc3MtYWJzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwOyAvKiBmYWxsYmFjayBjb29yZHMgZm9yIHdoZW4gY2Fubm90IHlldCBiZSBjb21wdXRlZCAqL1xuICAgIGxlZnQ6IDA7IC8qICovXG4gICAgcmlnaHQ6IDA7IC8qICovXG4gIH1cbi5mYyAuZmMtZGF5Z3JpZC1iZy1oYXJuZXNzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGJvdHRvbTogMDtcbiAgfVxuLmZjIHtcblxuICAvKiBiZyBjb250ZW50ICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktYmcgLmZjLW5vbi1idXNpbmVzcyB7IHotaW5kZXg6IDEgfVxuLmZjIC5mYy1kYXlncmlkLWRheS1iZyAuZmMtYmctZXZlbnQgeyB6LWluZGV4OiAyIH1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktYmcgLmZjLWhpZ2hsaWdodCB7IHotaW5kZXg6IDMgfVxuLmZjIHtcblxuICAvKiBldmVudHMgKi9cblxufVxuLmZjIC5mYy1kYXlncmlkLWV2ZW50IHtcbiAgICB6LWluZGV4OiA2O1xuICAgIG1hcmdpbi10b3A6IDFweDtcbiAgfVxuLmZjIC5mYy1kYXlncmlkLWV2ZW50LmZjLWV2ZW50LW1pcnJvciB7XG4gICAgei1pbmRleDogNztcbiAgfVxuLmZjIHtcblxuICAvKiBjZWxsIGJvdHRvbSAod2l0aGluIGRheS1ldmVudHMpICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktYm90dG9tIHtcbiAgICBmb250LXNpemU6IC44NWVtO1xuICAgIG1hcmdpbjogMnB4IDNweCAwO1xuICB9XG4uZmMgLmZjLWRheWdyaWQtbW9yZS1saW5rIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogNDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbi5mYyB7XG5cbiAgLyogd2VlayBudW1iZXIgKHdpdGhpbiBmcmFtZSkgKi9cblxufVxuLmZjIC5mYy1kYXlncmlkLXdlZWstbnVtYmVyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogNTtcbiAgICB0b3A6IDA7XG4gICAgcGFkZGluZzogMnB4O1xuICAgIG1pbi13aWR0aDogMS41ZW07XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjA4LCAyMDgsIDIwOCwgMC4zKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1uZXV0cmFsLWJnLWNvbG9yLCByZ2JhKDIwOCwgMjA4LCAyMDgsIDAuMykpO1xuICAgIGNvbG9yOiAjODA4MDgwO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1uZXV0cmFsLXRleHQtY29sb3IsICM4MDgwODApO1xuICB9XG4uZmMge1xuXG4gIC8qIHBvcG92ZXIgKi9cblxufVxuLmZjIC5mYy1tb3JlLXBvcG92ZXIge1xuICAgIHotaW5kZXg6IDg7XG4gIH1cbi5mYyAuZmMtbW9yZS1wb3BvdmVyIC5mYy1wb3BvdmVyLWJvZHkge1xuICAgIG1pbi13aWR0aDogMjIwcHg7XG4gICAgcGFkZGluZzogMTBweDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWRheWdyaWQtZXZlbnQuZmMtZXZlbnQtc3RhcnQsXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtZGF5Z3JpZC1ldmVudC5mYy1ldmVudC1lbmQge1xuICBtYXJnaW4tbGVmdDogMnB4O1xufVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWRheWdyaWQtZXZlbnQuZmMtZXZlbnQtZW5kLFxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWRheWdyaWQtZXZlbnQuZmMtZXZlbnQtc3RhcnQge1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbn1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1kYXlncmlkLXdlZWstbnVtYmVyIHtcbiAgICBsZWZ0OiAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDAgMCAzcHggMDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWRheWdyaWQtd2Vlay1udW1iZXIge1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDAgMCAwIDNweDtcbiAgfVxuLmZjLWxpcXVpZC1oYWNrIC5mYy1kYXlncmlkLWRheS1mcmFtZSB7XG4gICAgcG9zaXRpb246IHN0YXRpYzsgLyogd2lsbCBjYXVzZSBpbm5lciBhYnNvbHV0ZSBzdHVmZiB0byBleHBhbmQgdG8gPHRkPiAqL1xuICB9XG4uZmMtZGF5Z3JpZC1ldmVudCB7IC8qIG1ha2Ugcm9vdC1sZXZlbCwgYmVjYXVzZSB3aWxsIGJlIGRyYWdnZWQtYW5kLWRyb3BwZWQgb3V0c2lkZSBvZiBhIGNvbXBvbmVudCByb290ICovXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTsgLyogZm9yIHotaW5kZXhlcyBhc3NpZ25lZCBsYXRlciAqL1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBib3JkZXItcmFkaXVzOiAzcHg7IC8qIGRvdCBldmVudCBuZWVkcyB0aGlzIHRvIHdoZW4gc2VsZWN0ZWQgKi9cbiAgZm9udC1zaXplOiAuODVlbTtcbiAgZm9udC1zaXplOiB2YXIoLS1mYy1zbWFsbC1mb250LXNpemUsIC44NWVtKTtcbn1cbi8qIC0tLSB0aGUgcmVjdGFuZ2xlIChcImJsb2NrXCIpIHN0eWxlIG9mIGV2ZW50IC0tLSAqL1xuLmZjLWRheWdyaWQtYmxvY2stZXZlbnQgLmZjLWV2ZW50LXRpbWUge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB9XG4uZmMtZGF5Z3JpZC1ibG9jay1ldmVudCAuZmMtZXZlbnQtdGltZSxcbiAgLmZjLWRheWdyaWQtYmxvY2stZXZlbnQgLmZjLWV2ZW50LXRpdGxlIHtcbiAgICBwYWRkaW5nOiAxcHg7XG4gIH1cbi8qIC0tLSB0aGUgZG90IHN0eWxlIG9mIGV2ZW50IC0tLSAqL1xuLmZjLWRheWdyaWQtZG90LWV2ZW50IHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogMnB4IDBcblxufVxuLmZjLWRheWdyaWQtZG90LWV2ZW50IC5mYy1ldmVudC10aXRsZSB7XG4gICAgZmxleC1ncm93OiAxO1xuICAgIGZsZXgtc2hyaW5rOiAxO1xuICAgIG1pbi13aWR0aDogMDsgLyogaW1wb3J0YW50IGZvciBhbGxvd2luZyB0byBzaHJpbmsgYWxsIHRoZSB3YXkgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB9XG4uZmMtZGF5Z3JpZC1kb3QtZXZlbnQ6aG92ZXIsXG4gIC5mYy1kYXlncmlkLWRvdC1ldmVudC5mYy1ldmVudC1taXJyb3Ige1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgfVxuLmZjLWRheWdyaWQtZG90LWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkOmJlZm9yZSB7XG4gICAgLyogZXhwYW5kIGhpdCBhcmVhICovXG4gICAgdG9wOiAtMTBweDtcbiAgICBib3R0b206IC0xMHB4O1xuICB9XG4uZmMtZGF5Z3JpZC1ldmVudC1kb3QgeyAvKiB0aGUgYWN0dWFsIGRvdCAqL1xuICBtYXJnaW46IDAgNHB4O1xuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcbiAgd2lkdGg6IDA7XG4gIGhlaWdodDogMDtcbiAgYm9yZGVyOiA0cHggc29saWQgIzM3ODhkODtcbiAgYm9yZGVyOiBjYWxjKHZhcigtLWZjLWRheWdyaWQtZXZlbnQtZG90LXdpZHRoLCA4cHgpIC8gMikgc29saWQgdmFyKC0tZmMtZXZlbnQtYm9yZGVyLWNvbG9yLCAjMzc4OGQ4KTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBib3JkZXItcmFkaXVzOiBjYWxjKHZhcigtLWZjLWRheWdyaWQtZXZlbnQtZG90LXdpZHRoLCA4cHgpIC8gMik7XG59XG4vKiAtLS0gc3BhY2luZyBiZXR3ZWVuIHRpbWUgYW5kIHRpdGxlIC0tLSAqL1xuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWRheWdyaWQtZXZlbnQgLmZjLWV2ZW50LXRpbWUge1xuICAgIG1hcmdpbi1yaWdodDogM3B4O1xuICB9XG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtZGF5Z3JpZC1ldmVudCAuZmMtZXZlbnQtdGltZSB7XG4gICAgbWFyZ2luLWxlZnQ6IDNweDtcbiAgfVxuIl19 */\";","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { Role } from 'src/app/models/role';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { AlertService } from 'src/app/services';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BankDetailsVerifyGuard implements CanActivate {\r\n  constructor(\r\n    private alertService: AlertService,\r\n    private router: Router,\r\n    private authenticationService: AuthenticationService\r\n  ) {\r\n  }\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n    const currentUser = this.authenticationService.currentUserValue;\r\n    if (currentUser) {\r\n      let _currentUserRole = '';\r\n      try {\r\n        _currentUserRole = currentUser.role;\r\n      } catch (ex) { }\r\n\r\n      if (!currentUser.isUsersBankDetailsSubmitted) {\r\n          this.router.navigate([_currentUserRole+'/home']);\r\n          this.alertService.error(\"Bank details submission is still pending. Please update to access this feature.\", true);\r\n          return false;\r\n      }\r\n      // authorised so return true\t\r\n      return true;\r\n    }\r\n    // not logged in so redirect to login page with the return url\r\n    this.router.navigate(['/login'], { queryParams: { returnUrl: state.url } });\r\n    return false;\r\n  }\r\n\r\n}\r\n"]}