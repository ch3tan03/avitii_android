{"version":3,"sources":["./src/app/borrower/borrow-now/borrow-now.component.css","./src/app/borrower/get-a-loan/get-a-loan.component.html","./src/app/borrower/home/home.component.html","./src/app/borrower/earnings/earnings.component.css","./src/app/borrower/borrower.module.ts","./src/app/borrower/earnings/earnings.component.html","./src/app/borrower/my-sessions/my-sessions.component.html","./src/app/borrower/calendar/calendar.component.ts","./src/app/borrower/my-sessions/my-sessions.component.css","./src/app/borrower/calendar/calendar.component.css","./src/app/borrower/borrow-now/borrow-now.component.ts","./src/app/borrower/room/room.component.ts","./src/app/borrower/home/home.component.ts","./src/app/borrower/my-sessions/my-sessions.component.ts","./src/app/borrower/earnings/earnings.component.ts","./src/app/borrower/home/home.component.css","./src/app/borrower/loan-market/loan-market.component.css","./src/app/borrower/footer/footer.component.html","./src/app/borrower/borrower-routing.module.ts","./src/app/borrower/get-a-loan/get-a-loan.component.ts","./src/app/borrower/header/header.component.css","./src/app/borrower/browse-sessions/browse-sessions.component.html","./src/app/borrower/loan-market/loan-market.component.ts","./src/app/borrower/header/header.component.ts","./src/app/borrower/calendar/calendar.component.html","./src/app/borrower/footer/footer.component.css","./src/app/borrower/room/room.component.css","./src/app/borrower/loan-market/loan-market.component.html","./src/app/borrower/browse-sessions/browse-sessions.component.css","./src/app/borrower/header/header.component.html","./src/app/borrower/borrow-now/borrow-now.component.html","./src/app/borrower/get-a-loan/get-a-loan.component.css","./src/app/borrower/browse-sessions/browse-sessions.component.ts","./src/app/borrower/footer/footer.component.ts","./src/app/borrower/room/room.component.html","./src/app/users-income-expense-verify.guard.ts"],"names":[],"mappings":"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","file":"borrower-borrower-module-es2015.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJib3Jyb3ctbm93LmNvbXBvbmVudC5jc3MifQ== */\";","export default \"<!-- addSession section -->\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xl-3 col-12\\\">\\r\\n        <div class=\\\"card border-left-primary shadow py-2 mb-3\\\">\\r\\n            <div class=\\\"card-body\\\">\\r\\n                <div class=\\\"row no-gutters align-items-center\\\">\\r\\n                    <div class=\\\"col mr-2\\\">\\r\\n                        <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\r\\n                            Loan Amount\\r\\n                        </div>\\r\\n                        <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\" i18n>\\r\\n                            kr {{f.loanAmount.value}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-auto\\\">\\r\\n                        <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"card border-left-primary shadow py-2 mb-3\\\">\\r\\n            <div class=\\\"card-body\\\">\\r\\n                <div class=\\\"row no-gutters align-items-center\\\">\\r\\n                    <div class=\\\"col mr-2\\\">\\r\\n                        <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\r\\n                            EMI (Monthly)\\r\\n                        </div>\\r\\n                        <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\" i18n>\\r\\n                            kr {{_calculatedMonthlyAmountForEMI}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-auto\\\">\\r\\n                        <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"card border-left-primary shadow py-2\\\">\\r\\n            <div class=\\\"card-body\\\">\\r\\n                <div class=\\\"row no-gutters align-items-center\\\">\\r\\n                    <div class=\\\"col mr-2\\\">\\r\\n                        <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\r\\n                            Total Loan\\r\\n                        </div>\\r\\n                        <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\" i18n>\\r\\n                            kr\\r\\n                            {{utilityService.returnRoundedNumber(_calculatedMonthlyAmountForEMI*f.loanTenureInMonths.value)}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-auto\\\">\\r\\n                        <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-xl-9 col-12\\\">\\r\\n        <div class=\\\"card shadow mb-4\\\">\\r\\n            <!-- Card Header - Dropdown -->\\r\\n            <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\r\\n                <h6 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>Get A Loan</h6>\\r\\n            </div>\\r\\n            <!-- Card Body -->\\r\\n            <div class=\\\"card-body\\\">\\r\\n                <form [formGroup]=\\\"addSessionForm\\\" class=\\\"theme-form\\\">\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n\\r\\n                        <div class=\\\"col-xl-12 col-12\\\">\\r\\n\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label for=\\\"loanType\\\" i18n>Loan Type</label>\\r\\n                                <select formControlName=\\\"loanType\\\" class=\\\"custom-select\\\"\\r\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.loanType.errors }\\\">\\r\\n                                    <option value=\\\"\\\" selected disabled> Choose Loan Type</option>\\r\\n                                    <option *ngFor=\\\"let item of _.values(utilityService.ParentLoanTypes);\\\"\\r\\n                                        [ngValue]=\\\"item._id\\\" >\\r\\n                                        {{item.name}}</option>\\r\\n                                </select>\\r\\n                                <div *ngIf=\\\"submitted && f.loanType.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                                    <div *ngIf=\\\"f.loanType.errors.required\\\" i18n>Loan type is required</div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xl-12 col-12\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label for=\\\"loanAmount\\\" i18n>Loan Amount</label>\\r\\n                                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"loanAmount\\\" class=\\\"form-control\\\"\\r\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.loanAmount.errors }\\\"\\r\\n                                    (change)=\\\"calculateMonthlyAmountForEMI()\\\" (keyup)=\\\"calculateMonthlyAmountForEMI()\\\"\\r\\n                                    pattern=\\\"^[1-9]\\\\d*$\\\" />\\r\\n                                <div *ngIf=\\\"submitted && f.loanAmount.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                                    <div *ngIf=\\\"f.loanAmount.errors.required\\\" i18n>Loan Amount is required</div>\\r\\n                                    <div *ngIf=\\\"f.loanAmount.errors.min\\\" i18n>value must be greater than 1</div>\\r\\n                                    <div *ngIf=\\\"f.loanAmount.errors.max\\\" i18n>value must be less than\\r\\n                                        {{currentUserMaxLoanAmount}}</div>\\r\\n                                    <div *ngIf=\\\"f.loanAmount.errors.pattern\\\" i18n>value should be a valid number</div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xl-12 small text-primary mt-n3 mb-3\\\">\\r\\n\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xl-12 col-12\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label for=\\\"loanTenureInMonths\\\" i18n>Tenure in Months</label>\\r\\n                                <input type=\\\"number\\\" formControlName=\\\"loanTenureInMonths\\\" class=\\\"form-control\\\"\\r\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.loanTenureInMonths.errors }\\\"\\r\\n                                    (change)=\\\"calculateMonthlyAmountForEMI()\\\" (keyup)=\\\"calculateMonthlyAmountForEMI()\\\"\\r\\n                                    pattern=\\\"^[1-9]\\\\d*$\\\" />\\r\\n                                <div *ngIf=\\\"submitted && f.loanTenureInMonths.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                                    <div *ngIf=\\\"f.loanTenureInMonths.errors.required\\\" i18n>Loan Tenure is\\r\\n                                        required\\r\\n                                    </div>\\r\\n                                    <div *ngIf=\\\"f.loanTenureInMonths.errors.min\\\" i18n>value must be greater than\\r\\n                                        3</div>\\r\\n                                    <div *ngIf=\\\"f.loanTenureInMonths.errors.pattern\\\" i18n>value should be a valid number\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xl-12 col-12\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label for=\\\"loanInterestRate\\\" i18n>Interest(%) Rate (per month)</label>\\r\\n                                <input type=\\\"number\\\" formControlName=\\\"loanInterestRate\\\" class=\\\"form-control\\\"\\r\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.loanInterestRate.errors }\\\"\\r\\n                                    (change)=\\\"calculateMonthlyAmountForEMI()\\\"\\r\\n                                    (keyup)=\\\"calculateMonthlyAmountForEMI()\\\" />\\r\\n                                <div *ngIf=\\\"submitted && f.loanInterestRate.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                                    <div *ngIf=\\\"f.loanInterestRate.errors.required\\\" i18n>Interest Rate is\\r\\n                                        required\\r\\n                                    </div>\\r\\n                                    <div *ngIf=\\\"f.loanInterestRate.errors.min\\\" i18n>\\r\\n                                        min interest rate of {{loanInterestRateMin}}%\\r\\n                                    </div>\\r\\n                                    <div *ngIf=\\\"f.loanInterestRate.errors.max\\\" i18n>\\r\\n                                        max interest rate of {{loanInterestRateMax}}% (remember to check  the rules for your country)\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <!--\\r\\n                                <div class=\\\"col-xl-12 col-12\\\">\\r\\n                                    <div class=\\\"form-group\\\">\\r\\n                                        <label for=\\\"loanStartDateTimeCustomised\\\" i18n>Start on</label>\\r\\n                                        <input type=\\\"date\\\" formControlName=\\\"loanStartDateTimeCustomised\\\"\\r\\n                                            class=\\\"form-control\\\"\\r\\n                                            [ngClass]=\\\"{ 'is-invalid': submitted && f.loanStartDateTimeCustomised.errors }\\\"\\r\\n                                            [max]=\\\"maxDate\\\" [min]=\\\"minDate\\\" />\\r\\n                                        <div *ngIf=\\\"submitted && f.loanStartDateTimeCustomised.errors\\\"\\r\\n                                            class=\\\"invalid-feedback\\\">\\r\\n                                            <div *ngIf=\\\"f.loanStartDateTimeCustomised.errors.required\\\" i18n>Start Date\\r\\n                                                Time is required\\r\\n                                            </div>\\r\\n                                            <div *ngIf=\\\"f.loanStartDateTimeCustomised.errors.date\\\" i18n>Invalid Date\\r\\n                                                format.\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            -->\\r\\n                        <!--\\r\\n                                        <div class=\\\"col-xl-12 col-12\\\">\\r\\n                                            <label for=\\\"loanEndDateTimeCustomised\\\" i18n>Ends on</label>\\r\\n                                            <input [readonly]=\\\"true\\\" type=\\\"datetime-local\\\"\\r\\n                                                formControlName=\\\"loanEndDateTimeCustomised\\\" class=\\\"form-control\\\"\\r\\n                                                [ngClass]=\\\"{ 'is-invalid': submitted && f.loanEndDateTimeCustomised.errors }\\\"\\r\\n                                                [max]=\\\"maxDate\\\" [min]=\\\"minDate\\\" />\\r\\n                                            <div *ngIf=\\\"submitted && f.loanEndDateTimeCustomised.errors\\\"\\r\\n                                                class=\\\"invalid-feedback\\\">\\r\\n                                                <div *ngIf=\\\"f.loanEndDateTimeCustomised.errors.required\\\" i18n>End Date Time is\\r\\n                                                    required\\r\\n                                                </div>\\r\\n                                                <div *ngIf=\\\"f.loanEndDateTimeCustomised.errors.date\\\" i18n>Invalid Date format.\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        -->\\r\\n                        <div class=\\\"col-xl-12 mb-3\\\">\\r\\n                            <div for=\\\"loanRepaymentType\\\" class=\\\"mb-2\\\" i18n>How to give the money</div>\\r\\n\\r\\n                            <div class=\\\"form-check-inline\\\"\\r\\n                                *ngFor=\\\"let item of _.values( utilityService.LoanRepaymentTypes);\\\">\\r\\n\\r\\n                                <div class=\\\"custom-control custom-checkbox\\\">\\r\\n                                    <input name=\\\"service\\\" id=\\\"services_{{item._id}}\\\" type=\\\"checkbox\\\"\\r\\n                                        class=\\\"custom-control-input\\\" value=\\\"{{item._id}}\\\"\\r\\n                                        (change)=\\\"onLoanRepaymentTypeChange($event)\\\"\\r\\n                                        [checked]=\\\"onInitSetLoanRepaymentTypeValue(item._id)\\\"\\r\\n                                        [ngClass]=\\\"{ 'is-invalid': submitted && f.loanRepaymentType.errors }\\\">\\r\\n                                    <label for=\\\"services_{{item._id}}\\\"\\r\\n                                        class=\\\"custom-control-label\\\">{{item.name}}</label>\\r\\n                                </div>\\r\\n\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"submitted && f.loanRepaymentType.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                                <div *ngIf=\\\"f.loanRepaymentType.errors.required\\\">Payment option required\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"col-xl-12 mb-3\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label for=\\\"comment\\\" i18n>Description:</label>\\r\\n                                <textarea class=\\\"form-control\\\" formControlName=\\\"loanDescription\\\" rows=\\\"2\\\"\\r\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.loanDescription.errors }\\\">\\r\\n                                            </textarea>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"submitted && f.loanDescription.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                                <div *ngIf=\\\"f.loanDescription.errors.required\\\" i18n>Description is\\r\\n                                    required\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xl-12 text-center\\\">\\r\\n                            <hr>\\r\\n                            <button type=\\\"button\\\" (click)=\\\"onaddSessionUpdateSubmit()\\\" [disabled]=\\\"loading\\\"\\r\\n                                class=\\\"btn btn-primary\\\" i18n>Submit</button>\\r\\n                            <img *ngIf=\\\"loading\\\" class=\\\"pl-3\\\"\\r\\n                                src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\" />\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </form>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<!-- addSession section -->\";","export default \"<!-- Page Heading -->\\r\\n<!-- <div class=\\\"d-sm-flex align-items-center justify-content-between mb-4\\\">\\r\\n        <h1 class=\\\"h3 mb-0 text-gray-800\\\">Dashboard</h1>\\r\\n        <a href=\\\"#\\\" class=\\\"d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm\\\"><i class=\\\"fas fa-download fa-sm text-white-50\\\"></i> Profile</a>\\r\\n    </div> -->\\r\\n\\r\\n<div [ngSwitch]=\\\"authenticationService.currentUserValue.role\\\">\\r\\n    <div *ngSwitchCase=\\\"Role.Borrower\\\">\\r\\n        <div class=\\\"jumbotron\\\"\\r\\n            *ngIf=\\\"!authenticationService.currentUserValue.isVerified || !authenticationService.currentUserValue.isUsersBankDetailsSubmitted || !authenticationService.currentUserValue.isUsersIncomeAndExpenseProofVerified\\\">\\r\\n            <div class=\\\"text-black-50 h2 font-weight-lighter\\\" i18n>\\r\\n                Welome, Your profile has been verified succesfully. Your need to submit your\\r\\n                <span class=\\\"badge badge-danger\\\" >Bank Details</span> and\\r\\n                <span class=\\\"badge badge-danger\\\" >Income Proof Documents</span> to access the loan market.\\r\\n            </div>\\r\\n            <hr>\\r\\n            <ul class=\\\"list-unstyled\\\">\\r\\n                <li class=\\\"d-flex align-items-center justify-content-center mb-3 h4\\\" i18n>\\r\\n                    Profile and personal document verification\\r\\n                    <span [ngSwitch]=\\\"authenticationService.currentUserValue.isVerified\\\">\\r\\n                        <i *ngSwitchCase=\\\"true\\\" class=\\\"icon icon-check-box text-success ml-3\\\"></i>\\r\\n                        <i *ngSwitchDefault class=\\\"icon icon-pencil-alt text-danger ml-3\\\"\\r\\n                            routerLink=\\\"/borrower/profile\\\"></i>\\r\\n                    </span>\\r\\n                </li>\\r\\n                <li class=\\\"d-flex align-items-center justify-content-center mb-3 h4\\\" i18n>\\r\\n                    Bank details submission\\r\\n                    <span [ngSwitch]=\\\"authenticationService.currentUserValue.isUsersBankDetailsSubmitted\\\">\\r\\n                        <i *ngSwitchCase=\\\"true\\\" class=\\\"icon icon-check-box text-success ml-3\\\"></i>\\r\\n                        <i *ngSwitchDefault class=\\\"icon icon-pencil-alt text-danger ml-3\\\"\\r\\n                            routerLink=\\\"/borrower/bank-details\\\"></i>\\r\\n                    </span>\\r\\n                </li>\\r\\n                <li class=\\\"d-flex align-items-center justify-content-center mb-3 h4\\\" i18n>\\r\\n                    Income Proof Documents and Mothly Expenses\\r\\n                    <span [ngSwitch]=\\\"authenticationService.currentUserValue.isUsersIncomeAndExpenseProofVerified\\\">\\r\\n                        <i *ngSwitchCase=\\\"true\\\" class=\\\"icon icon-check-box text-success ml-3\\\"></i>\\r\\n                        <i *ngSwitchDefault class=\\\"icon icon-pencil-alt text-danger ml-3\\\"\\r\\n                            routerLink=\\\"/borrower/income-proof\\\"></i>\\r\\n                    </span>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div *ngSwitchCase=\\\"Role.Lender\\\">\\r\\n        <div class=\\\"jumbotron\\\"\\r\\n            *ngIf=\\\"!authenticationService.currentUserValue.isVerified || !authenticationService.currentUserValue.isUsersBankDetailsSubmitted\\\">\\r\\n            <div class=\\\"text-black-50 h2 font-weight-lighter\\\" i18n>\\r\\n                Welome, Your profile has been verified succesfully. Your need to submit your\\r\\n                <span class=\\\"badge badge-danger\\\">Bank Details</span> to access the Loan Market.\\r\\n            </div>\\r\\n            <hr>\\r\\n            <ul class=\\\"list-unstyled\\\">\\r\\n                <li class=\\\"d-flex align-items-center justify-content-center mb-3 h4\\\" i18n>\\r\\n                    Profile and personal document verification\\r\\n                    <span [ngSwitch]=\\\"authenticationService.currentUserValue.isVerified\\\">\\r\\n                        <i *ngSwitchCase=\\\"true\\\" class=\\\"icon icon-check-box text-success ml-3\\\"></i>\\r\\n                        <i *ngSwitchDefault class=\\\"icon icon-pencil-alt text-danger ml-3\\\"\\r\\n                            routerLink=\\\"/lender/profile\\\"></i>\\r\\n                    </span>\\r\\n                </li>\\r\\n                <li class=\\\"d-flex align-items-center justify-content-center mb-3 h4\\\" i18n>\\r\\n                    Bank details submission\\r\\n                    <span [ngSwitch]=\\\"authenticationService.currentUserValue.isUsersBankDetailsSubmitted\\\">\\r\\n                        <i *ngSwitchCase=\\\"true\\\" class=\\\"icon icon-check-box text-success ml-3\\\"></i>\\r\\n                        <i *ngSwitchDefault class=\\\"icon icon-pencil-alt text-danger ml-3\\\"\\r\\n                            routerLink=\\\"/lender/bank-details\\\"></i>\\r\\n                    </span>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <!-- Earnings (Monthly) Card Example -->\\r\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\r\\n        <div class=\\\"card border-left-warning shadow h-100\\\">\\r\\n            <div class=\\\"card-body dashobard-card\\\">\\r\\n                <div class=\\\"row no-gutters align-items-center\\\">\\r\\n                    <div class=\\\"col mr-2\\\">\\r\\n                        <div class=\\\"text-xs font-weight-bold text-warning text-uppercase mb-1\\\" i18n>\\r\\n                            Member since\\r\\n                        </div>\\r\\n                        <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\">\\r\\n                            {{authenticationService.currentUserValue.userVerifiedOn | date:'dd-MMM-YYYY'}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-auto\\\">\\r\\n                        <i class=\\\"fas fa-dollar-sign fa-2x text-gray-300\\\"></i>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\r\\n        <div class=\\\"card border-left-primary shadow h-100\\\">\\r\\n            <div class=\\\"card-body dashobard-card\\\">\\r\\n                <div class=\\\"row no-gutters align-items-center\\\">\\r\\n                    <div class=\\\"col mr-2\\\">\\r\\n                        <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\r\\n                            My Level\\r\\n                        </div>\\r\\n                        <div class=\\\"h5 mb-0 font-weight-bold text-gray-800 text-capitalize text-cap\\\">\\r\\n                            <!--{{utilityService.returnStringWithReplacing_(authenticationService.currentUserValue.userType)}}-->\\r\\n                            {{authenticationService.returnUserTypeForUserFromSuppliedUserLevel(authenticationService.currentUserValue.userType)}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-auto\\\">\\r\\n                        <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <!-- Earnings (Monthly) Card Example -->\\r\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\r\\n        <div class=\\\"card border-left-success shadow h-100\\\">\\r\\n            <div class=\\\"card-body dashobard-card\\\">\\r\\n                <div class=\\\"row no-gutters align-items-center\\\">\\r\\n                    <div class=\\\"col mr-2\\\">\\r\\n                        <div class=\\\"text-xs font-weight-bold text-success text-uppercase mb-1\\\" i18n>\\r\\n                            Paid Contracts\\r\\n                        </div>\\r\\n                        <div class=\\\"row no-gutters align-items-center\\\">\\r\\n                            <div class=\\\"col-auto\\\">\\r\\n                                <div class=\\\"h5 mb-0 mr-3 font-weight-bold text-gray-800\\\">{{allMyPaidContractCount}}\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <!-- <div class=\\\"col\\\">\\r\\n                                            <div class=\\\"progress progress-sm mr-2\\\">\\r\\n                                                <div class=\\\"progress-bar bg-info\\\" role=\\\"progressbar\\\" style=\\\"width: 50%\\\" aria-valuenow=\\\"50\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"></div>\\r\\n                                            </div>\\r\\n                                        </div> -->\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-auto\\\">\\r\\n                        <i class=\\\"fas fa-clipboard-list fa-2x text-gray-300\\\"></i>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <!-- Pending Requests Card Example -->\\r\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\r\\n        <div class=\\\"card border-left-secondary shadow h-100\\\">\\r\\n            <div class=\\\"card-body dashobard-card\\\">\\r\\n                <div class=\\\"row no-gutters align-items-center\\\">\\r\\n                    <div class=\\\"col mr-2\\\">\\r\\n                        <div class=\\\"text-xs font-weight-bold text-secondary text-uppercase mb-1\\\" i18n>\\r\\n                            Paid Loans</div>\\r\\n                        <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\">{{allMyPaidLoanCount}}</div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-auto\\\">\\r\\n                        <i class=\\\"fas fa-comments fa-2x text-gray-300\\\"></i>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\r\\n        <div class=\\\"card bg-primary text-white shadow\\\">\\r\\n            <div class=\\\"card-body dashobard-card\\\">\\r\\n                <div class=\\\"text-xs font-weight-bold text-uppercase mb-1\\\" i18n>\\r\\n                    Active Loan</div>\\r\\n                <div class=\\\"h5 mb-0 font-weight-bold\\\">{{allMyActiveLoanCount}}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\r\\n        <div class=\\\"card bg-success text-white shadow\\\">\\r\\n            <div class=\\\"card-body dashobard-card\\\">\\r\\n                <div class=\\\"text-xs font-weight-bold text-uppercase mb-1\\\" i18n>\\r\\n                    UnSigned contracts</div>\\r\\n                <div class=\\\"h5 mb-0 font-weight-bold\\\">{{allMyUnSignedContractLoanCount}}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\r\\n        <div class=\\\"card bg-warning text-white shadow\\\">\\r\\n            <div class=\\\"card-body dashobard-card\\\">\\r\\n                <div class=\\\"text-xs font-weight-bold text-uppercase mb-1\\\" i18n>\\r\\n                    Disbursed Loans</div>\\r\\n                <div class=\\\"h5 mb-0 font-weight-bold\\\">{{allMyDisbursedLoanCount}}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <!--\\r\\n    <div class=\\\"col-xl-3 col-md-3 col-6 mb-4\\\">\\r\\n        <div class=\\\"card bg-secondary text-white shadow\\\">\\r\\n            <div class=\\\"card-body dashobard-card\\\">\\r\\n                <div class=\\\"text-xs font-weight-bold text-uppercase mb-1\\\">\\r\\n                    Profit Overview</div>\\r\\n                <div class=\\\"h5 mb-0 font-weight-bold\\\">{{allMyProfitOverviewCount}}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n-->\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n\\r\\n    <div class=\\\"col-xl-12 col-12\\\">\\r\\n        <div class=\\\"card shadow mb-4\\\">\\r\\n\\r\\n            <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\r\\n                <h6 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>Active Loans</h6>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"card-body p-0\\\">\\r\\n                <div class=\\\"table-responsive table-billing-history\\\">\\r\\n                    <table class=\\\"table mb-0\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th scope=\\\"col\\\" i18n>Type</th>\\r\\n                                <th scope=\\\"col\\\">\\r\\n                                    {{Role.Lender!=authenticationService.currentUserValue.role?'Lender\\r\\n                                    Name':'Borrower Name'}}\\r\\n                                </th>\\r\\n                                <th scope=\\\"col\\\" i18n>Amount</th>\\r\\n                                <th scope=\\\"col\\\" i18n>Refund</th>\\r\\n                                <th scope=\\\"col\\\" i18n>Next EMI</th>\\r\\n                                <th scope=\\\"col\\\" i18n>Status</th>\\r\\n                                <th scope=\\\"col\\\">#</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <!--New Data table from Sessions Apply-->\\r\\n                            <tr\\r\\n                            *ngFor=\\\"let LoanApplyObj of utilityService._.values( allSessionApplyData) | mySessionsFilter : 'status' : ['accepted']:checkCreatedByUserId:checkCreatedByT\\\">\\r\\n                            <td class=\\\"text-capitalize\\\">{{(LoanApplyObj.sessionForBorrower.loanType ||\\r\\n                                \\\"\\\").replace(\\\"_\\\", \\\" \\\")}}</td>\\r\\n                            <td class=\\\"text-capitalize\\\">\\r\\n                                {{userService.returnUsersObjFromLocal(null,\\r\\n                                null,'firstName',\\r\\n                                (LoanApplyObj.lenderId!=authenticationService.currentUserValue._id?LoanApplyObj.lenderId:LoanApplyObj.borrowerId))}}\\r\\n                            </td>\\r\\n                            <td>{{LoanApplyObj.loanAmount || LoanApplyObj.sessionForBorrower.loanAmount}}</td>\\r\\n                            <td>{{utilityService.returnRoundedNumber((LoanApplyObj.calculatedMonthlyAmountForEMI ||\\r\\n                                LoanApplyObj.sessionForBorrower.calculatedMonthlyAmountForEMI) *\\r\\n                                LoanApplyObj.sessionForBorrower.loanTenureInMonths)}}</td>\\r\\n                            <td>{{LoanApplyObj.nextInstallment | date:'dd-MMM-YYYY'}}</td>\\r\\n                            <td>\\r\\n                                <div *ngIf=\\\"LoanApplyObj.lenderId!=authenticationService.currentUserValue._id\\\">\\r\\n                                    <a *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByLender\\\">\\r\\n                                        <span class=\\\"badge badge-danger\\\" i18n>\\r\\n                                            Pending\\r\\n                                        </span>\\r\\n                                    </a>\\r\\n                                    <a\\r\\n                                        *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender && !LoanApplyObj.isLoanAmountPaidByLenderConfirmByBorrower\\\">\\r\\n                                        <span class=\\\"badge badge-warning\\\" i18n>\\r\\n                                            Money Sent\\r\\n                                        </span>\\r\\n                                    </a>\\r\\n                                    <a\\r\\n                                        *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender && LoanApplyObj.isLoanAmountPaidByLenderConfirmByBorrower\\\">\\r\\n                                        <span class=\\\"badge badge-success\\\" i18n>\\r\\n                                            Received Money\\r\\n                                        </span>\\r\\n                                    </a>\\r\\n                                </div>\\r\\n                                <div *ngIf=\\\"LoanApplyObj.lenderId==authenticationService.currentUserValue._id\\\">\\r\\n                                    <a *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByLender\\\">\\r\\n                                        <span\\r\\n                                            *ngIf=\\\"LoanApplyObj.lenderId==authenticationService.currentUserValue._id\\\"\\r\\n                                            class=\\\"badge badge-danger\\\" i18n>\\r\\n                                            Money Not Sent\\r\\n                                        </span>\\r\\n                                    </a>\\r\\n                                    <a\\r\\n                                    *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender && !LoanApplyObj.isLoanAmountPaidByLenderConfirmByBorrower\\\">\\r\\n                                    <span class=\\\"badge badge-warning\\\" i18n>\\r\\n                                        Money Sent\\r\\n                                    </span>\\r\\n                                    </a>\\r\\n                                    <a\\r\\n                                        *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender && LoanApplyObj.isLoanAmountPaidByLenderConfirmByBorrower\\\">\\r\\n                                        <span class=\\\"badge badge-success\\\" i18n>\\r\\n                                            Money Sent\\r\\n                                        </span>\\r\\n                                    </a>\\r\\n                                </div>\\r\\n                            </td>\\r\\n                            <td>\\r\\n                                <div *ngIf=\\\"LoanApplyObj.lenderId!=authenticationService.currentUserValue._id\\\">\\r\\n                                    <a (click)=\\\"LoanMoneyTransferStatusModel(LoanApplyObj.sessionForBorrower, LoanApplyObj)\\\"\\r\\n                                        *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender && !LoanApplyObj.isLoanAmountPaidByLenderConfirmByBorrower\\\">\\r\\n                                        <span class=\\\"badge badge-success\\\" i18n>is Money Received?</span>\\r\\n                                    </a>\\r\\n                                    <a *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender && LoanApplyObj.isLoanAmountPaidByLenderConfirmByBorrower && LoanApplyObj.nextInstallment && !LoanApplyObj.isLoanAmountPaidByBorrower\\\">\\r\\n                                       <!--\\r\\n                                        <span (click)=\\\"LoanMoneyTransferStatusModel(LoanApplyObj.sessionForBorrower, LoanApplyObj, LoanApplyObj.nextInstallment)\\\" class=\\\"badge badge-success\\\">is Installment Money Transfered?</span>\\r\\n                                    -->\\r\\n                                    <div class=\\\"form-check-inline\\\">\\r\\n                                        <div class=\\\"custom-control custom-checkbox\\\">\\r\\n                                            <input name=\\\"isLoanAmountPaidByBorrower\\\" id=\\\"isLoanAmountPaidByBorrower\\\" type=\\\"checkbox\\\"\\r\\n                                                class=\\\"custom-control-input\\\" [value]=\\\"true\\\"\\r\\n                                                (change)=\\\"LoanMoneyTransferStatusChange($event, LoanApplyObj.sessionForBorrower, LoanApplyObj, LoanApplyObj.nextInstallment)\\\"\\r\\n                                                [checked]=\\\"LoanApplyObj.isLoanAmountPaidByBorrower\\\">\\r\\n                                            <label for=\\\"isLoanAmountPaidByBorrower\\\" class=\\\"custom-control-label\\\" i18n>\\r\\n                                                Installment Money Transfered\\r\\n                                            </label>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    </a>\\r\\n                                </div>\\r\\n                                <div *ngIf=\\\"LoanApplyObj.lenderId==authenticationService.currentUserValue._id\\\">\\r\\n                                    <a *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByLender\\\">\\r\\n                                       <!--\\r\\n                                        <span (click)=\\\"LoanMoneyTransferStatusModel(LoanApplyObj.sessionForBorrower, LoanApplyObj)\\\" class=\\\"badge badge-success\\\">\\r\\n                                            is Money Transfered?\\r\\n                                        </span>\\r\\n                                    -->\\r\\n                                        <div class=\\\"form-check-inline\\\">\\r\\n                                            <div class=\\\"custom-control custom-checkbox\\\">\\r\\n                                                <input name=\\\"isLoanAmountPaidByLender\\\" id=\\\"isLoanAmountPaidByLender\\\" type=\\\"checkbox\\\"\\r\\n                                                    class=\\\"custom-control-input\\\" [value]=\\\"true\\\"\\r\\n                                                    (change)=\\\"LoanMoneyTransferStatusChange($event, LoanApplyObj.sessionForBorrower, LoanApplyObj)\\\"\\r\\n                                                    [checked]=\\\"LoanApplyObj.isLoanAmountPaidByLender\\\">\\r\\n                                                <label for=\\\"isLoanAmountPaidByLender\\\" class=\\\"custom-control-label\\\" i18n>\\r\\n                                                    Money Transfered\\r\\n                                                </label>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </a>\\r\\n                                    <a (click)=\\\"LoanMoneyTransferStatusModel(LoanApplyObj.sessionForBorrower, LoanApplyObj, null, true)\\\"\\r\\n                                        *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByBorrower && LoanApplyObj.installmentWiseLoanAmountPaidByBorrower\\\">\\r\\n                                        <span class=\\\"badge badge-success\\\" i18n>is Installment Money Received?&nbsp;</span>\\r\\n                                        <span\\r\\n                                            *ngFor=\\\"let installmentObj of LoanApplyObj.installmentWiseLoanAmountPaidByBorrower\\\">\\r\\n                                            <i *nfIf=\\\"installmentObj.createdOnForLoanAmountPaidToLender && !installmentObj.createdOnForLoanAmountPaidToLenderConfirmByLender\\\">*</i>\\r\\n                                        </span>\\r\\n                                    </a>\\r\\n\\r\\n\\r\\n                                </div>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                            <!--New Data table from Session Apply-->\\r\\n\\r\\n                            <!--Old Data table from Sessions-->\\r\\n                            <!--\\r\\n                            <tr\\r\\n                                *ngFor=\\\"let LoanObj of allSessionsData | mySessionsFilter : 'sessionAppliedByBorrowers[0].status' : ['accepted']:checkCreatedByUserId:checkCreatedByT\\\">\\r\\n                                <td class=\\\"text-capitalize\\\">{{(LoanObj.loanType || \\\"\\\").replace(\\\"_\\\", \\\" \\\")}}</td>\\r\\n                                <td class=\\\"text-capitalize\\\">\\r\\n                                    {{userService.returnUsersObjFromLocal(LoanObj.sessionAppliedByBorrowers,\\r\\n                                    true,'firstName')}}</td>\\r\\n                                <td>{{LoanObj.loanAmount}}</td>\\r\\n                                <td>{{utilityService.returnRoundedNumber(LoanObj.calculatedMonthlyAmountForEMI *\\r\\n                                    LoanObj.loanTenureInMonths)}}</td>\\r\\n                                <td>{{LoanObj.nextInstallment | date:'dd-MMM-YYYY'}}</td>\\r\\n                                <td>\\r\\n                                    <div *ngFor=\\\"let LoanApplyObj of LoanObj.sessionAppliedByBorrowers\\\">\\r\\n                                        <a>\\r\\n                                            <span *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByLender\\\"\\r\\n                                                class=\\\"badge badge-danger\\\">Pending</span>\\r\\n                                            <span *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender\\\"\\r\\n                                                class=\\\"badge badge-success\\\">Received Money</span>\\r\\n                                        </a>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <a (click)=\\\"showAppliedToSession(LoanObj)\\\">\\r\\n                                        <span class=\\\"badge badge-primary\\\">Details</span>\\r\\n                                    </a>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        -->\\r\\n                            <!--Old Data table from Sessions-->\\r\\n                            <tr class=\\\"mt-2 text-center no-item\\\">\\r\\n\\r\\n                                <h5 class=\\\"my-4 font-weight-normal\\\" i18n>No Data Found.</h5>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"col-xl-12 col-12\\\">\\r\\n        <div class=\\\"card shadow mb-4\\\">\\r\\n\\r\\n            <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\r\\n                <h6 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>Unsigned Contracts</h6>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"card-body p-0\\\">\\r\\n                <div class=\\\"table-responsive table-billing-history\\\">\\r\\n                    <table class=\\\"table mb-0\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th scope=\\\"col\\\" i18n>Type</th>\\r\\n                                <th scope=\\\"col\\\" i18n>Lender Name</th>\\r\\n                                <th scope=\\\"col\\\" i18n>Amount</th>\\r\\n                                <th scope=\\\"col\\\" i18n>Refund</th>\\r\\n                                <!--<th scope=\\\"col\\\">Next EMI</th>-->\\r\\n                                <th scope=\\\"col\\\" i18n>Application Date</th>\\r\\n                                <th scope=\\\"col\\\" i18n>Status</th>\\r\\n                                <th scope=\\\"col\\\">#</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr\\r\\n                                *ngFor=\\\"let LoanObj of allSessionsData | mySessionsFilter : 'sessionAppliedByBorrowers[0].status' : ['awaiting_for_approval']:checkCreatedByUserId:checkCreatedByT\\\">\\r\\n                                <td class=\\\"text-capitalize\\\">{{(LoanObj.loanType || \\\"\\\").replace(\\\"_\\\", \\\" \\\")}}</td>\\r\\n                                <td class=\\\"text-capitalize\\\">\\r\\n                                    {{userService.returnUsersObjFromLocal(LoanObj.sessionAppliedByBorrowers,\\r\\n                                    true,'firstName')}}</td>\\r\\n                                <td>{{LoanObj.loanAmount}}</td>\\r\\n                                <td>{{utilityService.returnRoundedNumber(LoanObj.calculatedMonthlyAmountForEMI *\\r\\n                                    LoanObj.loanTenureInMonths)}}</td>\\r\\n                                <!--<td>{{LoanObj.nextInstallment | date:'dd-MMM-YYYY'}}</td>-->\\r\\n                                <td>{{LoanObj.applicationDate | datePretty}}</td>\\r\\n                                <td>\\r\\n                                    <div *ngFor=\\\"let LoanApplyObj of LoanObj.sessionAppliedByBorrowers\\\">\\r\\n                                        <a>\\r\\n                                            <span *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByLender\\\"\\r\\n                                                class=\\\"badge badge-danger\\\" i18n>Pending</span>\\r\\n                                            <span *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender\\\"\\r\\n                                                class=\\\"badge badge-success\\\" i18n>Received Money</span>\\r\\n                                        </a>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <a (click)=\\\"showAppliedToSession(LoanObj)\\\">\\r\\n                                        <span class=\\\"badge badge-primary\\\" i18n>Details</span>\\r\\n                                    </a>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                            <tr class=\\\"mt-2 text-center no-item\\\">\\r\\n\\r\\n                                <h5 class=\\\"my-4 font-weight-normal\\\" i18n>No Data Found.</h5>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"col-xl-12 col-12\\\">\\r\\n        <div class=\\\"card shadow mb-4\\\">\\r\\n\\r\\n            <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\r\\n                <h6 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>Paid Loans</h6>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"card-body p-0\\\">\\r\\n                <div class=\\\"table-responsive table-billing-history\\\">\\r\\n                    <table class=\\\"table mb-0\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th scope=\\\"col\\\" i18n>Type</th>\\r\\n                                <th scope=\\\"col\\\" i18n>Lender Name</th>\\r\\n                                <th scope=\\\"col\\\" i18n>Amount</th>\\r\\n                                <th scope=\\\"col\\\" i18n>Refund</th>\\r\\n                                <th scope=\\\"col\\\" i18n>Status</th>\\r\\n                                <th scope=\\\"col\\\">#</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr\\r\\n                                *ngFor=\\\"let LoanObj of allSessionsData | mySessionsFilter : 'sessionAppliedByBorrowers[0].status' : ['paid','completed']:checkCreatedByUserId:checkCreatedByT\\\">\\r\\n                                <td class=\\\"text-capitalize\\\">{{(LoanObj.loanType || \\\"\\\").replace(\\\"_\\\", \\\" \\\")}}</td>\\r\\n                                <td class=\\\"text-capitalize\\\">\\r\\n                                    {{userService.returnUsersObjFromLocal(LoanObj.sessionAppliedByBorrowers,\\r\\n                                    true,'firstName')}}</td>\\r\\n                                <td>{{LoanObj.loanAmount}}</td>\\r\\n                                <td>{{utilityService.returnRoundedNumber(LoanObj.calculatedMonthlyAmountForEMI *\\r\\n                                    LoanObj.loanTenureInMonths)}}</td>\\r\\n                                <td>\\r\\n                                    <div *ngFor=\\\"let LoanApplyObj of LoanObj.sessionAppliedByBorrowers\\\">\\r\\n                                        <a>\\r\\n                                            <span *ngIf=\\\"!LoanApplyObj.isLoanAmountPaidByLender\\\"\\r\\n                                                class=\\\"badge badge-danger\\\" i18n>Pending</span>\\r\\n                                            <span *ngIf=\\\"LoanApplyObj.isLoanAmountPaidByLender\\\"\\r\\n                                                class=\\\"badge badge-success\\\" i18n>Received Money</span>\\r\\n                                        </a>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <a (click)=\\\"showAppliedToSession(LoanObj)\\\">\\r\\n                                        <span class=\\\"badge badge-primary\\\" i18n>Details</span>\\r\\n                                    </a>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                            <tr class=\\\"mt-2 text-center no-item\\\">\\r\\n\\r\\n                                <h5 class=\\\"my-4 font-weight-normal\\\" i18n>No Data Found.</h5>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<!--\\r\\n    <div class=\\\"row d-none\\\">\\r\\n    \\r\\n        <div class=\\\"col-xl-4 col-12\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n    \\r\\n                <div class=\\\"col-xl-12 col-md-6 mb-3\\\">\\r\\n                    <div class=\\\"card shadow-sm\\\">\\r\\n                        <div class=\\\"card-body\\\">\\r\\n                            <div class=\\\"row no-gutters align-items-center\\\">\\r\\n                                <div class=\\\"col text-center border-right\\\">\\r\\n                                    <div class=\\\"text-xs font-weight-bold text-success text-uppercase mb-1\\\">My Wallet\\r\\n                                    </div>\\r\\n                                    <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\">\\r\\n                                        ${{fundService.totalFund4currentUser}}</div>\\r\\n                                </div>\\r\\n    \\r\\n                                <div class=\\\"col text-center\\\">\\r\\n                                    <div class=\\\"text-xs font-weight-bold text-success text-uppercase mb-1\\\">My Sessions\\r\\n                                    </div>\\r\\n                                    <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\">\\r\\n                                        {{allSessionsCount}}/{{allSessionsTodayCount}}</div>\\r\\n                                </div>\\r\\n    \\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n    \\r\\n                <div class=\\\"col-xl-12 col-md-6 mb-3\\\">\\r\\n    \\r\\n                    <section class=\\\"blog-sidebar pt-0\\\">\\r\\n                        <div class=\\\"row pl-0 pr-0\\\">\\r\\n                            <div class=\\\"col-lg-12\\\">\\r\\n                                 <div>\\r\\n                                    <h5 class=\\\"blog-title\\\">upcoming sessions</h5>\\r\\n                                    <div class=\\\"sidebar-container\\\">\\r\\n                                        <div *ngFor=\\\"let item of utilityService._.values(allSessionsTodayList);\\\" class=\\\"post-container d-flex\\\">\\r\\n                                            <div class=\\\"w-35 m-r-25\\\">\\r\\n                                                <img alt=\\\"\\\" class=\\\"img-fluid\\\" src=\\\"./assets/img/na.png\\\">\\r\\n                                                <div class=\\\"badge badge-blue\\\">\\r\\n                                                    {{item.location}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div>\\r\\n                                                <h5 class=\\\"post-head\\\">{{item.sessionSubject}}</h5>\\r\\n                                                <h6 class=\\\"date\\\">{{item.loanStartDateTime | date:'medium'}}</h6>\\r\\n                                                <div class=\\\"mt-3\\\">\\r\\n                                                    <i class=\\\"icon-video-camera fa-lg mr-3\\\" (click)=\\\"clickedOnSessionChatVideo(item, true)\\\"></i>\\r\\n                                                    <i class=\\\"icon-comment\\\" (click)=\\\"clickedOnSessionChatVideo(item, false)\\\"></i>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"mt-2 text-center blog-agency no-item\\\">\\r\\n                                            <img src=\\\"assets/img/noresult.png\\\" style=\\\"height: 60px;\\\">\\r\\n                                            <h5 class=\\\"mt-3 font-weight-normal\\\">Looks like you don't have any counselling Session today</h5>\\r\\n                                        </div>\\r\\n    \\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </section>\\r\\n                </div>\\r\\n    \\r\\n            </div>\\r\\n    \\r\\n        </div>\\r\\n    \\r\\n        <div class=\\\"col-xl-8 col-12\\\">\\r\\n    \\r\\n            <section class=\\\"agency blog blog-sec blog-sidebar sider p-0\\\">\\r\\n    \\r\\n                <div class=\\\"h6 mb-3\\\">\\r\\n    \\r\\n                    LATEST SESSIONS\\r\\n                   \\r\\n                </div>\\r\\n                <div class=\\\"card shadow-sm mb-4\\\" *ngFor=\\\"let session of allSessionsData\\\">\\r\\n                    <div class=\\\"bg-white blog-title card-header mb-0 text-capitalize\\\">\\r\\n                        {{session.sessionSubject}}\\r\\n                    </div>\\r\\n                    <div class=\\\"card-body px-md-3 px-1 small\\\">\\r\\n                         <div class=\\\"row\\\">               \\r\\n                        <div class=\\\"col-xl-12 col-12\\\">\\r\\n                            <p class=\\\"para2\\\" [class.show_more]=\\\"!session._id\\\">\\r\\n                                {{session.loanDescription}}\\r\\n                            </p>\\r\\n                        </div>          \\r\\n                        <div class=\\\"col-xl-6 col-6 border-right mb-2\\\">\\r\\n                            <i aria-hidden=\\\"true\\\" class=\\\"icon-timer mr-2\\\"></i> {{session.loanStartDateTime | date:'MMM d, h:mm a'}}\\r\\n                        </div>\\r\\n                       \\r\\n                        <div class=\\\"col-xl-6 col-6\\\">\\r\\n                            <i aria-hidden=\\\"true\\\" class=\\\"icon-location-pin m-r-10\\\"></i>\\r\\n                            \\r\\n                            {{session.location}}\\r\\n                        </div>\\r\\n                      \\r\\n                    </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"card-footer bg-white\\\">\\r\\n                        <span class=\\\"badge badge-success font-weight-normal text-capitalize btn float-left\\\" >{{session.sessionType}}</span>\\r\\n                        <a *ngIf=\\\"!check4applyToSession(session)\\\" class=\\\"btn btn-success  text-capitalize btn-sm float-right text-white\\\" (click)=\\\"applyToSession(session)\\\">Apply</a>\\r\\n                        <a *ngIf=\\\"check4applyToSession(session)\\\" class=\\\"btn btn-primary text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(session)\\\"> Details</a>\\r\\n                    </div>\\r\\n                </div>\\r\\n                \\r\\n                <div *ngIf=\\\"!allSessionsData\\\">\\r\\n                    <div class=\\\"content_loader\\\"></div>\\r\\n                    <div class=\\\"content_loader\\\"></div>\\r\\n                </div>\\r\\n    \\r\\n            </section>\\r\\n        </div>\\r\\n    </div>\\r\\n    -->\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlYXJuaW5ncy5jb21wb25lbnQuY3NzIn0= */\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {ScrollingModule} from '@angular/cdk/scrolling';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { BorrowerRoutingModule, } from './borrower-routing.module';\r\nimport { BorrowerComponent,ModalApplySession, ModalAppliedSessionDisplay } from './borrower.component';\r\nimport { HeaderComponent } from './header/header.component';\r\nimport { FooterComponent } from './footer/footer.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { BrowseSessionsComponent } from './browse-sessions/browse-sessions.component';\r\nimport { MySessionsComponent } from './my-sessions/my-sessions.component';\r\nimport { EarningsComponent } from './earnings/earnings.component';\r\nimport { SharedModule } from './../shared/shared.module';\r\nimport { CalendarComponent } from './calendar/calendar.component';\r\nimport { FullCalendarModule } from '@fullcalendar/angular';\r\nimport dayGridPlugin from '@fullcalendar/daygrid'; \r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport { LoanMarketComponent } from './loan-market/loan-market.component';\r\nimport { GetALoanComponent } from './get-a-loan/get-a-loan.component';\r\nimport { BorrowNowComponent } from './borrow-now/borrow-now.component';\r\n\r\n\r\nFullCalendarModule.registerPlugins([ // register FullCalendar plugins\r\n  dayGridPlugin,\r\n  interactionPlugin\r\n]);\r\n\r\n@NgModule({\r\n  declarations: [BorrowerComponent, HeaderComponent, FooterComponent, HomeComponent, BrowseSessionsComponent, MySessionsComponent, EarningsComponent, ModalApplySession, ModalAppliedSessionDisplay, CalendarComponent, LoanMarketComponent, GetALoanComponent, BorrowNowComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatDialogModule,\r\n    ScrollingModule,\r\n    BorrowerRoutingModule,\r\n    SharedModule,\r\n    RouterModule,\r\n    FullCalendarModule\r\n  ],\r\n  entryComponents: [ModalApplySession,ModalAppliedSessionDisplay]\r\n})\r\nexport class BorrowerModule { }\r\n","export default \"\";","export default \"<section class=\\\"tab-product  p-b-0\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-sm-12 col-lg-12\\\">\\r\\n            <ul class=\\\"nav nav-justified nav-material nav-tabs\\\" id=\\\"top-tab\\\" role=\\\"tablist\\\">\\r\\n                <li class=\\\"nav-item\\\">\\r\\n                    <a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\r\\n                        [ngClass]=\\\"{ 'active': selectedTab=='received', 'show': selectedTab=='received'}\\\"\\r\\n                        data-toggle=\\\"tab\\\" href=\\\"#top-home\\\" id=\\\"top-home-tab\\\" role=\\\"tab\\\"\\r\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('received');\\\" i18n>My Contracts\\r\\n                        &nbsp;\\r\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalPendingContract || 0}}\\r\\n                        </span>\\r\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\r\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\r\\n\\r\\n                    </a>\\r\\n                    <div class=\\\"material-border\\\"></div>\\r\\n                </li>\\r\\n                <li class=\\\"nav-item\\\">\\r\\n                    <a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\r\\n                        [ngClass]=\\\"{ 'active': selectedTab=='sent', 'show': selectedTab=='sent'}\\\" data-toggle=\\\"tab\\\"\\r\\n                        href=\\\"#top-sent\\\" id=\\\"profile-sent-tab\\\" role=\\\"tab\\\"\\r\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('sent')\\\" i18n>Sent\\r\\n                        &nbsp;\\r\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalSentContract || 0}}\\r\\n                        </span>\\r\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\r\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\r\\n                    </a>\\r\\n                    <div class=\\\"material-border\\\"></div>\\r\\n                </li>\\r\\n                <li class=\\\"nav-item\\\">\\r\\n                    <a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\r\\n                        [ngClass]=\\\"{ 'active': selectedTab=='canceled', 'show': selectedTab=='canceled'}\\\"\\r\\n                        data-toggle=\\\"tab\\\" href=\\\"#top-canceled\\\" id=\\\"profile-canceled-tab\\\" role=\\\"tab\\\"\\r\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('canceled')\\\" i18n>Cancelled\\r\\n                        &nbsp;\\r\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalCanceledContract || 0}}\\r\\n                        </span>\\r\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\r\\n                            title=\\\"Cancelled contracts\\\"></i>\\r\\n                    </a>\\r\\n                    <div class=\\\"material-border\\\"></div>\\r\\n                </li>\\r\\n                <li class=\\\"nav-item\\\">\\r\\n                    <a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\r\\n                        [ngClass]=\\\"{ 'active': selectedTab=='active', 'show': selectedTab=='active'}\\\" data-toggle=\\\"tab\\\"\\r\\n                        href=\\\"#top-active\\\" id=\\\"profile-active-tab\\\" role=\\\"tab\\\"\\r\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('active')\\\" i18n>Active\\r\\n                        &nbsp;\\r\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalActiveContract || 0}}\\r\\n                        </span>\\r\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\r\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\r\\n                    </a>\\r\\n                    <div class=\\\"material-border\\\"></div>\\r\\n                </li>\\r\\n                <li class=\\\"nav-item\\\">\\r\\n                    <a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\r\\n                        [ngClass]=\\\"{ 'active': selectedTab=='paid', 'show': selectedTab=='paid'}\\\" data-toggle=\\\"tab\\\"\\r\\n                        href=\\\"#top-profile\\\" id=\\\"profile-top-tab\\\" role=\\\"tab\\\"\\r\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('paid')\\\" i18n>Paid\\r\\n                        &nbsp;\\r\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalPaidContract || 0}}\\r\\n                        </span>\\r\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\r\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\r\\n                    </a>\\r\\n                    <div class=\\\"material-border\\\"></div>\\r\\n                </li>\\r\\n                <li class=\\\"nav-item\\\"><a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\r\\n                        [ngClass]=\\\"{ 'active': selectedTab=='unpaid', 'show': selectedTab=='unpaid'}\\\" data-toggle=\\\"tab\\\"\\r\\n                        href=\\\"#top-profile\\\" id=\\\"profile-top-tab\\\" role=\\\"tab\\\"\\r\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('unpaid')\\\" i18n>Unpaid\\r\\n                        &nbsp;\\r\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalUnPaidContract || 0}}\\r\\n                        </span>\\r\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\r\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\r\\n                    </a>\\r\\n                    <div class=\\\"material-border\\\"></div>\\r\\n                </li>\\r\\n                <li class=\\\"nav-item\\\"><a aria-selected=\\\"false\\\" class=\\\"nav-link\\\"\\r\\n                        [ngClass]=\\\"{ 'active': selectedTab=='inkasso', 'show': selectedTab=='inkasso'}\\\"\\r\\n                        data-toggle=\\\"tab\\\" href=\\\"#top-contact\\\" id=\\\"contact-top-tab\\\" role=\\\"tab\\\"\\r\\n                        (click)=\\\"setFilteresOfMySessionDependsOnTab('inkasso')\\\" i18n>Inkasso\\r\\n\\r\\n                        &nbsp;\\r\\n                        <span class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                            {{authenticationService.currentUserLoanTypeWiseCountDetails.totalInkassoContract || 0}}\\r\\n                        </span>\\r\\n                        <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\r\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\r\\n                    </a>\\r\\n                    <div class=\\\"material-border\\\"></div>\\r\\n                </li>\\r\\n                <!-- <li class=\\\"nav-item\\\"><a aria-selected=\\\"true\\\" class=\\\"nav-link\\\" data-toggle=\\\"tab\\\" href=\\\"#top-review\\\" id=\\\"review-top-tab\\\" role=\\\"tab\\\" (click)=\\\"SessionStatusTypeFilter=[SessionStatus.Completed]\\\">Completed \\r\\n                    <i class=\\\"icon-info-alt small ml-1 tooltip-info\\\" data-toggle=\\\"tooltip\\\"\\r\\n                            title=\\\"Your applied loans those are accepted by LoanObj creator\\\"></i>\\r\\n                        </a>\\r\\n                    <div class=\\\"material-border\\\"></div>\\r\\n                </li> -->\\r\\n            </ul>\\r\\n        </div>\\r\\n    </div>\\r\\n</section>\\r\\n\\r\\n<section class=\\\"agency blog blog-sec blog-sidebar sider p-0 mt-4\\\">\\r\\n    <!-- ;-->\\r\\n    <div class=\\\"card shadow-sm mb-4\\\"\\r\\n        *ngFor=\\\"let LoanObj of allSessionsData | mySessionsFilter : 'sessionAppliedByBorrowers[0].status' : (SessionStatusTypeFilter.length>0 ? SessionStatusTypeFilter:['accepted']):checkCreatedByUserId:checkCreatedByT:(SessionStatusTypeFilter.indexOf(SessionStatus.Pending)>-1)\\\">\\r\\n        <div class=\\\"bg-white blog-title card-header mb-0 text-capitalize\\\">\\r\\n            <span class=\\\"float-left\\\">{{utilityService.returnLoanType(LoanObj.loanType)}}</span>\\r\\n            <span class=\\\"float-right cursor-pointer\\\" (click)=\\\"usersProfile(LoanObj.createdByUserObj)\\\">\\r\\n                <i class=\\\"icon icon-user\\\"></i>\\r\\n                {{LoanObj.createdByUserObj.firstName}}\\r\\n                <i *ngIf=\\\"authenticationService.currentUserValue._id==LoanObj.createdByUserObj._id\\\">*</i>\\r\\n            </span>\\r\\n        </div>\\r\\n        <div class=\\\"card-body px-md-3 px-1 small\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n\\r\\n                <div class=\\\"col-xl-4 col-12\\\">\\r\\n                    <div class=\\\"form-group border-right\\\">\\r\\n                        <label for=\\\"loanAmount\\\" i18n>Loan Amount</label>\\r\\n                        <h4 class=\\\"text-primary\\\">\\r\\n                            {{LoanObj.loanAmount}}\\r\\n                        </h4>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-xl-4 col-12\\\">\\r\\n                    <div class=\\\"form-group  border-right\\\">\\r\\n                        <label for=\\\"loanTenureInMonths\\\" i18n>Tenure in Months</label>\\r\\n                        <h4 class=\\\"text-primary\\\">\\r\\n                            {{LoanObj.loanTenureInMonths}}\\r\\n                        </h4>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-xl-4 col-12\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label for=\\\"loanInterestRate\\\" i18n>Interest(%) Rate (per month)</label>\\r\\n                        <h4 class=\\\"text-primary\\\">\\r\\n                            {{LoanObj.loanInterestRate}}\\r\\n                        </h4>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-xl-4 col-12\\\">\\r\\n                    <div class=\\\"form-group border-right\\\">\\r\\n                        <label for=\\\"loanStartDateTime\\\" i18n>Start Date</label>\\r\\n                        <h4 class=\\\"text-primary\\\" i18n>\\r\\n                            {{LoanObj.loanStartDateTime | date:'dd-MMM-YYYY'}}\\r\\n                        </h4>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-xl-4 col-12\\\">\\r\\n                    <div class=\\\"form-group  border-right\\\">\\r\\n                        <p class=\\\"mb-2\\\" i18n>How to give the money</p>\\r\\n\\r\\n                        <span *ngIf=\\\"utilityService.returnLoanRepaymentType('bank',LoanObj)>-1\\\"\\r\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                            BANK\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"utilityService.returnLoanRepaymentType('cash',LoanObj)>-1\\\"\\r\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                            Cash\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"utilityService.returnLoanRepaymentType('revolut',LoanObj)>-1\\\"\\r\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                            Revolut\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"utilityService.returnLoanRepaymentType('paypal',LoanObj)>-1\\\"\\r\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                            Paypal\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"utilityService.returnLoanRepaymentType('skrill',LoanObj)>-1\\\"\\r\\n                            class=\\\"badge font-weight-light text-uppercase badge-success\\\">\\r\\n                            Skrill\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-xl-12\\\">\\r\\n                    <p class=\\\"mb-2\\\" i18n>Description:</p>\\r\\n                    <div class=\\\"text-black-50\\\" >\\r\\n                        {{LoanObj.loanDescription}}\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"card-footer bg-white\\\">\\r\\n            <span\\r\\n                class=\\\"badge badge-success font-weight-normal text-capitalize btn float-left\\\">{{LoanObj.sessionType}}</span>\\r\\n            <div class=\\\"row\\\"\\r\\n                [ngSwitch]=\\\"returnSessionApplyStatus(utilityService._.first(LoanObj.sessionAppliedByBorrowers))\\\">\\r\\n                <!-- the same view can be shown in more than one case -->\\r\\n                <div class=\\\"col-xl-12\\\" *ngSwitchCase=\\\"SessionStatus.Pending\\\">\\r\\n                    <!--\\r\\n                    <a *ngIf=\\\"!check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\">APPLY</a>\\r\\n                    <a *ngIf=\\\"check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\"> Details</a>\\r\\n                    -->\\r\\n\\r\\n                    <label *ngIf=\\\"LoanObj.loanMaxBorrower\\\"\\r\\n                        class=\\\"btn btn-primary text-capitalize btn-sm text-white\\\" title=\\\"Received Requests/Total Applicants\\\">\\r\\n                        {{ _.keys(LoanObj.sessionAppliedByBorrowers).length || 0}}/{{LoanObj.loanMaxBorrower}}\\r\\n                    </label>\\r\\n\\r\\n                    <a class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\"\\r\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\" i18n> Details</a>\\r\\n                    <a *ngIf=\\\"LoanObj.createdByUserObj._id==authenticationService.currentUserValue._id\\\"\\r\\n                        class=\\\"btn btn-danger text-capitalize btn-sm float-right text-white mr-2\\\"><i class=\\\"icon icon-trash\\\"\\r\\n                            (click)=\\\"deleteSessionById(LoanObj._id)\\\"></i></a>\\r\\n                    \\r\\n                    \\r\\n                </div>\\r\\n                <div class=\\\"col-xl-12\\\" *ngSwitchCase=\\\"SessionStatus.Accepted\\\">\\r\\n                    <!--\\r\\n                    <a *ngIf=\\\"!check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\">APPLY</a>\\r\\n                    <a *ngIf=\\\"check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\"> Details</a>\\r\\n                    -->\\r\\n                    <a class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\"\\r\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\" i18n> Details</a>\\r\\n                    <label *ngIf=\\\"LoanObj.loanMaxBorrower\\\"\\r\\n                        class=\\\"abs-center btn btn-primary text-capitalize btn-sm text-white\\\">\\r\\n                        {{ _.keys(LoanObj.sessionAppliedByBorrowers).length || 0}}/{{LoanObj.loanMaxBorrower}}\\r\\n                    </label>\\r\\n                </div>\\r\\n                <div class=\\\"col-xl-12\\\" *ngSwitchCase=\\\"SessionStatus.OngoingInitiated\\\">\\r\\n                    <!--\\r\\n                    <button *ngIf=\\\"check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right\\\" (click)=\\\"sessionApplyOngoingCheck(LoanObj, utilityService._.first(LoanObj.sessionAppliedByBorrowers))\\\">\\r\\n                        Proceed for Execution\\r\\n                    </button>\\r\\n                -->\\r\\n                    <a class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\"\\r\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\" i18n> Details</a>\\r\\n                    <label *ngIf=\\\"LoanObj.loanMaxBorrower\\\"\\r\\n                        class=\\\"abs-center btn btn-primary text-capitalize btn-sm text-white\\\">\\r\\n                        {{ _.keys(LoanObj.sessionAppliedByBorrowers).length || 0}}/{{LoanObj.loanMaxBorrower}}\\r\\n                    </label>\\r\\n                </div>\\r\\n                <div class=\\\"col-xl-12\\\" *ngSwitchCase=\\\"SessionStatus.AwaitingForApproval\\\">\\r\\n                    <a *ngIf=\\\"!check4applyToSession(LoanObj, checkCreatedByT)\\\"\\r\\n                        class=\\\"btn btn-success btn-sm text-capitalize float-right text-white\\\"\\r\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\">\\r\\n                        Details\\r\\n                    </a>\\r\\n                    <a *ngIf=\\\"check4applyToSession(LoanObj, checkCreatedByT)\\\"\\r\\n                        class=\\\"btn btn-success btn-sm text-capitalize float-right text-white\\\"\\r\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\" i18n> <i class=\\\"icon-check fa-lg text-white\\\"></i>\\r\\n                        Proceed for Contract Sign\\r\\n                    </a>\\r\\n                    <label *ngIf=\\\"LoanObj.loanMaxBorrower\\\"\\r\\n                        class=\\\"abs-center btn btn-primary text-capitalize btn-sm text-white\\\">\\r\\n                        {{ _.keys(LoanObj.sessionAppliedByBorrowers).length || 0}}/{{LoanObj.loanMaxBorrower}}\\r\\n                    </label>\\r\\n                </div>\\r\\n                <div class=\\\"col-xl-12\\\" *ngSwitchCase=\\\"SessionStatus.Ongoing\\\">\\r\\n                    <!--\\r\\n                    <a *ngIf=\\\"!check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\">\\r\\n                        Details\\r\\n                    </a>\\r\\n                    <a *ngIf=\\\"check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\"> <i class=\\\"icon-check fa-lg text-white\\\"></i>\\r\\n                        Proceed for Execution\\r\\n                    </a>\\r\\n                -->\\r\\n                    <a class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\"\\r\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\"> Details</a>\\r\\n                    <label *ngIf=\\\"LoanObj.loanMaxBorrower\\\"\\r\\n                        class=\\\"abs-center btn btn-primary text-capitalize btn-sm text-white\\\">\\r\\n                        {{ _.keys(LoanObj.sessionAppliedByBorrowers).length || 0}}/{{LoanObj.loanMaxBorrower}}\\r\\n                    </label>\\r\\n                </div>\\r\\n                <!--default case when there are no matches -->\\r\\n                <div class=\\\"col-xl-12\\\" *ngSwitchDefault>\\r\\n                    <!--\\r\\n                    <a *ngIf=\\\"!check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success btn-sm text-capitalize float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\">Apply</a>\\r\\n                    <a *ngIf=\\\"check4applyToSession(LoanObj, checkCreatedByT)\\\" class=\\\"btn btn-success btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(LoanObj)\\\">Details</a>\\r\\n                    -->\\r\\n                    <a class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\"\\r\\n                        (click)=\\\"showAppliedToSession(LoanObj)\\\" i18n> Details</a>\\r\\n                    <label *ngIf=\\\"LoanObj.loanMaxBorrower\\\"\\r\\n                        class=\\\"abs-center btn btn-primary text-capitalize btn-sm text-white\\\">\\r\\n                        {{ _.keys(LoanObj.sessionAppliedByBorrowers).length || 0}}/{{LoanObj.loanMaxBorrower}}\\r\\n                    </label>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"mt-5 text-center blog-agency no-item\\\">\\r\\n        <!-- <img src=\\\"assets/img/noresult.png\\\"> -->\\r\\n        <!--\\r\\n        <div class=\\\"spinner-border text-success mb-4\\\"></div>\\r\\n        <h2 class=\\\"text-black-50\\\">Hold on updating Loan Data</h2>\\r\\n        -->\\r\\n    </div>\\r\\n</section>\";","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { CalendarOptions } from '@fullcalendar/angular'; // useful for typechecking\r\nimport { first } from 'rxjs/internal/operators/first';\r\nimport { Role, SessionStatus, User } from 'src/app/models';\r\nimport { AuthenticationService, AlertService, UserService } from 'src/app/services';\r\nimport { ContactService } from 'src/app/services/contact.service';\r\nimport { SessionsService } from 'src/app/services/sessions.service';\r\nimport { UtilityService } from 'src/app/services/utility.service';\r\nimport { SocketioService } from 'src/app/socketio.service';\r\nimport { ModalApplySession } from '../borrower.component';\r\n\r\n@Component({\r\n  selector: 'app-calendar',\r\n  templateUrl: './calendar.component.html',\r\n  styleUrls: ['./calendar.component.css']\r\n})\r\nexport class CalendarComponent implements OnInit {\r\n  loading: Boolean = false;\r\n  SessionStatus = SessionStatus;\r\n  SessionStatusTypeFilter: string[] = [];\r\n  checkCreatedByUserId: string = '';\r\n  checkCreatedByT: Boolean = false;\r\n  currentUser: User;\r\n  allSessionsData: any;\r\n  allSessionsCount: any;\r\n\r\n  constructor(\r\n    public authenticationService: AuthenticationService,\r\n    private socketService: SocketioService,\r\n    public dialog: MatDialog,\r\n    public contactService: ContactService,\r\n    private utilityService: UtilityService,\r\n    private alertService: AlertService,\r\n    public userService: UserService,\r\n    public router: Router,\r\n    private sessionsService: SessionsService,\r\n  ) {\r\n    this.sessionsService.getSessionAllByBorrowerId(this.authenticationService.currentUserValue._id, null, null, SessionStatus.Accepted, true, null)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n            //alert(JSON.stringify( data));\r\n            this.allSessionsData = data['data'];\r\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\r\n            //this.alertService.success(data['message'], true);\r\n            this.bindDataToCalendrUI(this.allSessionsData);\r\n            this.loading = false;\r\n            //this.element_btn_click_addSession_skills_verification.click();\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            //this.alertService.error(data['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          //this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n\r\n    this.sessionsService.getUpdatesForSessionAllByBorrowerId()\r\n      .subscribe(\r\n        data => {\r\n          if (data && data['success']) {\r\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\r\n            for (let _items in data['data']) {\r\n              let _currentObj = data['data'][_items];\r\n              _keyPairedMapObj[_currentObj._id] = _currentObj\r\n            }\r\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\r\n            this.bindDataToCalendrUI(this.allSessionsData);\r\n            this.loading = false;\r\n          } else {\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          this.loading = false;\r\n        });\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  calendarOptions: CalendarOptions = {\r\n    initialView: 'dayGridMonth',\r\n    dateClick: this.handleDateClick.bind(this), // bind is important!\r\n    eventClick: this.handleEeventClick.bind(this),\r\n    events: [\r\n      { title: 'event 1', date: '2019-04-01' },\r\n      { title: 'event 2', date: '2019-04-02' }\r\n    ]\r\n  };\r\n\r\n  handleDateClick(arg) {\r\n    arg.jsEvent.preventDefault();\r\n    //alert('date click! ' + arg.dateStr)\r\n  }\r\n  handleEeventClick(arg) {\r\n    arg.jsEvent.preventDefault();\r\n    //alert('event click! ' + arg.event.id);\r\n    let _sessionId = arg.event.id;\r\n    let _sessionObj = this.utilityService._.filter(this.allSessionsData, { '_id': _sessionId })[0];\r\n    let _proccessedSessionObj = null;\r\n    switch (this.authenticationService.currentUserValue.role) {\r\n      case Role.Borrower:\r\n        _proccessedSessionObj =this.utilityService._.cloneDeep(_sessionObj);\r\n        _proccessedSessionObj.sessionAppliedByBorrowers = _sessionObj.sessionAppliedByBorrowers;\r\n        break;\r\n      case Role.Lender:\r\n        _proccessedSessionObj = this.utilityService._.cloneDeep(_sessionObj);\r\n        _proccessedSessionObj.sessionAppliedByBorrowers = _sessionObj.sessionAppliedByBorrowers;//_sessionAppliedByLenders\r\n        break;\r\n      default:\r\n        _proccessedSessionObj = this.utilityService._.cloneDeep(_sessionObj);\r\n        break;\r\n    }\r\n    \r\n    let _sessionApplyObj = this.utilityService._.first(_proccessedSessionObj.sessionAppliedByBorrowers);\r\n    let _borrowerId = null;\r\n    if (_sessionApplyObj) {\r\n      _borrowerId = _sessionApplyObj.borrowerId\r\n    }\r\n\r\n    this.showDataOfLoanObjInModal(_sessionObj, _sessionApplyObj, _borrowerId);\r\n  }\r\n\r\n  bindDataToCalendrUI(_allSessionsData) {\r\n    let _all_installments = [];\r\n    for (let inedexOuter in _allSessionsData) {\r\n\r\n      let _LoanObj = {\r\n        _id: null,\r\n        loanTenureInMonths: null,\r\n        loanStartDateTime: null,\r\n        calculatedMonthlyAmountForEMI: null,\r\n        loanType: null\r\n      };\r\n      _LoanObj = _allSessionsData[inedexOuter];\r\n\r\n      for (let index = 0; index < _LoanObj.loanTenureInMonths; index++) {\r\n        let installment = {\r\n          loanStartDateTime: null,\r\n          calculatedMonthlyAmountForEMI: null,\r\n          title: null,\r\n          date: null,\r\n          description: null,\r\n          id: null,\r\n        };\r\n\r\n        installment.loanStartDateTime = this.utilityService.returnDateWithAddingMonths(_LoanObj.loanStartDateTime, index + 1).format(\"YYYY-MM-DD\");\r\n        installment.calculatedMonthlyAmountForEMI = _LoanObj.calculatedMonthlyAmountForEMI;\r\n\r\n        installment.date = installment.loanStartDateTime;\r\n        installment.id = _LoanObj._id;\r\n        installment.description = '' + installment.calculatedMonthlyAmountForEMI;\r\n        let _installmentString = '' + (index + 1).toString();\r\n        installment.title = _installmentString + '. ' + installment.calculatedMonthlyAmountForEMI + '-' + this.utilityService.returnLoanType(_LoanObj.loanType);\r\n        _all_installments.push(installment);\r\n      }\r\n\r\n    }\r\n\r\n\r\n    this.calendarOptions = {\r\n      initialView: 'dayGridMonth',\r\n      dateClick: this.handleDateClick.bind(this), // bind is important!\r\n      eventClick: this.handleEeventClick.bind(this),\r\n      events: _all_installments\r\n    };\r\n  }\r\n\r\n  showDataOfLoanObjInModal(sessionObj, sessionApply, borrowerId) {\r\n    const dialogRef = this.dialog.open(ModalApplySession, {\r\n      backdropClass: 'cdk-overlay-transparent-backdrop',\r\n      hasBackdrop: true,\r\n      data: {\r\n        sessionObj: sessionObj,\r\n        borrowerId: this.authenticationService.currentUserValue._id\r\n      }\r\n    });\r\n\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      //console.log(`25 :: co :: Dialog result: ${JSON.stringify(result)}`);\r\n    });\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJteS1zZXNzaW9ucy5jb21wb25lbnQuY3NzIn0= */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYWxlbmRhci5jb21wb25lbnQuY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport * as moment from 'moment';\r\nimport { first } from 'rxjs/operators';\r\nimport { Role, SessionStatus, UserType } from 'src/app/models/role';\r\nimport { AuthenticationService, UserService, AlertService } from 'src/app/services';\r\nimport { AppRouterService } from 'src/app/services/app-router.service';\r\nimport { UtilityService } from 'src/app/services/utility.service';\r\nimport { SocketioService } from 'src/app/socketio.service';\r\nimport * as _ from 'lodash'\r\nimport { User } from 'src/app/models';\r\nimport { ContactService } from 'src/app/services/contact.service';\r\nimport { PublicProfileComponent } from 'src/app/shared/public-profile/public-profile.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-borrow-now',\r\n  templateUrl: './borrow-now.component.html',\r\n  styleUrls: ['./borrow-now.component.css']\r\n})\r\nexport class BorrowNowComponent implements OnInit {\r\n  borrowNowForm: FormGroup;\r\n  loading: Boolean = false;\r\n  LoanObj: any = {};\r\n  loanId: any = null;\r\n  loanApplyId: any = null;\r\n  submitted: Boolean = false;\r\n  public borrowerUserObj: User = null;\r\n  public lenderUserObj: User = null;\r\n  headerMessage2show = \"\";\r\n  userClickedOnSignLoanContract: Boolean = false;\r\n  constructor(\r\n    private socketService: SocketioService,\r\n    public utilityService: UtilityService,\r\n    private socketioService: SocketioService,\r\n    private alertService: AlertService,\r\n    private appRouterService: AppRouterService,\r\n    private formBuilder: FormBuilder,\r\n    public authenticationService: AuthenticationService,\r\n    private userService: UserService,\r\n    public contactService: ContactService,\r\n    public dialog: MatDialog,\r\n  ) {\r\n    if (_.keys(this.authenticationService.allUserLevelsDataLenders).length <= 0 || _.keys(this.authenticationService.allUserLevelsDataBorrower).length <= 0) {\r\n      this.authenticationService.fetchAllUserLevelsByUserId();\r\n    }\r\n    let paramobj = history.state;\r\n    if (paramobj) {\r\n      this.loanId = paramobj['loanId'];\r\n      delete history.state['loanId'];\r\n\r\n      this.loanApplyId = paramobj['loanApplyId'];\r\n      delete history.state['loanApplyId'];\r\n      if (this.loanApplyId) {\r\n        this.initForm();\r\n        this.clickedOnSignLoanContract(true);\r\n      }\r\n      if (this.loanId) {\r\n        this.socketioService.getLoanMarketDataById(this.loanId)\r\n          .pipe(first())\r\n          .subscribe(\r\n            data => {\r\n              //#region proccess for success here\r\n              if (data && data['success']) {\r\n                if (data[\"data\"]) {\r\n                  //#region data set to local of loan obj\r\n                  if (data[\"data\"][\"_id\"]) {\r\n                    this.LoanObj = data[\"data\"];\r\n                  } else {\r\n                    this.LoanObj = data[\"data\"][0];\r\n                  }\r\n                  let _obj4LoanApply = null;\r\n                  if (this.loanApplyId) {\r\n                    _obj4LoanApply = _.filter(this.LoanObj.sessionAppliedByBorrowers, { \"_id\": this.loanApplyId })[0];\r\n                    this.showEditingForm(_obj4LoanApply);\r\n                  }\r\n                  let _userIdOfLoanCreatorOrEditorWhichisNotCurrentUser = this.LoanObj.createdByUserObj._id;\r\n                  if (this.loanApplyId) {\r\n                    if (this.authenticationService.currentUserValue._id == this.LoanObj.createdByUserObj._id) {\r\n                      _userIdOfLoanCreatorOrEditorWhichisNotCurrentUser = _obj4LoanApply.lenderId;\r\n                    }\r\n                  }\r\n                  //#endregion data set to local of loan obj\r\n                  //#region fetch creator id\r\n                  this.userService.getUserById(_userIdOfLoanCreatorOrEditorWhichisNotCurrentUser)\r\n                    .pipe(first())\r\n                    .subscribe(\r\n                      data => {\r\n                        if (data && data['success']) {\r\n\r\n                          this.lenderUserObj = _.cloneDeep(data[\"data\"]);\r\n                          this.loading = false;\r\n                          /*\r\n                          if (this.loanApplyId) {\r\n                            this.clickedOnSignLoanContract(true);\r\n                          }\r\n                          */\r\n                        } else {\r\n                          this.alertService.error(data['message']);\r\n                          this.loading = false;\r\n                          this.appRouterService.appRouter('');\r\n                        }\r\n                      },\r\n                      error => {\r\n                        let errorMsg2show = \"\";\r\n                        try {\r\n                          if (error && error.error && error.error.message) {\r\n                            errorMsg2show = error.error.message;\r\n                          } else if (error && error.message) {\r\n                            errorMsg2show = error.message;\r\n                          } else {\r\n                            errorMsg2show = error;\r\n                          }\r\n                        } catch (ex) { }\r\n                        this.alertService.error(errorMsg2show);\r\n                        this.loading = false;\r\n                        this.appRouterService.appRouter('');\r\n                      });\r\n                  //#endregion fetch creator id\r\n                }\r\n                this.loading = false;\r\n              } else {\r\n                this.alertService.error(data['message']);\r\n                this.loading = false;\r\n                this.appRouterService.appRouter('');\r\n              }\r\n              //#endregion proccess for success here\r\n            },\r\n            error => {\r\n              //#region proccess for failure here\r\n              let errorMsg2show = \"\";\r\n              try {\r\n                if (error && error.error && error.error.message) {\r\n                  errorMsg2show = error.error.message;\r\n                } else if (error && error.message) {\r\n                  errorMsg2show = error.message;\r\n                } else {\r\n                  errorMsg2show = error;\r\n                }\r\n              } catch (ex) { }\r\n              this.alertService.error(errorMsg2show);\r\n              this.loading = false;\r\n              this.appRouterService.appRouter('');\r\n              //#endregion proccess for failure here\r\n            });\r\n        //#region read current users data here\r\n        this.userService.getUserById(this.authenticationService.currentUserValue._id)\r\n          .pipe(first())\r\n          .subscribe(\r\n            data => {\r\n              //#region proccess for success here\r\n              if (data && data['success']) {\r\n                this.borrowerUserObj = data[\"data\"];\r\n                this.loading = false;\r\n                if (this.loanApplyId) {\r\n                  this.clickedOnSignLoanContract(true);\r\n                }\r\n              } else {\r\n                this.alertService.error(data['message']);\r\n                this.loading = false;\r\n                this.appRouterService.appRouter('');\r\n              }\r\n              //#endregion proccess for success here\r\n            },\r\n            error => {\r\n              //#region proccess for failure here\r\n              let errorMsg2show = \"\";\r\n              try {\r\n                if (error && error.error && error.error.message) {\r\n                  errorMsg2show = error.error.message;\r\n                } else if (error && error.message) {\r\n                  errorMsg2show = error.message;\r\n                } else {\r\n                  errorMsg2show = error;\r\n                }\r\n              } catch (ex) { }\r\n              this.alertService.error(errorMsg2show);\r\n              this.loading = false;\r\n              this.appRouterService.appRouter('');\r\n              //#endregion proccess for failure here\r\n            });\r\n        //#endregion read current users data here\r\n      } else {\r\n        //navigate back\r\n        this.alertService.error(\"Data is missing or invalid entry\");\r\n        this.appRouterService.appRouter('');\r\n      }\r\n\r\n    } else {\r\n      //navigate back\r\n      this.alertService.error(\"Data is missing or invalid entry\");\r\n      this.appRouterService.appRouter('');\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n  }\r\n\r\n  initForm() {\r\n    this.returnHeaderTitleForPage();\r\n    this.borrowNowForm = this.formBuilder.group({\r\n      eSignatureBorrowersPassportNumber: ['', Validators.required],\r\n      eSignatureBorrowersName: ['', Validators.required],\r\n      loanInsuranceRequired: [false],\r\n      loanInsuranceAmount: [0],\r\n      proposedLoanAmount: [null, Validators.min(this.LoanObj.loanAmount)],\r\n      loanApplyNumber: [null],\r\n      loanInsuranceCreatedOn: [null],\r\n      calculatedMonthlyAmountForEMI: [null],\r\n      eSignatureLendersCreatedOn: [null],\r\n      eSignatureBorrowersCreatedOn: [null],\r\n      loanAgreementCondition: [null, Validators.required]\r\n    });\r\n  }\r\n  showEditingForm(_userObj) {\r\n    this.borrowNowForm = this.formBuilder.group({\r\n      eSignatureLendersPassportNumber: [_userObj.eSignatureLendersPassportNumber || '', Validators.required],\r\n      eSignatureLendersName: [_userObj.eSignatureLendersName || '', Validators.required],\r\n      eSignatureBorrowersPassportNumber: [_userObj.eSignatureBorrowersPassportNumber || '', Validators.required],\r\n      eSignatureBorrowersName: [_userObj.eSignatureBorrowersName || '', Validators.required],\r\n      loanInsuranceRequired: [_userObj.loanInsuranceRequired || false],\r\n      loanInsuranceAmount: [_userObj.loanInsuranceAmount || 0],\r\n      proposedLoanAmount: [_userObj.proposedLoanAmount || null, Validators.min(this.LoanObj.loanAmount)],\r\n      loanApplyNumber: [_userObj.loanApplyNumber || null],\r\n      loanInsuranceCreatedOn: [_userObj.loanInsuranceCreatedOn || null],\r\n      calculatedMonthlyAmountForEMI: [_userObj.calculatedMonthlyAmountForEMI || null],\r\n      eSignatureLendersCreatedOn: [_userObj.eSignatureLendersCreatedOn || null],\r\n      eSignatureBorrowersCreatedOn: [_userObj.eSignatureBorrowersCreatedOn || null],\r\n      loanAgreementCondition: [null, Validators.required]\r\n    });\r\n  }\r\n  get f() { return this.borrowNowForm.controls; }\r\n\r\n  returnHeaderTitleForPage() {\r\n    if (this.userClickedOnSignLoanContract) {\r\n      this.headerMessage2show = \"Sign Loan Contract\";\r\n    } else {\r\n      this.headerMessage2show = \"Loan Summary\";\r\n    }\r\n  }\r\n\r\n  resetClickedOnSignLoanContract() {\r\n    this.userClickedOnSignLoanContract = false;\r\n    this.returnHeaderTitleForPage();\r\n  }\r\n\r\n  clickedOnSignLoanContract(bypass2CheckOfProposedAmount: boolean = false) {\r\n    if (!bypass2CheckOfProposedAmount) {\r\n      if (this.borrowNowForm.get('proposedLoanAmount').value) {\r\n        /*\r\n        if (this.borrowNowForm.get('proposedLoanAmount').value <= this.LoanObj.loanAmount) {\r\n          this.alertService.error(\"amount must be hight than kr \" + this.LoanObj.loanAmount);\r\n          return;\r\n        }\r\n        */\r\n        if (this.borrowNowForm.get('proposedLoanAmount').value <= 1) {\r\n          this.alertService.error(\"amount must be hight than kr \" + 1);\r\n          return;\r\n        }\r\n        /*\r\n        if (this.borrowNowForm.get('proposedLoanAmount').value > this.borrowerUserObj.monthlyIncomeExpenseMargineAmount) {\r\n          this.alertService.error(\"amount must be lower than or equal to kr \" + this.borrowerUserObj.monthlyIncomeExpenseMargineAmount);\r\n          return;\r\n        }\r\n        */\r\n\r\n        if (this.borrowNowForm.get('proposedLoanAmount').value > this.returnAllowedAmountForLenderDependOnUserType()) {\r\n          this.alertService.error(\"amount must be lower than or equal to kr \" + this.returnAllowedAmountForLenderDependOnUserType());\r\n          return;\r\n        }\r\n\r\n        let _calculatedMonthlyAmountForEMI = this.utilityService.fnCalculateMonthlyAmountForEMI(this.borrowNowForm.get('proposedLoanAmount').value, this.LoanObj.loanTenureInMonths, this.LoanObj.loanInterestRate);\r\n        this.borrowNowForm.get('calculatedMonthlyAmountForEMI').setValue(_calculatedMonthlyAmountForEMI);\r\n      } else {\r\n        if (!this.borrowNowForm.get('calculatedMonthlyAmountForEMI').value) {\r\n          let _calculatedMonthlyAmountForEMI = this.utilityService.fnCalculateMonthlyAmountForEMI(this.LoanObj.loanAmount, this.LoanObj.loanTenureInMonths, this.LoanObj.loanInterestRate);\r\n          this.borrowNowForm.get('calculatedMonthlyAmountForEMI').setValue(_calculatedMonthlyAmountForEMI);\r\n        }\r\n      }\r\n    }\r\n\r\n    this.userClickedOnSignLoanContract = true;\r\n    this.returnHeaderTitleForPage();\r\n    if (this.borrowerUserObj) {\r\n      this.borrowNowForm.get('eSignatureBorrowersName').setValue(this.borrowerUserObj.firstName || this.borrowerUserObj.lastName);\r\n      this.borrowNowForm.get('eSignatureBorrowersPassportNumber').setValue(this.borrowerUserObj.myPassportNumber || this.borrowerUserObj.myDLNumber);\r\n    }\r\n  }\r\n\r\n  returnAllowedAmountForLenderDependOnUserType() {\r\n    let maxLoanAmountForLender = null;\r\n\r\n    if (this.lenderUserObj.userType) {\r\n      let maxLoanAmountForLenderObj = _.filter(this.authenticationService.allUserLevelsDataLenders, { '_id': this.lenderUserObj.userType });\r\n      if (maxLoanAmountForLenderObj && maxLoanAmountForLenderObj._id) {\r\n        maxLoanAmountForLender = maxLoanAmountForLenderObj.minimumSpent;\r\n      } else {\r\n        maxLoanAmountForLender = null;\r\n      }\r\n    }\r\n    if (maxLoanAmountForLender) {\r\n      return maxLoanAmountForLender;\r\n    }\r\n    //#region old version\r\n    if (this.lenderUserObj.userType) {\r\n      maxLoanAmountForLender = this.utilityService.LoanAmountMaxTypes[this.lenderUserObj.userType].amount;\r\n    } else {\r\n      maxLoanAmountForLender = this.utilityService.LoanAmountMaxTypes[UserType.new_lender].amount;\r\n    }\r\n    return maxLoanAmountForLender;\r\n    //#endregion old version\r\n  }\r\n\r\n  clickedOnVerifiedSignLoanContract() {\r\n    if (this.borrowerUserObj) {\r\n      if (!this.borrowNowForm.get('eSignatureBorrowersName').value) {\r\n        this.borrowNowForm.get('eSignatureBorrowersName').setValue(this.borrowerUserObj.firstName || this.borrowerUserObj.lastName);\r\n      }\r\n      if (!this.borrowNowForm.get('eSignatureBorrowersPassportNumber').value) {\r\n        this.borrowNowForm.get('eSignatureBorrowersPassportNumber').setValue(this.borrowerUserObj.myPassportNumber || this.borrowerUserObj.myDLNumber);\r\n      }\r\n    }\r\n    this.submitted = true;\r\n    if (this.borrowNowForm.invalid) {\r\n      return;\r\n    }\r\n\r\n    if (this.borrowNowForm.get('eSignatureBorrowersPassportNumber').value != this.borrowerUserObj.myPassportNumber) {\r\n      this.alertService.error(\"Passport Number miss match. Please enter proper number\");\r\n      return;\r\n    }\r\n    switch (this.authenticationService.currentUserValue.role) {\r\n      case Role.Lender:\r\n        this.borrowNowForm.get('eSignatureLendersCreatedOn').setValue(_.now());\r\n        break;\r\n      case Role.Borrower:\r\n        this.borrowNowForm.get('eSignatureBorrowersCreatedOn').setValue(_.now());\r\n        break;\r\n    }\r\n\r\n    let selectedTab = null;\r\n    let _currentSessionApply = {\r\n      sessionObj: {\r\n        loanAmount: null\r\n      },\r\n      borrowerId: null,\r\n      lenderId: null,\r\n      _id: null,\r\n      status: null,\r\n      loanId: null,\r\n      isLoanBorrowed: false,\r\n      createdByUserObj: {},\r\n      createdBy: null\r\n    };\r\n\r\n    _currentSessionApply = this.borrowNowForm.value;\r\n    _currentSessionApply.sessionObj = this.LoanObj;\r\n    if (this.borrowNowForm.get('proposedLoanAmount').value) {\r\n      _currentSessionApply.sessionObj.loanAmount = this.borrowNowForm.get('proposedLoanAmount').value;\r\n    }\r\n    _currentSessionApply.borrowerId = this.borrowerUserObj._id;\r\n    _currentSessionApply.lenderId = this.lenderUserObj._id;\r\n    _currentSessionApply.loanId = this.LoanObj._id;\r\n    _currentSessionApply.isLoanBorrowed = true;\r\n    _currentSessionApply.status || SessionStatus.Pending;\r\n\r\n    _currentSessionApply._id = this.loanApplyId;\r\n    if (_currentSessionApply) {\r\n      if (!_currentSessionApply._id) {\r\n        _currentSessionApply._id = _currentSessionApply.loanId + '__' + _currentSessionApply.borrowerId;\r\n      }\r\n      if (this.LoanObj.createdBy == this.borrowerUserObj._id) {\r\n        //here status set to accepted as this is lender side and creator is same so borrower already initiated ongoing proccess\r\n        _currentSessionApply.status = _currentSessionApply.status || SessionStatus.Accepted;\r\n      } else {\r\n        //here loan created by borrower so informing borrower as lender is interested to lend money so borrower can set to accepted status\r\n        _currentSessionApply.status = _currentSessionApply.status || SessionStatus.AwaitingForApproval;\r\n      }\r\n      this.socketService.sendCurrentAppliedSessionObj(_currentSessionApply.loanId);\r\n      switch (_currentSessionApply.status) {\r\n        case SessionStatus.Pending:\r\n        case SessionStatus.AwaitingForApproval:\r\n          _currentSessionApply.createdBy = this.authenticationService.currentUserValue._id;\r\n          this.socketService.setSessionApply(true, _currentSessionApply);\r\n          break;\r\n        default:\r\n          this.socketService.updateSessionApply(true, _currentSessionApply, this.borrowerUserObj);\r\n          break;\r\n      }\r\n      //#region create chat group\r\n      let _adminUsersArray = [];\r\n      _adminUsersArray.push(this.lenderUserObj._id);\r\n      _adminUsersArray.push(this.borrowerUserObj._id);\r\n      /*this.borrowerUserObj.firstName + \" - \" + */\r\n      let _currentContactObj = this.contactService.returnContactJsonData(this.authenticationService.currentUserValue._id, this.utilityService.returnLoanType(this.LoanObj.loanType) + \" - \" + (this.LoanObj.loanNumber || ''), this.LoanObj._id, _currentSessionApply._id, _adminUsersArray, null, null, null, false);\r\n      this.socketService.sendEventToAddNewContact(_currentContactObj);\r\n      //#endregion create chat group\r\n\r\n      switch (_currentSessionApply.status) {\r\n        case SessionStatus.AwaitingForApproval:\r\n          selectedTab = { selectedTab: 'sent' };\r\n          break;\r\n        case SessionStatus.Accepted:\r\n          this.alertService.success(\"Updated. Loan contract is available under My Contract->Active tab.\", true);\r\n          //#region print PDF signed contract\r\n          let _LoanObj = {\r\n            borrowersUserObj: null,\r\n            lendersUserObj: null,\r\n            loanStartDateTime: null,\r\n            installments: null,\r\n            loanType: null,\r\n            loanRepaymentType: null\r\n          };\r\n\r\n          _LoanObj = _.cloneDeep(_currentSessionApply);\r\n\r\n\r\n          _LoanObj.borrowersUserObj = _.cloneDeep(this.borrowerUserObj);\r\n          _LoanObj.lendersUserObj = _.cloneDeep(this.lenderUserObj);\r\n\r\n          _LoanObj.loanStartDateTime = moment(this.LoanObj.loanStartDateTime).format(\"DD-MMM-YYYY\");\r\n          _LoanObj.lendersUserObj.lenderPassportOrDlNumber = this.lenderUserObj.myPassportNumber;\r\n          _LoanObj.borrowersUserObj.borrowerPassportOrDlNumber = this.borrowerUserObj.myPassportNumber;\r\n\r\n          _LoanObj.installments = [];\r\n          for (let index = 0; index < this.LoanObj.loanTenureInMonths; index++) {\r\n            let installment = {\r\n              loanStartDateTime: null,\r\n              calculatedMonthlyAmountForEMI: null\r\n            };\r\n            installment.loanStartDateTime = this.utilityService.returnDateWithAddingMonths(_LoanObj.loanStartDateTime, index + 1).format(\"DD-MMM-YYYY\");\r\n            installment.calculatedMonthlyAmountForEMI = this.borrowNowForm.get('calculatedMonthlyAmountForEMI').value || this.LoanObj.calculatedMonthlyAmountForEMI;\r\n            _LoanObj.installments.push(installment);\r\n          }\r\n\r\n          _LoanObj.loanType = this.utilityService.returnLoanType(this.LoanObj.loanType);\r\n\r\n          _LoanObj.loanRepaymentType = this.LoanObj.loanRepaymentType\r\n\r\n          this.authenticationService.generateReport4SignedContract(_LoanObj)\r\n            .pipe(first())\r\n            .subscribe(\r\n              data => {\r\n              },\r\n              error => {\r\n                let errorMsg2show = \"\";\r\n                try {\r\n                  if (error && error.error && error.error.message) {\r\n                    errorMsg2show = error.error.message;\r\n                  } else if (error && error.message) {\r\n                    errorMsg2show = error.message;\r\n                  } else {\r\n                    errorMsg2show = error;\r\n                  }\r\n                } catch (ex) {\r\n                }\r\n                //this.alertService.error(errorMsg2show);\r\n                this.loading = false;\r\n              });\r\n          //#endregion print PDF signed contract\r\n          break;\r\n        case SessionStatus.Pending:\r\n          this.alertService.success(\"Loan contract signed successfully.\", true);\r\n          break;\r\n        case SessionStatus.Rejected:\r\n        case SessionStatus.RejectedOngoing:\r\n        case SessionStatus.RejectedOngoingWithRefund:\r\n        case SessionStatus.Suspended:\r\n          this.alertService.success(\"Updated. Loan contract is available under My Contract->Rejected tab.\", true);\r\n          break;\r\n        case SessionStatus.Completed:\r\n          this.alertService.success(\"Updated. Loan contract is available under My Contract->Paid tab.\", true);\r\n          break;\r\n        case SessionStatus.Active:\r\n        case SessionStatus.Ongoing:\r\n        case SessionStatus.OngoingInitiated:\r\n          this.alertService.success(\"Updated. Loan contract is available under My Contract->Ongoing tab.\", true);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n\r\n    }\r\n\r\n    this.appRouterService.appRouteToPath(\"/borrower/my-contract\", selectedTab);\r\n\r\n  }\r\n\r\n  clicked2LoanAgreementCondition(event) {\r\n    if (event.srcElement.checked) {\r\n      this.borrowNowForm.get('loanAgreementCondition').setValue(true);\r\n    } else {\r\n      this.borrowNowForm.get('loanAgreementCondition').setValue(false);\r\n    }\r\n  }\r\n  usersProfile(userObj) {\r\n    //#region fetch creator id\r\n    this.userService.getUserById(userObj._id)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          if (data && data['success']) {\r\n            //console.log('84', this.authenticationService.currentUserValue);\r\n            const dialogRef = this.dialog.open(PublicProfileComponent, {\r\n\r\n              maxWidth: '100vw',\r\n              maxHeight: '100vh',\r\n              height: '100%',\r\n              width: '100%',\r\n              hasBackdrop: true,\r\n              data: {\r\n                userObj: _.cloneDeep(data['data']),\r\n                adminViewT: false\r\n              }\r\n            });\r\n\r\n            dialogRef.afterClosed().subscribe(result => {\r\n              //console.log(`99 :: msc :: Dialog result: ${JSON.stringify(result)}`);\r\n            });\r\n\r\n          } else {\r\n\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          this.alertService.error(errorMsg2show);\r\n\r\n        });\r\n    //#endregion fetch creator id\r\n\r\n  }\r\n}\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-room',\r\n  templateUrl: './room.component.html',\r\n  styleUrls: ['./room.component.css']\r\n})\r\nexport class RoomComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, OnDestroy, ChangeDetectorRef } from '@angular/core';\r\nimport { SocketioService } from 'src/app/socketio.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ModalApplySession, ModalAppliedSessionDisplay } from '../borrower.component';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { AlertService, AuthenticationService, UserService } from 'src/app/services';\r\nimport { SessionsService } from 'src/app/services/sessions.service';\r\nimport { UtilityService } from 'src/app/services/utility.service';\r\nimport { first } from 'rxjs/operators';\r\nimport * as _ from 'lodash';\r\nimport { Role, SessionStatus } from 'src/app/models';\r\nimport { AddFundsService } from 'src/app/services/add-funds.service';\r\nimport { Router } from '@angular/router';\r\nimport { ContactService } from 'src/app/services/contact.service';\r\nimport { MoneyTransferDataComponent } from 'src/app/shared/money-transfer-data/money-transfer-data.component';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit, OnDestroy {\r\n  SearchString: string;\r\n  currentOnlineUserList: any;\r\n  subscription: Subscription;\r\n  subscription1: Subscription;\r\n  show_more = true;\r\n  loading: boolean;\r\n  allSessionsData: any;\r\n  allSessionsCount: number;\r\n  homeComponantForm: FormGroup;\r\n  allSessionsTodayList: any;\r\n  allSessionsTodayCount: any;\r\n\r\n  checkCreatedByUserId: string = null;\r\n  checkCreatedByT: Boolean = false;\r\n\r\n  allMyActiveLoanCount: number = 0;\r\n  allMyDisbursedLoanCount: number = 0;\r\n  allMyUnSignedContractLoanCount: number = 0;\r\n  allMyProfitOverviewCount: number = 0;//undone\r\n  allMyPaidContractCount: number = 0;//undone\r\n  allMyPaidLoanCount: number = 0;//undone\r\n  Role = Role;\r\n\r\n  showSessionApplyInRoot: boolean = true;//by default set it to// false;\r\n  allSessionApplyData: any = [];\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n  }\r\n\r\n  constructor(\r\n    public userService: UserService,\r\n    private socketService: SocketioService,\r\n    private formBuilder: FormBuilder,\r\n    private sessionsService: SessionsService,\r\n    private alertService: AlertService,\r\n    public utilityService: UtilityService,\r\n    public dialog: MatDialog,\r\n    public authenticationService: AuthenticationService,\r\n    public fundService: AddFundsService,\r\n    public router: Router,\r\n    public contactService: ContactService,\r\n    private _cdr: ChangeDetectorRef\r\n  ) {\r\n    this.checkIfCurrentUserUpdatedAndVerifiedIncomeAndExpenseDetailsOrNot();\r\n    this.checkCreatedByUserId = null;\r\n    this.checkCreatedByT = null;\r\n    let _obj2Save = {};\r\n    //#region get count for allMyActiveLoanCount i.e. status set to paid\r\n    _obj2Save = {\r\n      borrowerId: this.authenticationService.currentUserValue._id,\r\n      status: SessionStatus.Completed\r\n    };\r\n    this.socketService.getSessionApplyCountByQuery(false, _obj2Save, true, 'sessions_response_get_session_apply_count_by_query_allMyPaidContractCount')\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n            this.allMyPaidContractCount = data['data'];\r\n            this.allMyPaidLoanCount = data['data'];\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            //this.alertService.error(data['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          //this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n    //#endregion get count for allMyActiveLoanCount i.e. status set to paid\r\n\r\n    //#region get count for allMyActiveLoanCount i.e. status set to accepted\r\n    _obj2Save = {\r\n      borrowerId: this.authenticationService.currentUserValue._id,\r\n      status: SessionStatus.Accepted\r\n    };\r\n    this.socketService.getSessionApplyCountByQuery(false, _obj2Save, true, 'sessions_response_get_session_apply_count_by_query_allMyActiveLoanCount')\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n            this.allMyActiveLoanCount = data['data'];\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            //this.alertService.error(data['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          //this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n    //#endregion get count for allMyActiveLoanCount i.e. status set to accepted\r\n    //#region get count for allMyDisbursedLoanCount i.e. status set to accepted and loan amount paid by lender\r\n    _obj2Save = {\r\n      borrowerId: this.authenticationService.currentUserValue._id,\r\n      status: SessionStatus.Accepted,\r\n      isLoanAmountPaidByLender: true\r\n    };\r\n    this.socketService.getSessionApplyCountByQuery(false, _obj2Save, true, 'sessions_response_get_session_apply_count_by_query_allMyDisbursedLoanCount')\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n\r\n            this.allMyDisbursedLoanCount = data['data'];\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            //this.alertService.error(data['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          //this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n    //#endregion get count for allMyDisbursedLoanCount i.e. status set to accepted and loan amount paid by lender\r\n\r\n    //#region get count for allMyUnSignedContractLoanCount i.e. status set to AwaitingForApproval\r\n    _obj2Save = {\r\n      borrowerId: this.authenticationService.currentUserValue._id,\r\n      status: SessionStatus.AwaitingForApproval\r\n    };\r\n    this.socketService.getSessionApplyCountByQuery(false, _obj2Save, true, 'sessions_response_get_session_apply_count_by_query_allMyUnSignedContractLoanCount')\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n            this.allMyUnSignedContractLoanCount = data['data'];\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            //this.alertService.error(data['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          //this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n    //#endregion get count for allMyUnSignedContractLoanCount i.e. status set to AwaitingForApproval\r\n\r\n    this.sessionsService.getSessionAllByBorrowerId(this.authenticationService.currentUserValue._id, null, null, null, true, null)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n            //alert(JSON.stringify( data));\r\n            this.allSessionsData = data['data'];\r\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\r\n            this.calculateAndStoreLocalNextEMIDateOfAppliedLoansForBorrower();\r\n            //this.alertService.success(data['message'], true);\r\n            this.loading = false;\r\n            //this.element_btn_click_addSession_skills_verification.click();\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            //this.alertService.error(data['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          //this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n\r\n    this.sessionsService.getUpdatesForSessionAllByBorrowerId()\r\n      .subscribe(\r\n        data => {\r\n          if (data && data['success']) {\r\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\r\n            for (let _items in data['data']) {\r\n              let _currentObj = data['data'][_items];\r\n              _keyPairedMapObj[_currentObj._id] = _currentObj\r\n            }\r\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\r\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\r\n            this.calculateAndStoreLocalNextEMIDateOfAppliedLoansForBorrower();\r\n            this.loading = false;\r\n          } else {\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          this.loading = false;\r\n        });\r\n\r\n    /*\r\n        this.subscription = this.socketService.getCurrentOnlineUsersListObj().subscribe(_currentOnlineUserList => {\r\n          if (_currentOnlineUserList) {\r\n            this.currentOnlineUserList = _currentOnlineUserList;\r\n          } else {\r\n            this.currentOnlineUserList = null;\r\n          }\r\n        });\r\n    \r\n        this.subscription1 =  this.socketService.getCurrentSessionCount().subscribe(_allSessionsCount => {\r\n          if (_allSessionsCount) {\r\n            this.allSessionsCount = _allSessionsCount;\r\n          } else {\r\n            this.allSessionsCount = null;\r\n          }\r\n        });\r\n    \r\n        let _obj2Use4Filter = {\r\n          role: 'borrower'\r\n        };\r\n        let useAndTrueOrFalse = false;\r\n    \r\n        this.socketService.getUserOnlineList(false, _obj2Use4Filter, useAndTrueOrFalse);\r\n        let _obj2Save = {};\r\n        this.socketService.getSessionCountByQuery(false, _obj2Save);\r\n        fundService.getFundsCountForRequestedUser(this.authenticationService.currentUserValue._id);\r\n        fundService.getSessionSpentCountForRequestedUser(this.authenticationService.currentUserValue._id);\r\n        this.socketService.getSessionAllTodaysDateAcceptedOnly(this.authenticationService.currentUserValue._id, this.authenticationService.currentUserValue.role).subscribe(result => {\r\n          let data = null;\r\n          if (result) {\r\n            if (result['success'] == true || result['success'] == false) {\r\n              data = result['data'];\r\n            } else {\r\n              data = result;\r\n            }\r\n          }\r\n          this.allSessionsTodayList = data;\r\n          if (this.utilityService._.keys(this.allSessionsTodayList).length <= 0) {\r\n            this.allSessionsTodayList = [];\r\n          }\r\n          this.allSessionsTodayCount = this.utilityService._.keys(this.allSessionsTodayList).length;\r\n        });\r\n        */\r\n  }\r\n  checkIfCurrentUserUpdatedAndVerifiedIncomeAndExpenseDetailsOrNot() {\r\n\r\n    this.userService.getUserIncomeExpenseDetailsByUserId(this.authenticationService.currentUserValue._id)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n\r\n            if ((data[\"data\"][\"bankName\"] && data[\"data\"][\"accountNumber\"]) || data[\"data\"][\"isUsersBankDetailsSubmitted\"]) {\r\n              this.authenticationService.currentUserValue.isUsersBankDetailsSubmitted = true;\r\n              this.authenticationService.sendCurrentUserObj(this.authenticationService.currentUserValue);\r\n            }\r\n\r\n            if (data[\"data\"][\"totalIncome4currentUser\"] && data[\"data\"][\"totalExpense4currentUser\"]) {\r\n\r\n              this.authenticationService.currentUserValue.totalIncome4currentUser = data[\"data\"][\"totalIncome4currentUser\"];\r\n              this.authenticationService.currentUserValue.totalExpense4currentUser = data[\"data\"][\"totalExpense4currentUser\"];\r\n              this.authenticationService.currentUserValue.totalAllowedBudget = this.authenticationService.currentUserValue.totalIncome4currentUser - this.authenticationService.currentUserValue.totalExpense4currentUser;\r\n\r\n              this.authenticationService.currentUserValue.isUsersIncomeAndExpenseProofVerified = true;\r\n              this.authenticationService.sendCurrentUserObj(this.authenticationService.currentUserValue);\r\n            }\r\n\r\n          } else {\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          this.loading = false;\r\n        });\r\n  }\r\n\r\n  returnT4IfCurrentInstallmentAlreadyPaidConfirmByLender(LoanApplyObj, currentRowDate, _key) {\r\n    let _installmentKey = this.utilityService.moment(currentRowDate).format('DD-MMM-YYYY');\r\n    if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\r\n      if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_installmentKey]) {\r\n        if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_installmentKey].createdOnForLoanAmountPaidToLenderConfirmByLender) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  returnT4IfCurrentInstallmentAlreadyPaid(LoanApplyObj, currentRowDate, _key) {\r\n    let _installmentKey = this.utilityService.moment(currentRowDate).format('DD-MMM-YYYY');\r\n    if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\r\n      if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_installmentKey]) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  calculateAndStoreLocalNextEMIDateOfAppliedLoansForBorrower() {\r\n    //#region calculate and update next EMI of applied loans\r\n    for (let item in this.allSessionsData) {\r\n      let _LoanObj = this.allSessionsData[item];\r\n      if (_LoanObj) {\r\n        _LoanObj.nextInstallment = null;\r\n        for (let indexOuter in _LoanObj.sessionAppliedByBorrowers) {\r\n          let LoanApplyObj = _LoanObj.sessionAppliedByBorrowers[indexOuter];\r\n\r\n          if (LoanApplyObj) {\r\n            for (let index = 0; index < _LoanObj.loanTenureInMonths; index++) {\r\n              let installment = {\r\n                loanStartDateTime: null,\r\n                calculatedMonthlyAmountForEMI: null\r\n              };\r\n              installment.loanStartDateTime = this.utilityService.returnDateWithAddingMonths(_LoanObj.loanStartDateTime, index + 1);\r\n\r\n              if (!this.returnT4IfCurrentInstallmentAlreadyPaid(LoanApplyObj, installment.loanStartDateTime, null)) {\r\n                if (!_LoanObj.nextInstallment) {\r\n                  if (this.utilityService.moment(_LoanObj.nextInstallment).isBefore(this.utilityService.moment(installment.loanStartDateTime))) {\r\n                    break;\r\n                  }\r\n                }\r\n                _LoanObj.applicationDate = (LoanApplyObj.eSignatureLendersCreatedOn || LoanApplyObj.eSignatureBorrowersCreatedOn);\r\n                _LoanObj.nextInstallment = installment.loanStartDateTime;\r\n                break;\r\n              }\r\n            }\r\n\r\n          }\r\n        }\r\n        this.allSessionsData[item] = _LoanObj;\r\n\r\n      }\r\n    }\r\n    //#endregion calculate and update next EMI of applied loans\r\n    //#region create session apply from sessions\r\n    if (this.showSessionApplyInRoot) {\r\n      this.reformSessionApplyFromSessionsData(true);\r\n    }\r\n    //#endregion create session apply from sessions\r\n  }\r\n\r\n  reformSessionApplyFromSessionsData(resetOldT: boolean = false) {\r\n    //#region create session apply from sessions\r\n    if (resetOldT) {\r\n      this.allSessionApplyData = [];\r\n    }\r\n    for (let item in this.allSessionsData) {\r\n      for (let item in this.allSessionsData) {\r\n        let _LoanObj = this.allSessionsData[item];\r\n        if (_LoanObj) {\r\n          for (let indexOuter in _LoanObj.sessionAppliedByBorrowers) {\r\n            let LoanApplyObj = _LoanObj.sessionAppliedByBorrowers[indexOuter];\r\n            if (LoanApplyObj) {\r\n              let sessionForBorrower = _.cloneDeep(_LoanObj);\r\n              delete sessionForBorrower.sessionAppliedByBorrowers;\r\n\r\n              LoanApplyObj.sessionForBorrower = sessionForBorrower;\r\n              LoanApplyObj.applicationDate = _LoanObj.applicationDate;\r\n              LoanApplyObj.nextInstallment = _LoanObj.nextInstallment;\r\n\r\n              this.allSessionApplyData[LoanApplyObj._id] = LoanApplyObj;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //#endregion create session apply from sessions\r\n  }\r\n\r\n  sessionApplyOngoingCheck(sessionObj, sessionApply) {\r\n    //console.log('179', this.authenticationService.currentUserValue);\r\n    const dialogRef = this.dialog.open(ModalApplySession, {\r\n      maxWidth: '100vw',\r\n      maxHeight: '100vh',\r\n      height: '100%',\r\n      width: '100%',\r\n      data: {\r\n        sessionObj: sessionObj,\r\n        borrowerId: this.authenticationService.currentUserValue._id,\r\n        sessionApply: sessionApply\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      let _currentSessionApply = null;\r\n      if (result) {\r\n        if (result.data) {\r\n\r\n        }\r\n      }\r\n      //console.log(`163 :: myc :: Dialog result: ${JSON.stringify(result)}`);\r\n    });\r\n  }\r\n  showAppliedToSession(sessionObj) {\r\n    let _proccessedSessionObj = null;\r\n    switch (this.authenticationService.currentUserValue.role) {\r\n      case Role.Borrower:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\r\n        break;\r\n      default:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        break;\r\n    }\r\n\r\n    //console.log('214', this.authenticationService.currentUserValue);\r\n    const dialogRef = this.dialog.open(ModalAppliedSessionDisplay, {\r\n      backdropClass: 'custom-dialog-backdrop-class',\r\n      panelClass: 'my_session_details_modal',\r\n      maxWidth: '100vw',\r\n      maxHeight: '100vh',\r\n      height: '100%',\r\n      width: '100%',\r\n      data: {\r\n        sessionObj: _proccessedSessionObj,\r\n        borrowerId: this.authenticationService.currentUserValue._id\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        if (result.data) {\r\n          //console.log(`86 :: msc :: Dialog result: ${JSON.stringify(result)}`);\r\n          if (result.data.status && result.data.sessionApply) {\r\n            let _loanApplyId = result.data.sessionApply._id;\r\n            let _status = result.data.status;\r\n            //initiate payment here\r\n            //this.socketService.setSessionApplyUpdateStatus(false, _loanId, _loanApplyId, _status, this.authenticationService.currentUserValue._id, _transactionId);\r\n            let _allowed2CreateContactForSessionT = false;\r\n            switch (_status) {\r\n              case SessionStatus.Accepted:\r\n                //this.alertService.success(\"Updated. Session is available under My Sessions->Accepted tab.\", true);\r\n                this.proccedAppliedToSession(sessionObj, _loanApplyId);\r\n                break;\r\n            }\r\n          }\r\n          if (result.data.updatedSessionObj) {\r\n\r\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\r\n\r\n            _keyPairedMapObj[result.data.updatedSessionObj._id] = result.data.updatedSessionObj;\r\n\r\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\r\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\r\n            this.calculateAndStoreLocalNextEMIDateOfAppliedLoansForBorrower();\r\n            this._cdr.detectChanges();\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n  proccedAppliedToSession(sessionObj, loanApplyId) {\r\n    let loanId = sessionObj._id;\r\n\r\n    let _proccessedSessionObj = null;\r\n    switch (this.authenticationService.currentUserValue.role) {\r\n      case Role.Borrower:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\r\n        break;\r\n      case Role.Lender:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"lenderId\": this.authenticationService.currentUserValue._id });//_sessionAppliedByLenders\r\n        break;\r\n      default:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        break;\r\n    }\r\n    if (!loanApplyId) {\r\n      loanApplyId = _proccessedSessionObj.sessionAppliedByBorrowers[0]._id;\r\n    }\r\n    this.router.navigate(['/borrower/borrow-now'], { state: { loanId: loanId, loanApplyId: loanApplyId } });\r\n  }\r\n\r\n  LoanMoneyTransferStatusChange(event, LoanObj: any, LoanApplyObj: any, installmentKey: string = null, updateLastInstallmentPaymentStatus: boolean = false) {\r\n    //console.log('585', this.authenticationService.currentUserValue);\r\n    if (installmentKey) {\r\n      if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\r\n        for (let _items in LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\r\n          let _currentObj = LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_items];\r\n          if (_currentObj) {\r\n            if (_currentObj.createdOnForLoanAmountPaidToLender && !_currentObj.createdOnForLoanAmountPaidToLenderConfirmByLender) {\r\n              this.alertService.error('Last installment payment confirmation is pending from Lender', true);\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (updateLastInstallmentPaymentStatus) {\r\n      if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\r\n        for (let _items in LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\r\n          let _currentObj = LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_items];\r\n          if (_currentObj) {\r\n            if (_currentObj.createdOnForLoanAmountPaidToLender && !_currentObj.createdOnForLoanAmountPaidToLenderConfirmByLender) {\r\n              installmentKey = _currentObj.installmentKey;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (!installmentKey) {\r\n        this.alertService.error('Last installment payment not done by borrower', true);\r\n        return;\r\n      }\r\n    }\r\n\r\n    let LoanApplyObjCurrent4Installment = {\r\n      isInstallmentPaidByAdmin: null,\r\n      transactionOnForLoanAmountPaidToLender: null,\r\n      transactionIdForLoanAmountPaidToLender: null,\r\n      installmentKey: null,\r\n      createdOnForLoanAmountPaidToLender: null,\r\n      transactionOnForLoanAmountPaidToLenderConfirmByLender: null,\r\n      createdOnForLoanAmountPaidToLenderConfirmByLender: null\r\n    };\r\n    if (event.srcElement.checked) {\r\n      //#region update status add data\r\n      if (installmentKey) {\r\n        if (!updateLastInstallmentPaymentStatus) {\r\n          //#region Borrower updating status for installment done\r\n          //#endregion Borrower updating status for installment done\r\n        } else {\r\n          //#region Lender updating status for installment done by Borrower\r\n          //#endregion Lender updating status for installment done by Borrower\r\n        }\r\n        //#region direct action here with BYPASS ALL CASES\r\n        LoanApplyObjCurrent4Installment.isInstallmentPaidByAdmin = false;\r\n        LoanApplyObjCurrent4Installment.transactionOnForLoanAmountPaidToLender = this.utilityService._.now();\r\n        LoanApplyObjCurrent4Installment.transactionIdForLoanAmountPaidToLender = 'AUTO-SAVED';\r\n        LoanApplyObjCurrent4Installment.installmentKey = this.utilityService.moment(installmentKey).format('DD-MMM-YYYY');\r\n        LoanApplyObjCurrent4Installment.createdOnForLoanAmountPaidToLender = this.utilityService._.now();\r\n        LoanApplyObjCurrent4Installment.transactionOnForLoanAmountPaidToLenderConfirmByLender = this.utilityService._.now();\r\n        LoanApplyObjCurrent4Installment.createdOnForLoanAmountPaidToLenderConfirmByLender = this.utilityService._.now();\r\n\r\n        let _loanTenureInMonths: number = parseInt(LoanObj.loanTenureInMonths);\r\n        if (_loanTenureInMonths == (_.keys(LoanApplyObj.installmentWiseLoanAmountPaidByBorrower).length + 1)) {\r\n          if (confirm(\"This is confirmation of last installment\") == false) {\r\n            event.srcElement.checked = false;\r\n            return;\r\n          }\r\n        }\r\n        if (!LoanApplyObj.isLoanAmountPaidByLender) {\r\n          //#region direct action here with BYPASS ALL CASES\r\n          this.middiatorFnForLoanAmountPaidByLenderConfirmByBorrowerWithUpdateAll(LoanApplyObj, true, true);\r\n          //#endregion direct action here with BYPASS ALL CASES\r\n        }\r\n        this.socketService.sendEventForLoanAmountPaidToLenderConfirmByLenderWithUpdateAll(LoanApplyObj.loanId, LoanApplyObj._id, this.authenticationService.currentUserValue._id, installmentKey, _loanTenureInMonths, LoanApplyObjCurrent4Installment)\r\n          .pipe(first())\r\n          .subscribe(details => {\r\n            if (details && details[\"success\"]) {\r\n              this.broadcastUpdatedEvent2All(details[\"data\"]);\r\n            }\r\n          });\r\n        //#endregion direct action here with BYPASS ALL CASES\r\n      } else {\r\n        if (!LoanApplyObj.isLoanAmountPaidByLender) {\r\n          //#region Lender updating status for payment done\r\n          //#endregion Lender updating status for payment done\r\n        } else {\r\n          //#region Borrower updating status for payment done by Lender\r\n          //#endregion Borrower updating status for payment done by Lender\r\n        }\r\n        //#region direct action here with BYPASS ALL CASES\r\n        this.middiatorFnForLoanAmountPaidByLenderConfirmByBorrowerWithUpdateAll(LoanApplyObj, true, false);\r\n        //#endregion direct action here with BYPASS ALL CASES\r\n      }\r\n      //#endregion update status add data\r\n    } else {\r\n      //#region update status remove data\r\n      if (installmentKey) {\r\n        if (!updateLastInstallmentPaymentStatus) {\r\n          //#region Borrower updating status for installment done\r\n          //#endregion Borrower updating status for installment done\r\n        } else {\r\n          //#region Lender updating status for installment done by Borrower\r\n          //#endregion Lender updating status for installment done by Borrower\r\n        }\r\n        //#region direct action here with BYPASS ALL CASES\r\n        LoanApplyObjCurrent4Installment.isInstallmentPaidByAdmin = false;\r\n        LoanApplyObjCurrent4Installment.transactionOnForLoanAmountPaidToLender = null;\r\n        LoanApplyObjCurrent4Installment.transactionIdForLoanAmountPaidToLender = null;\r\n        LoanApplyObjCurrent4Installment.installmentKey = this.utilityService.moment(installmentKey).format('DD-MMM-YYYY');\r\n        LoanApplyObjCurrent4Installment.createdOnForLoanAmountPaidToLender = null;\r\n        LoanApplyObjCurrent4Installment.transactionOnForLoanAmountPaidToLenderConfirmByLender = null;\r\n        LoanApplyObjCurrent4Installment.createdOnForLoanAmountPaidToLenderConfirmByLender = null;\r\n        LoanApplyObjCurrent4Installment[\"installmentKeyDeleteThisKey\"] = true;\r\n        let _loanTenureInMonths: number = parseInt(LoanObj.loanTenureInMonths);\r\n        this.socketService.sendEventForLoanAmountPaidToLenderConfirmByLenderWithUpdateAll(LoanApplyObj.loanId, LoanApplyObj._id, this.authenticationService.currentUserValue._id, installmentKey, _loanTenureInMonths, LoanApplyObjCurrent4Installment)\r\n          .pipe(first())\r\n          .subscribe(details => {\r\n            if (details && details[\"success\"]) {\r\n              this.broadcastUpdatedEvent2All(details[\"data\"]);\r\n            }\r\n          });\r\n        //#endregion direct action here with BYPASS ALL CASES\r\n      } else {\r\n        if (!LoanApplyObj.isLoanAmountPaidByLender) {\r\n          //#region Lender updating status for payment done\r\n          //#endregion Lender updating status for payment done\r\n        } else {\r\n          //#region Borrower updating status for payment done by Lender\r\n          //#endregion Borrower updating status for payment done by Lender\r\n        }\r\n        //#region direct action here with BYPASS ALL CASES\r\n        this.middiatorFnForLoanAmountPaidByLenderConfirmByBorrowerWithUpdateAll(LoanApplyObj, false, false);\r\n        //#endregion direct action here with BYPASS ALL CASES\r\n      }\r\n      //#endregion update status remove data\r\n    }\r\n  }\r\n\r\n  middiatorFnForLoanAmountPaidByLenderConfirmByBorrowerWithUpdateAll(LoanApplyObj: any, addTremoveF: boolean, addedWithInstallment: boolean) {\r\n    let LoanApplyObjCurrent = {\r\n      isLoanAmountPaidByLender: null,\r\n      _id: null,\r\n      createdOnForLoanAmountPaidByLender: null,\r\n      transactionIdForLoanAmountPaidByLender: null,\r\n      transactionOnForLoanAmountPaidByLender: null,\r\n      transactionDescriptionForLoanAmountPaidByLender: null,\r\n      transactionOnForLoanAmountPaidByLenderConfirmByBorrower: null,\r\n      createdOnForLoanAmountPaidByLenderConfirmByBorrower: null,\r\n      transactionDescriptionForLoanAmountPaidByLenderConfirmByBorrower: null,\r\n      isLoanAmountPaidByLenderConfirmByBorrower: null,\r\n    };\r\n\r\n    if (addTremoveF) {\r\n      LoanApplyObjCurrent.isLoanAmountPaidByLender = true;\r\n      LoanApplyObjCurrent._id = LoanApplyObj._id;\r\n      LoanApplyObjCurrent.createdOnForLoanAmountPaidByLender = this.utilityService._.now();\r\n      LoanApplyObjCurrent.transactionIdForLoanAmountPaidByLender = 'AUTO-SAVED';\r\n      LoanApplyObjCurrent.transactionOnForLoanAmountPaidByLender = this.utilityService._.now();\r\n      LoanApplyObjCurrent.transactionDescriptionForLoanAmountPaidByLender = 'This data is auto saved'+(addedWithInstallment?' with installment payment':'');\r\n      LoanApplyObjCurrent.isLoanAmountPaidByLenderConfirmByBorrower = true;\r\n      LoanApplyObjCurrent.transactionOnForLoanAmountPaidByLenderConfirmByBorrower = this.utilityService._.now();\r\n      LoanApplyObjCurrent.createdOnForLoanAmountPaidByLenderConfirmByBorrower = this.utilityService._.now();\r\n      LoanApplyObjCurrent.transactionDescriptionForLoanAmountPaidByLenderConfirmByBorrower = 'This data is auto saved'+(addedWithInstallment?' with installment payment':'');\r\n    } else {\r\n      LoanApplyObjCurrent.isLoanAmountPaidByLender = false;\r\n      LoanApplyObjCurrent._id = LoanApplyObj._id;\r\n      LoanApplyObjCurrent.createdOnForLoanAmountPaidByLender = this.utilityService._.now();\r\n      LoanApplyObjCurrent.transactionIdForLoanAmountPaidByLender = 'AUTO-SAVED';\r\n      LoanApplyObjCurrent.transactionOnForLoanAmountPaidByLender = this.utilityService._.now();\r\n      LoanApplyObjCurrent.transactionDescriptionForLoanAmountPaidByLender = 'This data is auto saved'+(addedWithInstallment?' with installment payment':'');\r\n      LoanApplyObjCurrent.isLoanAmountPaidByLenderConfirmByBorrower = false;\r\n      LoanApplyObjCurrent.transactionOnForLoanAmountPaidByLenderConfirmByBorrower = this.utilityService._.now();\r\n      LoanApplyObjCurrent.createdOnForLoanAmountPaidByLenderConfirmByBorrower = this.utilityService._.now();\r\n      LoanApplyObjCurrent.transactionDescriptionForLoanAmountPaidByLenderConfirmByBorrower = 'This data is auto saved'+(addedWithInstallment?' with installment payment':'');\r\n    }\r\n    this.socketService.sendEventForLoanAmountPaidByLenderConfirmByBorrowerWithUpdateAll(LoanApplyObj.loanId, LoanApplyObj._id, this.authenticationService.currentUserValue._id, LoanApplyObjCurrent).pipe(first()).subscribe(details => {\r\n      if (details && details[\"success\"]) {\r\n        this.broadcastUpdatedEvent2All(details[\"data\"]);\r\n      }\r\n    });\r\n  }\r\n\r\n  LoanMoneyTransferStatusModel(LoanObj: any, LoanApplyObj: any, installmentKey: string = null, updateLastInstallmentPaymentStatus: boolean = false) {\r\n\r\n    //console.log('585', this.authenticationService.currentUserValue);\r\n    if (installmentKey) {\r\n      if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\r\n        for (let _items in LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\r\n          let _currentObj = LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_items];\r\n          if (_currentObj) {\r\n            if (_currentObj.createdOnForLoanAmountPaidToLender && !_currentObj.createdOnForLoanAmountPaidToLenderConfirmByLender) {\r\n              this.alertService.error('Last installment payment confirmation is pending from Lender', true);\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (updateLastInstallmentPaymentStatus) {\r\n      if (LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\r\n        for (let _items in LoanApplyObj.installmentWiseLoanAmountPaidByBorrower) {\r\n          let _currentObj = LoanApplyObj.installmentWiseLoanAmountPaidByBorrower[_items];\r\n          if (_currentObj) {\r\n            if (_currentObj.createdOnForLoanAmountPaidToLender && !_currentObj.createdOnForLoanAmountPaidToLenderConfirmByLender) {\r\n              installmentKey = _currentObj.installmentKey;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (!installmentKey) {\r\n        this.alertService.error('Last installment payment not done by borrower', true);\r\n        return;\r\n      }\r\n    }\r\n    const dialogRef = this.dialog.open(MoneyTransferDataComponent, {\r\n\r\n      maxWidth: '100vw',\r\n      maxHeight: '100vh',\r\n      height: '100%',\r\n      width: '100%',\r\n      hasBackdrop: true,\r\n      data: {\r\n        LoanObj: LoanObj,\r\n        LoanApplyObj: LoanApplyObj,\r\n        installmentKey: installmentKey,\r\n        updateLastInstallmentPaymentStatus: updateLastInstallmentPaymentStatus\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      //console.log(`597 :: msc :: Dialog result: ${JSON.stringify(result)}`);\r\n      if (result && result.data && result.data.updatedSessionObj) {\r\n        this.broadcastUpdatedEvent2All(result.data.updatedSessionObj);\r\n      }\r\n    });\r\n  }\r\n\r\n  broadcastUpdatedEvent2All(sessionObj) {\r\n    if (sessionObj) {\r\n\r\n      let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\r\n\r\n      _keyPairedMapObj[sessionObj._id] = sessionObj;\r\n      this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\r\n\r\n      this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'borrowerId')));\r\n      this.calculateAndStoreLocalNextEMIDateOfAppliedLoansForBorrower();\r\n\r\n      this._cdr.detectChanges();\r\n    }\r\n  }\r\n\r\n  /*\r\n    get f() { return this.homeComponantForm.controls; }\r\n  \r\n    sessionSearchByService() {\r\n      let generaldata4search = this.homeComponantForm.get('generaldata4search').value;\r\n      let useAndTrueOrFalse = false;\r\n      this.allSessionsData = [];\r\n      this.sessionsService.getSessionAllByService('', '', generaldata4search, generaldata4search, useAndTrueOrFalse)\r\n        .pipe(first())\r\n        .subscribe(\r\n          data => {\r\n            ////console.log('data => ', data)\r\n            if (data && data['success']) {\r\n              //alert(JSON.stringify( data));\r\n              this.allSessionsData = data['data'];\r\n              //this.alertService.success(data['message'], true);\r\n              this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'borrowerId')));\r\n              this.loading = false;\r\n              //this.element_btn_click_addSession_skills_verification.click();\r\n            } else {\r\n              //alert(JSON.stringify(data['message']));\r\n              //this.alertService.error(data['message']);\r\n              this.loading = false;\r\n            }\r\n          },\r\n          error => {\r\n            let errorMsg2show = \"\";\r\n            try {\r\n              if (error && error.error && error.error.message) {\r\n                errorMsg2show = error.error.message;\r\n              } else if (error && error.message) {\r\n                errorMsg2show = error.message;\r\n              } else {\r\n                errorMsg2show = error;\r\n              }\r\n            } catch (ex) { }\r\n            //this.alertService.error(errorMsg2show);\r\n            this.loading = false;\r\n          });\r\n  \r\n    }\r\n    ngOnInit() {\r\n      this.homeComponantForm = this.formBuilder.group({\r\n        services4search: [''],\r\n        location4search: [''],\r\n        generaldata4search: [''],\r\n      });\r\n  \r\n      this.sessionsService.getSessionAllWithSessionApply(this.authenticationService.currentUserValue._id)\r\n        .pipe(first())\r\n        .subscribe(\r\n          data => {\r\n            ////console.log('data => ', data)\r\n            if (data && data['success']) {\r\n              //alert(JSON.stringify( data));\r\n              this.allSessionsData = data['data'];\r\n              this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'borrowerId')));\r\n              //this.alertService.success(data['message'], true);\r\n              this.loading = false;\r\n              //this.element_btn_click_addSession_skills_verification.click();\r\n            } else {\r\n              //alert(JSON.stringify(data['message']));\r\n              //this.alertService.error(data['message']);\r\n              this.loading = false;\r\n            }\r\n          },\r\n          error => {\r\n            let errorMsg2show = \"\";\r\n            try {\r\n              if (error && error.error && error.error.message) {\r\n                errorMsg2show = error.error.message;\r\n              } else if (error && error.message) {\r\n                errorMsg2show = error.message;\r\n              } else {\r\n                errorMsg2show = error;\r\n              }\r\n            } catch (ex) { }\r\n            //this.alertService.error(errorMsg2show);\r\n            this.loading = false;\r\n          });\r\n      this.sessionsService.getUpdatesForSessionAllByBorrowerId()\r\n        .subscribe(\r\n          data => {\r\n            if (data && data['success']) {\r\n              let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\r\n              for (let _items in data['data']) {\r\n                let _currentObj = data['data'][_items];\r\n                _keyPairedMapObj[_currentObj._id] = _currentObj\r\n              }\r\n              this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\r\n              this.loading = false;\r\n            } else {\r\n              this.loading = false;\r\n            }\r\n          },\r\n          error => {\r\n            this.loading = false;\r\n          });\r\n      this.sessionsService.getSessionLengthByService(null, null, null, null, null)\r\n        .pipe(first())\r\n        .subscribe(\r\n          data => {\r\n            ////console.log('data => ', data)\r\n            if (data && data['success']) {\r\n              //alert(JSON.stringify( data));\r\n              this.allSessionsCount = data['data'];\r\n              //this.alertService.success(data['message'], true);\r\n              this.loading = false;\r\n              //this.element_btn_click_addSession_skills_verification.click();\r\n            } else {\r\n              //alert(JSON.stringify(data['message']));\r\n              //this.alertService.error(data['message']);\r\n              this.loading = false;\r\n            }\r\n          },\r\n          error => {\r\n            let errorMsg2show = \"\";\r\n            try {\r\n              if (error && error.error && error.error.message) {\r\n                errorMsg2show = error.error.message;\r\n              } else if (error && error.message) {\r\n                errorMsg2show = error.message;\r\n              } else {\r\n                errorMsg2show = error;\r\n              }\r\n            } catch (ex) { }\r\n            //this.alertService.error(errorMsg2show);\r\n            this.loading = false;\r\n          });\r\n    }\r\n    ngOnDestroy() {\r\n      // unsubscribe to ensure no memory leaks\r\n      this.subscription.unsubscribe();\r\n      this.subscription1.unsubscribe();\r\n    }\r\n  \r\n    check4applyToSession(sessionObj) {\r\n      if (sessionObj && sessionObj.sessionAppliedByBorrowers) {\r\n        if (_.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id }).length > 0) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n  \r\n    applyToSession(sessionObj) {\r\n      //console.log('179', this.authenticationService.currentUserValue);\r\n      const dialogRef = this.dialog.open(ModalApplySession, {\r\n        maxWidth: '100vw',\r\n        maxHeight: '100vh',\r\n        height: '100%',\r\n        width: '100%',\r\n        data: {\r\n          sessionObj: sessionObj,\r\n          borrowerId: this.authenticationService.currentUserValue._id\r\n        }\r\n      });\r\n  \r\n      dialogRef.afterClosed().subscribe(result => {\r\n        let _currentSessionApply = null;\r\n        if (result) {\r\n          if (result.data) {\r\n            _currentSessionApply = result.data.sessionApply\r\n            if (_currentSessionApply) {\r\n              if (!_currentSessionApply._id) {\r\n                _currentSessionApply._id = _currentSessionApply.loanId + '__' + _currentSessionApply.borrowerId;\r\n              }\r\n              _currentSessionApply.status = result.data.status || SessionStatus.Pending;\r\n              this.socketService.sendCurrentAppliedSessionObj(_currentSessionApply.loanId);\r\n              switch (_currentSessionApply.status) {\r\n                case SessionStatus.Pending:\r\n                  this.socketService.setSessionApply(true, _currentSessionApply);\r\n                  break;\r\n                default:\r\n                  this.socketService.updateSessionApply(true, _currentSessionApply, this.authenticationService.currentUserValue);\r\n                  break;\r\n              }\r\n              switch (_currentSessionApply.status) {\r\n                case SessionStatus.Accepted:\r\n                  this.alertService.success(\"Updated. Session is available under My Sessions->Accepted tab.\", true);\r\n                  break;\r\n                case SessionStatus.Pending:\r\n                  this.alertService.success(\"Added. Session is available under My Sessions->Pending tab.\", true);\r\n                  break;\r\n                case SessionStatus.Rejected:\r\n                case SessionStatus.RejectedOngoing:\r\n                case SessionStatus.RejectedOngoingWithRefund:\r\n                case SessionStatus.Suspended:\r\n                  this.alertService.success(\"Updated. Session is available under My Sessions->Rejected tab.\", true);\r\n                  break;\r\n                case SessionStatus.Completed:\r\n                  this.alertService.success(\"Updated. Session is available under My Sessions->Completed tab.\", true);\r\n                  break;\r\n                case SessionStatus.Active:\r\n                case SessionStatus.Ongoing:\r\n                case SessionStatus.OngoingInitiated:\r\n                case SessionStatus.AwaitingForApproval:\r\n                  this.alertService.success(\"Updated. Session is available under My Sessions->Ongoing tab.\", true);\r\n                  break;\r\n                default:\r\n                  break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        //console.log(`239 :: hc :: Dialog result: ${JSON.stringify(result)}`);\r\n      });\r\n    }\r\n  \r\n    showAppliedToSession(sessionObj) {\r\n      let _proccessedSessionObj = null;\r\n      switch (this.authenticationService.currentUserValue.role) {\r\n        case Role.Borrower:\r\n          _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n          _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\r\n          break;\r\n        default:\r\n          _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n          break;\r\n      }\r\n  \r\n  \r\n      //console.log('214', this.authenticationService.currentUserValue);\r\n      const dialogRef = this.dialog.open(ModalAppliedSessionDisplay, {\r\n        backdropClass: 'cdk-overlay-transparent-backdrop',\r\n        hasBackdrop: true,\r\n        maxWidth: '100vw',\r\n        maxHeight: '100vh',\r\n        height: '100%',\r\n        width: '100%',\r\n        data: {\r\n          sessionObj: _proccessedSessionObj,\r\n          borrowerId: this.authenticationService.currentUserValue._id\r\n        }\r\n      });\r\n  \r\n      dialogRef.afterClosed().subscribe(result => {\r\n        //console.log(`238 :: hc :: Dialog result: ${JSON.stringify(result)}`);\r\n      });\r\n    }\r\n  \r\n    clickedOnSessionChatVideo(sessionObj, AVTrueChatFalse) {\r\n      let _contactId = this.contactService.returnContactIdForSession(sessionObj._id, sessionObj.sessionAppliedByBorrowers[0]._id);\r\n      let _parentRouting = '';\r\n      switch (this.authenticationService.currentUserValue.role) {\r\n        case Role.Borrower:\r\n          _parentRouting = 'borrower';\r\n          break;\r\n        case Role.Lender:\r\n          _parentRouting = 'lender';\r\n          break;\r\n        case Role.Admin:\r\n          _parentRouting = 'admin';\r\n          break;\r\n      }\r\n      this.router.navigate(['/' + _parentRouting + '/messages'], { state: { contactId: _contactId, AVTrueChatFalse: AVTrueChatFalse } });\r\n    }\r\n    */\r\n}","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { SocketioService } from 'src/app/socketio.service';\r\nimport { SessionsService } from 'src/app/services/sessions.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { AuthenticationService, AlertService, UserService } from 'src/app/services';\r\nimport { UtilityService } from 'src/app/services/utility.service';\r\nimport { first } from 'rxjs/operators';\r\nimport { ModalAppliedSessionDisplay, ModalApplySession } from '../borrower.component';\r\nimport * as _ from 'lodash';\r\nimport { Role, SessionStatus } from 'src/app/models';\r\nimport { Router } from '@angular/router';\r\nimport { PublicProfileComponent } from 'src/app/shared/public-profile/public-profile.component';\r\n\r\ndeclare var $: any;\r\ndeclare var jQuery: any;\r\n\r\n@Component({\r\n  selector: 'app-my-sessions',\r\n  templateUrl: './my-sessions.component.html',\r\n  styleUrls: ['./my-sessions.component.css']\r\n})\r\n\r\nexport class MySessionsComponent implements OnInit {\r\n\r\n  loading: boolean;\r\n  allSessionsData: any;\r\n  SessionStatusTypeFilter: string[] = [];\r\n  checkCreatedByUserId: string = '';\r\n  checkCreatedByT: Boolean = false;\r\n  isLast: any;\r\n  SessionStatus = SessionStatus;\r\n  sessionApply: any;\r\n  selectedTab: string = 'active';\r\n  public _ = _;\r\n  constructor(\r\n    private socketService: SocketioService,\r\n    private sessionsService: SessionsService,\r\n    private alertService: AlertService,\r\n    public utilityService: UtilityService,\r\n    public dialog: MatDialog,\r\n    public authenticationService: AuthenticationService,\r\n    public userService: UserService,\r\n    public router: Router,\r\n    private _cdr: ChangeDetectorRef\r\n  ) {\r\n    let paramobj = history.state;\r\n    if (paramobj) {\r\n      this.selectedTab = paramobj['selectedTab'];\r\n      delete history.state['selectedTab'];\r\n    }\r\n    if (!this.selectedTab) {\r\n      this.selectedTab = 'active';\r\n    }\r\n    this.setFilteresOfMySessionDependsOnTab(this.selectedTab);\r\n    this.getUserLoanTypeWiseCountDetailsByUserId();\r\n  }\r\n\r\n  setFilteresOfMySessionDependsOnTab(selectedTab) {\r\n    switch (selectedTab) {\r\n      case 'received':\r\n        this.SessionStatusTypeFilter = [SessionStatus.Pending, SessionStatus.AwaitingForApproval];\r\n        this.checkCreatedByUserId = this.authenticationService.currentUserValue._id;\r\n        this.checkCreatedByT = true;\r\n        break;\r\n      case 'sent':\r\n        this.SessionStatusTypeFilter = [SessionStatus.AwaitingForApproval];\r\n        this.checkCreatedByUserId = this.authenticationService.currentUserValue._id;\r\n        this.checkCreatedByT = false;\r\n        break;\r\n      case 'canceled':\r\n        this.SessionStatusTypeFilter = [SessionStatus.Canceled, SessionStatus.Rejected, SessionStatus.RejectedOngoing, SessionStatus.Suspended, SessionStatus.RejectedOngoingWithRefund];\r\n        this.checkCreatedByUserId = null;\r\n        this.checkCreatedByT = false;\r\n        break;\r\n      case 'active':\r\n        this.SessionStatusTypeFilter = [SessionStatus.Accepted];\r\n        this.checkCreatedByUserId = null;\r\n        this.checkCreatedByT = false;\r\n        break;\r\n      case 'paid':\r\n        this.SessionStatusTypeFilter = [SessionStatus.Completed];\r\n        this.checkCreatedByUserId = null;\r\n        this.checkCreatedByT = false;\r\n        break;\r\n      case 'unpaid':\r\n        this.SessionStatusTypeFilter = [SessionStatus.RejectedOngoing, SessionStatus.Suspended, SessionStatus.Unpaid];\r\n        this.checkCreatedByUserId = null;\r\n        this.checkCreatedByT = false;\r\n        break;\r\n      case 'inkasso':\r\n        this.SessionStatusTypeFilter = [SessionStatus.Rejected, SessionStatus.RejectedOngoingWithRefund, SessionStatus.Inkasso];\r\n        this.checkCreatedByUserId = null;\r\n        this.checkCreatedByT = false;\r\n        break;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    (function ($) {\r\n      try {\r\n        $('.tooltip-info').tooltip();\r\n      } catch (ex) {\r\n        //console.log('48', ex.message);\r\n      }\r\n    })(jQuery);\r\n\r\n    this.sessionsService.getSessionAllByBorrowerId(this.authenticationService.currentUserValue._id, null, null, null, true, null)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n            //alert(JSON.stringify( data));\r\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\r\n            for (let _items in data['data']) {\r\n              let _currentObj = data['data'][_items];\r\n              _keyPairedMapObj[_currentObj._id] = _currentObj\r\n            }\r\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\r\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\r\n            //this.alertService.success(data['message'], true);\r\n            this.loading = false;\r\n            //this.element_btn_click_addSession_skills_verification.click();\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            //this.alertService.error(data['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          //this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n\r\n    this.sessionsService.getUpdatesForSessionAllByBorrowerId()\r\n      .subscribe(\r\n        data => {\r\n          if (data && data['success']) {\r\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\r\n            for (let _items in data['data']) {\r\n              let _currentObj = data['data'][_items];\r\n              _keyPairedMapObj[_currentObj._id] = _currentObj\r\n            }\r\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\r\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\r\n            this.loading = false;\r\n          } else {\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          this.loading = false;\r\n        });\r\n\r\n    this.socketService.getCurrentSessionAll().subscribe(_allSessionsData => {\r\n      if (_allSessionsData) {\r\n        let data = { 'data': _allSessionsData };\r\n        let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\r\n        for (let _items in data['data']) {\r\n          let _currentObj = data['data'][_items];\r\n          _keyPairedMapObj[_currentObj._id] = _currentObj\r\n        }\r\n        this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\r\n\r\n        this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\r\n\r\n      } else {\r\n        //this.allSessionsData = [];\r\n      }\r\n    });\r\n    let _obj2Save = {\r\n      createdBy: this.authenticationService.currentUserValue._id\r\n    };\r\n    this.socketService.getSessionAllByQuery(false, _obj2Save, null);\r\n  }\r\n\r\n  showAppliedToSession(sessionObj) {\r\n    let _proccessedSessionObj = null;\r\n    switch (this.authenticationService.currentUserValue.role) {\r\n      case Role.Borrower:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\r\n        break;\r\n      default:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        break;\r\n    }\r\n\r\n    //console.log('214', this.authenticationService.currentUserValue);\r\n    const dialogRef = this.dialog.open(ModalAppliedSessionDisplay, {\r\n      backdropClass: 'custom-dialog-backdrop-class',\r\n      panelClass: 'my_session_details_modal',\r\n      maxWidth: '100vw',\r\n      maxHeight: '100vh',\r\n      height: '100%',\r\n      width: '100%',\r\n      data: {\r\n        sessionObj: _proccessedSessionObj,\r\n        borrowerId: this.authenticationService.currentUserValue._id\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        if (result.data) {\r\n          //console.log(`86 :: msc :: Dialog result: ${JSON.stringify(result)}`);\r\n          if (result.data.status && result.data.sessionApply) {\r\n            let _loanApplyId = result.data.sessionApply._id;\r\n            let _status = result.data.status;\r\n            //initiate payment here\r\n            //this.socketService.setSessionApplyUpdateStatus(false, _loanId, _loanApplyId, _status, this.authenticationService.currentUserValue._id, _transactionId);\r\n            let _allowed2CreateContactForSessionT = false;\r\n            switch (_status) {\r\n              case SessionStatus.Accepted:\r\n                //this.alertService.success(\"Updated. Session is available under My Sessions->Accepted tab.\", true);\r\n                this.proccedAppliedToSession(sessionObj, _loanApplyId);\r\n                break;\r\n              case SessionStatus.Rejected:\r\n                this.socketService.setSessionApplyUpdateStatus(true, result.data.sessionApply.loanId, _loanApplyId, _status, this.authenticationService.currentUserValue._id, null);\r\n                break;\r\n            }\r\n          }\r\n          if (result.data.updatedSessionObj) {\r\n\r\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\r\n\r\n            _keyPairedMapObj[result.data.updatedSessionObj._id] = result.data.updatedSessionObj;\r\n\r\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\r\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\r\n\r\n            this._cdr.detectChanges();\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  proccedAppliedToSession(sessionObj, loanApplyId) {\r\n    let loanId = sessionObj._id;\r\n\r\n    let _proccessedSessionObj = null;\r\n    switch (this.authenticationService.currentUserValue.role) {\r\n      case Role.Borrower:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\r\n        break;\r\n      default:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        break;\r\n    }\r\n    if (!loanApplyId) {\r\n      loanApplyId = _proccessedSessionObj.sessionAppliedByBorrowers[0]._id;\r\n    }\r\n    this.router.navigate(['/borrower/borrow-now'], { state: { loanId: loanId, loanApplyId: loanApplyId } });\r\n  }\r\n\r\n  check4applyToSession(sessionObj, checkCreatedBySelfT) {\r\n    if (sessionObj && sessionObj.sessionAppliedByBorrowers) {\r\n      if (checkCreatedBySelfT) {\r\n        if (sessionObj.createdBy == this.authenticationService.currentUserValue._id) {\r\n          if (_.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id }).length > 0) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  returnSessionApplyStatus(sessionApply) {\r\n    let _currentStatus = SessionStatus.Pending;\r\n    try {\r\n      if ((sessionApply.status == SessionStatus.Pending || sessionApply.status == 'Pending' || sessionApply.status == '' || sessionApply.status == null || typeof sessionApply.status == 'undefined')) {\r\n        _currentStatus = SessionStatus.Pending;\r\n      } else {\r\n        _currentStatus = sessionApply.status;\r\n      }\r\n    } catch (ex) { }\r\n    return _currentStatus;\r\n  }\r\n\r\n  sessionApplyOngoingCheck(sessionObj, sessionApply) {\r\n    //console.log('179', this.authenticationService.currentUserValue);\r\n    const dialogRef = this.dialog.open(ModalApplySession, {\r\n      maxWidth: '100vw',\r\n      maxHeight: '100vh',\r\n      height: '100%',\r\n      width: '100%',\r\n      data: {\r\n        sessionObj: sessionObj,\r\n        borrowerId: this.authenticationService.currentUserValue._id,\r\n        sessionApply: sessionApply\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      let _currentSessionApply = null;\r\n      if (result) {\r\n        if (result.data) {\r\n          _currentSessionApply = result.data.sessionApply\r\n          if (_currentSessionApply) {\r\n            if (!_currentSessionApply._id) {\r\n              _currentSessionApply._id = _currentSessionApply.loanId + '__' + _currentSessionApply.borrowerId;\r\n            }\r\n            let _loanId = _currentSessionApply.loanId;\r\n            let _sessionPrice = _currentSessionApply.loanAmount;\r\n            let _loanApplyId = _currentSessionApply._id;\r\n            let _borrowerId = _currentSessionApply.borrowerId;\r\n            let _transactionId = result.data.transactionId;\r\n            let _status = result.data.status;\r\n            _currentSessionApply.status = result.data.status || SessionStatus.Pending;\r\n            this.socketService.sendCurrentAppliedSessionObj(_currentSessionApply.loanId);\r\n            switch (_currentSessionApply.status) {\r\n              case SessionStatus.Pending:\r\n                _currentSessionApply.createdBy = this.authenticationService.currentUserValue._id;\r\n                this.socketService.setSessionApply(true, _currentSessionApply);\r\n                break;\r\n              default:\r\n                this.socketService.updateSessionApply(true, _currentSessionApply, this.authenticationService.currentUserValue);\r\n                break;\r\n            }\r\n            switch (_currentSessionApply.status) {\r\n              case SessionStatus.Accepted:\r\n                this.alertService.success(\"Updated. Session is available under My Sessions->Accepted tab.\", true);\r\n                break;\r\n              case SessionStatus.Pending:\r\n                this.alertService.success(\"Added. Session is available under My Sessions->Pending tab.\", true);\r\n                break;\r\n              case SessionStatus.Rejected:\r\n                this.socketService.setSessionApplyUpdateStatus(true, _loanId, _loanApplyId, _status, this.authenticationService.currentUserValue._id, _transactionId);\r\n                break;\r\n              case SessionStatus.RejectedOngoing:\r\n              case SessionStatus.RejectedOngoingWithRefund:\r\n              case SessionStatus.Suspended:\r\n                this.alertService.success(\"Updated. Session is available under My Sessions->Rejected tab.\", true);\r\n                break;\r\n              case SessionStatus.Completed:\r\n                this.alertService.success(\"Updated. Session is available under My Sessions->Completed tab.\", true);\r\n                break;\r\n              case SessionStatus.Active:\r\n              case SessionStatus.Ongoing:\r\n              case SessionStatus.OngoingInitiated:\r\n              case SessionStatus.AwaitingForApproval:\r\n                this.alertService.success(\"Updated. Session is available under My Sessions->Ongoing tab.\", true);\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      //console.log(`163 :: myc :: Dialog result: ${JSON.stringify(result)}`);\r\n    });\r\n  }\r\n\r\n  getUserLoanTypeWiseCountDetailsByUserId() {\r\n    this.userService.getUserLoanTypeWiseCountDetailsByUserId(this.authenticationService.currentUserValue._id, this.authenticationService.currentUserValue.role)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n            this.authenticationService.currentUserLoanTypeWiseCountDetails = data['data'];\r\n          } else {\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n\r\n        });\r\n  }\r\n  usersProfile(userObj) {\r\n    //#region fetch creator id\r\n    this.userService.getUserById(userObj._id)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          if (data && data['success']) {\r\n            //console.log('84', this.authenticationService.currentUserValue);\r\n            const dialogRef = this.dialog.open(PublicProfileComponent, {\r\n\r\n              maxWidth: '100vw',\r\n              maxHeight: '100vh',\r\n              height: '100%',\r\n              width: '100%',\r\n              hasBackdrop: true,\r\n              data: {\r\n                userObj: _.cloneDeep(data['data']),\r\n                adminViewT: false\r\n              }\r\n            });\r\n\r\n            dialogRef.afterClosed().subscribe(result => {\r\n              //console.log(`99 :: msc :: Dialog result: ${JSON.stringify(result)}`);\r\n            });\r\n\r\n          } else {\r\n\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          this.alertService.error(errorMsg2show);\r\n\r\n        });\r\n    //#endregion fetch creator id\r\n\r\n  }\r\n  deleteSessionById(sessionId) {\r\n    this.sessionsService.deleteSessionById(sessionId, this.authenticationService.currentUserValue._id)\r\n      .pipe(first())\r\n      .subscribe(\r\n        _allLoanMarketData => {\r\n          if (_allLoanMarketData && _allLoanMarketData['success']) {\r\n            //alert(JSON.stringify( data));\r\n            if (_allLoanMarketData) {\r\n              if (_allLoanMarketData[\"success\"]) {\r\n                let temp_allLoanMarketData = _.mapKeys(this.allSessionsData, '_id')\r\n                if (_allLoanMarketData[\"data\"].isDeleted) {\r\n                  delete temp_allLoanMarketData[_allLoanMarketData[\"data\"]._id];\r\n                  this.alertService.success('Deleted successfully');\r\n                } else {\r\n                  temp_allLoanMarketData[_allLoanMarketData[\"data\"]._id] = _allLoanMarketData[\"data\"];\r\n                  this.alertService.success('Updated successfully');\r\n                }\r\n                this.allSessionsData = _.values(temp_allLoanMarketData);\r\n                this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq(this.utilityService._.map(this.utilityService._.flattenDepth(this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"), 1), 'lenderId')));\r\n\r\n                this._cdr.detectChanges();\r\n              }\r\n            }\r\n            this.loading = false;\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            this.alertService.error(_allLoanMarketData['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-earnings',\r\n  templateUrl: './earnings.component.html',\r\n  styleUrls: ['./earnings.component.css']\r\n})\r\nexport class EarningsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","export default \".container_read {\\r\\n    height: 70px;\\r\\n    overflow: hidden;\\r\\n  }\\r\\n  \\r\\n  .show_more {\\r\\n    overflow: visible;\\r\\n    height: auto;\\r\\n  }\\r\\n\\r\\n  \\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxpQkFBaUI7SUFDakIsWUFBWTtFQUNkIiwiZmlsZSI6ImhvbWUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXJfcmVhZCB7XHJcbiAgICBoZWlnaHQ6IDcwcHg7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIH1cclxuICBcclxuICAuc2hvd19tb3JlIHtcclxuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG4gIH1cclxuXHJcbiAgIl19 */\";","export default \".wrapper:focus {\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.clash-card {\\r\\n    background: white;\\r\\n    display: inline-block;\\r\\n    margin: auto;\\r\\n    border-radius: 19px;\\r\\n    position: relative;\\r\\n    text-align: center;\\r\\n    box-shadow: -1px 15px 30px -12px black;\\r\\n}\\r\\n\\r\\n.clash-card__image {\\r\\n    position: relative;\\r\\n    height: 230px;\\r\\n    margin-bottom: 35px;\\r\\n    border-top-left-radius: 14px;\\r\\n    border-top-right-radius: 14px;\\r\\n}\\r\\n\\r\\n.clash-card__image--barbarian {\\r\\n    background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/barbarian-bg.jpg');\\r\\n}\\r\\n\\r\\n.clash-card__image--barbarian img {\\r\\n    width: 400px;\\r\\n    position: absolute;\\r\\n    top: -65px;\\r\\n    left: -70px;\\r\\n}\\r\\n\\r\\n.clash-card__image--archer {\\r\\n    background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/archer-bg.jpg');\\r\\n}\\r\\n\\r\\n.clash-card__image--archer img {\\r\\n    width: 400px;\\r\\n    position: absolute;\\r\\n    top: -34px;\\r\\n    left: -37px;\\r\\n}\\r\\n\\r\\n.clash-card__image--giant {\\r\\n    background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/giant-bg.jpg');\\r\\n}\\r\\n\\r\\n.clash-card__image--giant img {\\r\\n    width: 340px;\\r\\n    position: absolute;\\r\\n    top: -30px;\\r\\n    left: -25px;\\r\\n}\\r\\n\\r\\n.clash-card__image--goblin {\\r\\n    background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/goblin-bg.jpg');\\r\\n}\\r\\n\\r\\n.clash-card__image--goblin img {\\r\\n    width: 370px;\\r\\n    position: absolute;\\r\\n    top: -21px;\\r\\n    left: -37px;\\r\\n}\\r\\n\\r\\n.clash-card__image--wizard {\\r\\n    background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/wizard-bg.jpg');\\r\\n}\\r\\n\\r\\n.clash-card__image--wizard img {\\r\\n    width: 345px;\\r\\n    position: absolute;\\r\\n    top: -28px;\\r\\n    left: -10px;\\r\\n}\\r\\n\\r\\n.clash-card__level {\\r\\n    text-transform: uppercase;\\r\\n    font-size: 12px;\\r\\n    font-weight: 700;\\r\\n    margin-bottom: 3px;\\r\\n}\\r\\n\\r\\n.clash-card__level--barbarian {\\r\\n    color: #ec9b3b;\\r\\n}\\r\\n\\r\\n.clash-card__level--archer {\\r\\n    color: #ee5487;\\r\\n}\\r\\n\\r\\n.clash-card__level--giant {\\r\\n    color: #f6901a;\\r\\n}\\r\\n\\r\\n.clash-card__level--goblin {\\r\\n    color: #82bb30;\\r\\n}\\r\\n\\r\\n.clash-card__level--wizard {\\r\\n    color: #4facff;\\r\\n}\\r\\n\\r\\n.clash-card__unit-name {\\r\\n    font-size: 26px;\\r\\n    color: black;\\r\\n    font-weight: 900;\\r\\n    margin-bottom: 5px;\\r\\n}\\r\\n\\r\\n.clash-card__unit-description {\\r\\n    padding: 5px;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats--barbarian {\\r\\n    background: #ec9b3b;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats--barbarian .one-third {\\r\\n    border-right: 1px solid #bd7c2f;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats--archer {\\r\\n    background: #ee5487;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats--archer .one-third {\\r\\n    border-right: 1px solid #d04976;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats--giant {\\r\\n    background: #f6901a;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats--giant .one-third {\\r\\n    border-right: 1px solid #de7b09;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats--goblin {\\r\\n    background: #82bb30;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats--goblin .one-third {\\r\\n    border-right: 1px solid #71a32a;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats--wizard {\\r\\n    background: #4facff;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats--wizard .one-third {\\r\\n    border-right: 1px solid #309eff;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats {\\r\\n    color: white;\\r\\n    font-weight: 700;\\r\\n    border-bottom-left-radius: 14px;\\r\\n    border-bottom-right-radius: 14px;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats .one-third {\\r\\n    width: 33%;\\r\\n    float: left;\\r\\n    padding: 10px 5px;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats sup {\\r\\n    position: absolute;\\r\\n    bottom: 4px;\\r\\n    font-size: 45%;\\r\\n    margin-left: 2px;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats .stat {\\r\\n    position: relative;\\r\\n    font-size: 20px;\\r\\n    margin-bottom: 5px;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats .stat-value {\\r\\n    text-transform: uppercase;\\r\\n    font-weight: 400;\\r\\n    font-size: 12px;\\r\\n}\\r\\n\\r\\n.clash-card__unit-stats .no-border {\\r\\n    border-right: none;\\r\\n}\\r\\n\\r\\n.clearfix:after {\\r\\n    visibility: hidden;\\r\\n    display: block;\\r\\n    font-size: 0;\\r\\n    content: \\\" \\\";\\r\\n    clear: both;\\r\\n    height: 0;\\r\\n}\\r\\n\\r\\n.slick-prev {\\r\\n    left: 100px;\\r\\n    z-index: 999;\\r\\n}\\r\\n\\r\\n.slick-next {\\r\\n    right: 100px;\\r\\n    z-index: 999;\\r\\n}\\r\\n\\r\\n.month {\\r\\n    font-size: 8px;\\r\\n}\\r\\n\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvYW4tbWFya2V0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIscUJBQXFCO0lBQ3JCLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixzQ0FBc0M7QUFDMUM7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQiw0QkFBNEI7SUFDNUIsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0ksdUZBQXVGO0FBQzNGOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0ksb0ZBQW9GO0FBQ3hGOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0ksbUZBQW1GO0FBQ3ZGOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0ksb0ZBQW9GO0FBQ3hGOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0ksb0ZBQW9GO0FBQ3hGOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksY0FBYztBQUNsQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksY0FBYztBQUNsQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGdCQUFnQjtJQUNoQiwrQkFBK0I7SUFDL0IsZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksVUFBVTtJQUNWLFdBQVc7SUFDWCxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsV0FBVztJQUNYLGNBQWM7SUFDZCxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixnQkFBZ0I7SUFDaEIsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2QsWUFBWTtJQUNaLFlBQVk7SUFDWixXQUFXO0lBQ1gsU0FBUztBQUNiOztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEIiLCJmaWxlIjoibG9hbi1tYXJrZXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi53cmFwcGVyOmZvY3VzIHtcclxuICAgIG91dGxpbmU6IDA7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkIHtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTlweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGJveC1zaGFkb3c6IC0xcHggMTVweCAzMHB4IC0xMnB4IGJsYWNrO1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9faW1hZ2Uge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgaGVpZ2h0OiAyMzBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDM1cHg7XHJcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAxNHB4O1xyXG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDE0cHg7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkX19pbWFnZS0tYmFyYmFyaWFuIHtcclxuICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTk1NjEyL2JhcmJhcmlhbi1iZy5qcGcnKTtcclxufVxyXG5cclxuLmNsYXNoLWNhcmRfX2ltYWdlLS1iYXJiYXJpYW4gaW1nIHtcclxuICAgIHdpZHRoOiA0MDBweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogLTY1cHg7XHJcbiAgICBsZWZ0OiAtNzBweDtcclxufVxyXG5cclxuLmNsYXNoLWNhcmRfX2ltYWdlLS1hcmNoZXIge1xyXG4gICAgYmFja2dyb3VuZDogdXJsKCdodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby8xOTU2MTIvYXJjaGVyLWJnLmpwZycpO1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9faW1hZ2UtLWFyY2hlciBpbWcge1xyXG4gICAgd2lkdGg6IDQwMHB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAtMzRweDtcclxuICAgIGxlZnQ6IC0zN3B4O1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9faW1hZ2UtLWdpYW50IHtcclxuICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTk1NjEyL2dpYW50LWJnLmpwZycpO1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9faW1hZ2UtLWdpYW50IGltZyB7XHJcbiAgICB3aWR0aDogMzQwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IC0zMHB4O1xyXG4gICAgbGVmdDogLTI1cHg7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkX19pbWFnZS0tZ29ibGluIHtcclxuICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTk1NjEyL2dvYmxpbi1iZy5qcGcnKTtcclxufVxyXG5cclxuLmNsYXNoLWNhcmRfX2ltYWdlLS1nb2JsaW4gaW1nIHtcclxuICAgIHdpZHRoOiAzNzBweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogLTIxcHg7XHJcbiAgICBsZWZ0OiAtMzdweDtcclxufVxyXG5cclxuLmNsYXNoLWNhcmRfX2ltYWdlLS13aXphcmQge1xyXG4gICAgYmFja2dyb3VuZDogdXJsKCdodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby8xOTU2MTIvd2l6YXJkLWJnLmpwZycpO1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9faW1hZ2UtLXdpemFyZCBpbWcge1xyXG4gICAgd2lkdGg6IDM0NXB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAtMjhweDtcclxuICAgIGxlZnQ6IC0xMHB4O1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9fbGV2ZWwge1xyXG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAzcHg7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkX19sZXZlbC0tYmFyYmFyaWFuIHtcclxuICAgIGNvbG9yOiAjZWM5YjNiO1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9fbGV2ZWwtLWFyY2hlciB7XHJcbiAgICBjb2xvcjogI2VlNTQ4NztcclxufVxyXG5cclxuLmNsYXNoLWNhcmRfX2xldmVsLS1naWFudCB7XHJcbiAgICBjb2xvcjogI2Y2OTAxYTtcclxufVxyXG5cclxuLmNsYXNoLWNhcmRfX2xldmVsLS1nb2JsaW4ge1xyXG4gICAgY29sb3I6ICM4MmJiMzA7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkX19sZXZlbC0td2l6YXJkIHtcclxuICAgIGNvbG9yOiAjNGZhY2ZmO1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9fdW5pdC1uYW1lIHtcclxuICAgIGZvbnQtc2l6ZTogMjZweDtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIGZvbnQtd2VpZ2h0OiA5MDA7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkX191bml0LWRlc2NyaXB0aW9uIHtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkX191bml0LXN0YXRzLS1iYXJiYXJpYW4ge1xyXG4gICAgYmFja2dyb3VuZDogI2VjOWIzYjtcclxufVxyXG5cclxuLmNsYXNoLWNhcmRfX3VuaXQtc3RhdHMtLWJhcmJhcmlhbiAub25lLXRoaXJkIHtcclxuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNiZDdjMmY7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkX191bml0LXN0YXRzLS1hcmNoZXIge1xyXG4gICAgYmFja2dyb3VuZDogI2VlNTQ4NztcclxufVxyXG5cclxuLmNsYXNoLWNhcmRfX3VuaXQtc3RhdHMtLWFyY2hlciAub25lLXRoaXJkIHtcclxuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkMDQ5NzY7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkX191bml0LXN0YXRzLS1naWFudCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZjY5MDFhO1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9fdW5pdC1zdGF0cy0tZ2lhbnQgLm9uZS10aGlyZCB7XHJcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZGU3YjA5O1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9fdW5pdC1zdGF0cy0tZ29ibGluIHtcclxuICAgIGJhY2tncm91bmQ6ICM4MmJiMzA7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkX191bml0LXN0YXRzLS1nb2JsaW4gLm9uZS10aGlyZCB7XHJcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjNzFhMzJhO1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9fdW5pdC1zdGF0cy0td2l6YXJkIHtcclxuICAgIGJhY2tncm91bmQ6ICM0ZmFjZmY7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkX191bml0LXN0YXRzLS13aXphcmQgLm9uZS10aGlyZCB7XHJcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjMzA5ZWZmO1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9fdW5pdC1zdGF0cyB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXdlaWdodDogNzAwO1xyXG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMTRweDtcclxuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAxNHB4O1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9fdW5pdC1zdGF0cyAub25lLXRoaXJkIHtcclxuICAgIHdpZHRoOiAzMyU7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIHBhZGRpbmc6IDEwcHggNXB4O1xyXG59XHJcblxyXG4uY2xhc2gtY2FyZF9fdW5pdC1zdGF0cyBzdXAge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm90dG9tOiA0cHg7XHJcbiAgICBmb250LXNpemU6IDQ1JTtcclxuICAgIG1hcmdpbi1sZWZ0OiAycHg7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkX191bml0LXN0YXRzIC5zdGF0IHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxufVxyXG5cclxuLmNsYXNoLWNhcmRfX3VuaXQtc3RhdHMgLnN0YXQtdmFsdWUge1xyXG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbn1cclxuXHJcbi5jbGFzaC1jYXJkX191bml0LXN0YXRzIC5uby1ib3JkZXIge1xyXG4gICAgYm9yZGVyLXJpZ2h0OiBub25lO1xyXG59XHJcblxyXG4uY2xlYXJmaXg6YWZ0ZXIge1xyXG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBmb250LXNpemU6IDA7XHJcbiAgICBjb250ZW50OiBcIiBcIjtcclxuICAgIGNsZWFyOiBib3RoO1xyXG4gICAgaGVpZ2h0OiAwO1xyXG59XHJcblxyXG4uc2xpY2stcHJldiB7XHJcbiAgICBsZWZ0OiAxMDBweDtcclxuICAgIHotaW5kZXg6IDk5OTtcclxufVxyXG5cclxuLnNsaWNrLW5leHQge1xyXG4gICAgcmlnaHQ6IDEwMHB4O1xyXG4gICAgei1pbmRleDogOTk5O1xyXG59XHJcblxyXG4ubW9udGgge1xyXG4gICAgZm9udC1zaXplOiA4cHg7XHJcbn1cclxuXHJcbiJdfQ== */\";","export default \"  <!--copyright start-->\\r\\n  <div class=\\\"agency copyright\\\">\\r\\n    <div class=\\\"container\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-sm-6\\\">\\r\\n                <div class=\\\"link-horizontal\\\">\\r\\n                    <ul>\\r\\n                        <li>\\r\\n                            <a class=\\\"copyright-text\\\" routerLink=\\\"/disclaimer\\\" routerLinkActive=\\\"active\\\" i18n>Privacy Policy</a>\\r\\n                        </li>\\r\\n\\r\\n                        <li>\\r\\n                            <a class=\\\"copyright-text\\\" routerLink=\\\"/disclaimer\\\" routerLinkActive=\\\"active\\\" i18n>Terms of Use</a>\\r\\n                        </li>\\r\\n                        <li>\\r\\n                            <a class=\\\"copyright-text\\\" routerLink=\\\"/faqs\\\" routerLinkActive=\\\"active\\\" i18n>FAQs</a>\\r\\n                        </li>\\r\\n                        \\r\\n                    </ul>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-sm-6\\\">\\r\\n                <div>\\r\\n                    <h6 class=\\\"copyright-text text-white text-right\\\" i18n>© 2020 Avitii Lender System\\r\\n\\r\\n                    </h6>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <!--copyright end-->\\r\\n  \\r\\n \";","\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { BorrowerComponent } from './borrower.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { BrowseSessionsComponent } from './browse-sessions/browse-sessions.component';\r\nimport { MySessionsComponent } from './my-sessions/my-sessions.component';\r\nimport { EarningsComponent } from './earnings/earnings.component';\r\nimport { RoomComponent } from './room/room.component';\r\n\r\nimport { MessagesComponent } from './../shared/messages/messages.component';\r\nimport { ProfileComponent } from './../shared/profile/profile.component';\r\nimport { WalletComponent } from './../shared/wallet/wallet.component';\r\nimport { MeetingVcComponent } from './../shared/meeting-vc/meeting-vc.component';\r\nimport { PaymentComponent } from './../shared/payment/payment.component';\r\nimport { UserRatingsComponent } from './../shared/user-ratings/user-ratings.component';\r\nimport { RolesGuard } from '../components/_guards/roles.guard';\r\nimport { LoanMarketComponent } from './loan-market/loan-market.component';\r\nimport {GetALoanComponent} from './get-a-loan/get-a-loan.component';\r\nimport { BorrowNowComponent } from './borrow-now/borrow-now.component';\r\nimport { UpdatePasswordComponent } from '../shared/update-password/update-password.component';\r\nimport { BankDetailsComponent } from '../shared/bank-details/bank-details.component';\r\nimport { CalendarComponent } from './calendar/calendar.component';\r\nimport { MonthlySubscriptionComponent } from '../shared/monthly-subscription/monthly-subscription.component';\r\nimport { IncomeProofComponent } from '../shared/income-proof/income-proof.component';\r\nimport { PaymentCancelComponent } from '../shared/payment-cancel/payment-cancel.component';\r\nimport { PaymentSuccessComponent } from '../shared/payment-success/payment-success.component';\r\nimport { UsersIncomeExpenseVerifyGuard } from '../users-income-expense-verify.guard';\r\nimport { BankDetailsVerifyGuard } from '../bank-details-verify.guard';\r\nimport { RatingsListComponent } from '../shared/ratings-list/ratings-list.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BorrowerComponent,\r\n    children: [\r\n      {canActivate: [RolesGuard], path: '', component: HomeComponent},\r\n      { canActivate: [RolesGuard], path: 'profile', component: ProfileComponent },    \r\n      {canActivate: [RolesGuard], path: 'wallet', component: WalletComponent},\r\n      {canActivate: [RolesGuard], path: 'browse', component: BrowseSessionsComponent},\r\n      { canActivate: [RolesGuard], path: 'my-contract', component: MySessionsComponent },\r\n      { canActivate: [RolesGuard], path: 'messages', component: MessagesComponent },\r\n      { canActivate: [RolesGuard], path: 'earnings', component: EarningsComponent },\r\n      { canActivate: [RolesGuard], path: 'vcmeet', component: MeetingVcComponent },\r\n      { canActivate: [RolesGuard], path: 'room', component: RoomComponent },\r\n      { canActivate: [RolesGuard], path: 'payment', component: PaymentComponent },\r\n      { canActivate: [RolesGuard], path: 'payment-success', component: PaymentSuccessComponent },\r\n      { canActivate: [RolesGuard], path: 'payment-cancel', component: PaymentCancelComponent },\r\n      { canActivate: [RolesGuard], path: 'ratings', component: UserRatingsComponent },\r\n      { canActivate: [RolesGuard, BankDetailsVerifyGuard, UsersIncomeExpenseVerifyGuard], path: 'loan-market', component: LoanMarketComponent },\r\n      { canActivate: [RolesGuard, BankDetailsVerifyGuard, UsersIncomeExpenseVerifyGuard], path: 'make-a-loan', component: GetALoanComponent },\r\n      { canActivate: [RolesGuard], path: 'borrow-now', component: BorrowNowComponent },\r\n      { canActivate: [RolesGuard], path: 'update-password', component: UpdatePasswordComponent },\r\n      { canActivate: [RolesGuard], path: 'bank-details', component: BankDetailsComponent },\r\n      { canActivate: [RolesGuard], path: 'my-subscriptions', component: MonthlySubscriptionComponent },\r\n      { canActivate: [RolesGuard], path: 'income-proof', component: IncomeProofComponent },\r\n      { canActivate: [RolesGuard], path: 'calendar', component: CalendarComponent },\r\n      { canActivate: [RolesGuard], path: 'my-ratings', component: RatingsListComponent },\r\n    ]\r\n  },\r\n  {\r\n    path: '**',\r\n    redirectTo: '',\r\n    pathMatch: 'full'\r\n  }\r\n];\r\n@NgModule({\r\n\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [\r\n    RouterModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ]\r\n})\r\nexport class BorrowerRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, Validators, FormBuilder, FormControl, FormArray } from '@angular/forms';\r\nimport { first } from 'rxjs/operators';\r\nimport * as moment from 'moment';\r\nimport { AuthenticationService, AlertService } from 'src/app/services';\r\nimport { AppRouterService } from 'src/app/services/app-router.service';\r\nimport { SessionsService } from 'src/app/services/sessions.service';\r\nimport { UtilityService } from 'src/app/services/utility.service';\r\nimport * as _ from 'lodash';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { SessionStatus, SessionTypes, UserType, Role } from 'src/app/models';\r\n\r\n@Component({\r\n  selector: 'app-get-a-loan',\r\n  templateUrl: './get-a-loan.component.html',\r\n  styleUrls: ['./get-a-loan.component.css']\r\n})\r\nexport class GetALoanComponent implements OnInit {\r\n  public _ = _;\r\n  addSessionForm: FormGroup;\r\n  private _sessionType: string;\r\n  //UserType = UserType;\r\n  //currentUserRoleType: string = null;\r\n  currentUserMaxLoanAmount: number = 0;\r\n  loading = false;\r\n  submitted = false;\r\n  element_btn_click_addSession_basic_details: HTMLElement;\r\n  element_btn_click_addSession_skills_verification: HTMLElement;\r\n  private sub: any;\r\n  fileData: File = null;\r\n  previewUrl: any = null;\r\n  fileUploadProgress: string = null;\r\n  uploadedFilePath: string = null;\r\n  private loanId: any;\r\n  private borrowerId: any;\r\n  _calculatedMonthlyAmountForEMI = 0;\r\n  SessionStatus = SessionStatus;\r\n  SessionTypes = SessionTypes;\r\n  ParentServicesTypes: any = null;\r\n  ChildServicesTypes: any = [];\r\n  countrylist: any = null;\r\n  loanInterestRateMin: number = 0;\r\n  loanInterestRateMax: number = 0;\r\n  constructor(\r\n\r\n    private formBuilder: FormBuilder,\r\n    private authenticationService: AuthenticationService,\r\n    private sessionsService: SessionsService,\r\n    private alertService: AlertService,\r\n    private appRouterService: AppRouterService,\r\n    public utilityService: UtilityService,\r\n    private route: ActivatedRoute\r\n  ) {\r\n    // redirect to home if already logged in\r\n    if (!this.authenticationService.currentUserValue) {\r\n      this.appRouterService.appRouter('');\r\n    }\r\n    //#region do not allow to create new loan in last 3 day's of the month\r\n    let dt = this.utilityService.moment();\r\n    let day4monthEnd = 3;\r\n    if (dt.date() >= (dt.daysInMonth() - day4monthEnd)) {\r\n      this.appRouterService.appRouter('');\r\n      this.alertService.error('New loan request not allowed in end of the month, Please try again later in next month', true);\r\n      return;\r\n    }\r\n    //#endregion do not allow to create new loan in last 3 day's of the month\r\n    //this.currentUserRoleType = this.authenticationService.currentUserValue.userType;\r\n    this.currentUserMaxLoanAmount = 1000;\r\n\r\n    this.initForm();\r\n\r\n    let paramobj = history.state;\r\n    if (paramobj) {\r\n      this.loanId = paramobj['id'];\r\n      this.borrowerId = paramobj['borrowerId'];\r\n      delete history.state['id'];\r\n      delete history.state['borrowerId'];\r\n      /*\r\n      this.sub = this.route.queryParams.subscribe(params => {\r\n        this.loanId = params['id'];\r\n        */\r\n      if (this.loanId) {\r\n        this.sessionsService.getSessionById(this.loanId)\r\n          .pipe(first())\r\n          .subscribe(\r\n            data => {\r\n              ////console.log('data => ', data)\r\n              if (data && data['success']) {\r\n                //alert(JSON.stringify( data));\r\n                this.showEditingForm(data[\"data\"]);\r\n                //this.alertService.success(data['message'], true);\r\n                this.loading = false;\r\n                //this.element_btn_click_addSession_skills_verification.click();\r\n              } else {\r\n                //alert(JSON.stringify(data['message']));\r\n                this.alertService.error(data['message']);\r\n                this.loading = false;\r\n              }\r\n            },\r\n            error => {\r\n              let errorMsg2show = \"\";\r\n              try {\r\n                if (error && error.error && error.error.message) {\r\n                  errorMsg2show = error.error.message;\r\n                } else if (error && error.message) {\r\n                  errorMsg2show = error.message;\r\n                } else {\r\n                  errorMsg2show = error;\r\n                }\r\n              } catch (ex) { }\r\n              this.alertService.error(errorMsg2show);\r\n              this.loading = false;\r\n            });\r\n      } else if (this.borrowerId) {\r\n        this.initForm();\r\n      }\r\n      /* });*/\r\n    }\r\n  }\r\n\r\n  showEditingForm(_userObj) {\r\n\r\n    this.loanInterestRateMin = 0;\r\n    this.loanInterestRateMax = 50;\r\n    let _loanInterestRateValidation = [Validators.required, Validators.min(this.loanInterestRateMin), Validators.max(this.loanInterestRateMax)];\r\n    switch (this.authenticationService.currentUserValue.role) {\r\n      case Role.Borrower:\r\n        if (this.authenticationService.currentUserValue.isRKIRegistered) {\r\n          this.loanInterestRateMin = 3;\r\n          this.loanInterestRateMax = 35;\r\n        } else {\r\n          this.loanInterestRateMin = 0;\r\n          this.loanInterestRateMax = 3;\r\n        }\r\n        _loanInterestRateValidation = [Validators.required, Validators.min(this.loanInterestRateMin), Validators.max(this.loanInterestRateMax)];\r\n        break;\r\n    }\r\n\r\n    this.addSessionForm = this.formBuilder.group({\r\n\r\n      _id: [_userObj._id || ''],\r\n      loanType: [_userObj.loanType || '', Validators.required],\r\n      sessionType: [_userObj.sessionType || ''],\r\n      sessionSubject: [_userObj.sessionSubject || ''],\r\n      loanDescription: [_userObj.loanDescription || ''],\r\n      transactionIdCollection: [_userObj.transactionIdCollection || ''],\r\n      sessionsExecutionCollection: [_userObj.sessionsExecutionCollection || ''],\r\n      loanStartDateTimeCustomised: [_userObj.loanStartDateTimeCustomised || '', Validators.required],\r\n      loanEndDateTimeCustomised: [_userObj.loanEndDateTimeCustomised || ''],\r\n      loanStartDateTime: [_userObj.loanStartDateTime || ''],\r\n      loanEndDateTime: [_userObj.loanEndDateTime || ''],\r\n      services: [_userObj.services || ''],\r\n      location: [_userObj.location || ''],\r\n      status: [_userObj.status || ''],\r\n      additionalDocuments: this.formBuilder.array(_userObj.additionalDocuments || [], []),\r\n      loanAmount: [_userObj.loanAmount || 0, [Validators.required, Validators.min(1), Validators.max(this.currentUserMaxLoanAmount)]],\r\n      loanTenureInMonths: [_userObj.loanTenureInMonths || 1, [Validators.required, Validators.min(1)]],\r\n      loanInterestRate: [_userObj.loanInterestRate || this.loanInterestRateMax, _loanInterestRateValidation],\r\n      loanRepaymentType: this.formBuilder.array(_userObj.loanRepaymentType || [], Validators.required),\r\n      loanInsuranceType: [_userObj.loanInsuranceType || ''],\r\n      loanMaxBorrower: [_userObj.loanMaxBorrower || 1, [Validators.required, Validators.min(1)]],\r\n      createdOn: [_userObj.createdOn || ''],\r\n      updatedOn: [_userObj.updatedOn || ''],\r\n      isDeleted: [_userObj.isDeleted || ''],\r\n      createdBy: [_userObj.createdBy || ''],\r\n      deletedBy: [_userObj.deletedBy || ''],\r\n      updatedBy: [this.authenticationService.currentUserValue._id || ''],\r\n      bannerUrl: [_userObj.bannerUrl || ''],\r\n      borrowerId: [_userObj.borrowerId || ''],\r\n      isLoanRequested: [true],\r\n      calculatedMonthlyAmountForEMI: []\r\n    });\r\n    this._sessionType = _userObj.sessionType;\r\n  }\r\n\r\n  initHtmlContent() {\r\n    if (!this.element_btn_click_addSession_basic_details) {\r\n      this.element_btn_click_addSession_basic_details = document.getElementById('btn_click_addSession_basic_details') as HTMLElement;\r\n      this.element_btn_click_addSession_skills_verification = document.getElementById('btn_click_addSession_skills_verification') as HTMLElement;\r\n    }\r\n  }\r\n\r\n  initForm() {\r\n    this.loanInterestRateMin = 1;\r\n    this.loanInterestRateMax = 50;\r\n    let _loanInterestRateValidation = [Validators.required, Validators.min(this.loanInterestRateMin), Validators.max(this.loanInterestRateMax)];\r\n    switch (this.authenticationService.currentUserValue.role) {\r\n      case Role.Borrower:\r\n        if (this.authenticationService.currentUserValue.isRKIRegistered) {\r\n          this.loanInterestRateMin = 3;\r\n          this.loanInterestRateMax = 35;\r\n        } else {\r\n          this.loanInterestRateMin = 1;\r\n          this.loanInterestRateMax = 3;\r\n        }\r\n        _loanInterestRateValidation = [Validators.required, Validators.min(this.loanInterestRateMin), Validators.max(this.loanInterestRateMax)];\r\n        break;\r\n    }\r\n    //_.first(this.ParentServicesTypes)['_id']\r\n    this.initHtmlContent();\r\n    this.addSessionForm = this.formBuilder.group({\r\n\r\n      _id: [''],\r\n      loanType: ['', Validators.required],\r\n      sessionType: [''],\r\n      sessionSubject: [''],\r\n      loanDescription: [''],\r\n      transactionIdCollection: [''],\r\n      sessionsExecutionCollection: [''],\r\n      loanStartDateTimeCustomised: [''],\r\n      loanEndDateTimeCustomised: [''],\r\n      loanStartDateTime: [''],\r\n      loanEndDateTime: [''],\r\n      services: [''],\r\n      location: [''],\r\n      status: [SessionStatus.Pending],\r\n      additionalDocuments: this.formBuilder.array([], []),\r\n      loanAmount: [0, [Validators.required, Validators.min(1), Validators.max(this.currentUserMaxLoanAmount)]],\r\n      loanTenureInMonths: [1, [Validators.required, Validators.min(1)]],\r\n      loanInterestRate: [this.loanInterestRateMax, _loanInterestRateValidation],\r\n      loanRepaymentType: this.formBuilder.array([], Validators.required),\r\n      loanInsuranceType: [''],\r\n      loanMaxBorrower: [1, [Validators.required, Validators.min(1)]],\r\n      createdOn: [''],\r\n      updatedOn: [''],\r\n      isDeleted: [false],\r\n      createdBy: [this.authenticationService.currentUserValue._id || ''],\r\n      deletedBy: [''],\r\n      updatedBy: [''],\r\n      bannerUrl: [''],\r\n      borrowerId: [this.borrowerId || ''],\r\n      isLoanRequested: [true],\r\n      calculatedMonthlyAmountForEMI: []\r\n    });\r\n  }\r\n\r\n  clickOnGoToNext(_step) {\r\n    this.initHtmlContent();\r\n    switch (_step) {\r\n      case 2:\r\n        this.element_btn_click_addSession_skills_verification.click();\r\n        break;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  // convenience getter for easy access to form fields\r\n  get f() { return this.addSessionForm.controls; }\r\n\r\n  onaddSessionUpdateSubmit() {\r\n    this.submitted = true;\r\n    if (this.addSessionForm.invalid) {\r\n      return;\r\n    }\r\n\r\n    let _loanStartDateTime = this.addSessionForm.get('loanStartDateTimeCustomised').value;\r\n    let _loanEndDateTime = this.addSessionForm.get('loanEndDateTimeCustomised').value;\r\n    /*\r\n        if (!_loanStartDateTime || moment(_loanStartDateTime).isBefore(moment().add(1, 'day'))) {\r\n          this.alertService.error(\"Start date must have 24 hours difference\");\r\n          return;\r\n        }\r\n    */\r\n    _loanEndDateTime = null;\r\n    switch (this.addSessionForm.get('sessionType').value) {\r\n      case SessionTypes.Instant:\r\n        _loanStartDateTime = null;\r\n        _loanEndDateTime = null;\r\n        break;\r\n    }\r\n\r\n\r\n    let loanStartDateTime_Temp = null;\r\n    let loanEndDateTime_Temp = null;\r\n    if (_loanStartDateTime) {\r\n      loanStartDateTime_Temp = moment(_loanStartDateTime, 'YYYY-MM-DD').format('YYYY-MM-DD');\r\n    } else {\r\n      loanStartDateTime_Temp = moment().add(1, 'h').format('YYYY-MM-DD');\r\n    }\r\n\r\n    if (_loanEndDateTime) {\r\n      loanEndDateTime_Temp = moment(_loanEndDateTime, 'YYYY-MM-DD').format('YYYY-MM-DD');\r\n    } else {\r\n      loanEndDateTime_Temp = moment(loanStartDateTime_Temp, 'YYYY-MM-DD').add(this.addSessionForm.get('loanTenureInMonths').value, 'month').format('YYYY-MM-DD');\r\n    }\r\n\r\n    //#region validate dates\r\n    this.addSessionForm.get('loanStartDateTime').setValue(Date.parse(loanStartDateTime_Temp));\r\n    this.addSessionForm.get('loanEndDateTime').setValue(Date.parse(loanEndDateTime_Temp));\r\n\r\n    if (!moment(this.addSessionForm.get('loanStartDateTime').value).isValid || _.isNaN(moment(this.addSessionForm.get('loanStartDateTime').value)) || !this.addSessionForm.get('loanStartDateTime').value) {\r\n      this.alertService.error(\"start time is not valid\");\r\n      return;\r\n    }\r\n    if (!moment(this.addSessionForm.get('loanEndDateTime').value).isValid || _.isNaN(moment(this.addSessionForm.get('loanEndDateTime').value)) || !this.addSessionForm.get('loanEndDateTime').value) {\r\n      this.alertService.error(\"end time is not valid\");\r\n      return;\r\n    }\r\n    /*\r\n      if (moment(this.addSessionForm.get('loanStartDateTime').value).isBefore(moment())) {\r\n        this.alertService.error(\"Loan should start in future date time only.\");\r\n        return;\r\n      }\r\n  */\r\n    if (moment(this.addSessionForm.get('loanStartDateTime').value).add(1, 'h').isAfter(moment(this.addSessionForm.get('loanEndDateTime').value))) {\r\n      this.alertService.error(\"There must be min. 1 hour difference in Loan start and end time\");\r\n      return;\r\n    }\r\n\r\n    //#endregion validate dates\r\n\r\n\r\n    if (this.loanId) {\r\n      this.sessionsService.updateSessionById(this.addSessionForm.value)\r\n        .pipe(first())\r\n        .subscribe(\r\n          data => {\r\n            if (data && data['success']) {\r\n              //alert(JSON.stringify( data));\r\n              //this.alertService.success('Loan Request Updated successfully', true);\r\n              //this.appRouterService.appRouter(this.authenticationService.currentUserValue);\r\n              this.alertService.success(\"Loan Request Updated successfully. Loan contract is available under My Contract->My Contract tab.\", true);\r\n              this.appRouterService.appRouteToPath(\"/borrower/my-contract\", { selectedTab: 'received' }, true);\r\n            } else {\r\n              //alert(JSON.stringify(data['message']));\r\n              this.alertService.error(data['message']);\r\n              this.loading = false;\r\n            }\r\n          },\r\n          error => {\r\n            let errorMsg2show = \"\";\r\n            try {\r\n              if (error && error.error && error.error.message) {\r\n                errorMsg2show = error.error.message;\r\n              } else if (error && error.message) {\r\n                errorMsg2show = error.message;\r\n              } else {\r\n                errorMsg2show = error;\r\n              }\r\n            } catch (ex) { }\r\n            this.alertService.error(errorMsg2show);\r\n            this.loading = false;\r\n          });\r\n    } else {\r\n      this.sessionsService.addNewSession(this.addSessionForm.value)\r\n        .pipe(first())\r\n        .subscribe(\r\n          data => {\r\n            if (data && data['success']) {\r\n\r\n              //alert(JSON.stringify( data));\r\n              //this.alertService.success('Loan Request added in loan market. Lenders request will be visible under receivers tab.', true);\r\n              //this.appRouterService.appRouter(this.authenticationService.currentUserValue);\r\n              this.alertService.success(\"Loan Request added in loan market. Loan contract is available under My Contract->My Contract tab.\", true);\r\n              this.appRouterService.appRouteToPath(\"/borrower/my-contract\", { selectedTab: 'received' }, true);\r\n            } else {\r\n              //alert(JSON.stringify(data['message']));\r\n              this.alertService.error(data['message']);\r\n              this.loading = false;\r\n            }\r\n          },\r\n          error => {\r\n            let errorMsg2show = \"\";\r\n            try {\r\n              if (error && error.error && error.error.message) {\r\n                errorMsg2show = error.error.message;\r\n              } else if (error && error.message) {\r\n                errorMsg2show = error.message;\r\n              } else {\r\n                errorMsg2show = error;\r\n              }\r\n            } catch (ex) { }\r\n            this.alertService.error(errorMsg2show);\r\n            this.loading = false;\r\n          });\r\n    }\r\n\r\n  }\r\n  now = new Date();\r\n  year = this.now.getFullYear();\r\n  month = this.now.getMonth();\r\n  day = this.now.getDate();\r\n  hours = this.now.getHours();\r\n  minutes = this.now.getMinutes();\r\n  minDate = moment({ year: this.year, month: this.month, day: this.day, hour: this.hours + 1, minute: this.minutes }).format('YYYY-MM-DD');\r\n\r\n  maxDate = moment({ year: this.year, month: this.month + 1, day: this.day, hour: this.hours, minute: this.minutes }).format('YYYY-MM-DD');\r\n\r\n  date(ev) {\r\n    //console.log(this.minDate)\r\n    //console.log(ev.target.value)\r\n  }\r\n\r\n  calculateMonthlyAmountForEMI() {\r\n    let loanAmount = this.addSessionForm.get('loanAmount').value || 0;\r\n    let loanTenureInMonths = this.addSessionForm.get('loanTenureInMonths').value || 0;\r\n    let loanInterestRate = this.addSessionForm.get('loanInterestRate').value || 0;\r\n\r\n    this._calculatedMonthlyAmountForEMI = this.utilityService.fnCalculateMonthlyAmountForEMI(loanAmount, loanTenureInMonths, loanInterestRate);\r\n\r\n    this.addSessionForm.get('calculatedMonthlyAmountForEMI').setValue(this._calculatedMonthlyAmountForEMI);\r\n  }\r\n\r\n  onLoanRepaymentTypeChange(e) {\r\n    const checkArray: FormArray = this.addSessionForm.get('loanRepaymentType') as FormArray;\r\n    if (e.target.checked) {\r\n      checkArray.push(new FormControl(e.target.value));\r\n    } else {\r\n      let i: number = 0;\r\n      checkArray.controls.forEach((item: FormControl) => {\r\n        if (item.value == e.target.value) {\r\n          checkArray.removeAt(i);\r\n          return;\r\n        }\r\n        i++;\r\n      });\r\n    }\r\n  }\r\n\r\n  onInitSetLoanRepaymentTypeValue(_id) {\r\n    const checkArray: FormArray = this.addSessionForm.get('loanRepaymentType') as FormArray;\r\n    let _isLoanRepaymentTypeChecked = (checkArray.value.indexOf(_id) > -1);\r\n    return _isLoanRepaymentTypeChecked;\r\n  }\r\n\r\n}","export default \"nav {\\r\\n    padding: 0;\\r\\n}\\r\\nheader img{\\r\\n    height: 3.3rem;\\r\\n}\\r\\nheader nav ul .mega-menu .mega-menu-container {\\r\\n\\r\\n    min-width: auto;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlYWRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksVUFBVTtBQUNkO0FBQ0E7SUFDSSxjQUFjO0FBQ2xCO0FBQ0E7O0lBRUksZUFBZTtBQUNuQiIsImZpbGUiOiJoZWFkZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIm5hdiB7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG59XHJcbmhlYWRlciBpbWd7XHJcbiAgICBoZWlnaHQ6IDMuM3JlbTtcclxufVxyXG5oZWFkZXIgbmF2IHVsIC5tZWdhLW1lbnUgLm1lZ2EtbWVudS1jb250YWluZXIge1xyXG5cclxuICAgIG1pbi13aWR0aDogYXV0bztcclxufVxyXG4iXX0= */\";","export default \"<div class=\\\"row\\\">\\r\\n\\r\\n    <!-- <div class=\\\"col-xl-4 col-12\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-lg-12 collection-filter\\\">\\r\\n               \\r\\n                <div class=\\\"collection-filter-block\\\">\\r\\n                  \\r\\n                    <div class=\\\"collection-mobile-back\\\"><span class=\\\"filter-back\\\"><i aria-hidden=\\\"true\\\"\\r\\n                                class=\\\"fa fa-angle-left\\\"></i> back</span>\\r\\n                    </div>\\r\\n                    <div class=\\\"collection-collapse-block open\\\">\\r\\n                        <h3 class=\\\"collapse-block-title\\\">Services</h3>\\r\\n                        <div class=\\\"collection-collapse-block-content\\\">\\r\\n                            <div class=\\\"collection-brand-filter\\\">\\r\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\" *ngFor=\\\"let item of utilityService.ServicesTypes; let i = index\\\">\\r\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"{{item.value}}\\\" type=\\\"radio\\\">\\r\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"{{item.value}}\\\">{{item.name}}</label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                   \\r\\n                    <div class=\\\"collection-collapse-block open\\\">\\r\\n                        <h3 class=\\\"collapse-block-title\\\">Type</h3>\\r\\n                        <div class=\\\"collection-collapse-block-content\\\">\\r\\n                            <div class=\\\"collection-brand-filter\\\">\\r\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\r\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"zara\\\" type=\\\"checkbox\\\">\\r\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"zara\\\">Instant</label>\\r\\n                                </div>\\r\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\r\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"vera-moda\\\" type=\\\"checkbox\\\">\\r\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"vera-moda\\\">Scheduled</label>\\r\\n                                </div>\\r\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\r\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"forever-21\\\" type=\\\"checkbox\\\">\\r\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"forever-21\\\">All</label>\\r\\n                                </div>\\r\\n\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n              \\r\\n                    <div class=\\\"collection-collapse-block border-0 open\\\">\\r\\n                        <h3 class=\\\"collapse-block-title\\\">price</h3>\\r\\n                        <div class=\\\"collection-collapse-block-content\\\">\\r\\n                            <div class=\\\"collection-brand-filter\\\">\\r\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\r\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"hundred\\\" type=\\\"checkbox\\\">\\r\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"hundred\\\">$10 - $100</label>\\r\\n                                </div>\\r\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\r\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"twohundred\\\" type=\\\"checkbox\\\">\\r\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"twohundred\\\">$100 - $200</label>\\r\\n                                </div>\\r\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\r\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"threehundred\\\" type=\\\"checkbox\\\">\\r\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"threehundred\\\">$200 - $300</label>\\r\\n                                </div>\\r\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\r\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"fourhundred\\\" type=\\\"checkbox\\\">\\r\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"fourhundred\\\">$300 - $400</label>\\r\\n                                </div>\\r\\n                                <div class=\\\"custom-control custom-checkbox collection-filter-checkbox\\\">\\r\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"fourhundredabove\\\" type=\\\"checkbox\\\">\\r\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"fourhundredabove\\\">$400 above</label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div> -->\\r\\n\\r\\n    <div class=\\\"col-xl-12 col-12\\\">\\r\\n        <div class=\\\"row mb-3\\\">\\r\\n            <div class=\\\"col-xl-12 col-12\\\">\\r\\n                <form class=\\\"bg-pink border p-4 shadow-sm\\\" [formGroup]=\\\"browseSessionForm\\\">\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                        <div class=\\\"col-xl-10\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"col-xl-12\\\">\\r\\n\\r\\n                                    <div class=\\\"input-group\\\">\\r\\n                                        <input formControlName=\\\"generaldata4search\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Find Sessions\\\">\\r\\n                                        <div class=\\\"input-group-append\\\">\\r\\n                                            <button class=\\\"btn btn-secondary\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#filter-menus\\\"><i class=\\\"icon-filter\\\"></i></button>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row collapse\\\" id=\\\"filter-menus\\\">\\r\\n                                <div class=\\\"col-xl-6 mt-2\\\">\\r\\n                                    <select formControlName=\\\"services4search\\\" class=\\\"custom-select\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.location.errors }\\\">\\r\\n                                        <option value=\\\"\\\" selected i18n>Service Type</option>\\r\\n                                        <option *ngFor=\\\"let item of ParentServicesTypes\\\"\\r\\n                                            [ngValue]=\\\"item._id\\\">\\r\\n                                            {{item.name}}</option>\\r\\n                                    </select>\\r\\n                                </div>\\r\\n                                <div class=\\\"col-xl-6 mt-2\\\">\\r\\n                                    <select formControlName=\\\"location4search\\\" class=\\\"custom-select\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.location.errors }\\\">\\r\\n                                        <option value=\\\"\\\" selected i18n>Choose Location</option>\\r\\n                                        <option *ngFor=\\\"let location of countrylist\\\" [ngValue]=\\\"location\\\">\\r\\n                                            {{location}}</option>\\r\\n                                    </select>\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xl-2\\\">\\r\\n                            <button class=\\\"btn btn-outline-primary btn-block h-100 mt-md-0 mt-2\\\" (click)=\\\"sessionSearchByService()\\\" i18n>\\r\\n                                <i class=\\\"icon-search\\\"></i> SEARCH\\r\\n                            </button>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                </form>\\r\\n            </div>\\r\\n        </div>\\r\\n        <section class=\\\"agency blog blog-sec blog-sidebar sider p-0\\\">\\r\\n\\r\\n            <div class=\\\"h6 mb-3\\\" i18n>\\r\\n\\r\\n                SESSION RESULT\\r\\n                <!--\\r\\n                <div class=\\\"btn-group btn-group-toggle btn-group-sm float-right\\\" data-toggle=\\\"buttons\\\">\\r\\n                    <label class=\\\"btn btn-secondary active\\\">\\r\\n                        <input type=\\\"radio\\\" name=\\\"options\\\" id=\\\"option1\\\" autocomplete=\\\"off\\\" checked> USA\\r\\n                    </label>\\r\\n                    <label class=\\\"btn btn-secondary\\\">\\r\\n                        <input type=\\\"radio\\\" name=\\\"options\\\" id=\\\"option2\\\" autocomplete=\\\"off\\\"> Worldwide\\r\\n                    </label>\\r\\n            </div>\\r\\n        -->\\r\\n                <!-- <span class=\\\"float-right custom-switch floar-right\\\">\\r\\n\\r\\n                    <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"customSwitch1\\\">\\r\\n                    <label class=\\\"custom-control-label\\\" for=\\\"customSwitch1\\\">USA</label>\\r\\n                </span> -->\\r\\n            </div>\\r\\n            <cdk-virtual-scroll-viewport itemSize=\\\"50\\\" class=\\\"ngfor-viewport\\\">\\r\\n                <div  *cdkVirtualFor=\\\"let session of allSessionsData\\\" class=\\\"ngfor-item card shadow-sm mb-4\\\">\\r\\n                    <div class=\\\"bg-white blog-title card-header mb-0 text-capitalize\\\">\\r\\n                        {{session.sessionSubject}}\\r\\n                    </div>\\r\\n                    <div class=\\\"card-body px-md-3 px-1 small\\\">\\r\\n                         <div class=\\\"row\\\">               \\r\\n                        <div class=\\\"col-xl-12 col-12\\\">\\r\\n                            <p class=\\\"para2\\\" [class.show_more]=\\\"!session._id\\\">\\r\\n                                {{session.loanDescription}}\\r\\n                            </p>\\r\\n                        </div>          \\r\\n                        <div class=\\\"col-xl-6 col-6 border-right mb-2\\\">\\r\\n                            <i aria-hidden=\\\"true\\\" class=\\\"icon-timer mr-2\\\"></i> {{session.loanStartDateTime | date:'MMM d, h:mm a'}}\\r\\n                        </div>\\r\\n                       \\r\\n                        <div class=\\\"col-xl-6 col-6\\\">\\r\\n                            <i aria-hidden=\\\"true\\\" class=\\\"icon-location-pin m-r-10\\\"></i>\\r\\n                            \\r\\n                            {{session.location}}\\r\\n                        </div>\\r\\n                      \\r\\n                    </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"card-footer bg-white\\\">\\r\\n                        <span class=\\\"badge badge-success font-weight-normal text-capitalize btn float-left\\\" >{{session.sessionType}}</span>\\r\\n                        <a *ngIf=\\\"!check4applyToSession(session)\\\" class=\\\"btn btn-success text-capitalize btn-sm float-right text-white\\\" (click)=\\\"applyToSession(session)\\\" i18n>Apply</a>\\r\\n\\r\\n                        <a *ngIf=\\\"check4applyToSession(session)\\\" class=\\\"btn btn-primary text-capitalize btn-sm float-right text-white\\\" (click)=\\\"showAppliedToSession(session)\\\" i18n> Details</a>\\r\\n\\r\\n                    </div>\\r\\n                </div>\\r\\n                \\r\\n             \\r\\n                <div *ngIf=\\\"!allSessionsData\\\">\\r\\n                    <div class=\\\"content_loader\\\"></div>\\r\\n                    <div class=\\\"content_loader\\\"></div>\\r\\n                </div>\\r\\n            </cdk-virtual-scroll-viewport>\\r\\n            \\r\\n\\r\\n           \\r\\n        </section>\\r\\n    </div>\\r\\n\\r\\n</div>\";","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Role, SessionStatus } from 'src/app/models/role';\r\nimport { AlertService } from 'src/app/services/alert.service';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { UtilityService } from 'src/app/services/utility.service';\r\nimport { SocketioService } from 'src/app/socketio.service';\r\nimport * as _ from 'lodash';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { PublicProfileComponent } from 'src/app/shared/public-profile/public-profile.component';\r\nimport { first } from 'rxjs/operators';\r\nimport { UserService } from 'src/app/services';\r\nimport { SessionsService } from 'src/app/services/sessions.service';\r\nimport { SearchComponent } from 'src/app/shared/search/search.component';\r\n\r\n@Component({\r\n  selector: 'app-loan-market',\r\n  templateUrl: './loan-market.component.html',\r\n  styleUrls: ['./loan-market.component.css']\r\n})\r\nexport class LoanMarketComponent implements OnInit {\r\n  subscription: any;\r\n  allLoanMarketData: any;\r\n  loading: boolean = false;\r\n  searchFilterObj:any;\r\n  public _ = _;\r\n  constructor(\r\n    private userService: UserService,\r\n    public dialog: MatDialog,\r\n    private socketService: SocketioService,\r\n    public utilityService: UtilityService,\r\n    private alertService: AlertService,\r\n    public router: Router,\r\n    public authenticationService: AuthenticationService,\r\n    private sessionsService: SessionsService\r\n  ) {\r\n    this.getLoanMarketData();\r\n    this.sessionsService.getSessionNewAdded().subscribe(_allLoanMarketData => {\r\n      if (_allLoanMarketData) {\r\n        if (_allLoanMarketData[\"success\"]) {\r\n          let temp_allLoanMarketData = _.mapKeys(this.allLoanMarketData, '_id')\r\n          if (_allLoanMarketData[\"data\"].isDeleted) {\r\n            delete temp_allLoanMarketData[_allLoanMarketData[\"data\"]._id];\r\n          } else {\r\n            temp_allLoanMarketData[_allLoanMarketData[\"data\"]._id] = _allLoanMarketData[\"data\"];\r\n          }\r\n          this.allLoanMarketData = _.values(temp_allLoanMarketData);\r\n        }\r\n      }\r\n    });\r\n    this.sessionsService.getSessionUpdated().subscribe(_allLoanMarketData => {\r\n      if (_allLoanMarketData) {\r\n        if (_allLoanMarketData[\"success\"]) {\r\n          let temp_allLoanMarketData = _.mapKeys(this.allLoanMarketData, '_id')\r\n          if (_allLoanMarketData[\"data\"].isDeleted) {\r\n            delete temp_allLoanMarketData[_allLoanMarketData[\"data\"]._id];\r\n          } else {\r\n            temp_allLoanMarketData[_allLoanMarketData[\"data\"]._id] = _allLoanMarketData[\"data\"];\r\n          }\r\n          this.allLoanMarketData = _.values(temp_allLoanMarketData);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  navigate2LoanProccess(loanId) {\r\n    this.router.navigate(['/borrower/borrow-now'], { state: { loanId: loanId } });\r\n  }\r\n\r\n  returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(loanMarket) {\r\n    let _currentUserId = this.authenticationService.currentUserValue._id;\r\n    if (loanMarket && _.keys(loanMarket.sessionAppliedByBorrowers).length > 0) {\r\n      //#region proccess only if any one applied to current loan request\r\n      let _list_of_pending_loans = null;\r\n      let roleId2Check = null;\r\n      let _list_of_pending_or_accepted_loans_by_me = null;\r\n      //#region check whether anyone have applied to current loan or not\r\n      _list_of_pending_loans = _.filter(loanMarket.sessionAppliedByBorrowers, function (e) {\r\n        if (e) {\r\n          switch (e.status) {\r\n            case SessionStatus.Pending:\r\n              return true;\r\n              break;\r\n            case SessionStatus.Accepted:\r\n            case SessionStatus.AwaitingForApproval:\r\n              return false;//return true;\r\n              break;\r\n            default:\r\n              return false;\r\n              break;\r\n          }\r\n        }\r\n      });\r\n      //#endregion check whether anyone have applied to current loan or not\r\n      //#region set value for attribute depends on user's role\r\n      switch (this.authenticationService.currentUserValue.role) {\r\n        case Role.Borrower:\r\n          roleId2Check = 'borrowerId';\r\n          break;\r\n        case Role.Lender:\r\n          roleId2Check = 'lenderId';\r\n          break;\r\n      }\r\n      //#endregion set value for attribute depends on user's role\r\n      //#region check whether I have already applied to current loan or not\r\n      _list_of_pending_or_accepted_loans_by_me = _.filter(loanMarket.sessionAppliedByBorrowers, function (e) {\r\n        if (e) {\r\n          if (e[roleId2Check] == _currentUserId) {\r\n            //already applied then why to come here\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        }\r\n      });\r\n      //#endregion check whether I have already applied to current loan or not\r\n      //#region return boolean value for current request\r\n      if (_list_of_pending_or_accepted_loans_by_me.length > 0) {\r\n        return true;\r\n      } else {\r\n        return !(_list_of_pending_loans.length > 0);//!!(_list_of_pending_or_accepted_loans.length >= loanMarket.loanMaxBorrower);\r\n      }\r\n      //#endregion return boolean value for current request\r\n      //#endregion proccess only if any one applied to current loan request\r\n    } else {\r\n      //#region no one applied till now for current loan request\r\n      return false;\r\n      //#endregion no one applied till now for current loan request\r\n    }\r\n  }\r\n  usersProfile(userObj) {\r\n    //#region fetch creator id\r\n    this.userService.getUserById(userObj._id)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          if (data && data['success']) {\r\n            //console.log('84', this.authenticationService.currentUserValue);\r\n            const dialogRef = this.dialog.open(PublicProfileComponent, {\r\n\r\n              maxWidth: '100vw',\r\n              maxHeight: '100vh',\r\n              height: '100%',\r\n              width: '100%',\r\n              hasBackdrop: true,\r\n              data: {\r\n                userObj: _.cloneDeep(data['data']),\r\n                adminViewT: false\r\n              }\r\n            });\r\n\r\n            dialogRef.afterClosed().subscribe(result => {\r\n              //console.log(`99 :: msc :: Dialog result: ${JSON.stringify(result)}`);\r\n            });\r\n\r\n          } else {\r\n\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          this.alertService.error(errorMsg2show);\r\n\r\n        });\r\n    //#endregion fetch creator id\r\n\r\n  }\r\n\r\n  showSearchPanel() {\r\n\r\n    //console.log('84', this.authenticationService.currentUserValue);\r\n    const dialogRef = this.dialog.open(SearchComponent, {\r\n      maxWidth: '100vw',\r\n      maxHeight: '100vh',\r\n      height: '65%',\r\n      width: '50%',\r\n      hasBackdrop: true,\r\n      data: {\r\n        searchFilterObj:this.searchFilterObj,\r\n        adminViewT: false\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result && result.data) {\r\n        let _obj2Save = result.data;\r\n        if (!_obj2Save) {\r\n          _obj2Save = {};\r\n        }\r\n        this.searchFilterObj = _obj2Save;\r\n        _obj2Save.status = 'pending';\r\n        _obj2Save.isDeleted = false;\r\n        let emitThisEvent = null;\r\n        switch (this.authenticationService.currentUserValue.role) {\r\n          case Role.Borrower:\r\n            _obj2Save.isLoanRequested = false;\r\n            emitThisEvent = 'sessions_response_getall_bysearch_from_borrower';\r\n            break;\r\n          case Role.Lender:\r\n            _obj2Save.isLoanRequested = true;\r\n            emitThisEvent = 'sessions_response_getall_bysearch_from_lender';\r\n            break;\r\n        }\r\n\r\n        this.socketService.getLoanMarketDataForSearch(_obj2Save, emitThisEvent).subscribe(_allLoanMarketData => {\r\n        });\r\n        //console.log(`223 :: msc :: Dialog result: ${JSON.stringify(result)}`);\r\n      }\r\n\r\n    });\r\n    //#endregion fetch creator id\r\n\r\n  }\r\n  cleanSearchFilter(){\r\n    this.searchFilterObj = null;\r\n    this.getLoanMarketData();\r\n  }\r\n\r\n  getLoanMarketData() {\r\n    this.subscription = this.socketService.getLoanMarketDataForBorrower().subscribe(_allLoanMarketData => {\r\n      if (_allLoanMarketData) {\r\n        this.allLoanMarketData = _allLoanMarketData[\"data\"];\r\n      } else {\r\n        this.allLoanMarketData = [];\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","\r\nimport { Component, AfterViewInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { User, Role, SessionStatus } from 'src/app/models';\r\nimport { AuthenticationService, AlertService } from 'src/app/services';\r\nimport { SessionsService } from 'src/app/services/sessions.service';\r\nimport * as _ from 'lodash';\r\nimport { UtilityService } from 'src/app/services/utility.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n/*import { ServiceTypesService } from 'src/app/services/service-types.service';*/\r\nimport { first } from 'rxjs/operators';\r\nimport { ModalApplySession, ModalAppliedSessionDisplay } from '../borrower.component';\r\nimport { SocketioService } from 'src/app/socketio.service';\r\nimport { AddFundsService } from 'src/app/services/add-funds.service';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { MessagesService } from 'src/app/services/messages.service';\r\ndeclare var $: any;\r\ndeclare var jQuery: any;\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.css'],\r\n})\r\nexport class HeaderComponent implements AfterViewInit {\r\n\r\n  currentUser: User;\r\n  allInstantSessionsData: any[];\r\n\r\n  public submitted: boolean;\r\n  loading: boolean;\r\n  allSessionsData: any;\r\n  allSessionsCount: number;\r\n  ParentServicesTypes: any = null;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private authenticationService: AuthenticationService,\r\n    private alertService: AlertService,\r\n    private sessionsService: SessionsService,\r\n    public dialog: MatDialog,\r\n    /*private serviceTypesService: ServiceTypesService,*/\r\n    public socketService: SocketioService,\r\n    public fundService: AddFundsService,\r\n    public utilityService: UtilityService,\r\n    public notificationService:NotificationService,\r\n    public messagesService:MessagesService\r\n  ) {\r\n    this.messagesService.getAllMyContacts();\r\n    this.authenticationService.currentUser.subscribe(x => {\r\n      this.currentUser = x;\r\n      if(!this.currentUser){\r\n        return;\r\n      }\r\n      fundService.getFundsCountForRequestedUser(this.currentUser._id);\r\n      fundService.getSessionSpentCountForRequestedUser(this.currentUser._id);\r\n      this.sessionsService.getSessionAllWithSessionApply(this.authenticationService.currentUserValue._id)\r\n        .subscribe(\r\n          data => {\r\n            ////console.log('data => ', data)\r\n            if (data && data['success']) {\r\n              //alert(JSON.stringify( data));\r\n              this.allSessionsData = data['data'];\r\n              //this.alertService.success(data['message'], true);\r\n              this.loading = false;\r\n              //this.element_btn_click_addSession_skills_verification.click();\r\n            } else {\r\n              //alert(JSON.stringify(data['message']));\r\n              //this.alertService.error(data['message']);\r\n              this.loading = false;\r\n            }\r\n          },\r\n          error => {\r\n            let errorMsg2show = \"\";\r\n            try {\r\n              if (error && error.error && error.error.message) {\r\n                errorMsg2show = error.error.message;\r\n              } else if (error && error.message) {\r\n                errorMsg2show = error.message;\r\n              } else {\r\n                errorMsg2show = error;\r\n              }\r\n            } catch (ex) { }\r\n            //this.alertService.error(errorMsg2show);\r\n            this.loading = false;\r\n          });\r\n\r\n    });\r\n\r\n    this.sessionsService.getSessionInstastTypeAdded()\r\n      .subscribe(\r\n        data => {\r\n          if (data && data['success']) {\r\n            if (!this.allInstantSessionsData) {\r\n              this.allInstantSessionsData = [];\r\n            }\r\n            let _currentSessionObj = data['data'];\r\n            let _existingSessionObjKryPair = _.mapKeys(_.values(this.allInstantSessionsData), '_id');\r\n            if (_.keys(_existingSessionObjKryPair).length > 0) {\r\n              delete _existingSessionObjKryPair[_currentSessionObj._id];\r\n            }\r\n            _existingSessionObjKryPair[_currentSessionObj._id] = _currentSessionObj;\r\n            this.allInstantSessionsData = _.values(_existingSessionObjKryPair);\r\n          } else {\r\n            //this.alertService.error(data['message']);\r\n          }\r\n        },\r\n        error => {\r\n        });\r\n\r\n    this.socketService.getCurrentAppliedSessionObj()\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            if (!this.allInstantSessionsData) {\r\n              this.allInstantSessionsData = [];\r\n            }\r\n            let _existingSessionObjKryPair = _.mapKeys(_.values(this.allInstantSessionsData), '_id');\r\n            delete _existingSessionObjKryPair[data];\r\n            this.allInstantSessionsData = _.values(_existingSessionObjKryPair);\r\n          } else {\r\n            //this.alertService.error(data['message']);\r\n          }\r\n        },\r\n        error => {\r\n        });\r\n    this.socketService.getSessionUpdates().subscribe(data => {\r\n      if (data && data['success']) {\r\n        if (!this.allSessionsData) {\r\n          this.allSessionsData = [];\r\n        }\r\n        let _currentSessionObj = data['data'];\r\n        let _existingSessionObjKryPair = _.mapKeys(_.values(this.allSessionsData), '_id');\r\n        if (_.keys(_existingSessionObjKryPair).length > 0) {\r\n          delete _existingSessionObjKryPair[_currentSessionObj._id];\r\n        }\r\n        _existingSessionObjKryPair[_currentSessionObj._id] = _currentSessionObj;\r\n        this.allSessionsData = _.values(_existingSessionObjKryPair);\r\n      } else {\r\n        //this.alertService.error(data['message']);\r\n      }\r\n    },\r\n      error => {\r\n      });\r\n      /*\r\n    this.serviceTypesService.getServiceTypesChildAll()\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n            //alert(JSON.stringify( data));\r\n            this.ParentServicesTypes = data[\"data\"];\r\n            //this.alertService.success(data['message'], true);\r\n            this.loading = false;\r\n            //this.element_btn_click_addServiceTypes_skills_verification.click();\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            this.alertService.error(data['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          this.ParentServicesTypes = [];\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n*/\r\n  }\r\n\r\n\r\n  check4applyToSession(sessionObj) {\r\n    if (sessionObj && sessionObj.sessionAppliedByBorrowers) {\r\n      if (_.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id }).length > 0) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  navigate2State(state) {\r\n    state = (state ? state : '/logout');\r\n    this.router.navigate([state]);\r\n  }\r\n\r\n  applyToSession(sessionObj) {\r\n    //console.log('179', this.authenticationService.currentUserValue);\r\n    const dialogRef = this.dialog.open(ModalApplySession, {\r\n      backdropClass: 'cdk-overlay-transparent-backdrop',\r\n      maxWidth: '100vw',\r\n      maxHeight: '100vh',\r\n      height: '100%',\r\n      width: '100%',\r\n      hasBackdrop: true,\r\n      data: {\r\n        sessionObj: sessionObj,\r\n        borrowerId: this.authenticationService.currentUserValue._id\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      let _currentSessionApply = null;\r\n      if (result) {\r\n        if (result.data) {\r\n          _currentSessionApply = result.data.sessionApply\r\n          if (_currentSessionApply) {\r\n\r\n            if (!this.allInstantSessionsData) {\r\n              this.allInstantSessionsData = [];\r\n            }\r\n            let _existingSessionObjKryPair = _.mapKeys(_.values(this.allInstantSessionsData), '_id');\r\n            if (_.keys(_existingSessionObjKryPair).length > 0) {\r\n              delete _existingSessionObjKryPair[_currentSessionApply.loanId];\r\n            }\r\n            this.allInstantSessionsData = _.values(_existingSessionObjKryPair);\r\n\r\n            if (!_currentSessionApply._id) {\r\n              _currentSessionApply._id = _currentSessionApply.loanId + '__' + _currentSessionApply.borrowerId;\r\n            }\r\n            _currentSessionApply.status = result.data.status || SessionStatus.Pending;\r\n            this.socketService.sendCurrentAppliedSessionObj(_currentSessionApply.loanId);\r\n            switch (_currentSessionApply.status) {\r\n              case SessionStatus.Pending:\r\n                _currentSessionApply.createdBy=this.authenticationService.currentUserValue._id;\r\n                this.socketService.setSessionApply(true, _currentSessionApply);\r\n                break;\r\n              default:\r\n                this.socketService.updateSessionApply(true, _currentSessionApply, this.authenticationService.currentUserValue);\r\n                break;\r\n            }\r\n            switch (_currentSessionApply.status) {\r\n              case SessionStatus.Accepted:\r\n                this.alertService.success(\"Updated. Session is available under My Sessions->Accepted tab.\", true);\r\n                break;\r\n              case SessionStatus.Pending:\r\n                this.alertService.success(\"Added. Session is available under My Sessions->Pending tab.\", true);\r\n                break;\r\n              case SessionStatus.Rejected:\r\n              case SessionStatus.RejectedOngoing:\r\n              case SessionStatus.RejectedOngoingWithRefund:\r\n              case SessionStatus.Suspended:\r\n                this.alertService.success(\"Updated. Session is available under My Sessions->Rejected tab.\", true);\r\n                break;\r\n              case SessionStatus.Completed:\r\n                this.alertService.success(\"Updated. Session is available under My Sessions->Completed tab.\", true);\r\n                break;\r\n              case SessionStatus.Active:\r\n              case SessionStatus.Ongoing:\r\n              case SessionStatus.OngoingInitiated:\r\n              case SessionStatus.AwaitingForApproval:\r\n                this.alertService.success(\"Updated. Session is available under My Sessions->Ongoing tab.\", true);\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      //console.log(`211 :: headerc :: Dialog result: ${JSON.stringify(result)}`);\r\n    });\r\n  }\r\n\r\n  showAppliedToSession(sessionObj) {\r\n    let _proccessedSessionObj = null;\r\n    switch (this.authenticationService.currentUserValue.role) {\r\n      case Role.Borrower:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\r\n        break;\r\n      default:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        break;\r\n    }\r\n\r\n\r\n    //console.log('214', this.authenticationService.currentUserValue);\r\n    const dialogRef = this.dialog.open(ModalAppliedSessionDisplay, {\r\n      backdropClass: 'cdk-overlay-transparent-backdrop',\r\n      hasBackdrop: true,\r\n      maxWidth: '100vw',\r\n      maxHeight: '100vh',\r\n      height: '100%',\r\n      width: '100%',\r\n      data: {\r\n        sessionObj: _proccessedSessionObj,\r\n        borrowerId: this.authenticationService.currentUserValue._id\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      //console.log(`238 :: hc :: Dialog result: ${JSON.stringify(result)}`);\r\n    });\r\n  }\r\n\r\n\r\n  logout() {\r\n    this.router.navigate(['/logout']);\r\n  }\r\n\r\n  showAlert() {\r\n    alert(\"Sorry, you can not create a loan request untill 30th October.\")\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    (function ($) {\r\n      \"use strict\";\r\n\r\n\r\n      $('.filter-btn').on('click', function (e) {\r\n        $('.collection-filter').css(\"left\", \"-15px\");\r\n      });\r\n      $('.filter-back').on('click', function (e) {\r\n        $('.collection-filter').css(\"left\", \"-365px\");\r\n        $('.sidebar-popup').trigger('click');\r\n      });\r\n\r\n      //toggle show\r\n      $('.toggle-nav').on('click', function (e) {\r\n        $('.navbar').css(\"right\", \"0px\");\r\n        $('.navbar_side_panel').show();\r\n      });\r\n      $('.btn-back').on('click', function (e) {\r\n        $('.navbar').css(\"right\", \"-350px\");\r\n        $('.navbar_side_panel').hide();\r\n      });\r\n      function checkWidth() {\r\n        var windowSize = $(window).width();\r\n        if (windowSize <= 991) {\r\n          $(\".dropdown\").click(function () {\r\n            $(\".dropdown ~ul\").not($(this).siblings()).hide(\"fast\");\r\n            $(\".dropdown ~.mega-menu-container\").not($(this).siblings()).hide(\"fast\");\r\n            $(this).siblings().slideToggle(\"fast\");\r\n          });\r\n        }\r\n        else if (windowSize >= 991) {\r\n          $(\".navbar > ul > li.mega-menu\").mouseover(function () {\r\n            $(this).children().css(\"display\", \"block\");\r\n          });\r\n          $(\".navbar > ul > li.mega-menu\").mouseout(function () {\r\n            $(this).children().last().css(\"display\", \"none\");\r\n          });\r\n\r\n          $(\".sub-menu\").mouseover(function () {\r\n            $(this).children().css(\"display\", \"block\")\r\n          });\r\n          $(\".sub-menu\").mouseout(function () {\r\n            $(this).children().last().css(\"display\", \"none\")\r\n          });\r\n        }\r\n      }\r\n      checkWidth();\r\n      $(window).resize(checkWidth);\r\n    })(jQuery);\r\n  }\r\n\r\n}\r\n","export default \"<full-calendar [options]=\\\"calendarOptions\\\"></full-calendar>\\n\";","export default \"footer {\\r\\n    padding: 0px 0;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksY0FBYztBQUNsQiIsImZpbGUiOiJmb290ZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImZvb3RlciB7XHJcbiAgICBwYWRkaW5nOiAwcHggMDtcclxufSJdfQ== */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyb29tLmNvbXBvbmVudC5jc3MifQ== */\";","export default \"<!-- <section class=\\\"agency blog blog-sec blog-sidebar sider p-0 mt-4\\\">\\r\\n    <div class=\\\"card shadow-sm mb-4\\\" *ngFor=\\\"let LoanMarket of allLoanMarketData\\\">\\r\\n        <div class=\\\"bg-white blog-title card-header mb-0 text-capitalize\\\">\\r\\n            {{LoanMarket.LoanMarketubject}}\\r\\n        </div>\\r\\n        <div class=\\\"card-body px-md-3 px-1 small\\\">\\r\\n             <div class=\\\"row\\\">               \\r\\n            <div class=\\\"col-xl-12 col-12\\\">\\r\\n                <p class=\\\"para2\\\" [class.show_more]=\\\"!LoanMarket._id\\\">\\r\\n                    {{LoanMarket.loanAmount}}\\r\\n                </p>\\r\\n            </div>          \\r\\n            <div class=\\\"col-xl-6 col-6 border-right mb-2\\\">\\r\\n                <i aria-hidden=\\\"true\\\" class=\\\"icon-timer mr-2\\\"></i> {{LoanMarket.loanStartDateTime | date:'MMM d, h:mm a'}}\\r\\n            </div>\\r\\n            <div class=\\\"col-xl-6 col-6\\\">\\r\\n                <i aria-hidden=\\\"true\\\" class=\\\"icon-location-pin m-r-10\\\"></i>\\r\\n                {{LoanMarket.location}}\\r\\n            </div>\\r\\n          \\r\\n        </div>\\r\\n        </div>\\r\\n        <div class=\\\"card-footer bg-white\\\">\\r\\n            <span class=\\\"badge badge-success font-weight-normal text-capitalize btn float-left\\\" >{{LoanMarket.LoanMarketType}}</span>\\r\\n          \\r\\n            <a class=\\\"btn btn-primary text-capitalize  btn-sm float-right text-white\\\" (click)=\\\"showAppliedToLoanMarket(LoanMarket)\\\">Details</a>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n    <div class=\\\"mt-5 text-center blog-agency no-item\\\">\\r\\n        <img src=\\\"assets/img/noresult.png\\\">\\r\\n        <h2 class=\\\"mt-4 font-weight-normal\\\">No Data Found</h2>\\r\\n    </div>\\r\\n</section> -->\\r\\n\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xl-12 col-12 align-items-stretch\\\">\\r\\n        <button i18n *ngIf=\\\"this.searchFilterObj\\\" class=\\\"btn btn-xs btn-danger float-right mb-3 mt-n2 ml-2\\\" (click)=\\\"cleanSearchFilter()\\\">\\r\\n            <i class=\\\"icon icon-trash\\\"></i> Reset\\r\\n        </button>\\r\\n        <button i18n class=\\\"btn btn-xs btn-success float-right mb-3 mt-n2\\\"  (click)=\\\"showSearchPanel()\\\"> \\r\\n            <i class=\\\"icon icon-filter\\\"></i> Filter\\r\\n        </button>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xl-4 col-12 d-flex align-items-stretch mb-4\\\"\\r\\n        *ngFor=\\\"let LoanMarket of allLoanMarketData | sortArrayByUpdatedOn:'loanStartDateTime':true\\\">\\r\\n       \\r\\n        <div class=\\\"clash-card wizard w-100\\\">\\r\\n            <div class=\\\"product-image\\\" *ngIf=\\\"(!returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket) && utilityService.returnTIfSuppliedDateIsNotFromCurrentMonth(LoanMarket.loanStartDateTime)) || (returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket))\\\">\\r\\n                <span class=\\\"onsale-section\\\" *ngIf=\\\"returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket)\\\"><span class=\\\"onsale\\\" i18n>Contract Signed</span></span>\\r\\n\\r\\n                <span class=\\\"onsale-section\\\"  *ngIf=\\\"!returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket) && utilityService.returnTIfSuppliedDateIsNotFromCurrentMonth(LoanMarket.loanStartDateTime)\\\"><span class=\\\"onsale\\\" i18n>Cancelled</span></span>\\r\\n              </div>\\r\\n\\r\\n             \\r\\n\\r\\n\\r\\n            <div class=\\\"clash-card__level clash-card__level--wizard mt-3\\\">\\r\\n                <!--{{(LoanMarket.createdByUserObj.userType || \\\"\\\").replace(\\\"_\\\", \\\" \\\")}}-->\\r\\n                {{authenticationService.returnUserTypeForUserFromSuppliedUserLevel(LoanMarket.createdByUserObj.userType)}}\\r\\n            </div>\\r\\n            <div class=\\\"clash-card__unit-name text-capitalize\\\">{{(LoanMarket.loanType || \\\"\\\").replace(\\\"_\\\", \\\" \\\")}}</div>\\r\\n            <div class=\\\"clash-card__unit-description\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-xl-4 col-4 border-right\\\" data-toggle=\\\"tooltip\\\" title=\\\"Created By\\\">\\r\\n                        <div (click)=\\\"usersProfile(LoanMarket.createdByUserObj)\\\">\\r\\n                            <!--<i class=\\\"icon icon-user\\\"></i>-->\\r\\n                            <span\\r\\n                                class=\\\"flag-icon flag-icon-{{utilityService.returnCountryCodeFromName(LoanMarket.createdByUserObj.country)}} flag-icon-squared\\\"></span>\\r\\n                        </div>\\r\\n                        <div class=\\\"text-black-50 small\\\">\\r\\n                            {{LoanMarket.createdByUserObj.firstName}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-xl-4 col-4 border-right\\\" data-toggle=\\\"tooltip\\\" title=\\\"Max Applicants\\\">\\r\\n                        <div>\\r\\n                            <i class=\\\"icon icon-check-box\\\"></i>\\r\\n                        </div>\\r\\n                        <div class=\\\"text-black-50 small\\\">\\r\\n                            {{ _.keys(LoanMarket.sessionAppliedByBorrowers).length || 0}}/{{LoanMarket.loanMaxBorrower}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-xl-4 col-4 \\\" data-toggle=\\\"tooltip\\\" title=\\\"Created On\\\">\\r\\n                        <div>\\r\\n                            <i class=\\\"icon icon-time\\\"></i>\\r\\n                        </div>\\r\\n                        <div class=\\\"text-black-50 small\\\">\\r\\n                            {{LoanMarket.loanStartDateTime | date:'MMM d, yy'}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-xl-12 col-12 mt-2\\\">\\r\\n                        <div class=\\\"text-black-50 small mb-1\\\" i18n>\\r\\n                            Payment Methods\\r\\n                        </div>\\r\\n\\r\\n                        <span *ngIf=\\\"LoanMarket.loanRepaymentType.indexOf('bank')>-1\\\"\\r\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\r\\n                            BANK\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"LoanMarket.loanRepaymentType.indexOf('cash')>-1\\\"\\r\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\r\\n                            Cash\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"LoanMarket.loanRepaymentType.indexOf('revolut')>-1\\\"\\r\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\r\\n                            Revolut\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"LoanMarket.loanRepaymentType.indexOf('paypal')>-1\\\"\\r\\n                            class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\r\\n                            Paypal\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"LoanMarket.loanRepaymentType.indexOf('skrill')>-1\\\"\\r\\n                            class=\\\"badge font-weight-light text-uppercase badge-success\\\" i18n>\\r\\n                            Skrill\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <button\\r\\n                *ngIf=\\\"!returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket) && !utilityService.returnTIfSuppliedDateIsNotFromCurrentMonth(LoanMarket.loanStartDateTime)\\\"\\r\\n                class=\\\"btn btn-success btn-sm mb-2\\\" (click)=\\\"navigate2LoanProccess(LoanMarket._id)\\\" i18n>\\r\\n                Borrow Now\\r\\n            </button>\\r\\n            <button\\r\\n                *ngIf=\\\"!returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket) && utilityService.returnTIfSuppliedDateIsNotFromCurrentMonth(LoanMarket.loanStartDateTime)\\\" i18n\\r\\n                class=\\\"btn btn-danger btn-sm mb-2\\\" disabled>\\r\\n                Cancelled\\r\\n            </button>\\r\\n            <button *ngIf=\\\"returnT4DisableLoanBorrowOrLendIfAlreadyAccepted(LoanMarket)\\\"\\r\\n                class=\\\"btn btn-primary btn-sm mb-2\\\" i18n><i class=\\\"icon icon-check-box\\\"></i>\\r\\n                Contract Signed\\r\\n            </button>\\r\\n\\r\\n            <div class=\\\"clash-card__unit-stats clash-card__unit-stats--wizard clearfix\\\">\\r\\n                <div class=\\\"one-third\\\">\\r\\n                    <div class=\\\"stat\\\">{{LoanMarket.loanAmount}}</div>\\r\\n                    <div class=\\\"stat-value\\\" i18n>Amount</div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"one-third\\\">\\r\\n                    <div class=\\\"stat\\\">\\r\\n                        {{utilityService.returnRoundedNumber(LoanMarket.calculatedMonthlyAmountForEMI*LoanMarket.loanTenureInMonths)}}\\r\\n                    </div>\\r\\n                    <div class=\\\"stat-value\\\" i18n>Refund</div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"one-third no-border\\\">\\r\\n                    <div class=\\\"stat\\\">{{LoanMarket.loanTenureInMonths}} <sub\\r\\n                            class=\\\"month\\\">{{LoanMarket.loanTenureInMonths>1?'Months':'Month'}}</sub></div>\\r\\n                    <div class=\\\"stat-value\\\" i18n>Duration</div>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n        <!-- end clash-card goblin-->\\r\\n\\r\\n\\r\\n    </div>\\r\\n    <!-- <div class=\\\"mt-5 text-center blog-agency no-item\\\">\\r\\n        <img src=\\\"assets/img/noresult.png\\\">\\r\\n        <h2 class=\\\"mt-4 font-weight-normal\\\">No Data Found</h2>\\r\\n    </div> -->\\r\\n</div>\";","export default \".ngfor-viewport {\\r\\n    height: 80vh;\\r\\n \\r\\n  }\\r\\n  \\r\\n\\r\\n  \\r\\n\\r\\n  @media (max-width: 767.98px) { \\r\\n    .ngfor-item {\\r\\n      max-height: 290px;\\r\\n      margin-bottom: 15px;\\r\\n    }\\r\\n    a.btn.btn-apply-session{\\r\\n      width: 100%;\\r\\n      margin-top: 11px;\\r\\n    }\\r\\n    p.para2{\\r\\n      overflow: hidden;\\r\\n      text-overflow: ellipsis; \\r\\n    }\\r\\n  }\\r\\n  \\r\\n\\r\\n  \\r\\n\\r\\n  @media (min-width: 767.98px) {\\r\\n    .ngfor-item {\\r\\n      max-height: 200px;\\r\\n      margin-bottom: 20px !important;\\r\\n    }\\r\\n   }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyb3dzZS1zZXNzaW9ucy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTs7RUFFZDs7Ozs7RUFLQTtJQUNFO01BQ0UsaUJBQWlCO01BQ2pCLG1CQUFtQjtJQUNyQjtJQUNBO01BQ0UsV0FBVztNQUNYLGdCQUFnQjtJQUNsQjtJQUNBO01BQ0UsZ0JBQWdCO01BQ2hCLHVCQUF1QjtJQUN6QjtFQUNGOzs7OztFQUVBO0lBQ0U7TUFDRSxpQkFBaUI7TUFDakIsOEJBQThCO0lBQ2hDO0dBQ0QiLCJmaWxlIjoiYnJvd3NlLXNlc3Npb25zLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubmdmb3Itdmlld3BvcnQge1xyXG4gICAgaGVpZ2h0OiA4MHZoO1xyXG4gXHJcbiAgfVxyXG4gIFxyXG5cclxuICBcclxuXHJcbiAgQG1lZGlhIChtYXgtd2lkdGg6IDc2Ny45OHB4KSB7IFxyXG4gICAgLm5nZm9yLWl0ZW0ge1xyXG4gICAgICBtYXgtaGVpZ2h0OiAyOTBweDtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgIH1cclxuICAgIGEuYnRuLmJ0bi1hcHBseS1zZXNzaW9ue1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgbWFyZ2luLXRvcDogMTFweDtcclxuICAgIH1cclxuICAgIHAucGFyYTJ7XHJcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBtZWRpYSAobWluLXdpZHRoOiA3NjcuOThweCkge1xyXG4gICAgLm5nZm9yLWl0ZW0ge1xyXG4gICAgICBtYXgtaGVpZ2h0OiAyMDBweDtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMjBweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gICB9Il19 */\";","export default \"<ul class=\\\"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion navbar_side_panel\\\" id=\\\"accordionSidebar\\\">\\r\\n\\r\\n    <!-- Sidebar - Brand -->\\r\\n    <a class=\\\"sidebar-brand d-flex align-items-center justify-content-center\\\">\\r\\n        <img class=\\\"img-fluid\\\" src=\\\"./assets/img/avitii-logo.png\\\">\\r\\n    </a>\\r\\n\\r\\n    <!-- Divider -->\\r\\n    <hr class=\\\"sidebar-divider my-0\\\">\\r\\n    <div class=\\\"d-inline text-white text-center mt-2\\\">\\r\\n        <a class=\\\"mr-1 small text-white\\\" href=\\\"/en\\\">English</a> |\\r\\n        <a href=\\\"/da\\\" class=\\\"ml-1 small text-white\\\">Dansk</a>\\r\\n    </div>\\r\\n    <!-- Nav Item - Dashboard -->\\r\\n    <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\">\\r\\n            {{currentUser.firstName}} \\r\\n            <span class=\\\"badge badge-success float-right font-weight-lighter text-capitalize\\\" [textContent]=\\\"currentUser.role\\\" i18n> Borrower</span>\\r\\n         </a>\\r\\n    </li>\\r\\n    \\r\\n\\r\\n    <!-- Divider -->\\r\\n    <hr class=\\\"sidebar-divider\\\">\\r\\n\\r\\n    <!-- Heading -->\\r\\n    <!-- <div class=\\\"sidebar-heading\\\">\\r\\n        Interface\\r\\n    </div> -->\\r\\n    <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/borrower\\\">\\r\\n            <i class=\\\"icon icon-home\\\"></i>\\r\\n            <span i18n>Dashboard</span></a>\\r\\n    </li>\\r\\n    <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/borrower/loan-market\\\" routerLinkActive=\\\"active\\\">\\r\\n            <i class=\\\"icon icon-shopping-cart\\\"></i>\\r\\n            <span i18n>Loan Market</span></a>\\r\\n    </li>\\r\\n\\r\\n    <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\"\\r\\n        (click)=\\\"showAlert()\\\"\\r\\n       \\r\\n        routerLinkActive=\\\"active\\\">\\r\\n            <i class=\\\"icon icon-money\\\"></i>\\r\\n            <span i18n>Get a Loan</span></a>\\r\\n    </li>\\r\\n     <!-- routerLink=\\\"/borrower/make-a-loan\\\"  -->\\r\\n     \\r\\n    <!-- Nav Item - Pages Collapse Menu -->\\r\\n    <!-- <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link collapsed\\\" href=\\\"#\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#collapseTwo\\\" aria-expanded=\\\"true\\\" aria-controls=\\\"collapseTwo\\\">\\r\\n            <i class=\\\"icon icon-bag\\\"></i>\\r\\n            <span>My Contracts</span>\\r\\n        </a>\\r\\n        <div id=\\\"collapseTwo\\\" class=\\\"collapse\\\" aria-labelledby=\\\"headingTwo\\\" data-parent=\\\"#accordionSidebar\\\">\\r\\n            <div class=\\\"bg-white py-2 collapse-inner rounded\\\">\\r\\n            \\r\\n                <a class=\\\"collapse-item\\\" (click)=\\\"navigate2State('/borrower/my-contract')\\\" routerLinkActive=\\\"active\\\">My Offers</a>\\r\\n                <a class=\\\"collapse-item\\\" (click)=\\\"navigate2State('/borrower/my-contract')\\\" routerLinkActive=\\\"active\\\">Paid Contracts</a>\\r\\n                <a class=\\\"collapse-item\\\" (click)=\\\"navigate2State('/borrower/my-contract')\\\" routerLinkActive=\\\"active\\\">Unpaid Contracts</a>\\r\\n                <a class=\\\"collapse-item\\\" (click)=\\\"navigate2State('/borrower/my-contract')\\\" routerLinkActive=\\\"active\\\">Inkasso cases</a>\\r\\n           \\r\\n            </div>\\r\\n        </div>\\r\\n    </li> -->\\r\\n\\r\\n    <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/borrower/my-contract\\\" routerLinkActive=\\\"active\\\">\\r\\n            <i class=\\\"icon icon-bag\\\"></i>\\r\\n            <span i18n>My Contracts</span></a>\\r\\n    </li>\\r\\n\\r\\n    <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\"  routerLink=\\\"/borrower/messages\\\" routerLinkActive=\\\"active\\\">\\r\\n            <i class=\\\"icon icon-comments\\\"></i>\\r\\n            <span i18n>Messages</span>\\r\\n            <span *ngIf=\\\"messagesService.returnTotalPendingMessagesForUser()>0\\\" class=\\\"badge badge-light float-right font-weight-lighter text-capitalize\\\" i18n> {{messagesService.returnTotalPendingMessagesForUser()}}</span>\\r\\n        </a>\\r\\n    </li>\\r\\n\\r\\n    <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\"  routerLink=\\\"/borrower/calendar\\\" routerLinkActive=\\\"active\\\">\\r\\n            <i class=\\\"icon icon-calendar\\\"></i>\\r\\n            <span i18n>Calendar</span></a>\\r\\n    </li>\\r\\n\\r\\n    <!-- <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/borrower/ratings\\\" routerLinkActive=\\\"active\\\">\\r\\n            <i class=\\\"icon icon-star\\\"></i>\\r\\n            <span>My Ratings</span></a>\\r\\n    </li> -->\\r\\n\\r\\n    <!-- Divider -->\\r\\n    <hr class=\\\"sidebar-divider\\\">\\r\\n\\r\\n    <!-- Heading -->\\r\\n    <!-- <div class=\\\"sidebar-heading\\\">\\r\\n        Addons\\r\\n    </div> -->\\r\\n\\r\\n    <!-- Nav Item - Pages Collapse Menu -->\\r\\n    <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link collapsed\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#collapsePages\\\" aria-expanded=\\\"true\\\" aria-controls=\\\"collapsePages\\\">\\r\\n            <i class=\\\"icon icon-settings\\\"></i>\\r\\n            <span i18n>Settings</span>\\r\\n        </a>\\r\\n        <div id=\\\"collapsePages\\\" class=\\\"collapse\\\" aria-labelledby=\\\"headingPages\\\" data-parent=\\\"#accordionSidebar\\\">\\r\\n            <div class=\\\"bg-white py-2 collapse-inner rounded\\\">\\r\\n            \\r\\n                <a class=\\\"collapse-item\\\" routerLink=\\\"/borrower/profile\\\" routerLinkActive=\\\"active\\\" i18n>My Profile</a>\\r\\n                <a class=\\\"collapse-item\\\" routerLink=\\\"/borrower/update-password\\\" routerLinkActive=\\\"active\\\" i18n>Change Password</a>\\r\\n                <a class=\\\"collapse-item\\\" routerLink=\\\"/borrower/bank-details\\\" routerLinkActive=\\\"active\\\" i18n>Bank Details</a>\\r\\n                <a class=\\\"collapse-item\\\" routerLink=\\\"/borrower/income-proof\\\" routerLinkActive=\\\"active\\\" i18n>Income Proof</a>\\r\\n                <a class=\\\"collapse-item\\\" routerLink=\\\"/borrower/my-subscriptions\\\" routerLinkActive=\\\"active\\\" i18n>My Subscriptions</a>\\r\\n               \\r\\n            </div>\\r\\n        </div>\\r\\n    </li>\\r\\n\\r\\n \\r\\n    <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/logout\\\">\\r\\n            <i class=\\\"icon icon-flickr-alt\\\"></i>\\r\\n            <span i18n>Logout</span></a>\\r\\n    </li>\\r\\n\\r\\n    <!-- Divider -->\\r\\n    <!-- <hr class=\\\"sidebar-divider d-none d-md-block\\\">\\r\\n\\r\\n\\r\\n    <div class=\\\"text-center d-none d-md-inline\\\">\\r\\n        <button class=\\\"rounded-circle border-0\\\" id=\\\"sidebarToggle\\\"></button>\\r\\n    </div> -->\\r\\n\\r\\n\\r\\n</ul>\\r\\n\\r\\n\\r\\n\";","export default \"<form [formGroup]=\\\"borrowNowForm\\\" class=\\\"theme-form\\\">\\r\\n    <!-- addSession section -->\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"!userClickedOnSignLoanContract\\\">\\r\\n        <div class=\\\"col-xl-3 col-12\\\">\\r\\n            <div class=\\\"card border-left-primary shadow py-2 mb-3\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <div class=\\\"row no-gutters align-items-center\\\">\\r\\n                        <div class=\\\"col mr-2\\\">\\r\\n                            <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\r\\n                                EMI (Monthly)\\r\\n                            </div>\\r\\n                            <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\" >\\r\\n                                kr {{LoanObj.calculatedMonthlyAmountForEMI}}\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-auto\\\">\\r\\n                            <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"card border-left-primary shadow py-2 mb-3\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <div class=\\\"row no-gutters align-items-center\\\">\\r\\n                        <div class=\\\"col mr-2\\\">\\r\\n                            <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\r\\n                                Loan Amount\\r\\n                            </div>\\r\\n                            <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\" i18n>\\r\\n                                kr {{LoanObj.loanAmount}}\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-auto\\\">\\r\\n                            <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"card border-left-primary shadow py-2 mb-3\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <div class=\\\"row no-gutters align-items-center\\\">\\r\\n                        <div class=\\\"col mr-2\\\">\\r\\n                            <div class=\\\"text-xs font-weight-bold text-primary text-uppercase mb-1\\\" i18n>\\r\\n                                Total Loan\\r\\n                            </div>\\r\\n                            <div class=\\\"h5 mb-0 font-weight-bold text-gray-800\\\" i18n>\\r\\n                                kr\\r\\n                                {{utilityService.returnRoundedNumber(LoanObj.calculatedMonthlyAmountForEMI*LoanObj.loanTenureInMonths)}}\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-auto\\\">\\r\\n                            <i class=\\\"fas fa-calendar fa-2x text-gray-300\\\"></i>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-xl-9 col-12\\\">\\r\\n            <div class=\\\"card shadow mb-4\\\">\\r\\n                <!-- Card Header - Dropdown -->\\r\\n                <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\r\\n                    <span class=\\\"float-left\\\">\\r\\n                        <h5 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>{{headerMessage2show}}</h5>\\r\\n                    </span>\\r\\n                    <span>\\r\\n                        <div (click)=\\\"usersProfile(LoanObj.createdByUserObj)\\\">\\r\\n                            <i class=\\\"icon icon-user\\\"></i>\\r\\n                        </div>\\r\\n                    </span>\\r\\n                </div>\\r\\n                <!-- Card Body -->\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <div class=\\\"theme-form\\\">\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-xl-4 col-12 border-right\\\">\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                    <label for=\\\"loanType\\\" i18n>Loan Type</label>\\r\\n                                    <h4 class=\\\"text-primary\\\" >\\r\\n                                        {{utilityService.returnLoanType(LoanObj.loanType)}}\\r\\n                                    </h4>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-xl-4 col-12 border-right\\\">\\r\\n                                <div class=\\\"form-group \\\">\\r\\n                                    <label for=\\\"loanAmount\\\" i18n>Loan Amount</label>\\r\\n                                    <h4 class=\\\"text-primary\\\">\\r\\n                                        {{LoanObj.loanAmount}}\\r\\n                                    </h4>\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group bg-light2 p-2\\\">\\r\\n                                    <label for=\\\"proposedLoanAmount\\\" i18n>\\r\\n                                        Propose a new loan amount <sub>(Optional) & amount must be hight than kr\\r\\n                                            {{LoanObj.loanAmount}}</sub></label>\\r\\n                                    <input type=\\\"number\\\" formControlName=\\\"proposedLoanAmount\\\" class=\\\"form-control\\\"\\r\\n                                        [ngClass]=\\\"{ 'is-invalid': submitted && f.proposedLoanAmount.errors }\\\"\\r\\n                                        placeholder=\\\"Enter New Amount\\\" />\\r\\n                                    <div *ngIf=\\\"submitted && f.proposedLoanAmount.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                                        <div *ngIf=\\\"f.proposedLoanAmount.errors.required\\\" i18n>\\r\\n                                            Proposed Loan Amount is required\\r\\n                                        </div>\\r\\n                                        <div *ngIf=\\\"f.proposedLoanAmount.min.required\\\" i18n>\\r\\n                                            amount must be hight than kr {{LoanObj.loanAmount}}\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-xl-4 col-12\\\">\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                    <label for=\\\"loanTenureInMonths\\\" i18n>Tenure in Months</label>\\r\\n                                    <h4 class=\\\"text-primary\\\">\\r\\n                                        {{LoanObj.loanTenureInMonths}}\\r\\n                                    </h4>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-xl-4 col-12 border-right\\\">\\r\\n                                <div class=\\\"form-group \\\">\\r\\n                                    <label for=\\\"loanInterestRate\\\" i18n>Interest(%) Rate (per month)</label>\\r\\n                                    <h4 class=\\\"text-primary\\\">\\r\\n                                        {{LoanObj.loanInterestRate}}\\r\\n                                    </h4>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-xl-4 col-12 border-right\\\">\\r\\n                                <div class=\\\"form-group \\\">\\r\\n                                    <label for=\\\"loanStartDateTime\\\" i18n>Start Date</label>\\r\\n                                    <h4 class=\\\"text-primary\\\" >\\r\\n                                        {{LoanObj.loanStartDateTime | date:'dd-MMM-YYYY'}}\\r\\n                                    </h4>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-xl-4 col-12\\\">\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                    <p class=\\\"mb-2\\\" i18n>How to give the money</p>\\r\\n\\r\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('bank',LoanObj)>-1\\\"\\r\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                                        BANK\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('cash',LoanObj)>-1\\\"\\r\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\r\\n                                        Cash\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('revolut',LoanObj)>-1\\\"\\r\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\r\\n                                        Revolut\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('paypal',LoanObj)>-1\\\"\\r\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\r\\n                                        Paypal\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('skrill',LoanObj)>-1\\\"\\r\\n                                        class=\\\"badge font-weight-light text-uppercase badge-success\\\" i18n>\\r\\n                                        Skrill\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-xl-12\\\">\\r\\n                                <p class=\\\"mb-2\\\" i18n>Description:</p>\\r\\n                                <div class=\\\"text-black-50\\\" i18n>\\r\\n                                    {{LoanObj.loanDescription}}\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <!-- <div class=\\\"col-xl-12\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label for=\\\"proposedLoanAmount\\\" i18n>\\r\\n                                    Propose a new loan amount <sub>(Optional) & amount must be hight than kr {{LoanObj.loanAmount}}</sub></label>\\r\\n                                <input type=\\\"number\\\" formControlName=\\\"proposedLoanAmount\\\" class=\\\"form-control\\\"\\r\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.proposedLoanAmount.errors }\\\" />\\r\\n                                <div *ngIf=\\\"submitted && f.proposedLoanAmount.errors\\\"\\r\\n                                    class=\\\"invalid-feedback\\\">\\r\\n                                    <div *ngIf=\\\"f.proposedLoanAmount.errors.required\\\" i18n>\\r\\n                                        Proposed Loan Amount is required\\r\\n                                    </div>\\r\\n                                    <div *ngIf=\\\"f.proposedLoanAmount.min.required\\\" i18n>\\r\\n                                        amount must be hight than kr {{LoanObj.loanAmount}}\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div> -->\\r\\n                            <div class=\\\"col-xl-12 col-12 mt-3\\\">\\r\\n                                <div class=\\\"table-responsive table-billing-history\\\">\\r\\n                                    <table class=\\\"table mb-0\\\">\\r\\n                                        <thead>\\r\\n                                            <tr>\\r\\n                                                <th scope=\\\"col\\\" i18n>EMI Date</th>\\r\\n                                                <th scope=\\\"col\\\" i18n>Payment</th>\\r\\n\\r\\n                                            </tr>\\r\\n                                        </thead>\\r\\n                                        <tbody>\\r\\n                                            <tr\\r\\n                                                *ngFor=\\\"let in of utilityService.counter(LoanObj.loanTenureInMonths) ;let i = index\\\">\\r\\n                                                <td>{{utilityService.returnDateWithAddingMonths(LoanObj.loanStartDateTime,i+1)\\r\\n                                                    | date:'dd-MMM-YYYY'}}</td>\\r\\n                                                <td>kr {{LoanObj.calculatedMonthlyAmountForEMI}}</td>\\r\\n\\r\\n                                            </tr>\\r\\n\\r\\n                                        </tbody>\\r\\n                                    </table>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"card-footer\\\">\\r\\n                    <button *ngIf=\\\"!userClickedOnSignLoanContract\\\" type=\\\"button\\\" class=\\\"btn btn-primary float-right\\\"\\r\\n                        (click)=\\\"clickedOnSignLoanContract()\\\" i18n>\\r\\n                        Sign Loan Contract\\r\\n                    </button>\\r\\n                    <button *ngIf=\\\"userClickedOnSignLoanContract\\\" type=\\\"button\\\" class=\\\"btn btn-primary float-right\\\"\\r\\n                        (click)=\\\"resetClickedOnSignLoanContract()\\\" i18n>\\r\\n                        Cancel\\r\\n                    </button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"userClickedOnSignLoanContract\\\">\\r\\n\\r\\n        <div class=\\\"col-xl-12 col-12\\\">\\r\\n            <div class=\\\"card shadow mb-4\\\">\\r\\n                <!-- Card Header - Dropdown -->\\r\\n                <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\r\\n                    <h5 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>Loan Contract</h5>\\r\\n                </div>\\r\\n                <!-- Card Body -->\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <div class=\\\"theme-form\\\">\\r\\n                        <div class=\\\"row mb-3\\\">\\r\\n                            <div class=\\\"col-xl-12 col-12\\\" *ngIf=\\\"lenderUserObj && borrowerUserObj\\\">\\r\\n\\r\\n                                <table class=\\\"table table table-bordered  shadow-sm\\\">\\r\\n                                    <thead>\\r\\n                                        <tr>\\r\\n                                            <th style=\\\"width: 20%;\\\">#</th>\\r\\n\\r\\n                                            <th style=\\\"width: 40%;\\\" i18n>Borrower</th>\\r\\n                                            <th style=\\\"width: 40%;\\\" i18n>Lender</th>\\r\\n                                        </tr>\\r\\n                                    </thead>\\r\\n                                    <tbody>\\r\\n                                        <tr>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"text-black-50 text-uppercase\\\" i18n>\\r\\n                                                    NAME</div>\\r\\n                                            </td>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary text-uppercase\\\">\\r\\n                                                    {{borrowerUserObj.firstName}}&nbsp;{{borrowerUserObj.lastName}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary text-uppercase\\\">\\r\\n                                                    {{lenderUserObj.firstName}}&nbsp;{{lenderUserObj.lastName}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n\\r\\n                                        <tr>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"text-black-50 text-uppercase\\\" i18n>\\r\\n                                                    Address</div>\\r\\n                                            </td>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary\\\">\\r\\n                                                    {{borrowerUserObj.address}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary\\\">\\r\\n                                                    {{lenderUserObj.address}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n\\r\\n                                        <tr>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"text-black-50 text-uppercase\\\" i18n>\\r\\n                                                    Passport Number</div>\\r\\n                                            </td>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary\\\">\\r\\n                                                    {{borrowerUserObj.myPassportNumber}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary\\\">\\r\\n                                                    {{lenderUserObj.myPassportNumber}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n\\r\\n                                        <tr>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"text-black-50 text-uppercase\\\" i18n>\\r\\n                                                    DL Number</div>\\r\\n                                            </td>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary\\\">\\r\\n                                                    {{borrowerUserObj.myDLNumber}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"mb-0 font-weight-bold text-primary\\\">\\r\\n                                                    {{lenderUserObj.myDLNumber}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n\\r\\n                                        <tr>\\r\\n                                            <td>\\r\\n                                                <div class=\\\"text-black-50 text-uppercase\\\" i18n>\\r\\n                                                    Payment Method</div>\\r\\n                                            </td>\\r\\n                                            <td>\\r\\n                                                <div *ngIf=\\\"utilityService.returnLoanRepaymentType('bank',LoanObj)>-1\\\">\\r\\n                                                    BANK\\r\\n\\r\\n                                                    <label for=\\\"borrowerBankName\\\" i18n>Bank Name</label>\\r\\n                                                    <h4 class=\\\"text-primary\\\" >\\r\\n                                                        {{borrowerUserObj.bankName}}\\r\\n                                                    </h4>\\r\\n                                                    <label for=\\\"borrowerRegNumber\\\" i18n>Reg nr</label>\\r\\n                                                    <h4 class=\\\"text-primary\\\" >\\r\\n                                                        {{borrowerUserObj.regNumber}}\\r\\n                                                    </h4>\\r\\n                                                    <label for=\\\"borrowerAccountNumber\\\" i18n>Account Number</label>\\r\\n                                                    <h4 class=\\\"text-primary\\\" >\\r\\n                                                        {{borrowerUserObj.accountNumber}}\\r\\n                                                    </h4>\\r\\n                                                    <!--\\r\\n                                                <label for=\\\"borrowerMobilePayment\\\" i18n>Mobile payment</label>\\r\\n                                                <h4 class=\\\"text-primary\\\" i18n>\\r\\n                                                    {{borrowerUserObj.mobilePayment}}\\r\\n                                                </h4>\\r\\n                                            -->\\r\\n                                                </div>\\r\\n                                                <div *ngIf=\\\"utilityService.returnLoanRepaymentType('cash',LoanObj)>-1\\\"\\r\\n                                                    class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\" i18n>\\r\\n                                                    Cash\\r\\n                                                </div>\\r\\n                                                <div\\r\\n                                                    *ngIf=\\\"utilityService.returnLoanRepaymentType('revolut',LoanObj)>-1\\\" i18n>\\r\\n\\r\\n                                                    Revolut:\\r\\n                                                    {{borrowerUserObj.revolutWalletID}}\\r\\n                                                </div>\\r\\n                                                <div\\r\\n                                                    *ngIf=\\\"utilityService.returnLoanRepaymentType('paypal',LoanObj)>-1\\\" i18n>\\r\\n                                                    Paypal ID: {{borrowerUserObj.paypalWalletID}}\\r\\n                                                </div>\\r\\n                                                <div\\r\\n                                                    *ngIf=\\\"utilityService.returnLoanRepaymentType('skrill',LoanObj)>-1\\\" i18n>\\r\\n                                                    Skrill: {{borrowerUserObj.skrillWalletID}}\\r\\n                                                </div>\\r\\n\\r\\n\\r\\n                                            </td>\\r\\n\\r\\n                                            <td>\\r\\n                                                <div *ngIf=\\\"utilityService.returnLoanRepaymentType('bank',LoanObj)>-1\\\" i18n>\\r\\n                                                    BANK\\r\\n\\r\\n                                                    <div class=\\\"text-black-50\\\" >Bank Name</div>\\r\\n                                                    <div class=\\\"font-weight-bold text-primary mb-1\\\">\\r\\n                                                        {{lenderUserObj.bankName}}\\r\\n                                                    </div>\\r\\n                                                    <div for=\\\"lenderRegNumber\\\" >Reg Number</div>\\r\\n                                                    <div class=\\\"font-weight-bold text-primary mb-1\\\">\\r\\n                                                        {{lenderUserObj.regNumber}}\\r\\n                                                    </div>\\r\\n                                                    <div for=\\\"lenderAccountNumber\\\" >Account Number</div>\\r\\n                                                    <div class=\\\"font-weight-bold text-primary mb-1\\\">\\r\\n                                                        {{lenderUserObj.accountNumber}}\\r\\n                                                    </div>\\r\\n                                                </div>\\r\\n                                                <div *ngIf=\\\"utilityService.returnLoanRepaymentType('cash',LoanObj)>-1\\\"\\r\\n                                                    class=\\\"badge font-weight-light text-uppercase mr-2 badge-success\\\">\\r\\n                                                    Cash\\r\\n                                                </div>\\r\\n                                                <div\\r\\n                                                    *ngIf=\\\"utilityService.returnLoanRepaymentType('revolut',LoanObj)>-1\\\" >\\r\\n\\r\\n                                                    Revolut:\\r\\n                                                    {{lenderUserObj.revolutWalletID}}\\r\\n                                                </div>\\r\\n                                                <div\\r\\n                                                    *ngIf=\\\"utilityService.returnLoanRepaymentType('paypal',LoanObj)>-1\\\">\\r\\n                                                    Paypal ID: {{lenderUserObj.paypalWalletID}}\\r\\n                                                </div>\\r\\n                                                <div\\r\\n                                                    *ngIf=\\\"utilityService.returnLoanRepaymentType('skrill',LoanObj)>-1\\\">\\r\\n                                                    Skrill: {{lenderUserObj.skrillWalletID}}\\r\\n                                                </div>\\r\\n\\r\\n\\r\\n                                            </td>\\r\\n\\r\\n                                        </tr>\\r\\n\\r\\n                                    </tbody>\\r\\n                                </table>\\r\\n                            </div>\\r\\n\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"row mb-3\\\">\\r\\n                            <div class=\\\"col-xl-4 col-12 \\\">\\r\\n                                <div class=\\\"card shadow-sm p-2\\\">\\r\\n                                    <label for=\\\"loanType\\\" i18n>Loan Type</label>\\r\\n                                    <h4 class=\\\"text-primary\\\">\\r\\n                                        {{utilityService.returnLoanType(LoanObj.loanType)}}\\r\\n                                    </h4>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-xl-4 col-12\\\">\\r\\n                                <div class=\\\"card shadow-sm p-2\\\" *ngIf=\\\"!f.proposedLoanAmount.value\\\">\\r\\n                                    <label for=\\\"loanAmount\\\" i18n>Loan Amount</label>\\r\\n                                    <h4 class=\\\"text-primary\\\">\\r\\n                                        {{LoanObj.loanAmount}}\\r\\n                                    </h4>\\r\\n                                </div>\\r\\n                                <div class=\\\"card shadow-sm p-2\\\" *ngIf=\\\"f.proposedLoanAmount.value\\\">\\r\\n                                    <label for=\\\"loanAmount\\\" i18n>Loan Amount/Proposed Loan Amount</label>\\r\\n                                    <h4 class=\\\"text-primary\\\">\\r\\n                                        <span\\r\\n                                            style=\\\"-webkit-text-decoration-line: line-through;text-decoration-line: line-through;\\\">\\r\\n                                            {{LoanObj.loanAmount}}\\r\\n                                        </span>\\r\\n                                        /\\r\\n                                        <span>\\r\\n                                            {{f.proposedLoanAmount.value}}\\r\\n                                        </span>\\r\\n                                    </h4>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-xl-4 col-12\\\">\\r\\n                                <div class=\\\"card shadow-sm p-2\\\">\\r\\n                                    <label i18n>Tenure in Months</label>\\r\\n                                    <h4 class=\\\"text-primary\\\">\\r\\n                                        {{LoanObj.loanTenureInMonths}}\\r\\n                                    </h4>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-xl-4 col-12\\\">\\r\\n                                <div class=\\\"card shadow-sm p-2\\\">\\r\\n                                    <label i18n>Interest(%) Rate (per month)</label>\\r\\n                                    <h4 class=\\\"text-primary\\\">\\r\\n                                        {{LoanObj.loanInterestRate}}\\r\\n                                    </h4>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-xl-4 col-12\\\">\\r\\n                                <div class=\\\"card shadow-sm p-2\\\">\\r\\n                                    <label i18n>Start Date</label>\\r\\n                                    <h4 class=\\\"text-primary\\\">\\r\\n                                        {{LoanObj.loanStartDateTime | date:'dd-MMM-YYYY'}}\\r\\n                                    </h4>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-xl-4 col-12\\\">\\r\\n                                <div class=\\\"card shadow-sm p-2\\\">\\r\\n\\r\\n                                    <label class=\\\"mb-3\\\" i18n>Payment Method</label>\\r\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('bank',LoanObj)>-1\\\"\\r\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success w-20\\\">\\r\\n                                        BANK\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('cash',LoanObj)>-1\\\"\\r\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success w-20\\\">\\r\\n                                        Cash\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('revolut',LoanObj)>-1\\\"\\r\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success w-20\\\">\\r\\n                                        Revolut\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('paypal',LoanObj)>-1\\\"\\r\\n                                        class=\\\"badge font-weight-light text-uppercase mr-2 badge-success w-20\\\">\\r\\n                                        Paypal\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"utilityService.returnLoanRepaymentType('skrill',LoanObj)>-1\\\"\\r\\n                                        class=\\\"badge font-weight-light text-uppercase badge-success w-20\\\">\\r\\n                                        Skrill\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"col-xl-12 mt-3\\\">\\r\\n                                <div class=\\\"card shadow-sm p-2\\\">\\r\\n                                    <label i18n>Description</label>\\r\\n\\r\\n                                    <div class=\\\"text-black-50\\\">\\r\\n                                        {{LoanObj.loanDescription}}\\r\\n                                    </div>\\r\\n                                </div>\\r\\n\\r\\n                            </div>\\r\\n                            <div class=\\\"col-xl-12 mt-3\\\" *ngIf=\\\"f.loanInsuranceRequired.value\\\">\\r\\n                                <div class=\\\"card shadow-sm p-2\\\">\\r\\n                                    <label i18n>Applied for Insurance with Amount</label>\\r\\n                                    <div class=\\\"text-black-50\\\">\\r\\n                                        {{f.loanInsuranceAmount.value}}\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"col-xl-12 col-12 mt-3\\\">\\r\\n                                <div class=\\\"table-responsive table shadow-sm\\\">\\r\\n                                    <table class=\\\"table mb-0\\\">\\r\\n                                        <thead>\\r\\n                                            <tr>\\r\\n                                                <th scope=\\\"col\\\" i18n>EMI Date</th>\\r\\n                                                <th scope=\\\"col\\\" i18n>Payment</th>\\r\\n\\r\\n                                            </tr>\\r\\n                                        </thead>\\r\\n                                        <tbody>\\r\\n                                            <tr\\r\\n                                                *ngFor=\\\"let in of utilityService.counter(LoanObj.loanTenureInMonths) ;let i = index\\\">\\r\\n                                                <td>{{utilityService.returnDateWithAddingMonths(LoanObj.loanStartDateTime,i+1)\\r\\n                                                    | date:'dd-MMM-YYYY'}}</td>\\r\\n                                                <td *ngIf=\\\"(!f.calculatedMonthlyAmountForEMI.value) || (f.calculatedMonthlyAmountForEMI.value ==LoanObj.calculatedMonthlyAmountForEMI)\\\">kr\\r\\n                                                    {{LoanObj.calculatedMonthlyAmountForEMI}}</td>\\r\\n                                                <td *ngIf=\\\"(f.calculatedMonthlyAmountForEMI.value) && (f.calculatedMonthlyAmountForEMI.value !=LoanObj.calculatedMonthlyAmountForEMI)\\\">kr\\r\\n                                                    <span\\r\\n                                                        style=\\\"-webkit-text-decoration-line: line-through;text-decoration-line: line-through;\\\">\\r\\n                                                        {{LoanObj.calculatedMonthlyAmountForEMI}}\\r\\n                                                    </span>\\r\\n                                                    &nbsp;\\r\\n                                                    <span>\\r\\n                                                        {{f.calculatedMonthlyAmountForEMI.value}}\\r\\n                                                    </span>\\r\\n                                                </td>\\r\\n                                            </tr>\\r\\n                                        </tbody>\\r\\n                                    </table>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"card shadow mb-4\\\">\\r\\n\\r\\n                <div class=\\\"card-header py-3 d-flex flex-row align-items-center justify-content-between\\\">\\r\\n                    <h5 class=\\\"m-0 font-weight-bold text-primary\\\" i18n>Terms & Conditions</h5>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <ol class=\\\"terms ml-n4\\\">\\r\\n                        <li>\\r\\n                            <div class=\\\"font-weight-bold\\\" i18n>Scope</div>\\r\\n                            <div i18n>\\r\\n                                These loan terms apply to all loan agreements entered into between the borrower and the\\r\\n                                lender\\r\\n                                through the Avitii Lending System. Avitii Lending System acts solely as a dissemination\\r\\n                                platform\\r\\n                                and cannot be held liable of any kind, either by the lender or the borrower.\\r\\n                                By signing the loan agreement, you have accepted these loan terms, which deal with you\\r\\n                                and the\\r\\n                                borrower. You are at all times subject to the terms of use of the Avitii Lending System.\\r\\n                                Deviations from the loan terms must be agreed in writing, and in the event of a\\r\\n                                discrepancy\\r\\n                                between the loan terms and your agreement, the loan agreement will take precedence.\\r\\n                                Avitii Lending System does not provide financial advice when concluding the credit\\r\\n                                agreement and\\r\\n                                therefore does not assume any responsibility in connection with this.\\r\\n                                Both the borrower and the lender confirm compliance with the country's applicable laws\\r\\n                                and\\r\\n                                regulations for private loans between private individuals.\\r\\n                                Borrower as well as lender, provides using Avitii Lending System\\r\\n                                consent to information including, loan history as well as profile data,\\r\\n                                address, photo id, social media shared and registered at Credit-List.net\\r\\n                            </div>\\r\\n\\r\\n                        </li>\\r\\n                        <li>\\r\\n                            <div class=\\\"font-weight-bold\\\" i18n>Acceptance deadline</div>\\r\\n                            <div i18n>\\r\\n                                Loan offers offered on the Avitii Lending System must be considered as an open offer,\\r\\n                                for any\\r\\n                                borrower profile on the website. It is the individual private loan provider who, based\\r\\n                                on the\\r\\n                                borrower's information, makes the final decision on the loan implementation.\\r\\n                                Loan offers are considered as P2P loans, where any acceptance of loan offers is binding\\r\\n                                on the\\r\\n                                borrower. The lender as well as the borrower can stay updated at any time with the terms\\r\\n                                of\\r\\n                                agreements on the Avitii Lending Systems website.\\r\\n                            </div>\\r\\n                        </li>\\r\\n                        <li>\\r\\n                            <div class=\\\"font-weight-bold\\\" i18n>Prerequisites</div>\\r\\n                            <div i18n>\\r\\n                                Credit rating: As a borrower, you declare in good faith that your information entered at\\r\\n                                all\\r\\n                                times is correct, that at the time of entering into the loan you have not been declared\\r\\n                                unfit to\\r\\n                                take care of yourself or your finances. At the same time, you declare not to be under\\r\\n                                compulsory\\r\\n                                dissolution, debt restructuring, or otherwise declared insolvent.\\r\\n                                Money laundering: Avitii Lending System is a dissemination platform, and is therefore\\r\\n                                out of\\r\\n                                responsibility. Private lender enters into loan agreement with private borrowers. As a\\r\\n                                borrower\\r\\n                                on the website, you must in principle always provide private information on an ongoing\\r\\n                                basis, at\\r\\n                                the request of Avittii Lending Systems. If you do not provide the necessary correct\\r\\n                                information,\\r\\n                                the Avitii Lending System may exclude you from using the Website.\\r\\n                            </div>\\r\\n\\r\\n                        </li>\\r\\n                        <li>\\r\\n                            <div class=\\\"font-weight-bold\\\" i18n>Loan terms</div>\\r\\n                            The borrower must at all times be aware that he or she has the finances to take out offered\\r\\n                            loans. In addition to the principal, the opportunity to bear interest expenses, fees and\\r\\n                            other\\r\\n                            expenses in connection with redemption.\\r\\n\\r\\n                            <div i18n>The borrower must at all times confirm their creditworthiness, as well as they are\\r\\n                                not\\r\\n                                over-mortgaged for the applicable period. The borrower must at all times comply with the\\r\\n                                applicable rules for repayment. In the event of late payment or otherwise default, it is\\r\\n                                up\\r\\n                                to the lender to impose additional expenses. The borrower confirms that he or she is\\r\\n                                solely\\r\\n                                responsible for finding a solution to repay the loan / debt.</div>\\r\\n                            <div i18n>\\r\\n                                The borrower confirms with this agreement that he agrees that the lender can at any time\\r\\n                                transfer the loan to a third party for recovery.\\r\\n                            </div>\\r\\n                            <div i18n>\\r\\n                                Receipt for repayment or remission must be notified in writing by endorsement on this\\r\\n                                loan\\r\\n                                document.\\r\\n                            </div>\\r\\n\\r\\n                            <div i18n>\\r\\n                                In the event of late payment, 5 days from the payment date are generally given to find a\\r\\n                                solution yourself. In case the borrower fails to comply with the repayment within the 5\\r\\n                                days, the lender is entitled to impose a 65% fee on the amount lent, valid from the date\\r\\n                                of\\r\\n                                payment. After another 5 days, the debt will be transferred to recovery.\\r\\n                            </div>\\r\\n\\r\\n                        </li>\\r\\n                        <li>\\r\\n                            <div class=\\\"font-weight-bold\\\" i18n>Fraud</div>\\r\\n                            <div i18n>\\r\\n                                Borrowers who take out loans fraudulently, or in some other way by giving incorrect\\r\\n                                information\\r\\n                                and thus force themselves on loans that they are unable to repay or should have\\r\\n                                foreseen, not\\r\\n                                being able to repay will be considered fraud.\\r\\n                                279 CRIMINAL ACT Fraud For fraud, a person is punished who, in order to obtain gain or\\r\\n                                other\\r\\n                                unjustified gain, by unlawfully causing, corroborating or exploiting an error,\\r\\n                                determines\\r\\n                                another for an act or omission, whereby the person or person for whom the act is\\r\\n                                inflicted or\\r\\n                                the omission becomes decisive, a loss of property.\\r\\n                            </div>\\r\\n\\r\\n                        </li>\\r\\n\\r\\n\\r\\n                    </ol>\\r\\n                    <hr>\\r\\n                    <h5>E-Signature</h5>\\r\\n                    <hr>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xl-6 col-12 d-none\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label for=\\\"eSignatureBorrowersName\\\" i18n>Name</label>\\r\\n                                <input type=\\\"text\\\" formControlName=\\\"eSignatureBorrowersName\\\" class=\\\"form-control\\\"\\r\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.eSignatureBorrowersName.errors }\\\" />\\r\\n                                <div *ngIf=\\\"submitted && f.eSignatureBorrowersName.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                                    <div *ngIf=\\\"f.eSignatureBorrowersName.errors.required\\\" i18n>Name is required</div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xl-6 col-12 d-none\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label for=\\\"eSignatureBorrowersPassportNumber\\\" i18n>Passport or Driving Licence\\r\\n                                    Number</label>\\r\\n                                <input type=\\\"text\\\" formControlName=\\\"eSignatureBorrowersPassportNumber\\\"\\r\\n                                    class=\\\"form-control\\\"\\r\\n                                    [ngClass]=\\\"{ 'is-invalid': submitted && f.eSignatureBorrowersPassportNumber.errors }\\\" />\\r\\n                                <div *ngIf=\\\"submitted && f.eSignatureBorrowersPassportNumber.errors\\\"\\r\\n                                    class=\\\"invalid-feedback\\\">\\r\\n                                    <div *ngIf=\\\"f.eSignatureBorrowersPassportNumber.errors.required\\\" i18n>Passport or\\r\\n                                        Driving\\r\\n                                        Licence Number is required</div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xl-6 col-12\\\">\\r\\n                            <div class=\\\"form-check-inline\\\">\\r\\n                                <div class=\\\"custom-control custom-checkbox\\\">\\r\\n                                    <input name=\\\"loanAgreementCondition\\\" id=\\\"loanAgreementCondition\\\" type=\\\"checkbox\\\"\\r\\n                                        class=\\\"custom-control-input\\\" [value]=\\\"true\\\"\\r\\n                                        (change)=\\\"clicked2LoanAgreementCondition($event)\\\"\\r\\n                                        [checked]=\\\"f.loanAgreementCondition.value\\\"\\r\\n                                        [ngClass]=\\\"{ 'is-invalid': submitted && f.loanAgreementCondition.errors }\\\">\\r\\n                                    <label for=\\\"loanAgreementCondition\\\" class=\\\"custom-control-label\\\">\\r\\n                                        Agree to the above terms & conditions for Loan Agreement.\\r\\n                                    </label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n                <div class=\\\"card-footer\\\">\\r\\n\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-success float-right\\\"\\r\\n                        (click)=\\\"clickedOnVerifiedSignLoanContract()\\\" i18n>\\r\\n                        SUBMIT\\r\\n                    </button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</form>\\r\\n<!-- addSession section -->\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJnZXQtYS1sb2FuLmNvbXBvbmVudC5jc3MifQ== */\";","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\r\nimport { UtilityService } from 'src/app/services/utility.service';\r\nimport { SessionsService } from 'src/app/services/sessions.service';\r\nimport { AlertService, AuthenticationService, UserService } from 'src/app/services';\r\nimport { first } from 'rxjs/operators';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ModalApplySession, ModalAppliedSessionDisplay } from '../borrower.component';\r\nimport * as _ from 'lodash';\r\nimport { Role, SessionStatus } from 'src/app/models';\r\n/*import { ServiceTypesService } from 'src/app/services/service-types.service';*/\r\nimport { SocketioService } from 'src/app/socketio.service';\r\ndeclare var require: any\r\nconst { overwrite, getNames } = require('country-list');\r\noverwrite([{\r\n  code: 'US',\r\n  name: 'USA'\r\n}])\r\n@Component({\r\n  selector: 'app-browse-sessions',\r\n  templateUrl: './browse-sessions.component.html',\r\n  styleUrls: ['./browse-sessions.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.Default\r\n})\r\nexport class BrowseSessionsComponent implements OnInit {\r\n  public submitted: boolean;\r\n  loading: boolean;\r\n  allSessionsData: any;\r\n  allSessionsCount: number;\r\n  browseSessionForm: FormGroup;\r\n  ParentServicesTypes: any = null;\r\n  countrylist: any = null;\r\n  constructor(\r\n    public userService:UserService,\r\n    private socketService: SocketioService,\r\n    private formBuilder: FormBuilder,\r\n    private sessionsService: SessionsService,\r\n    private alertService: AlertService,\r\n    public utilityService: UtilityService,\r\n    public dialog: MatDialog,\r\n    private authenticationService: AuthenticationService,\r\n    /*private serviceTypesService: ServiceTypesService,*/\r\n  ) {\r\n    this.countrylist = getNames();\r\n  /*\r\n    this.serviceTypesService.getServiceTypesChildAll()\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n            //alert(JSON.stringify( data));\r\n            this.ParentServicesTypes = data[\"data\"];\r\n            //this.alertService.success(data['message'], true);\r\n            this.loading = false;\r\n            //this.element_btn_click_addServiceTypes_skills_verification.click();\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            this.alertService.error(data['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          this.ParentServicesTypes = [];\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n*/\r\n  }\r\n\r\n  check4applyToSession(sessionObj) {\r\n    if (sessionObj && sessionObj.sessionAppliedByBorrowers) {\r\n      if (_.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id }).length > 0) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.browseSessionForm = this.formBuilder.group({\r\n      services4search: [''],\r\n      location4search: [''],\r\n      generaldata4search: [''],\r\n    });\r\n\r\n    this.sessionsService.getSessionAllWithSessionApply(this.authenticationService.currentUserValue._id)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n            //alert(JSON.stringify( data));\r\n            this.allSessionsData = data['data'];\r\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq( this.utilityService._.map( this.utilityService._.flattenDepth( this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"),1),'borrowerId')));\r\n            //this.alertService.success(data['message'], true);\r\n            this.loading = false;\r\n            //this.element_btn_click_addSession_skills_verification.click();\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            //this.alertService.error(data['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          //this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n    this.sessionsService.getUpdatesForSessionAllByBorrowerId()\r\n      .subscribe(\r\n        data => {\r\n          if (data && data['success']) {\r\n            let _keyPairedMapObj = this.utilityService._.mapKeys(this.allSessionsData, \"_id\");\r\n            for (let _items in data['data']) {\r\n              let _currentObj = data['data'][_items];\r\n              _keyPairedMapObj[_currentObj._id] = _currentObj\r\n            }\r\n            this.allSessionsData = this.utilityService._.values(_keyPairedMapObj);\r\n            this.loading = false;\r\n          } else {\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          this.loading = false;\r\n        });\r\n    this.sessionsService.getSessionLengthByService(null, null, null, null, null)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n            //alert(JSON.stringify( data));\r\n            this.allSessionsCount = data['data'];\r\n            //this.alertService.success(data['message'], true);\r\n            this.loading = false;\r\n            //this.element_btn_click_addSession_skills_verification.click();\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            //this.alertService.error(data['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          //this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n  }\r\n  get f() { return this.browseSessionForm.controls; }\r\n\r\n  sessionSearchByService() {\r\n    let services = this.browseSessionForm.get('services4search').value;\r\n    let location = this.browseSessionForm.get('location4search').value;\r\n    let generaldata4search = this.browseSessionForm.get('generaldata4search').value;\r\n    let useAndTrueOrFalse = false;\r\n    this.allSessionsData = [];\r\n    this.sessionsService.getSessionAllByService(services, location, generaldata4search, generaldata4search, useAndTrueOrFalse)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n\r\n          ////console.log('data => ', data)\r\n          if (data && data['success']) {\r\n            //alert(JSON.stringify( data));\r\n            this.allSessionsData = data['data'];\r\n            this.userService.proccessAllAppUsersCollections(this.utilityService._.uniq( this.utilityService._.map( this.utilityService._.flattenDepth( this.utilityService._.map(this.utilityService._.values(this.allSessionsData), \"sessionAppliedByBorrowers\"),1),'borrowerId')));\r\n            //this.alertService.success(data['message'], true);\r\n            this.loading = false;\r\n            //this.element_btn_click_addSession_skills_verification.click();\r\n          } else {\r\n            //alert(JSON.stringify(data['message']));\r\n            //this.alertService.error(data['message']);\r\n            this.loading = false;\r\n          }\r\n        },\r\n        error => {\r\n          let errorMsg2show = \"\";\r\n          try {\r\n            if (error && error.error && error.error.message) {\r\n              errorMsg2show = error.error.message;\r\n            } else if (error && error.message) {\r\n              errorMsg2show = error.message;\r\n            } else {\r\n              errorMsg2show = error;\r\n            }\r\n          } catch (ex) { }\r\n          //this.alertService.error(errorMsg2show);\r\n          this.loading = false;\r\n        });\r\n\r\n  }\r\n\r\n  applyToSession(sessionObj) {\r\n    //console.log('179', this.authenticationService.currentUserValue);\r\n    const dialogRef = this.dialog.open(ModalApplySession, {\r\n      backdropClass: 'custom-dialog-backdrop-class',\r\n      panelClass: 'custom-dialog-panel-class',\r\n      data: {\r\n        sessionObj: sessionObj,\r\n        borrowerId: this.authenticationService.currentUserValue._id\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      let _currentSessionApply = null;\r\n      if (result) {\r\n        if (result.data) {\r\n          _currentSessionApply = result.data.sessionApply\r\n          if (_currentSessionApply) {\r\n            if (!_currentSessionApply._id) {\r\n              _currentSessionApply._id = _currentSessionApply.loanId + '__' + _currentSessionApply.borrowerId;\r\n            }\r\n            _currentSessionApply.status = result.data.status || SessionStatus.Pending;\r\n            this.socketService.sendCurrentAppliedSessionObj(_currentSessionApply.loanId);\r\n            switch (_currentSessionApply.status) {\r\n              case SessionStatus.Pending:\r\n                _currentSessionApply.createdBy=this.authenticationService.currentUserValue._id;\r\n                this.socketService.setSessionApply(true, _currentSessionApply);\r\n                break;\r\n              default:\r\n                this.socketService.updateSessionApply(true, _currentSessionApply, this.authenticationService.currentUserValue);\r\n                break;\r\n            }\r\n            switch (_currentSessionApply.status) {\r\n              case SessionStatus.Accepted:\r\n                this.alertService.success(\"Updated. Session is available under My Sessionss ->Accepted tab.\", true);\r\n                break;\r\n              case SessionStatus.Pending:\r\n                this.alertService.success(\"Applied. Session is available under My Sessionss->Pending tab.\", true);\r\n                break;\r\n              case SessionStatus.Rejected:\r\n              case SessionStatus.RejectedOngoing:\r\n              case SessionStatus.RejectedOngoingWithRefund:\r\n              case SessionStatus.Suspended:\r\n                this.alertService.success(\"Updated. Session is available under My Sessionss->Rejected tab.\", true);\r\n                break;\r\n              case SessionStatus.Completed:\r\n                this.alertService.success(\"Updated. Session is available under My Sessionss->Completed tab.\", true);\r\n                break;\r\n              case SessionStatus.Active:\r\n              case SessionStatus.Ongoing:\r\n              case SessionStatus.OngoingInitiated:\r\n              case SessionStatus.AwaitingForApproval:\r\n                this.alertService.success(\"Updated. Session is available under My Sessionss->Ongoing tab.\", true);\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      //console.log(`252 :: bsc :: Dialog result: ${JSON.stringify(result)}`);\r\n    });\r\n  }\r\n\r\n  showAppliedToSession(sessionObj) {\r\n    let _proccessedSessionObj = null;\r\n    switch (this.authenticationService.currentUserValue.role) {\r\n      case Role.Borrower:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        _proccessedSessionObj.sessionAppliedByBorrowers = _.filter(sessionObj.sessionAppliedByBorrowers, { \"borrowerId\": this.authenticationService.currentUserValue._id });\r\n        break;\r\n      default:\r\n        _proccessedSessionObj = _.cloneDeep(sessionObj);\r\n        break;\r\n    }\r\n    //console.log('214', this.authenticationService.currentUserValue);\r\n    const dialogRef = this.dialog.open(ModalAppliedSessionDisplay, {\r\n      backdropClass: 'custom-dialog-backdrop-class',\r\n      panelClass: 'custom-dialog-panel-class',\r\n      data: {\r\n        sessionObj: _proccessedSessionObj,\r\n        borrowerId: this.authenticationService.currentUserValue._id\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      //console.log(`191 :: bcs :: Dialog result: ${JSON.stringify(result)}`);\r\n    });\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.css']\r\n})\r\nexport class FooterComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","export default \"<p>room works!</p>\\r\\n\";","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { Role } from 'src/app/models/role';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { AlertService } from 'src/app/services';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UsersIncomeExpenseVerifyGuard implements CanActivate {\r\n  constructor(\r\n    private alertService: AlertService,\r\n    private router: Router,\r\n    private authenticationService: AuthenticationService\r\n  ) {\r\n  }\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n    const currentUser = this.authenticationService.currentUserValue;\r\n    if (currentUser) {\r\n      let _currentUserRole = '';\r\n      try {\r\n        _currentUserRole = currentUser.role;\r\n      } catch (ex) { }\r\n\r\n      if (!currentUser.isUsersIncomeAndExpenseProofVerified) {\r\n        this.router.navigate([_currentUserRole + '/home']);\r\n        this.alertService.error(\"Income proof documents and mothly expenses verification is still pending. Please update to access this feature.\", true);\r\n        return false;\r\n      }\r\n      // authorised so return true\t\r\n      return true;\r\n    }\r\n    // not logged in so redirect to login page with the return url\r\n    let paramobj = this.router.getCurrentNavigation().extras.state;\r\n    if (paramobj) {\r\n      paramobj.returnUrl = state.url;\r\n    }\r\n    this.router.navigate(['/login'], { state: paramobj });\r\n\r\n    return false;\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}