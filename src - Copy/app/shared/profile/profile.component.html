<div class="row pt-0 saas2">
    <div class="col-xl-12 col-12 text-center" *ngIf="!f.isVerified.value">
        <h3>Submit your portfolio for verification</h3>
        <P class="my-3">Remember to fill in all fields correctly, otherwise you may risk lifetime blockage</P>
    </div>
    <div class="col-xl-12 col-12">
        <section class="tab-product  p-b-0">

            <ul class="nav nav-justified nav-material nav-tabs mb-4 shadow-sm" id="top-tab" role="tablist">
                <li class="nav-item">
                    <a id="btn_click_profile_basic_details" class="nav-link show active" data-toggle="tab"
                        data-target="#profile_basic_details">Basic Details</a>
                    <div class="material-border"></div>
                </li>
                <li class="nav-item">
                    <a id="btn_click_profile_skills_verification" class="nav-link" data-toggle="tab"
                        data-target="#profile_skills_verification">Upload Documents</a>
                    <div class="material-border"></div>
                </li>
                <!-- <li class="nav-item" *ngIf="_role == Role.Borrower">
                            <a id="btn_click_profile_banking" class="nav-link font-weight-light" data-toggle="pill"
                                data-target="#profile_banking_details">Banking Details</a>
                        </li> -->
            </ul>

        </section>

        <form [formGroup]="profileForm">

            <div class="tab-content">
                <div class="tab-pane active" id="profile_basic_details">
                    <div class="form-row mb-2  mb-3">
                        <div class="col-xl-3 text-center">
                            <div class="card">
                                <div class="card-header">
                                    <h6 class="font-weight-bold text-primary">Change Profile Pic</h6>
                                </div>

                                <div class="card-body">
                                    <img [src]="f.selfProfileUrl.value" onerror="this.src='/assets/img/nouser.png';"
                                        class="border img-fluid rounded-circle mb-3" />

                                    <i *ngIf="!selfProfileUrlPendingForUpload"
                                        class="icon-pencil-alt m-2 cursor-pointer text-success"
                                        (click)="openFileUploaderForProfile()">
                                        <input id="ctrlUploadProfile" hidden type="file" name="image" accept="image/*"
                                            (change)="fileProgressForProfile($event)"> Upload
                                    </i>
                                    <i *ngIf="selfProfileUrlPendingForUpload"
                                        class="icon-upload m-2 cursor-pointer text-success"
                                        (click)="onUploadForProfile()"> Save
                                    </i>
                                </div>

                                <div class="card-footer">
                                    <div class="btn-group btn-group-sm shadow">
                                        <button disabled *ngIf="f.role.value !=='lender'" type="button" class="btn"
                                            (click)="onClickRoleChange('borrower')"
                                            [ngClass]="{ 'btn-success': f.role.value=='borrower', 'btn-outline-success': f.role.value!='borrower'}">
                                            Borrower
                                        </button>
                                        <button disabled *ngIf="f.role.value !=='borrower'" type="button" class="btn"
                                            (click)="onClickRoleChange('lender')"
                                            [ngClass]="{ 'btn-success': f.role.value=='lender', 'btn-outline-success': f.role.value!='lender'}">
                                            Lender
                                        </button>
                                    </div>
                                </div>

                            </div>

                        </div>



                        <div class="col-xl-9">

                            <div class="card">
                                <div class="card-header">
                                    <h6 class="font-weight-bold text-primary">Change Basic Details</h6>
                                </div>

                                <div class="card-body">
                                    <div class="form-row ">
                                        <div class="col-xl-12 mb-3">
                                            <label for="firstName">First Name</label>
                                            <input type="text" formControlName="firstName" class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }" />
                                            <div *ngIf="submitted && f.firstName.errors" class="invalid-feedback">
                                                <div *ngIf="f.firstName.errors.required">First Name is required</div>
                                            </div>
                                        </div>
                                        <div class="col-xl-12 mb-3">
                                            <label for="middleName">Middle Name</label>
                                            <input type="text" formControlName="middleName" class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && f.middleName.errors }" />
                                            <div *ngIf="submitted && f.middleName.errors" class="invalid-feedback">
                                                <div *ngIf="f.middleName.errors.required">Middle Name is required</div>
                                            </div>
                                        </div>
                                        <div class="col-xl-12 mb-3">
                                            <label for="lastName">Last Name</label>
                                            <input type="text" formControlName="lastName" class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && f.lastName.errors }" />
                                            <div *ngIf="submitted && f.lastName.errors" class="invalid-feedback">
                                                <div *ngIf="f.lastName.errors.required">Last Name is required</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="col-xl-12 mb-3">
                                            <label for="mobileNo">
                                                <i class="icon-mobile text-success"></i>
                                                Mobile Number</label>
                                            <input type="text" formControlName="mobileNo" class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && f.mobileNo.errors }" />
                                            <div *ngIf="submitted && f.mobileNo.errors" class="invalid-feedback">
                                                <div *ngIf="f.mobileNo.errors.required">Mobile Number is required
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xl-12 mb-3">
                                            <label for="emailAddress">Email</label>
                                            <input type="text" disabled formControlName="emailAddress"
                                                class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && f.emailAddress.errors }" />
                                            <div *ngIf="submitted && f.emailAddress.errors" class="invalid-feedback">
                                                <div *ngIf="f.emailAddress.errors.required">Email is required</div>
                                                <div *ngIf="f.emailAddress.errors.email">Invalid Email format.</div>
                                            </div>
                                        </div>
                                        <div class="col-xl-12 mb-3">
                                            <label for="address" class="font-weight-bold">
                                                Address
                                            </label>
                                            <textarea rows="2" maxlength="500" formControlName="address"
                                                class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && f.address.errors }">
                                                    </textarea>
                                            <div *ngIf="submitted && f.address.errors" class="invalid-feedback">
                                                <div *ngIf="f.address.errors.required">
                                                    Address is required
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="col-xl-12 mb-3">
                                            <label for="birthDateCustomised">Birthday</label>
                                            <input type="date" formControlName="birthDateCustomised"
                                                class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && f.birthDateCustomised.errors }"
                                                [max]="maxDate" [min]="minDate" />
                                            <div *ngIf="submitted && f.birthDate.errors" class="invalid-feedback">
                                                <div *ngIf="f.birthDateCustomised.errors.required">Email is required
                                                </div>
                                                <div *ngIf="f.birthDateCustomised.errors.date">Invalid Email format.
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xl-4 d-none">
                                            <div class="form-row">
                                                <div class="col-xl-12 text-center mb-2">
                                                    <label>Gender</label>
                                                    <div class="btn-group shadow mb-3">
                                                        <button type="button" class="btn"
                                                            (click)="onClickGenderChange('male')"
                                                            [ngClass]="{ 'btn-success': f.gender.value=='male', 'btn-outline-success': f.gender.value!='male'}">
                                                            Male
                                                        </button>
                                                        <button type="button" class="btn"
                                                            (click)="onClickGenderChange('female')"
                                                            [ngClass]="{ 'btn-success': f.gender.value=='female', 'btn-outline-success': f.gender.value!='female'}">
                                                            Female
                                                        </button>
                                                        <button type="button" class="btn"
                                                            (click)="onClickGenderChange('other')"
                                                            [ngClass]="{ 'btn-success': f.gender.value=='other', 'btn-outline-success': f.gender.value!='other'}">
                                                            Other
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xl-12 mb-3">
                                            <label for="cityCode">City</label>
                                            <input type="text" formControlName="cityCode" class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && f.cityCode.errors }" />
                                            <div *ngIf="submitted && f.cityCode.errors" class="invalid-feedback">
                                                <div *ngIf="f.cityCode.errors.required">City is required</div>
                                            </div>
                                        </div>
                                        <div class="col-xl-12 mb-3">
                                            <label for="cityCode">Country</label>
                                            <select formControlName="country" class="custom-select"
                                                [ngClass]="{ 'is-invalid': submitted && f.country.errors }">
                                                <option value="" selected disabled>Choose Country</option>
                                                <option *ngFor="let country of countrylist" [ngValue]="country">
                                                    {{country}}</option>
                                            </select>
                                            <div *ngIf="submitted && f.country.errors" class="invalid-feedback">
                                                <div *ngIf="f.country.errors.required">Country is required</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xl-12 mb-3">
                                            <label for="myProfileDetails">About</label>
                                            <textarea rows="2" maxlength="500" formControlName="myProfileDetails"
                                                class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && f.myProfileDetails.errors }">
                                                    </textarea>
                                            <div *ngIf="submitted && f.myProfileDetails.errors"
                                                class="invalid-feedback">
                                                <div *ngIf="f.myProfileDetails.errors.required">About My Profile is
                                                    required
                                                </div>
                                                <div *ngIf="f.myProfileDetails.errors.email">About My Profile format.
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <div class="card-footer">
                                    <button type="button" (click)="clickOnGoToNext(2)" [disabled]="loading"
                                        class="btn btn-primary float-right">Next</button>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="profile_skills_verification">
                    <div class="card">
                        <div class="card-header">
                            <h6 class="font-weight-bold text-primary">Update Your Documents</h6>
                        </div>

                        <div class="card-body">
                            <div class="form-row mb-3">
                                <div class="col-md-12">
                                    <div class="text-gray" i18n>
                                        Upload your Passport, Driving Licence, Health Insurance Card document
                                    </div>
                                    <hr>
                                </div>
                                <div class="col-xl-3 col-12">
                                    <div class="form-group">
                                        <label class="mb-1" for="myPassportNumber">Passport Number:</label>
                                        <input type="text" formControlName="myPassportNumber" class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && f.myPassportNumber.errors }" />
                                        <div *ngIf="submitted && f.myPassportNumber.errors" class="invalid-feedback">
                                            <div *ngIf="f.myPassportNumber.errors.required">Passport number is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xl-7 col-12">
                                    <div class="custom-file mt-4">
                                        <input type="file" class="custom-file-input" name="image" accept="image/*"
                                            (change)="fileProgressAssetDocs($event,'lblmyPassportMedia')">
                                        <label class="custom-file-label" for="customFile"
                                            id="lblmyPassportMedia">{{lblmyPassportMediaText}}</label>
                                    </div>
                                </div>
                                <div class="col-xl-2 col-12">
                                    <button class="btn btn-outline-secondary btn-block mt-4"
                                        (click)="onUploadAssetDocs('myPassportMedia')">
                                        Upload
                                    </button>
                                </div>
                            </div>
                            <div class="form-row mb-3">
                                <div class="col-xl-3 col-12">
                                    <div class="form-group">
                                        <label class="mb-1" for="myDLNumber">Driving License Number:</label>
                                        <input type="text" formControlName="myDLNumber" class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && f.myDLNumber.errors }" />
                                        <div *ngIf="submitted && f.myDLNumber.errors" class="invalid-feedback">
                                            <div *ngIf="f.myDLNumber.errors.required">Driving License number is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xl-7">
                                    <div class="custom-file mt-4">
                                        <input type="file" class="custom-file-input" name="image" accept="image/*"
                                            (change)="fileProgressAssetDocs($event,'lblmyDLMedia')">
                                        <label class="custom-file-label" for="customFile"
                                            id="lblmyDLMedia">{{lblmyDLMediaText}}</label>
                                    </div>
                                </div>
                                <div class="col-xl-2">
                                    <button class="btn btn-outline-secondary btn-block mt-4"
                                        (click)="onUploadAssetDocs('myDLMedia')">
                                        Upload
                                    </button>
                                </div>
                            </div>
                            <div class="form-row mb-3">
                                <div class="col-xl-3 col-12">
                                    <div class="form-group">
                                        <label class="mb-1" for="cprNumber">CPR Number:</label>
                                        <input type="text" formControlName="cprNumber" class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && f.cprNumber.errors }" />
                                        <div *ngIf="submitted && f.cprNumber.errors" class="invalid-feedback">
                                            <div *ngIf="f.cprNumber.errors.required">CPR number is required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xl-7">
                                    <div class="custom-file mt-4">
                                        <input type="file" class="custom-file-input" name="image" accept="image/*"
                                            (change)="fileProgressAssetDocs($event,'lblmyHICardMedia')">
                                        <label class="custom-file-label" for="customFile"
                                            id="lblmyHICardMedia">{{lblmyHICardMediaText}}</label>
                                    </div>
                                </div>
                                <div class="col-xl-2">
                                    <button class="btn btn-outline-secondary btn-block mt-4"
                                        (click)="onUploadAssetDocs('myHICardMedia')">
                                        Upload
                                    </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xl-4">
                                    <div class="card" *ngFor="let previewUrl of f.myPassportMedia.value">
                                        <img class="card-img-top" [src]="previewUrl.url" style="height: 200px;">
                                        <div *ngIf="fileUploadProgress">
                                            Upload progress: {{ fileUploadProgress }}
                                        </div>
                                        <div class="card-body">
                                            Passport
                                            <a class="btn btn-primary btn-sm btn-xs float-right text-white"><i
                                                    class="icon icon-trash"
                                                    (click)="onUploadCleanAssetDocs('myPassportMedia')"></i></a>
                                        </div>
                                    </div>


                                </div>
                                <div class="col-xl-4">
                                    <div class="card" *ngFor="let previewUrl of f.myDLMedia.value">
                                        <img class="card-img-top" [src]="previewUrl.url" style="height: 200px;">
                                        <div *ngIf="fileUploadProgress">
                                            Upload progress: {{ fileUploadProgress }}
                                        </div>
                                        <div class="card-body">
                                            Driving Licence
                                            <a class="btn btn-primary btn-sm btn-xs float-right text-white"><i
                                                    class="icon icon-trash"
                                                    (click)="onUploadCleanAssetDocs('myDLMedia')"></i></a>
                                        </div>
                                    </div>


                                </div>
                                <div class="col-xl-4">
                                    <div class="card" *ngFor="let previewUrl of f.myHICardMedia.value">
                                        <img class="card-img-top" [src]="previewUrl.url" style="height: 200px;">
                                        <div *ngIf="fileUploadProgress">
                                            Upload progress: {{ fileUploadProgress }}
                                        </div>
                                        <div class="card-body">
                                            Health Insurance Card
                                            <a class="btn btn-primary btn-sm btn-xs float-right text-white"><i
                                                    class="icon icon-trash"
                                                    (click)="onUploadCleanAssetDocs('myHICardMedia')"></i></a>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col-xl-12 mt-3">
                                    <label for="myProfileDetails">Social Network</label>
                                    <div class="form-row">
                                        <div class="col-xl-4">

                                            <select [(ngModel)]="appName" class="custom-select"
                                                [ngModelOptions]="{standalone: true}">
                                                <option value="facebook" selected>Facebook</option>
                                                <!--<option value="linkedin">LinkedIn</option>-->
                                            </select>
                                        </div>
                                        <div class="col-xl-8">

                                            <div class="input-group mb-3">
                                                <input type="url"
                                                    pattern="/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi*"
                                                    [(ngModel)]="appLink" class="form-control"
                                                    [ngModelOptions]="{standalone: true}"
                                                    placeholder="Facebook Profile Public Link" />
                                                <div class="input-group-append">
                                                    <button class="btn btn-success"
                                                        (click)="addExternalAppLinks(true, null, appName, appLink)">Add</button>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="col-xl-12">
                                            <div *ngIf="submitted && f.externalAppLinks.errors"
                                                class="invalid-feedback">
                                                <div *ngIf="f.externalAppLinks.errors.required">Links required</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-row" *ngFor="let applinks of f.externalAppLinks.value">
                                        <div class="col-xl-2">
                                            {{applinks.appName | titlecase}}
                                        </div>
                                        <div class="col-xl-10">
                                            <a href="{{applinks.appLink}}">{{applinks.appLink}}</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" *ngIf="_role == Role.Borrower">
                                <div class="col-xl-12">
                                    <div class="row">
                                        <div class="col-xl-12 mt-3">
                                            <div class="row">
                                                <div class="col-xl-12">
                                                    <label class="font-weight-bold">Are you registered in RKI?</label>
                                                    <i class="icon icon-info-alt ml-2" data-toggle="tooltip"
                                                        title="Hooray!"></i>
                                                    <div class="btn-group btn-group btn-group-sm ml-4">
                                                        <button type="button" class="btn" (click)="onRKIChange(true)"
                                                            [ngClass]="{ 'btn-success': onInitRKICheckedValue()==true, 'btn-outline-success':onInitRKICheckedValue()==false}">
                                                            Yes
                                                        </button>
                                                        <button type="button" class="btn" (click)="onRKIChange(false)"
                                                            [ngClass]="{ 'btn-success': onInitRKICheckedValue()==false, 'btn-outline-success':onInitRKICheckedValue()==true}">
                                                            No
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>

                                            <div *ngIf="submitted && f.isRKIRegistered.errors" class="error">
                                                <div *ngIf="f.isRKIRegistered.errors.required" class="text-red">
                                                    data required
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xl-12 mt-3">
                                        </div>
                                    </div>
                                    <div class="form-row" *ngIf="!onInitRKICheckedValue()">
                                        <div class="col-xl-9">
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="image"
                                                    accept="image/*"
                                                    (change)="fileProgressAssetDocs($event,'lblmyRKIMedia')">
                                                <label class="custom-file-label" for="customFile"
                                                    id="lblmyRKIMedia">{{lblmyRKIMediaText}}</label>
                                            </div>
                                        </div>
                                        <div class="col-xl-3">
                                            <button class="btn btn-outline-secondary btn-block"
                                                (click)="onUploadAssetDocs('myRKIMedia')">
                                                Upload
                                            </button>
                                        </div>
                                        <div class="col-xl-4">

                                            <div class="row">
                                                <div class="col-xl-12" *ngFor="let previewUrl of f.myRKIMedia.value">
                                                    <i class="icon-trash text-danger"
                                                        (click)="onUploadCleanAssetDocs('myRKIMedia')"></i>
                                                    <img class="img-fluid" [src]="previewUrl.url" />
                                                </div>
                                                <div>
                                                    <div *ngIf="fileUploadProgress">
                                                        Upload progress: {{ fileUploadProgress }}
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer">
                            <button type="button" (click)="onProfileUpdateSubmit()" [disabled]="loading"
                                class="btn btn-primary float-right">Save</button>
                        </div>
                    </div>


                </div>
            </div>

        </form>
    </div>
</div>
<!-- register section -->